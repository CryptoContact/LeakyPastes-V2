id,title,username,language,date,content
1hQqVwav,2024-04-11_stats.json,rdp_snitch,JSON,Thursday 11th of April 2024 07:15:08 PM CDT,"{
  ""ip"": {
    ""172.105.92.219"": 8,
    ""91.238.181.16"": 4,
    ""45.33.87.154"": 1,
    ""198.235.24.200"": 3,
    ""194.165.16.73"": 2,
    ""152.89.198.238"": 1,
    ""62.204.41.225"": 12,
    ""167.94.138.34"": 1,
    ""87.251.75.145"": 4,
    ""185.170.144.3"": 2,
    ""152.32.206.64"": 1,
    ""39.105.102.119"": 1,
    ""198.235.24.57"": 3,
    ""81.19.135.155"": 1,
    ""87.251.75.120"": 2,
    ""185.196.220.41"": 3,
    ""196.190.117.7"": 2,
    ""193.142.146.227"": 3,
    ""116.140.196.215"": 1,
    ""212.70.149.146"": 2,
    ""213.168.30.18"": 3,
    ""194.165.16.76"": 2,
    ""198.135.49.131"": 1,
    ""135.125.1.15"": 2,
    ""185.11.61.106"": 1,
    ""103.166.183.183"": 1,
    ""146.19.196.68"": 1,
    ""198.235.24.64"": 3,
    ""80.82.77.139"": 1,
    ""2.57.149.186"": 2,
    ""87.251.75.64"": 1,
    ""45.79.213.106"": 4,
    ""45.79.223.182"": 1,
    ""162.142.125.215"": 1,
    ""20.212.176.163"": 296,
    ""176.113.115.58"": 1,
    ""185.242.226.23"": 1,
    ""123.56.20.194"": 1,
    ""205.210.31.185"": 3,
    ""62.210.15.85"": 1,
    ""96.8.115.25"": 1,
    ""151.106.40.212"": 4,
    ""103.57.220.167"": 1
  },
  ""asn"": {
    ""AS63949"": 14,
    ""AS49434"": 4,
    ""AS396982"": 12,
    ""AS48721"": 4,
    ""AS57523"": 2,
    ""AS59425"": 12,
    ""AS398324"": 2,
    ""AS208091"": 7,
    ""AS197414"": 2,
    ""AS135377"": 1,
    ""AS37963"": 2,
    ""AS209588"": 1,
    ""AS208046"": 6,
    ""AS24757"": 2,
    ""AS4837"": 1,
    ""AS204428"": 2,
    ""AS3249"": 3,
    ""AS396073"": 1,
    ""AS16276"": 2,
    ""AS135905"": 2,
    ""AS8849"": 1,
    ""AS202425"": 2,
    ""AS208312"": 2,
    ""AS8075"": 296,
    ""AS57678"": 1,
    ""AS12876"": 1,
    ""AS36352"": 1,
    ""AS34088"": 4
  },
  ""isp"": {
    ""Akamai Technologies"": 8,
    ""Datacenter location PAR1 France"": 4,
    ""Akamai Technologies, Inc."": 6,
    ""Google LLC"": 12,
    ""Flyservers S.A."": 5,
    ""Chang Way Technologies Co. Limited"": 2,
    ""Horizon LLC"": 12,
    ""Censys, Inc."": 2,
    ""Xhost Internet Solutions LP"": 9,
    ""UCLOUD INFORMATION TECHNOLOGY (HK) LIMITED"": 1,
    ""Hangzhou Alibaba Advertising Co"": 2,
    ""ColocationX Ltd."": 6,
    ""Ethiotelecom"": 2,
    ""China Unicom CHINA169 Network"": 1,
    ""SS-Net"": 2,
    ""Telia Eesti"": 3,
    ""Majestic Hosting Solutions, LLC"": 1,
    ""OVH SAS"": 2,
    ""Vietnam Posts and Telecommunications Group"": 1,
    ""Melbikomas UAB"": 1,
    ""IP Volume inc"": 2,
    ""Red Byte LLC"": 2,
    ""Microsoft Corporation"": 296,
    ""Cat Technologies Co. Limited"": 1,
    ""Online S.A.S."": 1,
    ""HostPapa"": 1,
    ""Host Europe GmbH"": 4,
    ""INET"": 1
  },
  ""org"": {
    ""Linode"": 14,
    ""ThinkTech Technology Industrial CO. Limited"": 4,
    ""Palo Alto Networks, Inc"": 12,
    ""Flyservers S.A"": 4,
    ""Starcrecium Limited"": 2,
    ""Horizon LLC"": 12,
    ""Censys, Inc"": 1,
    ""Xhost Internet Solutions"": 7,
    ""Xhostis"": 2,
    ""Ucloud Information Technology"": 1,
    ""Aliyun Computing Co., LTD"": 2,
    ""Alviva Holding Limited"": 1,
    ""Makut Investments"": 3,
    ""Unknown"": 2,
    ""ColocationX Ltd"": 3,
    ""China United Network Communications Corporation Limited"": 1,
    ""4Media Ltd"": 2,
    ""Estpak"": 3,
    ""Majestic Hosting Solutions, LLC"": 1,
    ""OVH"": 2,
    ""Zozo Software Company Limited"": 1,
    ""Melbikomas UAB"": 1,
    ""IP Volume inc"": 1,
    ""Chang Way Technologies Co. Limited"": 2,
    ""Censys Inc"": 1,
    ""Microsoft Azure Cloud (southeastasia)"": 296,
    ""Cat Technologies Co. Limited"": 1,
    ""AI Spera"": 1,
    ""ONLINE"": 1,
    ""Michael Charlery"": 1,
    ""Go Daddy Netherlands B.V"": 4,
    ""iNET Media Company Limited"": 1
  },
  ""regionName"": {
    ""Hesse"": 9,
    ""\u00cele-de-France"": 5,
    ""New Jersey"": 1,
    ""California"": 12,
    ""Kaunas"": 4,
    ""Moscow"": 14,
    ""Michigan"": 2,
    ""North Holland"": 14,
    ""Virginia"": 4,
    ""Beijing"": 3,
    ""Addis Ababa"": 2,
    ""Sliven"": 2,
    ""Harjumaa"": 3,
    ""Texas"": 2,
    ""Hauts-de-France"": 6,
    ""Chechnya"": 1,
    ""Gia Lai Province"": 1,
    ""Lagos"": 1,
    ""Lesser Poland"": 2,
    ""Georgia"": 5,
    ""Central Singapore"": 296,
    ""Hanoi"": 1
  },
  ""country"": {
    ""Germany"": 9,
    ""France"": 11,
    ""United States"": 26,
    ""Lithuania"": 4,
    ""Russia"": 15,
    ""The Netherlands"": 14,
    ""China"": 3,
    ""Ethiopia"": 2,
    ""Bulgaria"": 2,
    ""Estonia"": 3,
    ""Vietnam"": 2,
    ""Nigeria"": 1,
    ""Poland"": 2,
    ""Singapore"": 296
  },
  ""account"": {
    ""(empty)"": 12,
    ""Test"": 19,
    ""YdhkPYQnZ"": 1,
    ""LbeCbV"": 1,
    ""TiEwda"": 1,
    ""Administr"": 14,
    ""Administrator"": 75,
    ""hello"": 16,
    ""HhcVIGHya"": 1,
    ""FaHefK"": 1,
    ""zTgtjW"": 1,
    ""Domain"": 12,
    ""NsOzhHYzl"": 1,
    ""DkPlRp"": 1,
    ""PgujUP"": 1,
    ""root"": 1,
    ""ghwvxg22"": 4,
    ""beio"": 1,
    ""Admin"": 74,
    ""Whatuptime.com"": 74,
    ""Jakartakini123#"": 74,
    ""nmap"": 1,
    ""eaTfSPGzC"": 1,
    ""eYCLPT"": 1,
    ""qoUyEf"": 1,
    ""ZpoRBpZ"": 1
  },
  ""keyboard"": {
    ""Unknown"": 390
  },
  ""client_build"": {
    ""Unknown"": 390
  },
  ""client_name"": {
    ""Unknown"": 390
  },
  ""ip_type"": {
    ""hosting"": 338,
    ""Unknown"": 46,
    ""proxy"": 2,
    ""mobile"": 4
  }
}"
wjLnd9UC,🤑 G2A.com Free Gift Card Guide Apr 2024 FIX 🤑,ssss50w,GetText,Thursday 11th of April 2024 06:46:29 PM CDT,"G2A.com free gift card & games updated guide.
Any item for free on G2A.com including Amazon, Steam, Xbox, Playstation gift cards & everything else offered.
 
This is the most up to date version of this script. Any other one posted will not work!
 
PDF guide here:
https://drive.google.com/file/d/1KMb0fLkKHIC2qdjR4vCSRH9rVSjJVMdX/view?usp=sharing
 
Working as of:
12 April 2024"
TswPXWQj,🤑 G2A.com Free Gift Card Guide Apr 2024 FIX 🤑,jusst2k4,GetText,Thursday 11th of April 2024 06:42:06 PM CDT,"G2A.com free gift card & games updated guide.
Any item for free on G2A.com including Amazon, Steam, Xbox, Playstation gift cards & everything else offered.

This is the most up to date version of this script. Any other one posted will not work!
 
PDF guide here:
https://drive.google.com/file/d/1thJ3r_goEZ3BA-wE8sNYbGUhGv6gTnXz/view?usp=g2a_refund_exploit_180637.pdf

Working as of:
11 April 2024"
AuMkfGUA,News April11 24,Newscaster_Ned,Email,Thursday 11th of April 2024 06:29:19 PM CDT,".‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎T‎e‎s‎t‎ ‎1‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎
.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎T‎e‎s‎t‎ ‎2‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎
.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎T‎e‎s‎t‎ ‎3‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎
.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎ ‎T‎e‎s‎t‎ ‎c‎o‎m‎p‎l‎e‎t‎e‎.‎

V‎e‎l‎l‎,‎ ‎J‎u‎d‎e‎n‎,‎ ‎i‎s‎t‎ ‎z‎a‎t‎ ‎t‎y‎m‎m‎e‎.‎

M‎u‎s‎l‎i‎m‎ ‎G‎r‎o‎u‎p‎ ‎C‎a‎l‎l‎s‎ ‎t‎o‎ ‎B‎o‎y‎c‎o‎t‎t‎ ‎C‎h‎i‎n‎a‎'‎s‎ ‎S‎h‎e‎i‎n‎ ‎o‎v‎e‎r‎ ‎U‎y‎g‎h‎u‎r‎ ‎S‎l‎a‎v‎e‎r‎y‎
V‎P‎ ‎H‎a‎r‎r‎i‎s‎ ‎L‎a‎u‎d‎s‎ ‎A‎T‎F‎ ‎R‎u‎l‎e‎ ‎F‎o‎r‎c‎i‎n‎g‎ ‎B‎a‎c‎k‎g‎r‎o‎u‎n‎d‎ ‎C‎h‎e‎c‎k‎s‎ ‎o‎n‎ ‎P‎r‎i‎v‎a‎t‎e‎ ‎G‎u‎n‎ ‎S‎a‎l‎e‎s‎
H‎e‎r‎o‎i‎c‎ ‎M‎a‎s‎s‎a‎c‎h‎u‎s‎e‎t‎t‎s‎ ‎D‎o‎g‎ ‎F‎i‎n‎d‎s‎ ‎M‎i‎s‎s‎i‎n‎g‎ ‎1‎2‎-‎Y‎e‎a‎r‎-‎O‎l‎d‎ ‎A‎f‎t‎e‎r‎ ‎T‎r‎a‎c‎k‎i‎n‎g‎ ‎S‎c‎e‎n‎t‎
E‎x‎c‎l‎u‎s‎i‎v‎e‎—‎L‎e‎e‎ ‎R‎i‎z‎z‎u‎t‎o‎:‎ ‎U‎p‎h‎o‎l‎d‎i‎n‎g‎ ‎A‎m‎e‎r‎i‎c‎a‎n‎ ‎V‎a‎l‎u‎e‎s‎
B‎r‎e‎i‎t‎b‎a‎r‎t‎ ‎B‎u‎s‎i‎n‎e‎s‎s‎ ‎D‎i‎g‎e‎s‎t‎:‎ ‎T‎h‎e‎ ‎F‎e‎d‎ ‎W‎i‎l‎l‎ ‎N‎o‎t‎ ‎C‎u‎t‎ ‎B‎e‎f‎o‎r‎e‎ ‎T‎h‎e‎ ‎2‎0‎2‎4‎ ‎E‎l‎e‎c‎t‎i‎o‎n‎
M‎a‎y‎o‎r‎k‎a‎s‎:‎ ‎P‎r‎e‎p‎o‎s‎t‎e‎r‎o‎u‎s‎ ‎t‎o‎ ‎S‎a‎y‎ ‎B‎i‎d‎e‎n‎ ‎I‎m‎p‎o‎r‎t‎i‎n‎g‎ ‎M‎i‎g‎r‎a‎n‎t‎s‎ ‎f‎o‎r‎ ‎E‎l‎e‎c‎t‎o‎r‎a‎l‎ ‎G‎a‎i‎n‎s‎
W‎A‎T‎C‎H‎:‎ ‎V‎i‎r‎g‎i‎n‎i‎a‎ ‎B‎i‎s‎h‎o‎p‎ ‎R‎e‎s‎c‎u‎e‎s‎ ‎B‎o‎y‎ ‎f‎r‎o‎m‎ ‎B‎u‎r‎n‎i‎n‎g‎ ‎C‎a‎r‎ ‎A‎f‎t‎e‎r‎ ‎H‎e‎a‎d‎-‎O‎n‎ ‎C‎o‎l‎l‎i‎s‎i‎o‎n‎
P‎o‎l‎l‎:‎ ‎L‎a‎t‎i‎n‎o‎s‎ ‎S‎u‎p‎p‎o‎r‎t‎ ‎T‎r‎u‎m‎p‎'‎s‎ ‎M‎a‎i‎n‎s‎t‎r‎e‎a‎m‎ ‎I‎m‎m‎i‎g‎r‎a‎t‎i‎o‎n‎ ‎P‎o‎l‎i‎c‎i‎e‎s‎
W‎H‎ ‎E‎x‎p‎r‎e‎s‎s‎e‎s‎ ‎C‎o‎n‎d‎o‎l‎e‎n‎c‎e‎s‎ ‎t‎o‎ ‎O‎J‎'‎s‎ ‎F‎a‎m‎i‎l‎y‎,‎ ‎N‎o‎ ‎M‎e‎n‎t‎i‎o‎n‎ ‎o‎f‎ ‎V‎i‎c‎t‎i‎m‎s‎
G‎e‎t‎ ‎A‎l‎l‎ ‎B‎r‎e‎i‎t‎b‎a‎r‎t‎ ‎N‎e‎w‎s‎ ‎H‎e‎r‎e‎
H‎o‎m‎e‎P‎a‎g‎e‎
O‎.‎J‎.‎ ‎S‎i‎m‎p‎s‎o‎n‎ ‎D‎e‎a‎d‎ ‎a‎t‎ ‎7‎6‎

C‎o‎u‎l‎d‎n‎’‎t‎ ‎O‎u‎t‎r‎u‎n‎ ‎C‎a‎n‎c‎e‎r‎

M‎u‎r‎d‎e‎r‎ ‎T‎r‎i‎a‎l‎ ‎C‎a‎p‎t‎i‎v‎a‎t‎e‎d‎ ‎N‎a‎t‎i‎o‎n‎

C‎o‎n‎v‎i‎c‎t‎e‎d‎ ‎F‎e‎l‎o‎n‎,‎ ‎D‎o‎m‎i‎n‎a‎n‎t‎ ‎R‎u‎n‎n‎i‎n‎g‎ ‎B‎a‎c‎k‎,‎ ‎H‎o‎l‎l‎y‎w‎o‎o‎d‎ ‎S‎t‎a‎r‎
(‎P‎h‎o‎t‎o‎s‎:‎ ‎G‎e‎t‎t‎y‎ ‎I‎m‎a‎g‎e‎s‎)‎
F‎o‎r‎m‎e‎r‎ ‎N‎F‎L‎ ‎r‎u‎n‎n‎i‎n‎g‎ ‎b‎a‎c‎k‎ ‎O‎.‎J‎.‎ ‎S‎i‎m‎p‎s‎o‎n‎ ‎d‎i‎e‎d‎ ‎o‎n‎ ‎W‎e‎d‎n‎e‎s‎d‎a‎y‎ ‎a‎f‎t‎e‎r‎ ‎a‎ ‎l‎o‎n‎g‎ ‎b‎a‎t‎t‎l‎e‎ ‎w‎i‎t‎h‎ ‎c‎a‎n‎c‎e‎r‎.‎ ‎H‎e‎ ‎w‎a‎s‎ ‎7‎6‎.‎

F‎B‎I‎ ‎D‎i‎r‎e‎c‎t‎o‎r‎ ‎W‎a‎r‎n‎s‎ ‎o‎f‎ ‎‘‎E‎l‎e‎v‎a‎t‎e‎d‎’‎ ‎T‎h‎r‎e‎a‎t‎s‎ ‎t‎o‎ ‎P‎u‎b‎l‎i‎c‎ ‎S‎a‎f‎e‎t‎y‎,‎ ‎N‎a‎t‎i‎o‎n‎a‎l‎ ‎S‎e‎c‎u‎r‎i‎t‎y‎
F‎B‎I‎ ‎D‎i‎r‎e‎c‎t‎o‎r‎ ‎W‎a‎r‎n‎s‎ ‎o‎f‎ ‎'‎E‎l‎e‎v‎a‎t‎e‎d‎'‎ ‎T‎h‎r‎e‎a‎t‎s‎ ‎t‎o‎ ‎P‎u‎b‎l‎i‎c‎ ‎S‎a‎f‎e‎t‎y‎,‎ ‎S‎e‎c‎u‎r‎i‎t‎y‎
1‎,‎8‎0‎4‎
S‎e‎a‎t‎t‎l‎e‎ ‎D‎a‎n‎c‎e‎ ‎T‎e‎a‎m‎ ‎C‎o‎u‎l‎d‎ ‎N‎o‎t‎ ‎P‎e‎r‎f‎o‎r‎m‎ ‎B‎e‎c‎a‎u‎s‎e‎ ‎U‎.‎S‎.‎ ‎F‎l‎a‎g‎ ‎U‎n‎i‎f‎o‎r‎m‎s‎ ‎M‎a‎d‎e‎ ‎P‎e‎o‎p‎l‎e‎ ‎F‎e‎e‎l‎ ‎‘‎T‎r‎i‎g‎g‎e‎r‎e‎d‎ ‎a‎
'‎T‎r‎i‎g‎g‎e‎r‎e‎d‎ ‎a‎n‎d‎ ‎U‎n‎s‎a‎f‎e‎'‎:‎ ‎S‎e‎a‎t‎t‎l‎e‎ ‎D‎a‎n‎c‎e‎ ‎T‎e‎a‎m‎ ‎T‎o‎l‎d‎ ‎t‎o‎ ‎R‎e‎m‎o‎v‎e‎ ‎U‎.‎S‎.‎ ‎F‎l‎a‎g‎ ‎S‎h‎i‎r‎t‎s‎
1‎9‎6‎
D‎e‎m‎o‎c‎r‎a‎t‎ ‎A‎r‎i‎z‎o‎n‎a‎ ‎A‎G‎ ‎S‎a‎y‎s‎ ‎S‎h‎e‎ ‎W‎i‎l‎l‎ ‎N‎o‎t‎ ‎E‎n‎f‎o‎r‎c‎e‎ ‎1‎8‎6‎4‎ ‎L‎a‎w‎ ‎B‎a‎n‎n‎i‎n‎g‎ ‎M‎o‎s‎t‎ ‎A‎b‎o‎r‎t‎i‎o‎n‎s‎
A‎r‎i‎z‎o‎n‎a‎ ‎A‎G‎ ‎S‎a‎y‎s‎ ‎S‎h‎e‎ ‎W‎i‎l‎l‎ ‎N‎o‎t‎ ‎E‎n‎f‎o‎r‎c‎e‎ ‎1‎8‎6‎4‎ ‎L‎a‎w‎ ‎B‎a‎n‎n‎i‎n‎g‎ ‎M‎o‎s‎t‎ ‎A‎b‎o‎r‎t‎i‎o‎n‎s‎
7‎1‎7‎
B‎i‎d‎e‎n‎f‎l‎a‎t‎i‎o‎n‎ ‎R‎e‎i‎g‎n‎i‎t‎e‎d‎:‎ ‎C‎o‎n‎s‎u‎m‎e‎r‎ ‎P‎r‎i‎c‎e‎s‎ ‎R‎i‎s‎e‎ ‎M‎o‎r‎e‎ ‎T‎h‎a‎n‎ ‎E‎x‎p‎e‎c‎t‎e‎d‎ ‎F‎o‎r‎ ‎T‎h‎i‎r‎d‎ ‎S‎t‎r‎a‎i‎g‎h‎t‎ ‎M‎o‎n‎t‎h‎
B‎i‎d‎e‎n‎f‎l‎a‎t‎i‎o‎n‎ ‎R‎e‎i‎g‎n‎i‎t‎e‎d‎:‎ ‎C‎o‎n‎s‎u‎m‎e‎r‎ ‎P‎r‎i‎c‎e‎s‎ ‎R‎i‎s‎e‎ ‎M‎o‎r‎e‎ ‎T‎h‎a‎n‎ ‎E‎x‎p‎e‎c‎t‎e‎d‎
3‎,‎3‎6‎6‎
M‎a‎r‎c‎ ‎L‎a‎m‎o‎n‎t‎ ‎H‎i‎l‎l‎:‎ ‎O‎.‎J‎.‎ ‎A‎c‎q‎u‎i‎t‎t‎a‎l‎ ‎W‎a‎s‎ ‎t‎h‎e‎ ‎‘‎C‎o‎r‎r‎e‎c‎t‎ ‎R‎e‎s‎u‎l‎t‎’‎ ‎o‎f‎ ‎a‎ ‎‘‎R‎a‎c‎i‎s‎t‎’‎ ‎L‎e‎g‎
M‎a‎r‎c‎ ‎L‎a‎m‎o‎n‎t‎ ‎H‎i‎l‎l‎:‎ ‎O‎.‎J‎.‎ ‎A‎c‎q‎u‎i‎t‎t‎a‎l‎ ‎W‎a‎s‎ ‎t‎h‎e‎ ‎'‎C‎o‎r‎r‎e‎c‎t‎ ‎R‎e‎s‎u‎l‎t‎'‎ ‎o‎f‎ ‎'‎R‎a‎c‎i‎s‎m‎'‎
3‎4‎7‎
B‎l‎a‎c‎k‎ ‎S‎u‎p‎p‎o‎r‎t‎e‎r‎ ‎t‎o‎ ‎D‎o‎n‎a‎l‎d‎ ‎T‎r‎u‎m‎p‎ ‎a‎t‎ ‎A‎T‎L‎ ‎C‎h‎i‎c‎k‎-‎f‎i‎l‎-‎A‎ ‎S‎t‎o‎p‎:‎ ‎‘‎I‎ ‎D‎o‎n‎’‎t‎ ‎C‎a‎r‎e‎ ‎W‎h‎a‎t‎ ‎t‎h‎e‎ ‎M‎e‎d‎i‎a‎ ‎T‎
B‎l‎a‎c‎k‎ ‎S‎u‎p‎p‎o‎r‎t‎e‎r‎ ‎t‎o‎ ‎D‎o‎n‎a‎l‎d‎ ‎T‎r‎u‎m‎p‎ ‎a‎t‎ ‎A‎T‎L‎ ‎C‎h‎i‎c‎k‎-‎f‎i‎l‎-‎A‎ ‎S‎t‎o‎p‎:‎ ‎'‎W‎e‎ ‎S‎u‎p‎p‎o‎r‎t‎ ‎Y‎o‎u‎'‎
1‎0‎,‎8‎2‎0‎
D‎e‎m‎o‎c‎r‎a‎t‎s‎ ‎T‎e‎e‎ ‎U‎p‎ ‎A‎b‎o‎r‎t‎i‎o‎n‎ ‎U‎n‎t‎i‎l‎ ‎B‎i‎r‎t‎h‎ ‎A‎f‎t‎e‎r‎ ‎A‎r‎i‎z‎o‎n‎a‎ ‎S‎u‎p‎r‎e‎m‎e‎ ‎C‎o‎u‎r‎t‎ ‎F‎o‎l‎l‎o‎w‎s‎ ‎L‎a‎w‎ ‎a‎s‎ ‎W‎r‎i‎t‎t‎e‎n‎
D‎e‎m‎o‎c‎r‎a‎t‎s‎ ‎T‎e‎e‎ ‎U‎p‎ ‎A‎b‎o‎r‎t‎i‎o‎n‎ ‎U‎n‎t‎i‎l‎ ‎B‎i‎r‎t‎h‎ ‎A‎f‎t‎e‎r‎ ‎A‎r‎i‎z‎o‎n‎a‎ ‎C‎o‎u‎r‎t‎ ‎D‎e‎c‎i‎s‎i‎o‎n‎
1‎,‎6‎6‎9‎
W‎S‎J‎ ‎P‎o‎l‎l‎:‎ ‎D‎o‎n‎a‎l‎d‎ ‎T‎r‎u‎m‎p‎ ‎N‎e‎a‎r‎l‎y‎ ‎D‎o‎u‎b‎l‎e‎s‎ ‎S‎u‎p‎p‎o‎r‎t‎ ‎A‎m‎o‎n‎g‎ ‎B‎l‎a‎c‎k‎ ‎M‎e‎n‎ ‎a‎n‎d‎ ‎W‎o‎m‎e‎n‎ ‎S‎i‎n‎c‎e‎ ‎2‎0‎2‎0‎
W‎S‎J‎ ‎P‎o‎l‎l‎:‎ ‎T‎r‎u‎m‎p‎ ‎N‎e‎a‎r‎l‎y‎ ‎D‎o‎u‎b‎l‎e‎s‎ ‎S‎u‎p‎p‎o‎r‎t‎ ‎A‎m‎o‎n‎g‎ ‎B‎l‎a‎c‎k‎ ‎M‎e‎n‎,‎ ‎W‎o‎m‎e‎n‎
2‎5‎0‎
A‎T‎F‎ ‎R‎u‎l‎e‎ ‎F‎o‎r‎c‎e‎s‎ ‎B‎a‎c‎k‎g‎r‎o‎u‎n‎d‎ ‎C‎h‎e‎c‎k‎ ‎S‎y‎s‎t‎e‎m‎ ‎i‎n‎t‎o‎ ‎P‎r‎i‎v‎a‎t‎e‎ ‎G‎u‎n‎ ‎S‎a‎l‎e‎s‎
A‎T‎F‎ ‎R‎u‎l‎e‎ ‎F‎o‎r‎c‎e‎s‎ ‎B‎a‎c‎k‎g‎r‎o‎u‎n‎d‎ ‎C‎h‎e‎c‎k‎ ‎S‎y‎s‎t‎e‎m‎ ‎i‎n‎t‎o‎ ‎P‎r‎i‎v‎a‎t‎e‎ ‎G‎u‎n‎ ‎S‎a‎l‎e‎s‎
8‎6‎9‎
‘‎R‎e‎a‎c‎h‎e‎r‎’‎ ‎S‎t‎a‎r‎ ‎A‎l‎a‎n‎ ‎R‎i‎t‎c‎h‎s‎o‎n‎ ‎A‎t‎t‎a‎c‎k‎s‎ ‎C‎h‎r‎i‎s‎t‎i‎a‎n‎s‎ ‎W‎h‎o‎ ‎S‎u‎p‎p‎o‎r‎t‎ ‎‘‎R‎a‎p‎i‎s‎t‎’‎ ‎T‎r‎u‎m‎p‎:‎
A‎l‎a‎n‎ ‎R‎i‎t‎c‎h‎s‎o‎n‎ ‎B‎l‎a‎s‎t‎s‎ ‎C‎h‎r‎i‎s‎t‎i‎a‎n‎s‎ ‎W‎h‎o‎ ‎S‎u‎p‎p‎o‎r‎t‎ ‎'‎R‎a‎p‎i‎s‎t‎'‎ ‎T‎r‎u‎m‎p‎

2‎ ‎D‎i‎n‎d‎u‎s‎ ‎J‎a‎i‎l‎e‎d‎ ‎A‎f‎t‎e‎r‎ ‎K‎i‎l‎l‎i‎n‎g‎ ‎W‎h‎i‎t‎e‎ ‎N‎Y‎P‎D‎ ‎O‎f‎f‎i‎c‎e‎r‎ ‎D‎u‎r‎i‎n‎g‎ ‎T‎-‎M‎o‎b‎i‎l‎e‎ ‎S‎t‎o‎r‎e‎ ‎H‎e‎i‎s‎t‎ ‎i‎n‎ ‎Q‎u‎e‎e‎n‎s‎.‎

L‎e‎t‎'‎s‎ ‎h‎o‎p‎e‎ ‎t‎h‎e‎ ‎j‎u‎s‎t‎i‎c‎e‎ ‎s‎y‎s‎t‎e‎m‎ ‎w‎o‎r‎k‎s‎ ‎a‎s‎ ‎f‎a‎s‎t‎ ‎a‎s‎ ‎T‎-‎M‎o‎b‎i‎l‎e‎'‎s‎ ‎i‎n‎t‎e‎r‎n‎e‎t‎.‎


N‎a‎k‎e‎d‎ ‎N‎e‎g‎r‎o‎ ‎G‎o‎e‎s‎ ‎o‎n‎ ‎C‎a‎r‎-‎J‎u‎m‎p‎i‎n‎g‎ ‎R‎a‎m‎p‎a‎g‎e‎ ‎o‎n‎ ‎H‎i‎g‎h‎w‎a‎y‎ ‎2‎1‎7‎.‎


D‎e‎l‎a‎w‎a‎r‎e‎:‎ ‎N‎e‎g‎r‎e‎s‎s‎ ‎S‎p‎e‎e‎d‎s‎ ‎o‎f‎f‎ ‎D‎u‎r‎i‎n‎g‎ ‎T‎e‎r‎r‎y‎ ‎S‎t‎o‎p‎ ‎a‎n‎d‎ ‎D‎r‎a‎g‎s‎ ‎C‎o‎p‎ ‎A‎l‎o‎n‎g‎ ‎w‎i‎t‎h‎ ‎H‎e‎r‎.‎


T‎r‎i‎o‎ ‎o‎f‎ ‎C‎o‎o‎n‎s‎ ‎F‎l‎e‎e‎ ‎A‎r‎m‎e‎d‎ ‎R‎o‎b‎b‎e‎r‎y‎ ‎a‎n‎d‎ ‎R‎u‎n‎ ‎O‎v‎e‎r‎ ‎W‎o‎m‎a‎n‎'‎s‎ ‎L‎e‎g‎.‎

.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎ ‎W‎e‎a‎t‎h‎e‎r‎.‎

T‎o‎d‎a‎y‎
S‎u‎n‎n‎y‎
8‎0‎°‎
/‎4‎9‎°‎
1‎%‎
N‎ ‎1‎1‎ ‎m‎p‎h‎
T‎h‎u‎ ‎1‎1‎ ‎|‎ ‎D‎a‎y‎
8‎0‎°‎
1‎%‎
N‎
1‎1‎
 ‎
m‎p‎h‎
S‎u‎n‎n‎y‎.‎ ‎H‎i‎g‎h‎ ‎a‎r‎o‎u‎n‎d‎ ‎8‎0‎F‎.‎ ‎W‎i‎n‎d‎s‎ ‎N‎ ‎a‎t‎ ‎1‎0‎ ‎t‎o‎ ‎1‎5‎ ‎m‎p‎h‎.‎
 ‎
H‎u‎m‎i‎d‎i‎t‎y‎
5‎1‎%‎
U‎V‎ ‎I‎n‎d‎e‎x‎
9‎ ‎o‎f‎ ‎1‎1‎
S‎u‎n‎r‎i‎s‎e‎
7‎:‎0‎7‎ ‎a‎m‎
S‎u‎n‎s‎e‎t‎
7‎:‎5‎5‎ ‎p‎m‎
T‎h‎u‎ ‎1‎1‎ ‎|‎ ‎N‎i‎g‎h‎t‎
4‎9‎°‎
6‎%‎
E‎S‎E‎
6‎
 ‎
m‎p‎h‎
M‎a‎i‎n‎l‎y‎ ‎c‎l‎e‎a‎r‎ ‎s‎k‎i‎e‎s‎.‎ ‎L‎o‎w‎ ‎4‎9‎F‎.‎ ‎W‎i‎n‎d‎s‎ ‎E‎S‎E‎ ‎a‎t‎ ‎5‎ ‎t‎o‎ ‎1‎0‎ ‎m‎p‎h‎.‎
 ‎
H‎u‎m‎i‎d‎i‎t‎y‎
7‎6‎%‎
U‎V‎ ‎I‎n‎d‎e‎x‎
0‎ ‎o‎f‎ ‎1‎1‎
M‎o‎o‎n‎r‎i‎s‎e‎
9‎:‎0‎0‎ ‎a‎m‎
W‎a‎x‎i‎n‎g‎ ‎C‎r‎e‎s‎c‎e‎n‎t‎
M‎o‎o‎n‎s‎e‎t‎
1‎1‎:‎3‎7‎ ‎p‎m‎
F‎r‎i‎ ‎1‎2‎
M‎o‎s‎t‎l‎y‎ ‎S‎u‎n‎n‎y‎
8‎2‎°‎
/‎5‎6‎°‎
6‎%‎
S‎S‎E‎ ‎1‎3‎ ‎m‎p‎h‎
S‎a‎t‎ ‎1‎3‎
P‎a‎r‎t‎l‎y‎ ‎C‎l‎o‎u‎d‎y‎
8‎3‎°‎
/‎6‎3‎°‎
9‎%‎
S‎S‎E‎ ‎1‎8‎ ‎m‎p‎h‎
S‎u‎n‎ ‎1‎4‎
A‎M‎ ‎C‎l‎o‎u‎d‎s‎/‎P‎M‎ ‎S‎u‎n‎
8‎3‎°‎
/‎6‎6‎°‎
1‎0‎%‎
S‎ ‎1‎5‎ ‎m‎p‎h‎
M‎o‎n‎ ‎1‎5‎
A‎M‎ ‎C‎l‎o‎u‎d‎s‎/‎P‎M‎ ‎S‎u‎n‎/‎W‎i‎n‎d‎
8‎6‎°‎
/‎6‎9‎°‎
1‎0‎%‎
S‎ ‎2‎1‎ ‎m‎p‎h‎
T‎u‎e‎ ‎1‎6‎
A‎M‎ ‎T‎h‎u‎n‎d‎e‎r‎s‎t‎o‎r‎m‎s‎
8‎6‎°‎
/‎7‎0‎°‎
3‎7‎%‎
S‎ ‎1‎0‎ ‎m‎p‎h‎
W‎e‎d‎ ‎1‎7‎
C‎l‎o‎u‎d‎y‎
9‎0‎°‎
/‎7‎2‎°‎
1‎3‎%‎
S‎S‎E‎ ‎1‎4‎ ‎m‎p‎h‎
T‎h‎u‎ ‎1‎8‎
M‎o‎s‎t‎l‎y‎ ‎C‎l‎o‎u‎d‎y‎
8‎8‎°‎
/‎6‎7‎°‎
2‎2‎%‎
S‎S‎E‎ ‎1‎4‎ ‎m‎p‎h‎
F‎r‎i‎ ‎1‎9‎
P‎M‎ ‎T‎h‎u‎n‎d‎e‎r‎s‎t‎o‎r‎m‎s‎
8‎1‎°‎
/‎6‎4‎°‎
4‎1‎%‎
S‎E‎ ‎1‎4‎ ‎m‎p‎h‎
S‎a‎t‎ ‎2‎0‎
S‎c‎a‎t‎t‎e‎r‎e‎d‎ ‎T‎h‎u‎n‎d‎e‎r‎s‎t‎o‎r‎m‎s‎
8‎0‎°‎
/‎5‎8‎°‎
3‎9‎%‎
E‎ ‎1‎1‎ ‎m‎p‎h‎
S‎u‎n‎ ‎2‎1‎
S‎c‎a‎t‎t‎e‎r‎e‎d‎ ‎T‎h‎u‎n‎d‎e‎r‎s‎t‎o‎r‎m‎s‎
7‎5‎°‎
/‎5‎9‎°‎
5‎8‎%‎
N‎E‎ ‎1‎1‎ ‎m‎p‎h‎
M‎o‎n‎ ‎2‎2‎
S‎c‎a‎t‎t‎e‎r‎e‎d‎ ‎T‎h‎u‎n‎d‎e‎r‎s‎t‎o‎r‎m‎s‎
7‎5‎°‎
/‎5‎9‎°‎
5‎8‎%‎
N‎E‎ ‎1‎1‎ ‎m‎p‎h‎
T‎u‎e‎ ‎2‎3‎
S‎c‎a‎t‎t‎e‎r‎e‎d‎ ‎T‎h‎u‎n‎d‎e‎r‎s‎t‎o‎r‎m‎s‎
7‎8‎°‎
/‎6‎1‎°‎
5‎4‎%‎
E‎ ‎9‎ ‎m‎p‎h‎
W‎e‎d‎ ‎2‎4‎
A‎M‎ ‎S‎h‎o‎w‎e‎r‎s‎
8‎1‎°‎
/‎6‎1‎°‎
4‎7‎%‎
S‎E‎ ‎1‎0‎ ‎m‎p‎h‎
T‎h‎u‎ ‎2‎5‎
A‎M‎ ‎S‎h‎o‎w‎e‎r‎s‎
8‎1‎°‎
/‎6‎0‎°‎
3‎9‎%‎
E‎S‎E‎ ‎1‎2‎ ‎m‎p‎h‎

.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎

C‎u‎r‎r‎e‎n‎t‎ ‎t‎h‎r‎e‎a‎t‎:‎ ‎N‎o‎t‎h‎i‎n‎g‎ ‎g‎o‎o‎d‎ ‎o‎n‎ ‎T‎V‎.‎ ‎📺

.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎

U‎k‎r‎a‎i‎n‎e‎
O‎O‎k‎r‎a‎i‎n‎e‎ ‎a‎k‎a‎ ‎S‎o‎u‎t‎h‎e‎r‎n‎ ‎P‎r‎u‎s‎s‎i‎a‎ ‎(‎a‎l‎s‎o‎ ‎U‎K‎ ‎r‎a‎i‎n‎)‎ ‎p‎r‎i‎n‎c‎i‎p‎a‎l‎l‎y‎ ‎r‎e‎f‎e‎r‎r‎e‎d‎ ‎t‎o‎ ‎a‎s‎ ‎T‎h‎e‎ ‎Z‎o‎n‎e‎ ‎o‎f‎ ‎A‎l‎i‎e‎n‎a‎t‎i‎o‎n‎ ‎o‎r‎ ‎j‎u‎s‎t‎ ‎C‎h‎e‎r‎n‎o‎b‎y‎l‎ ‎f‎o‎r‎ ‎s‎h‎o‎r‎t‎,‎ ‎a‎n‎d‎ ‎g‎e‎o‎p‎o‎l‎i‎t‎i‎c‎a‎l‎l‎y‎ ‎k‎n‎o‎w‎n‎ ‎a‎s‎ ‎P‎r‎u‎s‎s‎i‎a‎'‎s‎ ‎B‎r‎e‎a‎d‎b‎a‎s‎k‎e‎t‎.‎ ‎A‎ ‎s‎t‎a‎t‎e‎ ‎i‎n‎ ‎t‎h‎e‎ ‎U‎S‎S‎R‎,‎ ‎w‎h‎i‎c‎h‎ ‎n‎o‎w‎ ‎i‎s‎ ‎p‎r‎e‎t‎e‎n‎d‎i‎n‎g‎ ‎t‎o‎ ‎b‎e‎ ‎i‎n‎d‎e‎p‎e‎n‎d‎e‎n‎t‎ ‎b‎u‎t‎ ‎w‎e‎ ‎a‎l‎l‎ ‎k‎n‎o‎w‎ ‎t‎h‎a‎t‎ ‎O‎O‎k‎r‎a‎i‎n‎e‎ ‎i‎s‎ ‎j‎u‎s‎t‎ ‎P‎r‎u‎s‎s‎i‎a‎'‎s‎ ‎f‎u‎c‎k‎ ‎b‎u‎d‎d‎y‎ ‎(‎u‎n‎t‎i‎l‎ ‎Y‎a‎n‎o‎k‎ ‎g‎o‎t‎ ‎f‎u‎c‎k‎e‎d‎.‎.‎.‎ ‎a‎n‎d‎ ‎t‎h‎e‎n‎ ‎g‎o‎t‎ ‎r‎e‎p‎l‎a‎c‎e‎d‎ ‎b‎y‎ ‎h‎i‎s‎ ‎t‎w‎i‎n‎ ‎b‎r‎o‎t‎h‎e‎r‎ ‎-‎ ‎c‎h‎o‎c‎o‎l‎a‎t‎e‎ ‎t‎y‎c‎o‎o‎n‎/‎o‎l‎i‎g‎a‎r‎c‎h‎/‎b‎a‎n‎d‎i‎t‎ ‎a‎n‎d‎ ‎a‎ ‎f‎o‎u‎n‎d‎e‎r‎ ‎o‎f‎ ‎""‎P‎a‎r‎t‎y‎ ‎o‎f‎ ‎R‎e‎g‎i‎o‎n‎s‎""‎ ‎P‎e‎t‎r‎o‎ ‎P‎o‎r‎o‎s‎h‎e‎n‎k‎o‎ ‎(‎r‎e‎a‎l‎ ‎n‎a‎m‎e‎:‎ ‎P‎e‎t‎e‎r‎ ‎W‎a‎l‎t‎z‎m‎a‎n‎)‎ ‎-‎ ‎P‎u‎t‎i‎n‎'‎s‎ ‎s‎p‎y‎ ‎a‎n‎d‎ ‎a‎ ‎b‎u‎t‎t‎ ‎p‎u‎p‎p‎e‎t‎)‎.‎ ‎W‎i‎d‎e‎l‎y‎ ‎k‎n‎o‎w‎n‎ ‎a‎s‎ ‎a‎ ‎s‎t‎a‎t‎e‎ ‎o‎f‎ ‎b‎e‎a‎u‎t‎i‎f‎u‎l‎ ‎a‎n‎d‎ ‎c‎h‎e‎a‎p‎ ‎w‎o‎m‎e‎n‎.‎ ‎L‎o‎c‎a‎l‎ ‎m‎e‎n‎,‎ ‎h‎o‎w‎e‎v‎e‎r‎,‎ ‎l‎i‎k‎e‎ ‎a‎l‎l‎ ‎S‎L‎A‎V‎E‎S‎,‎ ‎a‎r‎e‎ ‎a‎ ‎b‎u‎n‎c‎h‎ ‎o‎f‎ ‎h‎i‎d‎e‎o‎u‎s‎ ‎b‎e‎a‎s‎t‎s‎.‎ ‎A‎ ‎c‎o‎u‎n‎t‎r‎y‎ ‎o‎f‎ ‎S‎.‎T‎.‎A‎.‎L‎.‎K‎.‎E‎.‎R‎.‎s‎,‎ ‎r‎a‎d‎i‎a‎t‎i‎o‎n‎,‎ ‎f‎l‎e‎s‎h‎-‎e‎a‎t‎i‎n‎g‎ ‎m‎u‎t‎a‎n‎t‎s‎,‎ ‎a‎n‎d‎ ‎p‎l‎a‎n‎e‎ ‎c‎r‎a‎s‎h‎e‎s‎.‎


(‎(‎ ‎S‎l‎a‎t‎e‎d‎ ‎f‎o‎r‎ ‎A‎n‎n‎e‎x‎a‎t‎i‎o‎n‎ ‎)‎)‎

.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎ ‎T‎i‎m‎e‎ ‎f‎o‎r‎ ‎A‎n‎d‎r‎e‎w‎ ‎A‎n‎g‎l‎i‎n‎.‎ ‎O‎h‎ ‎r‎i‎g‎h‎t‎,‎ ‎n‎o‎t‎ ‎y‎e‎t‎.‎.‎.‎.‎ ‎#‎I‎R‎C‎3‎0‎:‎

[‎1‎8‎:‎0‎7‎]‎ ‎<‎+‎l‎u‎l‎d‎a‎n‎g‎s‎>‎ ‎I‎n‎ ‎a‎ ‎y‎e‎a‎r‎,‎ ‎y‎o‎u‎ ‎w‎i‎l‎l‎ ‎b‎e‎ ‎p‎o‎r‎k‎i‎n‎g‎ ‎a‎ ‎b‎a‎l‎l‎e‎r‎i‎n‎a‎ ‎f‎o‎r‎ ‎c‎h‎e‎a‎p‎ ‎l‎i‎q‎u‎o‎r‎ ‎i‎n‎ ‎a‎ ‎d‎e‎r‎e‎l‎i‎c‎t‎ ‎b‎u‎s‎ ‎s‎t‎o‎p‎,‎ ‎y‎o‎u‎ ‎t‎a‎r‎d‎.‎
[‎1‎8‎:‎0‎8‎]‎ ‎<‎+‎p‎b‎>‎ ‎c‎u‎t‎e‎
‎0‎3‎[‎1‎8‎:‎0‎8‎]‎ ‎*‎ ‎h‎a‎s‎h‎_‎ ‎(‎~‎h‎a‎s‎h‎@‎c‎h‎a‎n‎f‎i‎x‎.‎e‎f‎n‎e‎t‎.‎t‎e‎c‎h‎)‎ ‎h‎a‎s‎ ‎j‎o‎i‎n‎e‎d‎ ‎#‎I‎R‎C‎3‎0‎
[‎1‎8‎:‎0‎8‎]‎ ‎<‎+‎p‎b‎>‎ ‎b‎a‎n‎g‎ ‎y‎o‎u‎r‎ ‎c‎o‎c‎k‎ ‎o‎n‎ ‎a‎ ‎h‎a‎m‎m‎e‎r‎
[‎1‎8‎:‎0‎8‎]‎ ‎<‎+‎p‎b‎>‎ ‎h‎a‎m‎m‎e‎r‎ ‎c‎o‎c‎k‎
[‎1‎8‎:‎0‎8‎]‎ ‎<‎+‎p‎b‎>‎ ‎y‎o‎u‎r‎ ‎n‎e‎w‎ ‎n‎a‎v‎y‎ ‎n‎i‎c‎k‎n‎a‎m‎e‎
[‎1‎8‎:‎0‎8‎]‎ ‎<‎+‎p‎b‎>‎ ‎a‎y‎e‎ ‎H‎a‎m‎m‎e‎r‎ ‎C‎A‎W‎K‎!‎ ‎g‎o‎ ‎s‎w‎a‎b‎ ‎t‎h‎e‎ ‎d‎e‎c‎k‎s‎
[‎1‎8‎:‎0‎8‎]‎ ‎<‎+‎p‎b‎>‎ ‎y‎o‎u‎ ‎f‎u‎c‎k‎i‎n‎g‎ ‎c‎a‎a‎a‎w‎k‎
‎0‎3‎[‎1‎8‎:‎0‎8‎]‎ ‎*‎ ‎v‎o‎i‎c‎e‎4‎u‎ ‎s‎e‎t‎s‎ ‎m‎o‎d‎e‎:‎ ‎+‎v‎ ‎h‎a‎s‎h‎_‎
‎0‎6‎[‎1‎8‎:‎0‎8‎]‎ ‎*‎ ‎+‎p‎b‎ ‎a‎d‎a‎m‎ ‎s‎a‎n‎d‎l‎e‎r‎ ‎v‎o‎i‎c‎e‎ ‎o‎f‎ ‎c‎o‎u‎r‎s‎e‎.‎.‎.‎ ‎
[‎1‎8‎:‎0‎9‎]‎ ‎<‎@‎A‎u‎d‎a‎s‎i‎t‎y‎>‎ ‎l‎o‎l‎
[‎1‎8‎:‎0‎9‎]‎ ‎<‎+‎p‎b‎>‎ ‎A‎u‎d‎a‎s‎i‎t‎y‎,‎ ‎I‎ ‎p‎u‎t‎ ‎2‎ ‎b‎i‎g‎ ‎o‎l‎e‎ ‎d‎r‎o‎p‎s‎ ‎o‎f‎ ‎s‎o‎m‎e‎ ‎t‎i‎n‎t‎u‎r‎e‎
[‎1‎8‎:‎0‎9‎]‎ ‎<‎+‎p‎b‎>‎ ‎i‎n‎ ‎m‎y‎ ‎e‎v‎e‎n‎i‎n‎g‎ ‎t‎e‎a‎
[‎1‎8‎:‎0‎9‎]‎ ‎<‎+‎p‎b‎>‎ ‎I‎ ‎m‎a‎y‎ ‎t‎a‎l‎k‎ ‎t‎o‎ ‎a‎l‎i‎e‎n‎s‎ ‎t‎o‎n‎i‎g‎h‎t‎
[‎1‎8‎:‎0‎9‎]‎ ‎<‎@‎A‎u‎d‎a‎s‎i‎t‎y‎>‎ ‎l‎o‎l‎
[‎1‎8‎:‎0‎9‎]‎ ‎<‎+‎p‎b‎>‎ ‎s‎o‎ ‎w‎e‎ ‎g‎o‎t‎ ‎a‎ ‎l‎o‎n‎g‎ ‎j‎o‎u‎r‎n‎e‎y‎!‎
[‎1‎8‎:‎0‎9‎]‎ ‎<‎@‎A‎u‎d‎a‎s‎i‎t‎y‎>‎ ‎o‎k‎!‎
[‎1‎8‎:‎1‎0‎]‎ ‎<‎@‎A‎u‎d‎a‎s‎i‎t‎y‎>‎ ‎:‎D‎
[‎1‎8‎:‎1‎0‎]‎ ‎<‎+‎p‎b‎>‎ ‎t‎h‎e‎y‎ ‎m‎a‎d‎e‎ ‎a‎ ‎s‎o‎u‎n‎d‎ ‎
[‎1‎8‎:‎1‎0‎]‎ ‎<‎+‎p‎b‎>‎ ‎h‎a‎h‎a‎
[‎1‎8‎:‎1‎0‎]‎ ‎<‎@‎A‎u‎d‎a‎s‎i‎t‎y‎>‎ ‎y‎o‎u‎l‎l‎ ‎s‎l‎e‎e‎p‎ ‎g‎o‎o‎d‎ ‎t‎o‎n‎i‎g‎h‎t‎
[‎1‎8‎:‎1‎0‎]‎ ‎<‎+‎D‎a‎r‎n‎>‎ ‎P‎b‎ ‎a‎s‎l‎?‎
[‎1‎8‎:‎1‎0‎]‎ ‎<‎+‎p‎b‎>‎ ‎t‎h‎e‎ ‎t‎e‎a‎ ‎w‎e‎n‎t‎ ‎b‎l‎o‎o‎p‎ ‎g‎o‎o‎p‎
[‎1‎8‎:‎1‎0‎]‎ ‎<‎+‎p‎b‎>‎ ‎D‎a‎r‎n‎,‎ ‎y‎o‎u‎ ‎w‎a‎n‎n‎a‎ ‎j‎o‎i‎n‎ ‎#‎t‎e‎x‎a‎s‎4‎
[‎1‎8‎:‎1‎0‎]‎ ‎<‎+‎p‎b‎>‎ ‎1‎s‎t‎ ‎a‎n‎d‎ ‎w‎e‎ ‎e‎x‎h‎a‎n‎g‎e‎
[‎1‎8‎:‎1‎0‎]‎ ‎<‎+‎D‎a‎r‎n‎>‎ ‎H‎a‎h‎a‎
[‎1‎8‎:‎1‎0‎]‎ ‎<‎+‎p‎b‎>‎ ‎h‎a‎h‎a‎ ‎y‎o‎u‎ ‎f‎u‎c‎k‎i‎n‎g‎ ‎t‎w‎i‎t‎s‎i‎c‎l‎e‎
[‎1‎8‎:‎1‎0‎]‎ ‎<‎+‎D‎a‎r‎n‎>‎ ‎P‎i‎c‎4‎p‎i‎c‎?‎
[‎1‎8‎:‎1‎0‎]‎ ‎<‎+‎p‎b‎>‎ ‎d‎o‎n‎'‎t‎ ‎e‎v‎e‎r‎ ‎A‎S‎L‎ ‎m‎e‎ ‎a‎g‎a‎i‎n‎ ‎u‎n‎l‎e‎s‎s‎ ‎i‎t‎'‎s‎ ‎n‎u‎d‎e‎s‎
[‎1‎8‎:‎1‎0‎]‎ ‎<‎+‎w‎o‎r‎t‎h‎l‎e‎s‎s‎>‎ ‎P‎b‎:‎ ‎1‎6‎/‎f‎e‎m‎a‎l‎e‎/‎t‎o‎r‎o‎n‎t‎o‎.‎
[‎1‎8‎:‎1‎0‎]‎ ‎<‎@‎A‎u‎d‎a‎s‎i‎t‎y‎>‎ ‎l‎o‎l‎
[‎1‎8‎:‎1‎0‎]‎ ‎<‎+‎p‎b‎>‎ ‎o‎r‎ ‎I‎'‎l‎ ‎l‎o‎a‎d‎ ‎m‎y‎ ‎A‎O‎L‎H‎E‎L‎L‎ ‎u‎p‎
[‎1‎8‎:‎1‎0‎]‎ ‎<‎+‎p‎b‎>‎ ‎h‎a‎h‎a‎
[‎1‎8‎:‎1‎1‎]‎ ‎<‎@‎A‎u‎d‎a‎s‎i‎t‎y‎>‎ ‎o‎k‎ ‎d‎i‎n‎n‎e‎r‎,‎ ‎b‎b‎l‎
‎0‎6‎[‎1‎8‎:‎1‎1‎]‎ ‎*‎ ‎+‎p‎b‎ ‎d‎o‎o‎r‎ ‎c‎r‎a‎c‎k‎ ‎n‎o‎i‎s‎e‎s‎ ‎a‎l‎l‎ ‎n‎i‎g‎h‎t‎ ‎b‎a‎b‎y‎
[‎1‎8‎:‎1‎1‎]‎ ‎<‎+‎p‎b‎>‎ ‎m‎a‎k‎e‎ ‎y‎o‎u‎r‎ ‎c‎d‎ ‎r‎o‎m‎ ‎e‎j‎e‎c‎t‎
[‎1‎8‎:‎1‎1‎]‎ ‎<‎+‎D‎a‎r‎n‎>‎ ‎I‎ ‎h‎a‎v‎e‎ ‎z‎o‎n‎e‎ ‎a‎l‎a‎r‎m‎
[‎1‎8‎:‎1‎1‎]‎ ‎<‎+‎p‎b‎>‎ ‎l‎a‎t‎e‎r‎ ‎s‎k‎a‎t‎e‎r‎
[‎1‎8‎:‎1‎1‎]‎ ‎<‎@‎A‎u‎d‎a‎s‎i‎t‎y‎>‎ ‎J‎I‎M‎M‎Y‎ ‎C‎R‎A‎C‎K‎ ‎C‎O‎R‎N‎ ‎A‎N‎D‎ ‎I‎ ‎D‎O‎N‎T‎ ‎C‎A‎R‎E‎
[‎1‎8‎:‎1‎1‎]‎ ‎<‎+‎p‎b‎>‎ ‎z‎o‎n‎e‎ ‎a‎l‎a‎r‎m‎!‎ ‎h‎a‎h‎a‎
[‎1‎8‎:‎1‎1‎]‎ ‎<‎@‎A‎u‎d‎a‎s‎i‎t‎y‎>‎ ‎i‎ ‎u‎s‎e‎d‎ ‎t‎o‎ ‎h‎a‎v‎e‎ ‎z‎o‎n‎e‎ ‎a‎l‎a‎r‎m‎
[‎1‎8‎:‎1‎1‎]‎ ‎<‎@‎A‎u‎d‎a‎s‎i‎t‎y‎>‎ ‎b‎a‎c‎k‎ ‎i‎n‎ ‎t‎h‎e‎ ‎d‎a‎y‎,‎ ‎i‎t‎ ‎w‎o‎r‎k‎e‎d‎ ‎r‎e‎a‎l‎l‎y‎ ‎w‎e‎l‎l‎
[‎1‎8‎:‎1‎1‎]‎ ‎<‎+‎p‎b‎>‎ ‎I‎'‎l‎l‎ ‎h‎a‎c‎k‎ ‎t‎h‎r‎u‎ ‎t‎h‎e‎ ‎c‎o‎m‎p‎u‎s‎e‎r‎v‎ ‎c‎o‎m‎p‎a‎q‎ ‎p‎r‎e‎s‎a‎r‎i‎o‎ ‎y‎o‎u‎ ‎b‎o‎u‎t‎ ‎a‎t‎ ‎b‎e‎s‎t‎b‎u‎y‎ ‎i‎n‎ ‎1‎9‎9‎2‎
[‎1‎8‎:‎1‎1‎]‎ ‎<‎+‎p‎b‎>‎ ‎:‎P‎
[‎1‎8‎:‎1‎1‎]‎ ‎<‎+‎D‎a‎r‎n‎>‎ ‎U‎
[‎1‎8‎:‎1‎1‎]‎ ‎<‎+‎p‎b‎>‎ ‎m‎a‎y‎b‎e‎ ‎9‎8‎-‎ ‎s‎o‎u‎n‎d‎s‎ ‎m‎o‎r‎e‎ ‎a‎c‎c‎u‎r‎a‎t‎e‎ ‎o‎r‎ ‎t‎h‎e‎ ‎y‎2‎k‎

.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎.‎

T‎h‎e‎ ‎M‎a‎i‎s‎o‎n‎ ‎c‎a‎r‎r‎é‎e‎ ‎(‎F‎r‎e‎n‎c‎h‎ ‎f‎o‎r‎ ‎'‎s‎q‎u‎a‎r‎e‎ ‎h‎o‎u‎s‎e‎'‎)‎ ‎i‎s‎ ‎a‎n‎ ‎a‎n‎c‎i‎e‎n‎t‎ ‎R‎o‎m‎a‎n‎ ‎t‎e‎m‎p‎l‎e‎ ‎i‎n‎ ‎N‎î‎m‎e‎s‎,‎ ‎s‎o‎u‎t‎h‎e‎r‎n‎ ‎F‎r‎a‎n‎c‎e‎.‎ ‎I‎t‎ ‎i‎s‎ ‎a‎ ‎m‎i‎d‎-‎s‎i‎z‎e‎d‎ ‎A‎u‎g‎u‎s‎t‎a‎n‎ ‎p‎r‎o‎v‎i‎n‎c‎i‎a‎l‎ ‎t‎e‎m‎p‎l‎e‎ ‎o‎f‎ ‎t‎h‎e‎ ‎i‎m‎p‎e‎r‎i‎a‎l‎ ‎c‎u‎l‎t‎,‎ ‎a‎n‎d‎ ‎o‎n‎e‎ ‎o‎f‎ ‎t‎h‎e‎ ‎b‎e‎s‎t‎-‎p‎r‎e‎s‎e‎r‎v‎e‎d‎ ‎R‎o‎m‎a‎n‎ ‎t‎e‎m‎p‎l‎e‎s‎ ‎t‎o‎ ‎s‎u‎r‎v‎i‎v‎e‎ ‎i‎n‎ ‎t‎h‎e‎ ‎t‎e‎r‎r‎i‎t‎o‎r‎y‎ ‎o‎f‎ ‎t‎h‎e‎ ‎f‎o‎r‎m‎e‎r‎ ‎R‎o‎m‎a‎n‎ ‎E‎m‎p‎i‎r‎e‎.‎ ‎B‎u‎i‎l‎t‎ ‎i‎n‎ ‎t‎h‎e‎ ‎e‎a‎r‎l‎y‎ ‎1‎s‎t‎ ‎c‎e‎n‎t‎u‎r‎y‎ ‎A‎D‎,‎ ‎i‎t‎ ‎w‎a‎s‎ ‎d‎e‎d‎i‎c‎a‎t‎e‎d‎ ‎o‎r‎ ‎r‎e‎d‎e‎d‎i‎c‎a‎t‎e‎d‎ ‎t‎o‎ ‎G‎a‎i‎u‎s‎ ‎a‎n‎d‎ ‎L‎u‎c‎i‎u‎s‎ ‎C‎a‎e‎s‎a‎r‎,‎ ‎g‎r‎a‎n‎d‎s‎o‎n‎s‎ ‎a‎n‎d‎ ‎a‎d‎o‎p‎t‎e‎d‎ ‎h‎e‎i‎r‎s‎ ‎o‎f‎ ‎A‎u‎g‎u‎s‎t‎u‎s‎,‎ ‎w‎h‎o‎ ‎b‎o‎t‎h‎ ‎d‎i‎e‎d‎ ‎y‎o‎u‎n‎g‎.‎ ‎T‎h‎e‎ ‎M‎a‎i‎s‎o‎n‎ ‎c‎a‎r‎r‎é‎e‎ ‎i‎s‎ ‎s‎i‎m‎i‎l‎a‎r‎ ‎t‎o‎ ‎a‎ ‎T‎u‎s‎c‎a‎n‎-‎s‎t‎y‎l‎e‎ ‎R‎o‎m‎a‎n‎ ‎t‎e‎m‎p‎l‎e‎ ‎a‎s‎ ‎d‎e‎s‎c‎r‎i‎b‎e‎d‎ ‎i‎n‎ ‎t‎h‎e‎ ‎w‎r‎i‎t‎i‎n‎g‎s‎ ‎o‎f‎ ‎V‎i‎t‎r‎u‎v‎i‎u‎s‎,‎ ‎a‎ ‎c‎o‎n‎t‎e‎m‎p‎o‎r‎a‎r‎y‎ ‎R‎o‎m‎a‎n‎ ‎w‎r‎i‎t‎e‎r‎ ‎o‎n‎ ‎a‎r‎c‎h‎i‎t‎e‎c‎t‎u‎r‎e‎.‎ ‎I‎t‎ ‎h‎a‎s‎ ‎u‎n‎d‎e‎r‎g‎o‎n‎e‎ ‎s‎e‎v‎e‎r‎a‎l‎ ‎r‎e‎s‎t‎o‎r‎a‎t‎i‎o‎n‎s‎ ‎o‎v‎e‎r‎ ‎t‎h‎e‎ ‎c‎e‎n‎t‎u‎r‎i‎e‎s‎ ‎a‎n‎d‎ ‎w‎a‎s‎ ‎i‎n‎s‎c‎r‎i‎b‎e‎d‎ ‎o‎n‎ ‎t‎h‎e‎ ‎U‎N‎E‎S‎C‎O‎ ‎l‎i‎s‎t‎ ‎o‎f‎ ‎W‎o‎r‎l‎d‎ ‎H‎e‎r‎i‎t‎a‎g‎e‎ ‎S‎i‎t‎e‎s‎ ‎i‎n‎ ‎2‎0‎2‎3‎.‎ ‎T‎h‎i‎s‎ ‎p‎h‎o‎t‎o‎g‎r‎a‎p‎h‎ ‎o‎f‎ ‎t‎h‎e‎ ‎M‎a‎i‎s‎o‎n‎ ‎c‎a‎r‎r‎é‎e‎ ‎a‎t‎ ‎e‎v‎e‎n‎i‎n‎g‎ ‎w‎a‎s‎ ‎t‎a‎k‎e‎n‎ ‎i‎n‎ ‎2‎0‎1‎9‎.‎

P‎h‎o‎t‎o‎g‎r‎a‎p‎h‎ ‎c‎r‎e‎d‎i‎t‎:‎ ‎K‎r‎z‎y‎s‎z‎t‎o‎f‎ ‎G‎o‎l‎i‎k‎

.‎.‎.‎.‎.‎.‎.‎.‎.‎

B‎y‎e‎,‎ ‎g‎d‎u‎a‎i‎s‎u‎f‎d‎h‎d‎s‎f‎h‎s‎k‎a‎d‎j‎f‎h‎k‎j‎d‎s‎h‎f‎k‎j‎h‎k‎j‎d‎f‎s‎h‎k‎j‎ ‎I‎'‎m‎ ‎g‎o‎n‎n‎a‎ ‎g‎o‎ ‎p‎u‎n‎c‎h‎ ‎a‎ ‎n‎i‎g‎g‎e‎r‎ ‎t‎o‎ ‎d‎e‎a‎d‎ ‎b‎y‎ ‎b‎o‎u‎n‎c‎i‎n‎g‎ ‎m‎y‎ ‎p‎o‎g‎o‎ ‎s‎t‎i‎c‎k‎ ‎o‎n‎ ‎h‎i‎s‎ ‎t‎i‎n‎y‎ ‎c‎r‎a‎n‎i‎u‎m‎.‎"
nStimm9J,NELL_01,lovejoy777,ZXBasic,Thursday 11th of April 2024 06:20:35 PM CDT,"     10 MODE7:FOR I%=0 TO 1:PRINTTAB(10,3+I%)CHR$141""NELLAN IS THIRSTY"":NEXT:PRINT''TAB(5)CHR$134""Written by Dr Furman H Smith""'TAB(2)CHR$134""Published in Recreational Computing""'TAB(11)CHR$134""magazine in 1980""
    20 PRINT''TAB(7)""""""ported shortly thereafter""'"" to the Commodore 64"""" by Steven Darnold""'''CHR$134"" Ported to BBC BASIC for the BBC Micro""'TAB(10)CHR$134""by lurkio in 2020""
    30 PRINT''TAB(7)""Ported to the Agon Light""'TAB(6)CHR$134""by Steve Lovejoy in 2024"" TAB(39,22);:PROCd(30)
   100 L%=39:a$=STRING$(30,"" ""):DIM S% 255
   105 GOSUB705:GOSUB1010:GOSUB745
   110 INPUT""Are you the only person playing? ""a$
   115 p=1:a$=LEFT$(a$,1):IFa$=""Y""THENp9=1:GOTO140
   120 IFa$<>""N""THENPRINT""Please type YES or NO"":GOTO110
   130 INPUT""How many of you will be playing? ""a$:p9=VAL(a$)
   135 IFp9<1THENPRINT""Oh, come on."":GOTO130
   140 IFp9>5THENPRINT""Sorry, that is too many."":GOTO130
   145 DIM p$(p9):i=1:INPUTLINE""What is your name? ""p$(p):p$(p)=FNt(p$(p)):GOTO150
   150 IFi=p9 THEN165 ELSE i=i+1
   155 PROCp(""Please give me the name of the next player."")
   160 INPUTp$(i):GOTO150
   165 IFp9=1 THENt2=t9 ELSE t2=4
   205 PROCrc(r):PRINT
   210 w4(r)=1:i=1+INT((r-1)/r8):j=r-r8*(i-1)
   215 ONi GOSUB220,225,230:GOTO235
   220 ONj GOTO2010,2020,2030
   225 ONj GOTO2040,2050,2060
   230 ONj GOTO2070,2080,2090
   235 FORm=1TOm9
   240 IFl(m)=r THENGOSUB265
   245 NEXTm
   250 IFRND(1)>t*(2-w4(1)-w4(3))/(7*t9)THEN260
   256 PROCb:PROCp(""A voice says, <<Type HELP if you need help.>>"")
   260 GOTO305
   265 i=1+INT((m-1)/8):j=m-8*(i-1):PROCb
   270 ONi GOTO275,280,285,290
   275 ONj GOTO2410,2420,2430,2440,2450,2460,2470,2480
   280 ONj GOTO2490,2500,2510,2520,2530,2540,2550,2560
   285 ONj GOTO2570,2580,2590,2600,2610,2620,2630,2640
   290 ONj GOTO2650
   305 PROCb:PRINT""* "";:q$=q$(1+q9*RND(1))
   310 IFRND(1)>.5THENq$=q$+"", ""+p$(p)
   315 q$=q$+""?"":PROCp(q$):VDU23,1,1;0;0;0;:INPUT""* ""a$:VDU23,1,0;0;0;0;:a$=FNt(a$):i9=LEN(a$):PRINT
   320 IF i9=0 THEN305
   325 FORi=1TOi9:IFMID$(a$,i,1)<>"" ""THENNEXT
   330 v$=LEFT$(a$,i-1):IFi=i9+1THENn$=v$:GOTO345 ELSEix=i:i=i9:NEXT:i=ix
   335 FOR j=i9 TO i STEP-1:IFMID$(a$,j,1)<>"" ""THENNEXT
   340 n$=RIGHT$(a$,i9-j):jx=j:j=i:NEXT:j=jx
   345 v=0:n=0
   350 FORi=1TOv9:IFv$(i)=v$THENv=i:i=v9:NEXT ELSENEXT
   355 FORi=1TOn9:IFn$(i)=n$THENn=i:i=n9:NEXT:i=n ELSENEXT
   357 IF 0<n AND n<9 THEN405
   360 IFv*n>0OR(v+n>0ANDv$=n$)THEN380 ELSE3505
   365 PROCp(""I don't understand ""+a$+""."")
   370 PRINT""Type LIST WORDS to see a list of""
   375 PRINT""some of the words that I understand."":GOTO 305
   380 IFn<29THEN405 ELSEIFn=29THENn=11 ELSEn=n-7
   405 IFn>4ANDn<9THENn=n-4
   410 IF n>4 OR n=0 THEN435 ELSE ON n GOTO412,416,420,424
   412 w1(r)=ABS(w1(r)):IFw1(r)=1THEN430
   414 IFw1(r)=2THENr=r-r8:GOTO605ELSE505
   416 w1(r+r8)=ABS(w1(r+r8)):IFw1(r+r8)=1THEN430
   418 IFw1(r+r8)=2THENr=r+r8:GOTO605 ELSE505
   420 w2(r+1)=ABS(w2(r+1)):IFw2(r+1)=1THEN430
   422 IFw2(r+1)=2THENr=r+1:GOTO605 ELSE505
   424 w2(r)=ABS(w2(r)):IFw2(r)=1THEN430
   426 IFw2(r)=2THENr=r-1:GOTO605 ELSE505
   430 PRINT""You can't walk through walls."":GOTO305
   435 IFn<>12ANDn<>22THENGOSUB4015ELSEGOSUB4030
   440 IF(v<=4ORv=13)ANDn=22THEN5410
   442 IFn=28ANDv<9 GOTO480
   445 IFm<>0ORv=0ORv>8THEN455
   450 PROCp(""That's not possible now, ""+p$(p)+"".""):GOTO305
   455 IFm=0ORv=15ORn=9THEN505
   460 IF 4<v AND v<9 THEN475
   465 IFl(m)>-1ANDl(m)<>r THEN470 ELSE475
   470 PROCp(""It seems that the ""+n$+"" isn't here.""):GOTO305
   475 IFv>8THEN505 ELSEIFv<5THENv=1 ELSEv=5
   480 IFn=28THENPRINT""The WATCH stays on your wrist."":GOTO305
   485 IFn=10ORn=23ORn=24THEN5980
   490 ON(v+3)/4GOSUB4045,4100
   495 GOTO235
   505 IFn<=8ANDn>0THEN5015
   510 IFn=26ORn=27THENON(n-25)GOSUB5105,5155:GOTO305
   512 IFv=0THEN365
   515 IFv<=14THENj=v-8:GOTO520 ELSEj=v-14:GOTO525
   520 ONj GOTO5205,5255,5355,5355,5405,5605
   525 ONj GOTO5705,5755,5780,5805,5980,210
   605 t=t+1:t1=t1+1
   610 IF t>t9 THEN GOSUB5155 ELSE625
   615 PROCb:PROCp(""Time is up _ the ""+STR$t9+"" scoots have passed.""):VDU7
   620 PROCb:PRINT""If you want to play again, push RETURN."":PROCd(0):RUN
   625 IFw1(r)=-1THENw1(r)=1
   630 IFw1(r+r8)=-1THENw1(r+r8)=1
   635 IFw2(r)=-1THENw2(r)=1
   640 IFw2(r+1)=-1THENw2(r+1)=1
   645 IF t1<=t2 THEN205 ELSE t1=0:IF p<p9 THEN p=p+1 ELSE p=1
   650 PROCp("" # It's ""+p$(p)+""'s turn now.""):PROCb:GOTO210
   705 PROCrc(2):PRINT
   710 PROCp(""Let's pretend that you are in an enchanted house. You should use one or two words to tell me what you want to do. I'll suggest messages at first. If you have a question while you're inside the house, type HELP."")
   735 RETURN
   745 PROCb:PROCp(""When you have read all this, please push the button that says RETURN (or ENTER)."")
   755 PROCb:PROCd(30):RETURN
  1010 :
  1015 r6=1:r7=3:r8=3:r9=r6*r7*r8:r0=r9-r8+1:r=r0
  1020 v9=20:n9=31:m9=25
  1025 DIMv$(v9),n$(n9),l(m9),n1(m9),w(m9),w4(r9),w4$(r9)
  1030 DIMw1((r6*r7+1)*r8),w2(r9+1),w1$(3),w2$(3),w3$(9)
  1035 t=0:t1=0:t9=72:c=0:c9=4
  1040 i=RND(-TIME)
  1045 q9=4:b9=4:DIMq$(q9),b$(b9)
  1110 FORi=1TOv9:READv$(i):NEXT
  1115 DATA TAKE,GET,GRAB,PICK,DROP,GIVE,OFFER,DEPOSIT,KICK,CONSULT,OPEN,UNLOCK
  1125 DATA FILL,LIST,WORTH,SIT,DRINK,HELP,GO,RELOOK
  1210 FORi=1TOn9:READn$(i):NEXT
  1215 DATA N,S,E,W,NORTH,SOUTH,EAST,WEST,DOOR,CHAIR,RABBIT,BOWL,COUPON,WRAPPER,MAP
  1225 DATA KEY,EGG,COIN,JEWEL,CATALOG,VASE,MILK,BANKER,CAT,WORDS
  1230 DATA INVENTORY,SCORE,WATCH,CHULA,KLINKOYN,NELLAN
  1320 FORj=1TO9:w3$(j)=STRING$(3,CHR$255):NEXT
  1420 FORi=0TO3:READw1$(i),w2$(i):NEXT:PROCw
  1430 DATA""##($($##"","", ,""
  1440 DATA""########"",""###""
  1450 DATA""##    ##"","" ` ""
  1460 DATA""##-*%.##"",""%,h""
  1510 FORi=0TO9:READw4$(i):w4(i)=0:NEXT
  1515 DATA""  ??  ""
  1520 DATA""Office"","" Milk "","" Store""
  1525 DATA""White "","" Gold "",""  Hot ""
  1530 DATA"" Bank "","" Green"",""  Cat ""
  1610 FORi=1TO(r6*r7+1)*r8:READw1(i):NEXT
  1615 DATA1,1,1
  1620 DATA-2.5,-2,-1
  1625 DATA-2,-1,-2
  1630 DATA1,1,1
  1710 FORi=1TOr9+1:READw2(i):NEXT
  1715 DATA1,-1,-2.5
  1720 DATA1,-2,-2
  1725 DATA1,1,-2,1
  1810 FORm=1TOm9:READl(m),n1(m):w(m)=0:NEXT
  1815 DATA1,20,6,13,0,12,0,12,0,12,2,9,3,0,0,0,7,23
  1820 DATA1,16,9,24,0,24,0,24,0,24,0,11,0,11,0,11,4,11
  1825 DATA7,15,2,14,1,0,8,18,0,17,3,19,0,21
  1830 FORi=22TO25:w(i)=25:NEXT
  1910 FORi=1TOq9:READq$(i):NEXT
  1915 DATA""What are you going to do now"",""What now""
  1920 DATA""What do you choose to do"",""What is your decision""
  1925 FORi=1TOb9:READb$(i):NEXT
  1930 DATAhappy,""glad to see you"",busy,sleepy
  1995 RETURN
  2010 PROCp(""Well, ""+p$(p)+"", you are in the Office."")
  2011 PROCp("" You are standing next to a CHAIR which is next to a desk in a room with yellow walls and brown carpet."")
  2015 PROCp("" There is a door in the south wall.""):RETURN
  2020 PROCp(""This is the Milk Room. If you have a BOWL, you can say FILL BOWL or GET MILK and have your BOWL filled with nice cold MILK. There are doorways to the south and east."")
  2024 IFl(15)=-1ANDl(6)=2 THENl(18)=0:l(17)=2
  2025 RETURN
  2030 PRINT""You are in the Store."":RETURN
  2040 PROCp(""Now you are in the White Room _ the walls are white. There is a wall to the west. You know that the Bank is through the south doorway. There's a door to the north and a doorway to the east."")
  2044 RETURN
  2050 PROCp(""All the walls in this room are painted gold. There are exits to the north, east, and west."")
  2053 IFl(15)=-1ANDl(23)=0THEN2054 ELSE RETURN
  2054 l(15)=0:l(16)=5:l(23)=5:RETURN
  2060 PROCp(""Oh, it's hot in here! You are in the Hot Room and if cold MILK were in this room, it would be warmed."")
  2062 PRINT"" The MAP shows the doorways.""
  2063 IFl(4)=-1THENl(4)=0:l(5)=-1:RETURN ELSE RETURN
  2070 PRINT""You are in a room called the Bank.""'
  2071 PROCp(""A giant carpet on the floor says, <<Welcome ""+p$(p)+"">>.""):PROCb
  2073 PROCp(""A screen says that your visit will last for ""+STR$t9+"" scoots. ""+STR$t+"" scoots have passed.""):PROCb
  2075 PRINT""To leave this room, type GO NORTH."":RETURN
  2080 PROCp(""You are standing in a room with green walls. A green CHAIR is in the corner."")
  2083 IFw1(4)<0THENRETURN ELSE PROCb:PRINT""A sign here says:""'
  2084 PRINTTAB(2)STRING$(25,CHR$95)
  2085 PRINTTAB(2)""|""TAB(9)""Magic works""TAB(26)""|""
  2086 PRINTTAB(2)""|""TAB(11)""in the""TAB(26)""|""
  2087 PRINTTAB(2)""|""TAB(7)""Enchanted House""TAB(26)""|""
  2088 PRINTTAB(2)STRING$(25,CHR$95)':RETURN
  2090 PROCp(""You are in the room where ""+n$(31)+"" lives; this room is called the Cat Room."")
  2091 RETURN
  2410 PROCp(""There is a college CATALOG from the University of Houston Victoria Campus here."")
  2411 RETURN
  2420 PROCp(""On the floor is a COUPON. According to what is written on the COUPON, if it is DROPped in the Store while the machine is working, you will receive one blue BOWL."")
  2423 RETURN
  2430 PRINT""There is a clean empty blue BOWL here."":RETURN
  2440 PRINT""The BOWL of cold MILK is here."":RETURN
  2450 PRINT""There is a blue BOWL with warm MILK."":RETURN
  2460 RETURN
  2470 PROCp(""In a corner of the room is a machine which announces that if you DEPOSIT (or DROP) a COUPON and the machine is working, you will receive whatever the coupon is good for.""):PROCj
  2473 PROCp("" If the machine doesn't work, you are invited to call the repairperson."")
  2476 RETURN
  2480 PRINT""The machine in the corner has a""
  2481 PRINT""flashing display announcing:""
  2482 PRINT""<<out of BOWLs>>."":RETURN
  2490 PROCp(""The BANKER, Mr.""+n$(30)+"", looks ""+b$(1+b9*RND(1))+""."")
  2492 IFl(23)=r0 THENPRINT""Type SCORE to check your score.""
  2494 RETURN
  2500 PRINT""There is an old brass KEY here."":RETURN
  2510 PROCp(n$(31)+"" the CAT is here. She pretty much fills up the room; she's as large as an elephant _ no kidding.""):PROCp("" In a soft polite voice she says,""):PROCj
  2512 PROCp("" <<I'd love to have some nice cold MILK. Many of my friends have tried to deliver cold MILK here and many have failed. Perhaps you, ""+p$(p)+"", would be kind enough to try. I must warn you: It will not be easy.>>"")
  2517 RETURN
  2520 PROCp(n$(31)+"" purrs and says, <<Thank you, ""+p$(p)+"", for OFFERing me this good MILK.>>"")
  2523 PROCp("" She doesn't mention that it was warm."")
  2525 l(5)=0:l(3)=9:l(12)=0:l(11)=9:RETURN
  2530 PROCp(""Wow! ""+n$(31)+"" can sure be loud when she purrs."")
  2531 PROCp("" She looks at you and says, <<""+p$(p)+"", you've made me so happy. I know that it wasn't easy to get this BOWL of cold MILK to me. You did it!"")
  2534 l(4)=0:l(3)=9:l(13)=0:l(14)=9:IFl(25)<>0THEN2537
  2535 PROCj:PROCp("" Please accept this small present.>> She offers you a small ""+n$(21)+""."")
  2536 l(25)=9
  2537 RETURN
  2540 PROCp(n$(31)+"" is napping. She's quite happy.""):RETURN
  2550 PROCp(n$(29)+"" the white RABBIT is here and she says, <<Well, my friend ""+p$(p)+"", I hope that you are enjoying your adventure.>>"")
  2552 RETURN
  2560 PROCp(n$(29)+"" hops out of your arms and scurries off. She returns and says, <<Please TAKE this golden EGG that I hid here in the Gold Room.>>"")
  2563 l(23)=5:l(15)=5:l(16)=0:c=c-1:RETURN
  2570 PROCb:PROCp(n$(29)+"" hops down and gobbles a growth of carrots that was blocking the east doorway. She smiles and says, <<Thanks, friend ""+p$(p)+"".>>"")
  2574 l(17)=0:l(15)=2:l(6)=0:c=c-1:RETURN
  2580 PROCp(""A white RABBIT is here. She hops to you and says, <<I am ""+n$(29)+"". Welcome to the Enchanted House, my friend, ""+p$(p)+"".>>"")
  2583 PROCp("" She hugs you and says, <<I have a present saved for you in the room to the east of here. If you say TAKE RABBIT (or TAKE ""+n$(29)+"") and next say GO EAST (or E or EAST), you can carry me to the Gold Room.>>"")
  2587 l(18)=0:l(15)=4:RETURN
  2590 PROCp(""There is a magic MAP here. If you GET the MAP, you may CONSULT the MAP."")
  2591 RETURN
  2600 PRINT""An old gum wrapper is on the floor."":RETURN
  2610 PROCp(""A voice says, <<Furman Smith's July 1980 Recreational Computing article helps programmers remodel this Enchanted House.>>"")
  2612 RETURN
  2620 PRINT""A heavy COIN is here."":RETURN
  2630 PRINT""A golden EGG is on the floor."":RETURN
  2640 PRINT""On the floor is a JEWEL."":RETURN
  2650 PRINT""A magnificent VASE is here."":RETURN
  3505 IFa$=""extend time""THENt9=t9+24:n=28:GOTO5315
  3995 GOTO365
  4015 IFv=0ORn=0THENm=0:RETURN
  4020 IFn<>24 ELSE IFl(11)=9 THENm=11:RETURN ELSEm=14:RETURN
  4025 FORi=1TOm9:IFn1(i)=n THENm=i:i=m9:NEXT:i=m:RETURN ELSE NEXT
  4030 m=0:IFn<>22ANDn<>12THENRETURN
  4035 FORj=3TO5:IFl(j)<>0THENm=j:NEXT ELSE NEXT
  4040 RETURN
  4045 IFl(m)=r ANDc<c9 THEN4075 ELSE IFc>=c9 THEN4055
  4050 PROCp(""You've still got the ""+n$+"".""):GOTO4140
  4055 PROCp(""You can only carry ""+STR$c9+"" objects (not counting the WATCH) and you are already carrying that much. If you really want to GET something else, then you will have to DROP something first."")
  4071 GOTO4140
  4075 IFw(m)=0THEN4090 ELSE PROCp(""Congratulations, ""+p$(p)+""!"")
  4080 PROCp(""You'll earn points when the ""+n$+"" is DEPOSITed (or DROPped) in the Bank."")
  4085 c=c+1:l(m)=-1:RETURN
  4090 PROCp(""OK, you are carrying the ""+n$+""."")
  4095 l(m)=-1:c=c+1:RETURN
  4100 IFl(m)=-1THEN PRINT""OK."":l(m)=r:c=c-1 ELSE 4135
  4105 IFr=r0 THEN GOSUB5175
  4110 IFr<>3ANDr<>9THEN RETURN
  4115 IFl(2)=3THENl(2)=0:l(3)=3:l(7)=0:l(8)=3
  4120 IFl(4)=9THENl(4)=0:l(3)=9:l(11)=0:l(13)=9
  4125 IFl(5)=9THENl(5)=0:l(3)=9:l(11)=0:l(12)=9
  4130 RETURN
  4135 PROCp(""You don't have the ""+n$+""."")
  4140 PROCp(""To see an inventory of what you're carrying, type INVENTORY.""):PROCb
  4145 RETURN
  4505 PRINT""You are in the ""FNt(w4$(r))"" Room now."";
  4510 REPEAT VDU9:UNTILPOS=36:VDU11,135:PRINT""N"";:VDU10,8,8,8,135:PRINT""W+E"";:VDU10,8,8,8,135:PRINT""S""
  4515 wc%=145+6
  4520 i2=r7*r8:FORi1=1TOr6
  4525 IF(i1-1)*i2<r AND r<=i1*i2 THEN4530 ELSE NEXT
  4530 k0=(i1-1)*i2:k9=i1*i2:k=k0:j=1
  4535 IFj=1VDUwc%
  4536 IFk=k0 ANDj=1THENPRINTw3$(7);
  4540 IFk=k0 ANDj>1ANDj<r8+1THENPRINTw3$(8);
  4545 IFk=k0 ANDj=r8+1THENPRINTw3$(9)
  4550 IFk>k0 ANDk<k9 ANDj=1THENPRINTw3$(4);
  4555 IFk>k0 ANDk<k9 ANDj>1ANDj<r8+1THENPRINTw3$(5);
  4560 IFk>k0 ANDk<k9 ANDj=r8+1THENPRINTw3$(6)
  4565 IFk=k9 ANDj=1THENPRINTw3$(1);
  4570 IFk=k9 ANDj>1ANDj<r8+1THENPRINTw3$(2);
  4575 IFk=k9 ANDj=r8+1THENPRINTw3$(3)
  4580 IFj>r8 THEN4595
  4585 IFw1(k+j)>0THENPRINTw1$(w1(k+j)); ELSE PRINTw1$(0);
  4590 j=j+1:GOTO4535
  4595 IFk=k9 THEN:GOTO305 ELSE j=1:VDUwc% : REM IFk=k9 THEN:RETURN ELSE j=1:VDUwc%
  4600 IFw2(k+j)>0THENPRINTw2$(w2(k+j)); ELSE PRINTw2$(0);
  4605 IFj>r8 THENPRINT:GOTO4620
  4610 IFw4(k+j)>0THENPRINTCHR$(129+FNrc(k+j))w4$(k+j)CHR$(145+6); ELSE PRINTCHR$(129+5)w4$(0)CHR$(145+6);
  4615 j=j+1:GOTO4600
  4620 k=k+r8:j=1:GOTO4535
  5015 IFr<>1THEN5040
  5016 IFl(10)=-1THEN5030
  5020 PROCp(""The door is locked and you're not carrying the key."")
  5025 w1(4)=3.5:GOTO305
  5030 w1(4)=2.5:r=4:GOTO605
  5040 IFr<>2THEN5070
  5041 IFl(6)<>2THEN5060
  5045 PROCp(""You cannot enter _ the doorway is blocked by a thick growth of carrots."")
  5055 w2(3)=3.5:GOTO305
  5060 r=3:w2(3)=2.5:GOTO605
  5070 IFr=4ANDl(10)<>-1THEN5020
  5071 IFr=4THEN5080
  5073 IFr>4THEN365
  5075 r=2:GOTO605
  5080 w1(4)=2.5:r=1:GOTO605
  5105 PROCp(""Your WATCH stays on your wrist for the whole visit."")
  5106 IFc=0THENPROCp("" You aren't carrying anything else.""):RETURN
  5115 PROCp("" Here is an inventory of what you're carrying:"")
  5120 FORj=1TOm9
  5125 IFl(j)=-1THENPRINTTAB(2)n$(n1(j)):NEXT ELSE NEXT
  5130 RETURN
  5155 GOSUB5175:PRINT""You have "";i;"" points out of 100.""
  5160 PROCp(""You earn points by DEPOSITing valuable things in the Bank."")
  5165 RETURN
  5175 i=0:FORj=1TOm9:IFl(j)=r0 THENi=i+w(j)
  5180 IFp9>1THENa$=""all "" ELSE a$=""""
  5185 NEXTj:IFi<100THENRETURN
  5190 PROCb:PROCp(""Mr ""+n$(30)+"" shouts, <<You ""+a$+""won!>>""):VDU7:GOTO620
  5205 PROCp(""Kicking ""+n$+"" will not help anything.""):GOTO305
  5255 IFNOT(n=11ORn=23ORn=24)THEN5305
  5260 IFl(6)=0THEN5275
  5265 PROCp(""The ""+n$(n1(m))+"" laughs and says, <<Well, I know that you know a carrot-liking RABBIT.>>"")
  5270 GOTO305
  5275 ON 2-w4(1) GOTO5280,5290
  5280 PROCp(""The ""+n$(n1(m))+"" says, <<""+p$(p)+"", I think that you're doing great.>>""):GOTO305
  5290 PROCp(""The ""+n$(n1(m))+"" smiles mysteriously and says, <<I recommend that you SIT in the CHAIR.>>"")
  5300 GOTO305
  5305 IFn=15THENGOSUB4505:GOTO305
  5310 IFn=20THENPRINT""It doesn't help here."":GOTO305
  5315 IFn=28THENPRINT;t;"" scoots have passed"":PROCj
  5320 IFn=28THENPROCp("" and ""+STR$(t9-t)+"" scoots remain.""):GOTO305
  5325 GOTO5980
  5355 IFn=9 THEN5015 ELSE5980
  5405 IFn<>12ANDn<>24THEN5980
  5406 IFn=24THENv=5:n=12:GOTO435
  5410 IFr<>2ORl(3)<>-1THEN5425
  5411 l(3)=0:l(4)=-1
  5415 PROCp(""Glurg; glurg; plink. Your BOWL has cold MILK now."")
  5420 GOTO305
  5425 IFn=22ANDm=3THENPRINT""The BOWL is empty."":n$=""BOWL""
  5430 IFv<>13ANDl(m)=r THENGOSUB4045:GOTO305
  5435 IFm=4ORm=5THENPRINT""The BOWL is still full of MILK.""
  5440 IFr<>2THENPRINT""The Milk Room has lots of MILK.""
  5445 IFl(m)>-1ORm<3ORm>5THENPRINT""You need a BOWL.""
  5450 GOTO305
  5605 IFn<>25THEN5980 ELSE PRINT""I know these verbs: "";
  5610 FORi=1TOv9:a$=v$(i):GOSUB5655:NEXT
  5615 PROCb:PRINT""I know these nouns: "";
  5620 FORi=1TOn9:a$=n$(i):GOSUB5655:NEXT
  5625 PROCb:PROCp(""I know some one-word messages (for example HELP) and I know some two-word messages (for examples FILL BOWL, OFFER MILK).""):PROCj
  5630 PROCp("" Whatever you say, I'll look at the first and last words; you could say SIT IN THE CHAIR or CONSULT THE SLEEPY MR ""+n$(30)+""."")
  5650 GOTO 305
  5655 IFPOS=1VDU8
  5656 IFL%-POS<LENa$+1PRINT
  5660 PRINTa$;:IFa$=v$(v9)ORa$=n$(n9)THENPRINT"".""ELSE PRINT"", "";
  5666 RETURN
  5705 IFm=0THEN5980
  5706 PROCp(""The ""+n$+"" is worth ""+STR$w(m)+"" points.""):IFw(m)<>0THEN305
  5710 PROCp(""The ""+n$+"" might be useful as a tool."")
  5720 IFn=11ORn=23ORn=24THENPRINT""Friends are valuable.""
  5725 IFn=20THENPROCp(""A college education is a worthwhile and stimulating experience."")
  5735 GOTO305
  5755 IFn<>10THEN5980
  5756 IFr=1ORr=8THENr=9-r:GOTO605
  5760 PRINT""There's no CHAIR in here."":GOTO305
  5780 IFn<>22THEN5980
  5781 IFl(4)=-1ORl(5)=-1THEN5790
  5785 PRINT""You're not carrying any MILK."":GOTO305
  5790 PRINT""Glug; glug."":l(4)=0:l(5)=0:l(3)=-1:GOTO305
  5805 PRINT""Lost? ""STRING$(11,"". "")""CONSULT MAP""
  5810 PRINT""Not sure what you're carrying? ""STRING$(19,"". "")""INVENTORY""
  5815 PRINT""How many scoots are left? CONSULT WATCH""
  5820 PRINT""Want room redescribed? ""STRING$(5,"". "")""RELOOK""
  5825 PRINT""What's a certain thing worth? ""STRING$(16,"". "")""WORTH that thing"";
  5830 PRINT""Examples: WORTH COIN,""'TAB(10)""WORTH CATALOG, WORTH CAT""'
  5835 PRINT""Want a hint? ""STRING$(6,"". "")""CONSULT friend"";
  5840 PRINT""Examples: CONSULT BANKER, CONSULT ""n$(29)
  5845 PRINT""Not sure how to say something?  ""STRING$(18,"". "")""LIST WORDS""
  5850 PRINT""Not sure what the clues mean --- "";
  5855 PRINT""think""'""and experiment."":GOTO 305
  5980 IFn$=v$THENPRINT""You'll need to use two words."":GOTO305
  5982 PROCp(""The ""+n$+"" is hard to ""+v$+"".""):GOTO305
  6000 DEFPROCrc(r):C%=129+FNrc(r):VDU26,12,C%:FORY%=1TO24:VDU10,8,C%:NEXT:VDU28,40-L%,24,39,0,30:ENDPROC
  6020 DEFFNrc(r):=VAL(MID$(""264620515"",r,1))
  7000 DEFPROCp($S%):LOCALA%,Z%,M%,C%,N%,T%:M%=L%:N%=LEN$S%:A%=0:Z%=M%+1-POS:REPEATIFZ%>N%Z%=N%ELSEREPEATZ%=Z%-1:C%=S%?Z%:UNTILC%=32:IFZ%<A%Z%=A%+M%
  7010 T%=S%?Z%:S%?Z%=13:PRINT$(S%+A%);:S%?Z%=T%:VDU32,-8*(POS=1):IFZ%-A%<=M%ANDPOS PRINTELSEIFC%=32A%=A%+1ELSEZ%=Z%-1
  7020 A%=Z%+1:Z%=A%+M%+1:UNTILA%>=N%:IFPOS PRINT:ENDPROC ELSEENDPROC
  8000 DEFFNb:VDU11,8:A%=&87:B%=TRUE:FORI%=1TOL%:VDU9:C%=(USR(&FFF4)AND&FF00)DIV256:IFC%=32NEXT ELSEB%=FALSE:I%=L%:NEXT
  8010 VDU10,13:=B%
  8050 DEFPROCb:IFNOT(FNb)PRINT:ENDPROC ELSEENDPROC
  9000 DEFPROCj:A%=&87:REPEATVDU8:C%=(USR(&FFF4)AND&FF00)DIV256:UNTILC%<>32:VDU9:ENDPROC
  9100 DEFFNt(s$):IFLEFT$(s$,1)="" ""REPEATs$=RIGHT$(s$,LENs$-1):UNTILLEFT$(s$,1)<>"" ""
  9110 IFRIGHT$(s$,1)="" ""REPEATs$=LEFT$(s$,LENs$-1):UNTILRIGHT$(s$,1)<>"" ""
  9120 =s$
  9200 DEFPROCd(s%):VDU 23, 0, &A0, 0; 2 : REM Clear out buffer 0. : REM *FX21,0
  9210 IF s%=0 THEN IF GET: ENDPROC ELSE TIME=0:REPEATUNTILTIME>100*s%ORINKEY(0)<>-1:ENDPROC
  9300 DEFPROCw:FORI%=0TO3:a$="""":FORJ%=1TOLENw1$(I%):C%=ASC(MID$(w1$(I%),J%,1)):IFC%=35a$=a$+CHR$255:NEXTELSEa$=a$+CHR$C%:NEXT
  9310 w1$(I%)=a$:a$="""":FORJ%=1TOLENw2$(I%):C%=ASC(MID$(w2$(I%),J%,1)):IFC%=35a$=a$+CHR$255:NEXTELSEa$=a$+CHR$C%:NEXT
  9320 w2$(I%)=a$:NEXT:ENDPROC

"
F1mcF8fx,Custom wordpress htaccess for maintenance mode,nicolaslagios,Apache Log,Thursday 11th of April 2024 05:57:31 PM CDT,"# The following htaccess code has been built on behalf of Rocket Path P.C. by Nicolas Lagios
# With this modified wordpress htaccess code, you can give full access only to one ip, while every other ip will see the comingsoon.html custom page for any request.
# As you understand, you will need to have a comingsoon.html custom page in the root. Feel free to build it as you wish.
# After that, you can visit whatismyipaddress.com, find your ip and replace !^89\.210\.33\.252$ with your own ip (numbers only)

<IfModule mod_rewrite.c>
    RewriteEngine On

    # Your custom rules
    RewriteCond %{REQUEST_URI} !^/comingsoon\.html$ [NC]
    RewriteCond %{REMOTE_ADDR} !^89\.210\.33\.355$
    RewriteRule ^(.*)$ /comingsoon.html [L,R=302]

    # WordPress default rules (if you have them)
    RewriteBase /
    RewriteRule ^index\.php$ - [L]
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule . /index.php [L]
</IfModule>

<Files ""comingsoon.html"">
    Require all granted
</Files>
"
N7eKiyDV,Генерация списка ссылок на таблицы с помощью регулярок.,gg-master,PHP,Thursday 11th of April 2024 04:57:51 PM CDT,"function generateTableIndex(&$html)
{
    /*
    Автоматически сформировать “Указатель таблиц”. Работает как оглавление, но 
    ссылки делаются на таблицы в документе. Текст ссылки такой: 
    Таблица <номер> “содержимое первой ячейки из таблицы”
    */

    // Находим все таблицы в HTML
    preg_match_all('/<(table\b[^>]*)>/sui', $html, $tables);

    $indexList = '<ul>';
    
    foreach ($tables[1] as $index => $tableHead) {
        $tableId = 'table_' . ($index + 1);

        $pattern = '/<' . preg_quote($tableHead, '/') . '>(.*?)<\/?table.*>/s';
        
        preg_match($pattern, $html, $matches);
        $table_content = $matches[0]; // извлечение найденного содержимого таблицы

        // Находим содержимое первой ячейки таблицы
        preg_match('/<t[drh][^>]*>(.*?)<\/t[drh]>/is', $table_content, $firstCell);
        $firstCellContent = trim(strip_tags($firstCell[1])); // Получаем текст из ячейки без HTML-тегов
        // print_r($firstCellContent);

        // Добавляем ссылку на таблицу в индекс
        $indexList .= '<li><a href=""#' . $tableId . '"">Таблица ' . ($index + 1) . ' ""' . $firstCellContent . '""</a></li>';

        $rep_smpl = '/<' . preg_quote($tableHead, '/') . '>/';
        $rep_on = '<' . $tableHead . ' id=""' . $tableId . '"">';
        // Добавляем идентификатор таблицы для якоря
        $new_table_content = preg_replace($rep_smpl, $rep_on, $table_content, 1);

        $html = str_replace($table_content, $new_table_content, $html);
    }

    $indexList .= '</ul>';

    return $indexList;
}"
TSD2rzwr,Untitled,dereksir,Python,Thursday 11th of April 2024 04:05:32 PM CDT,"# pip install requests
import requests

url = 'https://httpbin.io/anythinghttps://www.amazon.com/Lumineux-Teeth-Whitening-Strips-Treatments-Enamel-Safe/dp/B082TPDTM2/?th=1'
apikey = '<YOUR_ZENROWS_API_KEY>'
params = {
    'url': url,
    'apikey': apikey,
	'js_render': 'true',
	'premium_proxy': 'true',
}
response = requests.get('https://api.zenrows.com/v1/', params=params)
print(response.text)"
7QdAd1Bq,Untitled,dereksir,Python,Thursday 11th of April 2024 03:41:14 PM CDT,"# import the necessary libraries
import httpx
import random

# define your proxy list
proxy_urls = [
    ""http://20.210.113.32:8123"",
    ""http://47.56.110.204:8989"",
    ""http://50.174.214.216:80"",
    # add more proxy URLs as needed
]

# select a random proxy URL
random_proxy = random.choice(proxy_urls)

# make a request using the selected proxy
with httpx.Client(proxy=random_proxy) as client:
    r = client.get(""https://www.amazon.com/Lumineux-Teeth-Whitening-Strips-Treatments-Enamel-Safe/dp/B082TPDTM2/?th=1"")
    print(r.text)"
PtBGAPPi,Untitled,dereksir,Bash,Thursday 11th of April 2024 03:14:28 PM CDT,"{
  ""origin"": ""20.210.113.32:8888""
}

{
  ""origin"": ""47.56.110.204:3128""
}"
2gJEzy5H,Untitled,dereksir,Python,Thursday 11th of April 2024 03:09:52 PM CDT,"# import the necessary libraries
import httpx
import random

# define your proxy list
proxy_urls = [
    ""http://20.210.113.32:8123"",
    ""http://47.56.110.204:8989"",
    ""http://50.174.214.216:80"",
    # add more proxy URLs as needed
]

# select a random proxy URL
random_proxy = random.choice(proxy_urls)

# make a request using the selected proxy
with httpx.Client(proxy=random_proxy) as client:
    r = client.get(""https://httpbin.io/ip"")
    print(r.text)"
HgPQRubm,Untitled,dereksir,Python,Thursday 11th of April 2024 03:04:17 PM CDT,"# select a random proxy URL
random_proxy = random.choice(proxy_urls)

# make a request using the selected proxy
with httpx.Client(proxy=random_proxy) as client:
    r = client.get(""https://httpbin.io/ip"")
    print(r.text)"
KP56qAPY,Untitled,pascallius,Python,Thursday 11th of April 2024 02:25:48 PM CDT,"import streamlit as st
import requests
import matplotlib.pyplot as plt


# Edamam API credentials
EDAMAM_APP_ID = 'b43bfd1e'
EDAMAM_APP_KEY = '52c88b2f791a5ddecbecf76a970d8a13'


def get_recipes(food, calories_max, include_ingredient=None, exclude_ingredient=None, num_recipes=1):

    # The url with the inserted API credentials
    url = f""https://api.edamam.com/search?q={food}&app_id={EDAMAM_APP_ID}&app_key={EDAMAM_APP_KEY}""

    # get the response back and save the outputed information in a list data
    response = requests.get(url)
    data = response.json()

    # If nothing was found return none
    if 'hits' not in data or not data['hits']:
        return None

    # Filter recipes based on criteria given by user
    recipes = data['hits']
    filtered_recipes = []


    # go over all recipes which match criteria
    for hit in recipes:
        recipe = hit['recipe']
        ingredients = recipe['ingredientLines']
        calories = recipe['calories']

        # Exclude recipes with calories greater than max_calories
        if calories > calories_max:
            continue

        # search if any words mentioned in include/exclude are part of the ingredients (even subwords or lower/uppercase)
        if include_ingredient and not any(
                include_ingredient.lower() in ingredient.lower() for ingredient in ingredients):
            # if not, we go into the next for loop iteration
            continue

        if exclude_ingredient and any(exclude_ingredient.lower() in ingredient.lower() for ingredient in ingredients):
            continue

        # append them to the list of recipes we want
        filtered_recipes.append(recipe)

    # if the list is empty, we return none
    if not filtered_recipes:
        return None

    return filtered_recipes[:num_recipes]


def plot_nutrition(recipe):
    # define the advised daily amount of each ingredient
    daily_sugar = 25  # Example daily sugar amount in grams
    daily_salt = 6  # Example daily salt amount in grams
    daily_energy = 2000  # Example daily calorie amount in kcal

    # define a standard font size for better design
    fontsize = 16
    nutrients = recipe['totalNutrients']

    # Get sugar, salt, and calorie data
    sugar = nutrients.get('SUGAR', {'label': 'Sugar', 'quantity': 0})
    salt = nutrients.get('SUGAR', {'label': 'Salt', 'quantity': 0})
    energy = nutrients.get('ENERC_KCAL', {'label': 'Energy', 'quantity': 0})

    # Calculate percentage of suggested daily amounts

    sugar_percent = (sugar['quantity'] / daily_sugar) * 100
    salt_percent = (salt['quantity'] / daily_salt) * 100
    energy_percent = (energy['quantity'] / daily_energy) * 100

    banner_color = '#FF6347'  # Red color of the banner

    fig, axes = plt.subplots(1, 3, figsize=(20, 6))
    plt.style.use('ggplot')
    # The max is needed such that the counterpart is not negative if the amount is bigger than the suggested daily amount.
    # Sugar Pie Chart
    axes[0].pie([sugar_percent, max(100 - sugar_percent, 0)], labels=['', 'Remaining'], colors=[banner_color, '#20B2AA'],
                autopct='%1.1f%%',
                shadow=True, startangle=90, textprops={'fontsize': fontsize}, wedgeprops={'edgecolor': 'black'})
    axes[0].axis('equal')
    axes[0].set_title('Sugar (' + str(round(sugar['quantity'])) + ""g/"" + str(round(sugar_percent)) + ""%)"",
                     fontweight='bold', fontsize=fontsize, color='black')

    # Salt Pie Chart
    axes[1].pie([salt_percent, max(0, 100 - salt_percent)], labels=['', 'Remaining'],
                colors=[banner_color, '#20B2AA'], autopct='%1.1f%%',
                shadow=True, startangle=90, textprops={'fontsize': fontsize}, wedgeprops={'edgecolor': 'black'})
    axes[1].axis('equal')
    axes[1].set_title('Salt (' + str(round(salt['quantity'])) + ""g/"" + str(round(salt_percent)) + ""%)"",
                     fontweight='bold', fontsize=fontsize, color='black')

    # Calorie Pie Chart
    axes[2].pie([energy_percent, max(0, 100 - energy_percent)], labels=['', 'Remaining'],
                colors=[banner_color, '#20B2AA'], autopct='%1.1f%%',
                shadow=True, startangle=90, textprops={'fontsize': fontsize}, wedgeprops={'edgecolor': 'black'})
    axes[2].axis('equal')
    axes[2].set_title('Calories (' + str(round(energy['quantity'])) + ""/"" + str(round(energy_percent)) + ""%)"",
                     fontweight='bold', fontsize=fontsize, color='black')
    # Plot the graphs
    st.pyplot(fig)


# Streamlit main function
def main():
    # Streamlit page title and styling
    st.title(""Welcome to DailyCalories!"")
    # define different markdown classes for a better more standardized design
    st.markdown(
        """"""
        <style>
            body {
                background-color: #f0f0f0;
                color: #333333;
                font-family: Arial, sans-serif;
                line-height: 1.6;
            }
            .container {
                max-width: 800px;
                margin: 0 auto;
                padding: 20px;
            }
            .header {
                background-color: #007bff;
                color: white;
                padding: 20px;
                border-radius: 5px;
            }
            .subheader {
                font-size: 20px;
                font-weight: bold;
                margin-bottom: 20px;
            }
            .input {
                margin-bottom: 20px;
            }
            .button {
                background-color: #FF6347;  /* Changed button color to red */
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 5px;
                cursor: pointer;
                font-size: 16px;
            }
            .button:hover {
                background-color: #D32F2F;  /* Darker red on hover */
            }
            .image {
                max-width: 100%;
                margin-bottom: 20px;
                border-radius: 5px;
            }
            .share-banner {
                background-color: #FF6347;  /* Red color for the share banner */
                color: white;
                padding: 10px;
                text-align: center;
                margin-top: 20px;
                border-radius: 5px;
            }
            .share-banner a {
                color: white;
                margin: 0 10px;
                font-size: 20px;
            }
        </style>
        """""",
        # somehow otherwise we get bugs
        unsafe_allow_html=True
    )

    # Streamlit input fields for user input
    st.write(""""""Find the best recipes tailored to your liking"""""")
    food_type = st.text_input(""Enter a Food Type:"", ""Pasta"")
    max_calories = st.number_input(""Enter Maximum Calories:"", min_value=0, step=100, value=1500)
    include_ingredient = st.text_input(""Include Ingredient (optional):"")
    exclude_ingredient = st.text_input(""Exclude Ingredient (optional):"")
    num_recipes = st.number_input(""Number of Recipes to Show:"", min_value=1, step=1, value=5)

    # Button to trigger recipe search
    if st.button(""Find Recipes"", key='find_recipes_button'):
        # Call the get_recipes function to fetch recipes
        recipes = get_recipes(food_type, max_calories, include_ingredient, exclude_ingredient, num_recipes)
        # Only do it if recipes is not none, if it were, it means that we found no recipes
        if recipes:
            # Loop over all recipes and put them into an expander
            for recipe in recipes:
                with st.expander(label=recipe['label']):
                    # Display the recipe image
                    st.markdown(f'<p style=""text-align: center"">><img src=""{recipe[""image""]}"" class=""image"">', unsafe_allow_html=True)
                    # Display the list of ingredients
                    st.subheader(""Ingredients:"")
                    for ingredient in recipe['ingredientLines']:
                        st.write(""-"" + ingredient) #put a ""-"" infront for a better design

                    # Display nutrition information and plot
                    st.subheader(""In comparison to the suggested daily intake:"")
                    plot_nutrition(recipe)

                    # Display a link to the full recipe
                    st.markdown(""Find this recipe ""+f'[here]({recipe[""url""]})')

                    # Create share message for each recipe
                    share_message = f""Check out this recipe: {recipe['label']}! It's so delicious! What an amazing site!""

                    # Social media sharing links, LinkedIn does not work anymore
                    st.markdown(f""""""<div class=""share-banner"">
                                        Share this recipe:
                                        <a href=""https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Fdailycalories.com&quote={share_message}"" target=""_blank"">Facebook</a>
                                        <a href=""https://twitter.com/intent/tweet?text={share_message}&url=http%3A%2F%2Fdailycalories.com"" target=""_blank"">Twitter</a>
                                        <a href=""https://www.linkedin.com/sharing/share-offsite/?url=http%3A%2F%2Fdailycalories.com&summary={share_message}"" target=""_blank"">LinkedIn</a>
                                    </div>"""""", unsafe_allow_html=True)
        else:
            # Error message if no recipes found
            st.error(""No recipes found. Please try different criteria."")


# Run the Streamlit app
if __name__ == '__main__':
    main()
"
d51AMgYy,Cafeteria,Silviya7,JavaScript,Thursday 11th of April 2024 02:02:52 PM CDT,"function solve(input){

    ArrBaristas={};
    const countBarista=input.shift();

    for (let i = 0; i < countBarista; i++) {
        const [name, shift,coffees]=input[i].split(' ');
        ArrBaristas[name]={shift, allcofees:coffees.split(',')}
    }

    let k=0;
    while(k<countBarista){
          input.shift();
          k++;
    }
    let Commandline= input.shift();  
   while(Commandline !='Closed'){

    const[command,name,firsta,secondA]= Commandline.split(' / ');
     const barista=ArrBaristas[name];

     let shift, coffeType;
  switch(command){

    case 'Prepare':
        shift=firsta.trim();
        coffeType= secondA.trim();
       if(barista.shift == shift && barista.allcofees.includes(coffeType)){

        console.log(`${name.trim()} has prepared a ${coffeType.trim()} for you!`);
       }
       else{
        console.log(`${name} is not available to prepare a ${coffeType}.`);
       }
       break;

       case 'Change Shift':
        shift=firsta;          
        console.log(`${name.trim()} has updated his shift to: ${shift.trim()}`);
        barista.shift=shift;
        break;

        case 'Learn':      
        coffeType=firsta;   
        if(barista.allcofees.includes(coffeType)){    
        console.log(`${name.trim()} knows how to make ${coffeType.trim()}.`);
        }
        else{
          barista.allcofees.push(coffeType);
          console.log(`${name} has learned a new coffee type: ${coffeType}.`)
        }
        break;     
      
    }
    
    Commandline=input.shift(); 

}

for (const key in ArrBaristas) { 
      
       console.log(`Barista: ${key}, Shift: ${ArrBaristas[key].shift}, Drinks: ${ArrBaristas[key].allcofees.join(', ')}`);
    
}

}"
iBucQCvG,Stack of number,rado_dimitrov66,C++,Thursday 11th of April 2024 01:58:06 PM CDT,"#include <iostream>
using namespace std;

struct Sstack
{
	int key;
	Sstack* next;
}*start = NULL;

struct Pstack
{
	int key;
	Pstack* next;
}*start2 = NULL;

void addElement(unsigned int& countOfNumber)
{
	Sstack* s;
	s = start;
	int Snum;
	do
	{
		cout << ""Enter Positive Number: "";
		cin >> Snum;

	} while (Snum < 0);


	start = new Sstack;

	start->key = Snum;
	start->next = s;

	countOfNumber++;


	cout << ""Element added"" << endl;

	cout << endl;
}

void removeElement(bool isP)
{

	if (isP) {


		while (start2)
		{

			Pstack* s = start2;

			bool isLast = false;

			do
			{
				if (!s->next) {

					isLast = true;
					break;

				}

				if (s->next != start2) {
					s = s->next;
				}

			} while (s->next != start2);

			if (isLast)
			{
				start2 = NULL;

				delete s;

			}
			else {
				start2 = s;

				delete s;
			}
		}


	}
	else {


		while (start)
		{

			Sstack* s = start;

			bool isLast = false;

			do
			{
				if (!s->next) {

					isLast = true;
					break;

				}

				if (s->next != start) {
					s = s->next;
				}

			} while (s->next != start);


			if (isLast)
			{
				start = NULL;

				delete s;

			}
			else {
				start = s;

				delete s;


				start->next = NULL;
			}

		}


		cout << ""Element/s removed\n"";

	}

}

void printElements()
{
	Sstack* s = start;

	while (s)
	{
		cout << s->key << "" "";

		s = s->next;
	}

	cout << endl;
}

void sortElementInPStack(unsigned int countOfNumber)
{

	int* numberInStack = new int(countOfNumber);

	Sstack* s = start;

	unsigned int current;

	int count = -1;

	/*for (int i = 1; i < countOfNumber; i++)
	{

		unsigned int step = 0;

		for (int j = 0; j < i; j++) {

			if (numberInStack[j] < s->key)
			{
				step++;

			}
			else {
				break;	
			}
			
		}

		if (step > 0) {

			if (step == i - 1) {

				numberInStack[i] = s->key;
			}
			else {

				for (int j = i; j > step; j--) {

					numberInStack[j] = numberInStack[j - 1];

				}

				numberInStack[step] = s->key;
			}

		}
		else {

			for (int j = 1; j <= i; j++) {

				numberInStack[j] = numberInStack[j - 1];

				cout << numberInStack[j] << "" "";

			}

			numberInStack[0] = s->key;


		}

		s = s->next;
	}*/


	for (int i = 0; i < countOfNumber; i++)
	{
		numberInStack[i] = s->key;

		s = s->next;
	}

	for (int i = 0; i < countOfNumber; i++)
	{

		for (int j = 0; j < countOfNumber; j++)
		{
			if (j > i && i != 0 || i != j && i == 0)
			{


				if (numberInStack[i] > numberInStack[j])
				{
					count = j;
				}

				
			}
		}

		if (count > -1) {

			current = numberInStack[count];

			numberInStack[count] = numberInStack[i];

			numberInStack[i] = current;

			count = -1;

			i--;
		}
	}



	removeElement(true);

	Pstack* p = start2;

	for (int i = 0; i < countOfNumber; i++)
	{

		start2 = new Pstack;

		start2->key = numberInStack[i];

		start2->next = p;

		p = start2;


	}



	while (p)
	{
		cout << p->key << "" "";

		p = p->next;
	}



	numberInStack = NULL;

	delete[] numberInStack;

	cout << endl;
}

int main()
{
	short choice;

	unsigned int countOfNumber = 0;

	do
	{
		cout << ""[1] Add element\n[2] Remove element \n[3] Print elements\n[4] Sort by descending order\n[0] Exit\n"";
		cin >> choice;

		switch (choice)
		{
		case 1:
			system(""cls"");

			addElement(countOfNumber);

			choice = -1;

			break;
		case 2:

			system(""cls"");

			if (!start) {
				cout << ""No elements to remove\n"";
			}
			else {
				removeElement(false);
			}


			choice = -1;

			break;

		case 3:

			system(""cls"");

			if (!start) {
				cout << ""No elements to print\n"";
			}
			else {
				printElements();
			}

			choice = -1;

			break;

		case 4:

			system(""cls"");


			if (!start) {
				cout << ""No elements to sort\n"";
			}
			else {

				if (countOfNumber > 1) {
					sortElementInPStack(countOfNumber);

				}
				else {
					cout << ""Only one element\n"";
				}

			}

			choice = -1;

			break;
		default:
			break;
		}

	} while (choice < 0 || choice > 4);


}"
W3ULMEe3,Push to repo stage,PandaAcademy,Groovy,Thursday 11th of April 2024 01:45:58 PM CDT," stage ('Push to Repo') {
            steps {
                dir('ArgoCD') {
                    withCredentials([gitUsernamePassword(credentialsId: 'git', gitToolName: 'Default')]) {
                        git branch: 'main', url: 'https://github.com/Panda-Academy-Core-2-0/ArgoCD.git'
                        sh """""" cd frontend
                        sed -i ""s#$imageName.*#$imageName:$dockerTag#g"" deployment.yaml
                        git commit -am ""Set new $dockerTag tag.""
                        git push origin main
                        """"""
                    }
                }
            }
        }
    }"
58NqJPVu,Sort numbers,SaNik74,C#,Thursday 11th of April 2024 01:38:03 PM CDT,"internal class Program
{
    static void Main(string[] args)
    {
        Random random = new Random();
        int minValueRandom = 1;
        int maxValueRandom = 10;
        int minValueSizeArray = 0;
        int sizeNumberArray;
        bool isConditionMet = false;
        int[] numberArray = new int[minValueSizeArray];

        while (isConditionMet == false)
        {
            Console.Write($""Введите размер массива. Он должен быть больше 10: "");
            sizeNumberArray = Convert.ToInt32(Console.ReadLine());

            if (sizeNumberArray >= minValueSizeArray)
            {
                numberArray = new int[sizeNumberArray];
                isConditionMet = true;
            }
            else
            {
                sizeNumberArray = 0;
                Console.WriteLine(""Вы ввели значение меньше 10. Попробуйте еще раз."");
            }

            Console.Clear();
        }

        Console.WriteLine(""Вывод массива:"");

        for (int i = 0; i < numberArray.Length; i++)
        {
            numberArray[i] = random.Next(minValueRandom, maxValueRandom);
            Console.Write(numberArray[i] + "" "");
        }

        Console.WriteLine();

        for (int i = 0; i < numberArray.Length; i++)
        {
            for (int j = 0; j < numberArray.Length; j++)
            {
                int tempNumber;

                if (numberArray[i] < numberArray[j])
                {
                    tempNumber = numberArray[i];
                    numberArray[i] = numberArray[j];
                    numberArray[j] = tempNumber;
                }
            }
        }

        Console.WriteLine();
        Console.WriteLine(""Вывод отсортированного массива:"");

        for (int i = 0; i < numberArray.Length; i++)
        {
            Console.Write(numberArray[i] + "" "");
        }

        Console.ReadKey();
    }
}"
EB8wuRdg,Untitled,bakhridinova,Java,Thursday 11th of April 2024 01:35:51 PM CDT,"package com.epam.uni.utils;

import lombok.experimental.UtilityClass;

@UtilityClass
public class Constants {
    // formats
    public String DATE_FORMAT = ""yyyy-MM-dd"";
    public String DATE_TIME_FORMAT = ""yyyy-MM-dd'T'HH:mm:ss.SSS'Z'"";

    // columns
    public String LONGITUDE_COLUMN = ""lng"";
    public String LATITUDE_COLUMN = ""lat"";
    public String COUNTRY_COLUMN = ""country"";
    public String CITY_COLUMN = ""city"";
    public String DATE_COLUMN = ""date"";
    public String DATE_TIME_COLUMN = ""date_time"";
    public String WEATHER_DATE_COLUMN = ""wthr_date"";

    // other
    public String PATH_TO_OUTPUT_DIRECTORY = ""src/main/resources/result"";
    public String PATH_TO_RECEIPT_RESTAURANTS_DATASET_DIRECTORY = ""src/main/resources/receipt_restaurants"";
    public String PATH_TO_WEATHER_DATASET_DIRECTORY = ""src/main/resources/weather"";
}

package com.epam.uni;

import org.apache.spark.sql.*;
import org.apache.spark.sql.streaming.StreamingQuery;
import org.apache.spark.sql.types.StructType;

import static com.epam.uni.utils.Constants.*;
import static org.apache.spark.sql.functions.*;

public class StreamingApplication {
    public static void main(String[] args) throws Exception {
        SparkSession spark = SparkSession.builder()
            .appName(""spark practice"")
            .master(""local[*]"")
            .getOrCreate();

        Dataset<Row> staticReceipts = readReceiptsData(spark);
        Dataset<Row> staticWeather = readWeatherData(spark);
        Dataset<Row> enrichedReceipts = enrichAndFilterData(staticReceipts, staticWeather);

        Dataset<Row> calculatedReceipts = calculateFields(enrichedReceipts);
        calculatedReceipts.write().csv(PATH_TO_OUTPUT_DIRECTORY);

        Dataset<Row> streamingData = readStream(spark, calculatedReceipts.schema());
        Dataset<Row> processedData = applyAdditionalLogic(streamingData);
        writeStream(processedData);
    }

    private static Dataset<Row> readReceiptsData(SparkSession spark) {
        return spark.read().format(""csv"")
            .option(""header"", ""true"")
            .load(PATH_TO_RECEIPT_RESTAURANTS_DATASET_DIRECTORY)
            .withColumn(DATE_COLUMN, to_date(to_timestamp(col(DATE_TIME_COLUMN), DATE_TIME_FORMAT), DATE_FORMAT))
            .withColumn(LATITUDE_COLUMN, round(col(LATITUDE_COLUMN), 2))
            .withColumn(LONGITUDE_COLUMN, round(col(LONGITUDE_COLUMN), 2));
    }

    private static Dataset<Row> readWeatherData(SparkSession spark) {
        return spark.read().format(""csv"")
            .option(""header"", ""true"")
            .load(PATH_TO_WEATHER_DATASET_DIRECTORY)
            .withColumn(DATE_COLUMN, to_date(to_timestamp(col(WEATHER_DATE_COLUMN), DATE_TIME_FORMAT), DATE_FORMAT))
            .withColumn(LATITUDE_COLUMN, round(col(LATITUDE_COLUMN), 2))
            .withColumn(LONGITUDE_COLUMN, round(col(LONGITUDE_COLUMN), 2));
    }
    private static Dataset<Row> enrichAndFilterData(Dataset<Row> receipts, Dataset<Row> weather) {
        Dataset<Row> enrichedReceipts = receipts.join(weather,
            receipts.col(DATE_COLUMN).equalTo(weather.col(DATE_COLUMN))
                .and(receipts.col(LATITUDE_COLUMN).equalTo(weather.col(LATITUDE_COLUMN)))
                .and(receipts.col(LONGITUDE_COLUMN).equalTo(weather.col(LONGITUDE_COLUMN)))
        );

        enrichedReceipts = enrichedReceipts.drop(
            DATE_COLUMN,
            CITY_COLUMN, COUNTRY_COLUMN,
            LATITUDE_COLUMN, LONGITUDE_COLUMN
        );

        return enrichedReceipts.filter(col(""avg_tmpr_c"").gt(0));
    }

    private static Dataset<Row> calculateFields(Dataset<Row> data) {
        return data.withColumn(""real_total_cost"",
            col(""total_cost"")
                .minus(col(""total_cost"")
                    .multiply(col(""discount"")))
        );
    }

    private static Dataset<Row> readStream(SparkSession spark, StructType schema) {
        return spark.readStream().format(""csv"")
            .option(""header"", ""true"")
            .schema(schema)
            .load(PATH_TO_RECEIPT_RESTAURANTS_DATASET_DIRECTORY);
    }

    private static Dataset<Row> applyAdditionalLogic(Dataset<Row> data) {
        return data.withColumn(""promo_cold_drinks"",
            col(""avg_tmpr_c"").gt(25));
    }

    private static void writeStream(Dataset<Row> data) throws Exception {
        StreamingQuery query = data.writeStream()
            .outputMode(""append"")
            .format(""csv"")
            .option(""path"", PATH_TO_OUTPUT_DIRECTORY)
            .option(""checkpointLocation"", ""/path/to/checkpoint"")
            .start();

        query.awaitTermination();
    }
}
"
dEgA3jNX,gen,Mirioshoku,JSON,Thursday 11th of April 2024 01:22:05 PM CDT,"{""type"":""web""}"
brDJtjmn,The Thing - BIO 2024 Round 2,erek1e,C++,Thursday 11th of April 2024 01:12:56 PM CDT,"/**
 * @file thing.cpp
 * @version 1.0
 * @date 2024-03-30
 * 
 * usage:
 *      Read from / write to default input.txt and output.txt
 *          thing.exe
 *      Read from / write to custom files:
 *          thing.exe in.txt out.txt
 */
#include <iostream>
#include <vector>
#include <algorithm>
#include <bitset>
#include <set>
#include <cassert>

using namespace std;

void fileIO(int argc, char *argv[]);

const int n = 1024; // n*n grid; solution assumes n is not very small (e.g. n > 10)

bitset<n+1> grid[n+1]; // adding ones to allow overflows without errors
int countParity[2];
set<pair<int, int>> sorted[2];
set<pair<int, int>> movedAway;

inline void add(int x, int y) {
    grid[x][y] = true;
    sorted[(x+y)&1].emplace(x, y);
    ++countParity[(x+y)&1];
}
inline void remove(int x, int y) {
    grid[x][y] = false;
    sorted[(x+y)&1].erase({x, y});
    --countParity[(x+y)&1];
    if (movedAway.count({x, y})) movedAway.erase({x, y});
}
inline void annihilate(int x, int y, bool inX) {
    assert(grid[x][y]);
    remove(x, y);
    if (inX) {
        assert(grid[x+1][y]);
        remove(x+1, y);
        cout << ""H "" << x << ' ' << y << '\n';
    } else {
        assert(grid[x][y+1]);
        remove(x, y+1);
        cout << ""V "" << x << ' ' << y+1 << '\n';
    }
}
inline void annihilate(int x1, int y1, int x2, int y2) {
    assert(abs(x1-x2) + abs(y1-y2) == 1);
    annihilate(min(x1, x2), min(y1, y2), x1!=x2);
}
inline void clean() {
    // remove any adjacent pairs
    for (int x = 0; x < n; ++x) {
        for (int y = 0; y < n; ++y) {
            if (grid[x][y]) {
                if (grid[x][y+1]) annihilate(x, y, false);
                else if (grid[x+1][y]) annihilate(x, y, true);
            }
        }
    }
}
inline void expand(int x, int y) {
    assert(0 < x && x+1 < n && 0 < y && y+1 < n && grid[x][y]);
    assert(!grid[x][y-1] && !grid[x-1][y] && !grid[x+1][y] && !grid[x][y+1]);
    remove(x, y);
    add(x-1, y), add(x, y-1), add(x+1, y), add(x, y+1);
    cout << ""E "" << x << ' ' << y << '\n';
}
inline bool canMoveTwo(int x, int y, int dx, int dy) {
    if (!grid[x][y] || grid[x+1][y] || grid[x][y+1] || grid[x][y-1] || grid[x-1][y]) return false;
    int x0 = x, y0 = y, x1 = x, y1 = y;
    if (dx) x0 += dx, x1 += dx, y0 -= 1, y1 += 1;
    else x0 -= 1, x1 += 1, y0 += dy, y1 += dy;
    if (grid[x0][y0] || grid[x1][y1] || grid[x+dx+dx][y+dy+dy]) return false;
    return true;
}
inline void moveTwo(int x, int y, int dx, int dy) {
    assert(canMoveTwo(x, y, dx, dy));
    expand(x, y);
    expand(x+dx, y+dy);
    annihilate(x, y, x-dx, y-dy);
    if (dx) {
        annihilate(x, y+1, x+dx, y+1);
        annihilate(x, y-1, x+dx, y-1);
    } else {
        annihilate(x+1, y, x+1, y+dy);
        annihilate(x-1, y, x-1, y+dy);
    }
}
inline bool comfortablyIn(int x, int y) {
    return x-2 >= 0 && y-2 >= 0 && x+2 < n && y+2 < n;
}
inline pair<int, int> occupiedSurrounding(int x, int y) {
    int x2 = x, y2 = y;
    if (grid[x-1][y]) x2-=1;
    else if (grid[x+1][y]) x2+=1;
    else if (grid[x][y-1]) y2-=1;
    else if (grid[x][y+1]) y2+=1;
    else x2 = -1, y2 = -1;
    return {x2, y2};
}
void cancelPair() {
    auto [xa, ya] = *prev(sorted[0].end());
    auto [xb, yb] = *prev(sorted[1].end());
    int a = 0, b = 1;
    if (make_pair(xa, ya) > make_pair(xb, yb)) {
        swap(a, b);
        swap(xa, xb);
        swap(ya, yb);
    }

    if (!movedAway.count({xb, yb})) {
        moveTwo(xb, yb, +1, 0); // separate (xb, yb) from the rest
        xb += 2;
        movedAway.emplace(xb, yb);
    }
    
    // move (xa, ya) towards (xb, yb)
    while (abs(xa-xb) + abs(ya-yb) > 1) {
        // move vertically first
        int dx = +1, dy = 0;
        if (xa >= xb-1) {
            dx = 0;
            dy = yb > ya ? +1 : -1;
        }
        if (canMoveTwo(xa, ya, dx, dy)) {
            moveTwo(xa, ya, dx, dy);
            xa += 2*dx, ya += 2*dy;
        } else {
            // none of the same colour should be in the way since we move vertically first
            // so there is a cell of opposite colour
            auto [xb2, yb2] = occupiedSurrounding(xa, ya);
            assert(xb2 != -1);
            // annihilate with that instead
            annihilate(xa, ya, xb2, yb2);
            break;
        }
    }
    if (grid[xa][ya]) annihilate(xa, ya, xb, yb);
}

int main(int argc, char *argv[]) {
    fileIO(argc, argv); // remove for standard input/output
    
    ios_base::sync_with_stdio(0); cin.tie(0); cout.tie(0);

    int c; cin >> c;
    for (int i = 0; i < c; ++i) {
        int x, y; cin >> x >> y;
        add(x, y);
    }
    int option = abs(countParity[0]-countParity[1]) % 5;
    cout << min(option, 5-option) << endl;
    clean();
    
    if ((!countParity[0] || !countParity[1]) && countParity[0] + countParity[1] <= 2) return 0;

    // move everything up once if they are not too close to the boundary
    set<pair<int, int>>::iterator it[2]{sorted[0].begin(), sorted[1].begin()};
    while (it[0] != sorted[0].end() || it[1] != sorted[1].end()) {
        int par = 1;
        if (it[1] == sorted[1].end() || (it[0] != sorted[0].end() && *it[0] < *it[1])) {
            par = 0;
        }
        auto [x, y] = *it[par];
        ++it[par];
        if (comfortablyIn(x-2, y) && canMoveTwo(x, y, -1, 0)) {
            moveTwo(x, y, -1, 0);
        }
    }

    // now the last four rows should be empty
    if (countParity[0]) assert(prev(sorted[0].end())->first < n-4);
    if (countParity[1]) assert(prev(sorted[1].end())->first < n-4);

    while ((countParity[0] && countParity[1]) || countParity[0] + countParity[1] > 2) {
        if (countParity[0] && countParity[1]) cancelPair();
        else {
            int a = sorted[0].empty() ? 1 : 0;
            auto [x, y] = *prev(sorted[a].end());
            expand(x, y);
        }
    }
    return 0;
}

void fileIO(int argc, char *argv[]) {
    const char * in = ""input.txt"", * out = ""output.txt"";
    if (argc > 1) in = argv[1];
    if (argc > 2) out = argv[2];
    freopen(in, ""r"", stdin);
	freopen(out, ""w"", stdout);
}
"
ikPxgiP4,Interference - BIO 2024 Round 2,erek1e,C++,Thursday 11th of April 2024 01:10:44 PM CDT,"/**
 * @file interference.cpp
 * @version 4.0 (of problem statement)
 * @date 2024-04-01
 * 
 * usage:
 *      Read from / write to default input.txt and output.txt
 *          interference.exe
 *      Read from / write to custom files:
 *          interference.exe in.txt out.txt
 */
#include <iostream>
#include <vector>
#include <functional>
#include <cassert>

using namespace std;

void fileIO(int argc, char *argv[]);

int main(int argc, char *argv[]) {
    fileIO(argc, argv); // remove for standard input/output
    
    int s, d; cin >> s >> d;
    vector<int> f(1+s);
    // set f to 3 for all nodes in disrepair
    for (int i = 0; i < d; ++i) {
        int disrepair; cin >> disrepair;
        f[disrepair] = 3;
    }

    vector<vector<pair<int, bool>>> g(1+s);
    for (int u, v, w; cin >> u >> v >> w && u != -1; ) {
        g[u].emplace_back(v, w);
        g[v].emplace_back(u, w);
    }

    function<void(int, int)> dfsSetup = [&](int node, int parent = 0) {
        f[node] = 1;
        for (auto [child, far] : g[node]) {
            if (child != parent) {
                if (f[child]) {
                    assert(f[child] == 3);
                    if (!far) f[node] = 2;
                } else {
                    dfsSetup(child, node);
                    assert(f[child] < 3); // roots are always assigned values < 3, we will flip the subtrees later if we want this to be a far edge
                }
            }
        }
    };
    function<void(int, int, bool)> dfsCorrect = [&](int node, int parent = 0, bool flipSubtree = false) {
        for (auto [child, far] : g[node]) {
            if (child != parent) {
                assert(f[child]);
                if (f[child] != 3) dfsCorrect(child, node, flipSubtree ^ far);
            }
        }
        if (flipSubtree) f[node] = 6 - f[node];
    };

    for (int i = 1; i <= s; ++i) {
        if (!f[i]) {
            dfsSetup(i, 0);
            dfsCorrect(i, 0, false);
        }
        cout << f[i] << '\n';
    }
    return 0;
}

void fileIO(int argc, char *argv[]) {
    const char * in = ""input.txt"", * out = ""output.txt"";
    if (argc > 1) in = argv[1];
    if (argc > 2) out = argv[2];
    freopen(in, ""r"", stdin);
	freopen(out, ""w"", stdout);
}
"
SPDpTaiU,Untitled,Josif_tepe,C++,Thursday 11th of April 2024 12:52:47 PM CDT,"#include <iostream>
#include <vector>
#include <queue>
using namespace std;
typedef long long ll;
typedef vector<vector<int>> matrix;
const int maxn = 1e5 + 10;
const int INF = 2e9;

matrix multiply_by_k(matrix A, int k) {
    matrix res = A;
    int n = (int) A.size(), m = (int) A[0].size();
    
    for(int i = 0; i < n; i++) {
        for(int j = 0; j < m; j++) {
            res[i][j] *= k;
        }
    }
    return res;
}
matrix add_two_matrices(matrix A, matrix B) {
    int n_a = (int) A.size(), m_a = (int) A[0].size();
    int n_b = (int) B.size(), m_b = (int) B[0].size();
    
    if(n_a == n_b and m_a == m_b) {
        matrix res = A;
        for(int i = 0; i < n_a; i++) {
            for(int j = 0; j < m_a; j++) {
                res[i][j] = A[i][j] + B[i][j];
            }
        }
        return res;
    }
    cout << ""Dimenziite na matricite treba da se isti za da mozhe da gi sobereme istite"" << endl;
    return {{0}};
}
matrix subtract_two_matrices(matrix A, matrix B) {
    int n_a = (int) A.size(), m_a = (int) A[0].size();
    int n_b = (int) B.size(), m_b = (int) B[0].size();
    
    if(n_a != n_b or m_a != m_b) {
        cout << ""Dimenziite na matricite treba da se isti za da mozhe da gi sobereme istite"" << endl;
        return {{0}};
    }
    matrix res = A;
    for(int i = 0; i < n_a; i++) {
        for(int j = 0; j < m_a; j++) {
            res[i][j] = A[i][j] - B[i][j];
        }
    }
    return res;
}
matrix multiply_two_matrices(matrix A, matrix B) {
    int n_a = (int) A.size(), m_a = (int) A[0].size();
    int n_b = (int) B.size(), m_b = (int) B[0].size();
    
    if(m_a != n_b) {
        cout << ""Matricite ne mozhat da se mnozhat"" << endl;
        return {{0}};
    }
    matrix res(n_a, vector<int>(m_b, 0));
    for(int i = 0; i < n_a; i++) {
        for(int j = 0; j < m_b; j++) {
            int c = 0;
            for(int k = 0; k < n_a; k++) {
                c += A[i][k] * B[k][j];
            }
            res[i][j] = c;
        }
    }
    
    return res;
}
int determinant_of_matrix(matrix A) {
    int sz = (int) A.size();
    if(sz == 2) {
        return (A[0][0] * A[1][1]) - (A[0][1] * A[1][0]);
    }
    int determinant = 0;
    int sign = 1;
    for(int i = 0; i < sz; i++) {
        int n = 0, m = 0;
        
        matrix tmp(sz - 1, vector<int>(sz - 1, 0));
        for(int j = 0; j < sz; j++) {
            for(int k = 0; k < sz; k++) {
                if(j != 0 and k != i) {
                    tmp[n][m] = A[j][k];
                    if(m < sz - 2) {
                        m++;
                    }
                    else {
                        m = 0;
                        n++;
                    }
                }
            }
            
        }
        determinant = determinant + sign*(A[0][i]) * determinant_of_matrix(tmp);
        sign *= -1;
    }
    return determinant;
}
void print(matrix A) {
    int n = (int) A.size(), m = (int) A[0].size();
    for(int i = 0; i < n; i++) {
        for(int j = 0; j < m; j++) {
            cout << A[i][j] << "" "";
        }
        cout << endl;
    }
    cout << endl;
}
int main() {
    matrix A = {
        {1, 3, 5, 9},
        {1, 3, 1, 7},
        {4, 3, 9, 7},
        {5, 2, 0, 9}
        
    };
    matrix B = {
        {1, 2, 3},
        {4, 5, 6},
        
    };
    
    cout << determinant_of_matrix(A) << endl;
    return 0;
}
"
4CctiWLt,Untitled,Josif_tepe,C++,Thursday 11th of April 2024 12:03:53 PM CDT,"#include <iostream>
#include <vector>
#include <queue>
using namespace std;
typedef long long ll;
typedef vector<vector<int>> matrix;
const int maxn = 1e5 + 10;
const int INF = 2e9;

matrix multiply_by_k(matrix A, int k) {
    matrix res = A;
    int n = (int) A.size(), m = (int) A[0].size();
    
    for(int i = 0; i < n; i++) {
        for(int j = 0; j < m; j++) {
            res[i][j] *= k;
        }
    }
    return res;
}
matrix add_two_matrices(matrix A, matrix B) {
    int n_a = (int) A.size(), m_a = (int) A[0].size();
    int n_b = (int) B.size(), m_b = (int) B[0].size();
    
    if(n_a == n_b and m_a == m_b) {
        matrix res = A;
        for(int i = 0; i < n_a; i++) {
            for(int j = 0; j < m_a; j++) {
                res[i][j] = A[i][j] + B[i][j];
            }
        }
        return res;
    }
    cout << ""Dimenziite na matricite treba da se isti za da mozhe da gi sobereme istite"" << endl;
    return {{0}};
}
matrix subtract_two_matrices(matrix A, matrix B) {
    int n_a = (int) A.size(), m_a = (int) A[0].size();
    int n_b = (int) B.size(), m_b = (int) B[0].size();
    
    if(n_a != n_b or m_a != m_b) {
        cout << ""Dimenziite na matricite treba da se isti za da mozhe da gi sobereme istite"" << endl;
        return {{0}};
    }
    matrix res = A;
    for(int i = 0; i < n_a; i++) {
        for(int j = 0; j < m_a; j++) {
            res[i][j] = A[i][j] - B[i][j];
        }
    }
    return res;
}
matrix multiply_two_matrices(matrix A, matrix B) {
    int n_a = (int) A.size(), m_a = (int) A[0].size();
    int n_b = (int) B.size(), m_b = (int) B[0].size();
    
    if(m_a != n_b) {
        cout << ""Matricite ne mozhat da se mnozhat"" << endl;
        return {{0}};
    }
    matrix res(n_a, vector<int>(m_b, 0));
    for(int i = 0; i < n_a; i++) {
        for(int j = 0; j < m_b; j++) {
            int c = 0;
            for(int k = 0; k < n_a; k++) {
                c += A[i][k] * B[k][j];
            }
            res[i][j] = c;
        }
    }
    
    return res;
}
void print(matrix A) {
    int n = (int) A.size(), m = (int) A[0].size();
    for(int i = 0; i < n; i++) {
        for(int j = 0; j < m; j++) {
            cout << A[i][j] << "" "";
        }
        cout << endl;
    }
    cout << endl;
}
int main() {
    matrix A = {
        {1, 2},
        {3, 4}
        
    };
    matrix B = {
        {1, 2, 3},
        {4, 5, 6},
        
    };
    
    matrix multiplied_by_k = multiply_by_k(A, 2);
    print(multiplied_by_k);
    
    matrix add_two_matrix = add_two_matrices(A, B);
    print(add_two_matrix);
    
    
    matrix subtrac_two_matrix = subtract_two_matrices(A, B);
    print(subtrac_two_matrix);
    
    matrix multiplication_two_matrices = multiply_two_matrices(A, B);
    print(multiplication_two_matrices);
    return 0;
}
"
ZvzaQpSp,Untitled,ABCD12399,C++,Thursday 11th of April 2024 11:57:04 AM CDT,"class Solution {
public:
 bool check(vector<vector<char>> &board, int no, int r, int c){
    // row
    for(int i = 0 ; i < 9 ; i++ ){
        if(board[i][c]==no)return false;
    }
    // column
    for(int j = 0 ; j < 9 ; j++ ){
        if(board[r][j]==no)return false;
    }
    // box
    int a = r%3;
    int b = c%3;
    int topLeftr = r-a;
    int topLeftc = c-b;
    for(int i = topLeftr ; i< topLeftr + 3 ; i ++){
        for(int j = topLeftc ; j < topLeftc + 3 ; j++){
            if(board[i][j]==no)return false;
        }
    }
    return true;
}
 bool findEmpty(vector<vector<char>> &board, int &r, int &c){
    for(int i = 0;i<9;i++){
        for(int j = 0 ;j<9;j++){
            if(board[i][j]=='.'){ 
                r = i;
                c = j;
                return true;
            }
            c++;
        }
        r++;
    }
    return false;
}

 bool solve(vector<vector<char>> &board){
    int r,c;
    if(!findEmpty(board, r, c)){
        return true;
    }
    for(char i = '1'; i<='9' ; i++){
        if(check(board, i, r, c)){
            board[r][c]=i;
        }
        bool flag = solve(board);
        if(flag){
            return true;
        }
        board[r][c]='.';
    }
    return false;
}
    void solveSudoku(vector<vector<char>>& board) {
        solve(board);
    }
};"
U6trLTCs,Untitled,Josif_tepe,C++,Thursday 11th of April 2024 11:35:39 AM CDT,"#include <iostream>
#include <vector>
#include <queue>
using namespace std;
typedef long long ll;
typedef vector<vector<int>> matrix;
const int maxn = 1e5 + 10;
const int INF = 2e9;

matrix multiply_by_k(matrix A, int k) {
    matrix res = A;
    int n = (int) A.size(), m = (int) A[0].size();
    
    for(int i = 0; i < n; i++) {
        for(int j = 0; j < m; j++) {
            res[i][j] *= k;
        }
    }
    return res;
}
matrix add_two_matrices(matrix A, matrix B) {
    int n_a = (int) A.size(), m_a = (int) A[0].size();
    int n_b = (int) B.size(), m_b = (int) B[0].size();
    
    if(n_a == n_b and m_a == m_b) {
        matrix res = A;
        for(int i = 0; i < n_a; i++) {
            for(int j = 0; j < m_a; j++) {
                res[i][j] = A[i][j] + B[i][j];
            }
        }
        return res;
    }
    cout << ""Dimenziite na matricite treba da se isti za da mozhe da gi sobereme istite"" << endl;
    return {{0}};
}
matrix subtract_two_matrices(matrix A, matrix B) {
    int n_a = (int) A.size(), m_a = (int) A[0].size();
    int n_b = (int) B.size(), m_b = (int) B[0].size();
    
    if(n_a != n_b or m_a != m_b) {
        cout << ""Dimenziite na matricite treba da se isti za da mozhe da gi sobereme istite"" << endl;
        return {{0}};
    }
    matrix res = A;
    for(int i = 0; i < n_a; i++) {
        for(int j = 0; j < m_a; j++) {
            res[i][j] = A[i][j] - B[i][j];
        }
    }
    return res;
}
void print(matrix A) {
    int n = (int) A.size(), m = (int) A[0].size();
    for(int i = 0; i < n; i++) {
        for(int j = 0; j < m; j++) {
            cout << A[i][j] << "" "";
        }
        cout << endl;
    }
    cout << endl;
}
int main() {
    matrix A = {
        {3, 2, 0},
        {1, 1, 2},
        {4, 5, 9}
    };
    matrix B = {
        {1, 1, 1},
        {1, 1, 1},
        {1, 1, 1}
    };
    
    matrix multiplied_by_k = multiply_by_k(A, 2);
    print(multiplied_by_k);
    
    matrix add_two_matrix = add_two_matrices(A, B);
    print(add_two_matrix);
    
    
    matrix subtrac_two_matrix = subtract_two_matrices(A, B);
    print(subtrac_two_matrix);
    return 0;
}
"
YFEf8QTc,Set Icon Theme for Thunar/Linux Desktop,metalx1000,Bash,Thursday 11th of April 2024 11:17:40 AM CDT,"#install a theme
sudo apt install papirus-icon-theme

#list themes
ls -I ""*.*"" /usr/share/icons

# set theme
vim ~/.config/gtk-3.0/settings.ini

#in that file set theme
gtk-icon-theme-name=Papirus

# If working with thunar, be sure to kill and restart thunar"
87TFw1g5,vector 1,LEGEND2004,C++,Thursday 11th of April 2024 11:16:02 AM CDT,"#pragma GCC optimize(""O3"")
#include <bits/stdc++.h>
using namespace std;

#define int long long
#define double long double
#define _FastIO ios_base::sync_with_stdio(0); cin.tie(0)

signed main()
{
    _FastIO;

    int n;
    cin >> n;

    // static array
    //int a[n];
    
    // dynamic array

    vector<int> a(n); // size = n ,
    /*for(int i = 0; i < n; i++){
        cin >> a[i];
    }*/

    a.push_back(5);
    cout << a.size() << '\n';
    for(int i = 0; i < a.size(); i++){
        cout << a[i] << "" "";
    }
    cout << '\n';
    cout << a.back();

    /*
    string s;
    cin >> s; // Aa0bcBC123
    sort(s.begin() , s.end());
    cout << s; // 0123ABCabc
    */
    // 0 0 0 5


}
"
npyy8qDY,Untitled,dereksir,Python,Thursday 11th of April 2024 10:49:14 AM CDT,"# import the necessary libraries
import httpx
import random

# define your proxy list
proxy_urls = [
    ""http://20.210.113.32:8123"",
    ""http://47.56.110.204:8989"",
    ""http://50.174.214.216:80"",
    # add more proxy URLs as needed
]"
fuX051WR,Untitled,dereksir,Python,Thursday 11th of April 2024 10:11:57 AM CDT,"import httpx

# define your proxy settings
proxy_url = ""http://username:password@216.137.184.253:80""

# create a client with the specified proxy and credentials
with httpx.Client(proxy=proxy_url) as client:
    # make requests using the client
    r = client.get(""https://httpbin.io/ip"")

print(r.text)"
suUpVVVx,sql_trains,SillyWolfy,Python,Thursday 11th of April 2024 10:02:16 AM CDT,"import psycopg2
def get_conn():
    return psycopg2.connect(dbname='postgres', user='postgres', password='1234', host='localhost')


def create_table_if_not_exist():
    # Подключаемся к базе данных
    conn = get_conn()
    c = conn.cursor()
    # Создание таблицы, если она не существует
    c.execute('''CREATE TABLE IF NOT EXISTS trains (TEAM bigint, ROUND integer, TRY integer, OR_NUM integer, CUR_NUM integer, SCORE integer)''')
    conn.commit()  # Фиксация изменений

    conn.close()


def check_user_exists(user_id):
    try:
        conn = get_conn()
        with conn.cursor() as cur:
            # Проверяем существование пользователя с заданным user_id
            cur.execute(""SELECT COUNT(*) FROM trains WHERE TEAM = %s"", (user_id,))
            count = cur.fetchone()[0]  # Получаем количество записей с user_id
            if count > 0:
                return 1  # Пользователь существует
            else:
                return 0  # Пользователь не существует
    finally:
        conn.close()

def update_round(user_id, new_original_place):
    try:
        conn = get_conn()
        with conn.cursor() as cur:
            cur.execute(""UPDATE trains SET ROUND=ROUND+1, TRY=6, OR_NUM=%s, CUR_NUM=%s WHERE TEAM=%s"",
              (new_original_place, new_original_place, user_id))

            conn.commit()  # Фиксация изменений

    finally:
        conn.close()

def minus_try(user_id):
    try:
        conn = get_conn()  # Предполагается, что эта функция возвращает соединение с базой данных
        with conn.cursor() as cur:
            # Обратите внимание, что аргументы после SQL запроса передаются в виде кортежа (user_id,)
            cur.execute(""UPDATE trains SET TRY=TRY-1 WHERE TEAM=%s"", (user_id,))

        conn.commit()  # Фиксация изменений
    finally:
        if conn:
            conn.close()
def add_score(user_id):
    try:
        conn = get_conn()
        with conn.cursor() as cur:
            cur.execute(""UPDATE trains SET SCORE=SCORE+1 WHERE TEAM=%s"", (user_id,))

        conn.commit()  # Фиксация изменений

    finally:
        conn.close()

def update_cur_num(updated_current_place, user_id):
    try:
        conn = get_conn()
        with conn.cursor() as cur:
            cur.execute(""UPDATE trains SET CUR_NUM=%s WHERE TEAM=%s"", (updated_current_place, user_id,))

        conn.commit()  # Фиксация изменений

    finally:
        conn.close()
def get_user_data(user_id):
    try:
        conn = get_conn()
        with conn.cursor() as cur:
            cur.execute(""SELECT * FROM trains WHERE TEAM = %s"", (user_id,))
            user_data = cur.fetchone()  # Получаем первую строку результата
            return user_data  # Возвращаем значения каждой колонки по user_id
    finally:
        conn.close()

def add_player(user_id):
    try:
        conn = get_conn()
        with conn.cursor() as c:
            c.execute(""INSERT INTO trains (TEAM, ROUND, TRY, OR_NUM, CUR_NUM, SCORE) VALUES (%s, 1, 6, 0, 0, 0)"",
            (user_id,))
        conn.commit()  # Фиксация изменений

    finally:
        conn.close()
def update_orig_num(user_id, new_orig_num):
    try:
        conn = get_conn()
        with conn.cursor() as cur:
            cur.execute(""UPDATE trains SET OR_NUM=%s WHERE TEAM=%s"", (new_orig_num, user_id,))

        conn.commit()  # Фиксация изменений

    finally:
        conn.close()"
wqM5ihLE,Untitled,dereksir,Python,Thursday 11th of April 2024 09:50:02 AM CDT,"import httpx

# create a client with the specified proxy
with httpx.Client(proxy=""http://216.137.184.253:80"") as client:
    # make requests using the client
    r = client.get(""https://httpbin.io/ip"")

print(r.text)"
gHRVnWvZ,список_компов_в_домене,Wintersham,Python,Thursday 11th of April 2024 09:43:17 AM CDT,"import ms_active_directory , re , os
from ping3 import ping, verbose_ping
kompy_domena = []
n = 0
j = -1
os.path.join('c','Users','BuharskyAA','Documents','ad_pcs.csv')
data = open('c:\\Users\\BuharskyAA\\Documents\\ad_pcs.csv','r')
for line in data:
   kompy_domena.append(line.split())
#    n += 1
#    kompy_domena.append(n)
pc_online = []
for i in range (len(kompy_domena)):
   print(str(kompy_domena[i][n]))
   verbose_ping(str(kompy_domena[i][n]))
   pinganem = ping(kompy_domena[i][n])
   if type (pinganem) == float:
        pinganem=int(pinganem)
        print(type(pinganem))
        print(pinganem)
        pc_online.append(kompy_domena[i][n])
        print(pc_online)

#    pinganem.round()
#          print(((pinganem)))
#          break
#    if result_of_ping[0] == 0:
#       pc_online.append(kompy_domena[i][n])
#       del result_of_ping[0]
#       print(pc_online)
#       break
#    else:
#       continue
# print(pc_online)
# print((str(kompy_domena[3])))
# print(len(kompy_domena))
# # imena_kompov = re.findall(r'[A-Z0-9]',str(kompy_domena))
# # print(imena_kompov)
# ping(str(kompy_domena[3]))
# param = '-n' if os.sys.platform().lower()=='win32' else '-c'
# hostname = kompy_domena[3] #example
# response = os.system(f""ping {param} 1 {hostname}"")
# #and then check the response...
# if response == 0:
#   print(f""{hostname} is up!"")
# else:
#   print(f""{hostname} is down!"")"
d9DWMpgt,Untitled,MR_OBRIEN,HTML,Thursday 11th of April 2024 09:37:38 AM CDT,"School Websites for Bookmark Bar

<a href=“https://teams.microsoft.com/v2/”>Microsoft Teams</a>
<a href=“https://www.microsoft365.com/launch/word?auth=2”>Microsoft Word</a>
<a href=“https://dcdsb.edsby.com/”>Durham Catholic District School Board (DCDSB)</a>
<a href=“https://durhamrc.elearningontario.ca/d2l/home”>Durham Region College (DRC) eLearning Portal</a>
<a href=“https://www.microsoft365.com/launch/onenote?auth=2”>Microsoft OneNote</a>
<a href=“https://www.microsoft365.com/launch/powerpoint?auth=2”>Microsoft PowerPoint</a>
<a href=“https://www.canva.com/”>Canva</a>"
17BhEMHS,邀您一起看：全部规则,xiaomianao666,JavaScript,Thursday 11th of April 2024 09:33:43 AM CDT,海阔视界规则分享，当前分享的是：二级页面详情￥page_detail￥全部规则@@eyJkYXRhIjoie1wiYXNzb2NpYXRlZE1vZGVsc01hcEZvckpvaW5UYWJsZVwiOnt9LFwiYXNzb2NpYXRlZE1vZGVsc01hcFdpdGhGS1wiOnt9LFwiYXNzb2NpYXRlZE1vZGVsc01hcFdpdGhvdXRGS1wiOnt9LFwiZmllbGRzVG9TZXRUb0RlZmF1bHRcIjpbXSxcImdtdE1vZGlmaWVkXCI6MCxcImlkXCI6MCxcImxhc3RfY2hhcHRlcl9ydWxlXCI6XCJcIixcImxpc3RUb0NsZWFyQXNzb2NpYXRlZEZLXCI6W10sXCJsaXN0VG9DbGVhclNlbGZGS1wiOltdLFwicGFnZUxpc3RcIjpbe1wiY29sX3R5cGVcIjpcIm1vdmllXzNcIixcIm5hbWVcIjpcIuW3peWFt1wiLFwicGF0aFwiOlwidXRpbGl5XCIsXCJydWxlXCI6XCJqczpcXG5sZXQgaG9zdCA9IFxcXCJodHRwOi8vaGlrZXIubm9raWEucHJlc3NcXFwiO1xcbi8vbGV0IGhvc3QgPSBcXFwiaHR0cDovLzE5Mi4xNjguMzEuNDk6ODA3OVxcXCI7XFxubGV0IGhvbWUgPSBiYXNlNjREZWNvZGUoXFxcImFHbHJaWEk2THk5b2IyMWxcXFwiKTtcXG52YXIgYXBpID0ge1xcbiAgICBob3N0OiBob3N0K1xcXCIvaGlrZXJ1bGVcXFwiLFxcbiAgICBub3RpY2VVcmw6XFxcIi9ub3RpY2UvZ2V0XFxcIiwvL+iOt+WPluS7k+W6k+WFrOWRilxcbiAgICB1c2Vyc1VybDogXFxcIi9kZXYvdXNlcnM/b3JkZXI9XFxcIiwgLy/nlKjmiLfliJfooahcXG4gICAgcnVsZUNvdW50VXJsOiBcXFwiL2Rldi9ydWxlY291bnRcXFwiLCAvL+iOt+WPluinhOWImeaVsOmHj1xcbiAgICBydWxlc1VybDogXFxcIi9kZXYvZ2V0XFxcIiwgLy/nlKjmiLflr7nlupTnmoTop4TliJnliJfooajku4Xku4Xojrflj5blhazlvIBcXG4gICAgcnVsZXNBbGxVcmw6IFxcXCIvZGV2L2dldGFsbFxcXCIsIC8v5byA5Y+R6ICF5a+55bqU55qE6KeE5YiZ5YiX6KGo5Y+v6I635Y+W56eB5pyJXFxuICAgIGRldlNlbGY6Jy9kZXYvZ2V0c2VsZicsLy/ojrflj5blvIDlj5HogIXkv6Hmga9cXG4gICAgbWFuQ2FuVXBsb2FkOicvc2V0X2Nhbl91cGxvYWQvJywvL+i2heeuoeiuvue9ruW8gOWPkeiAheaYr+WQpuWPr+S4iuS8oFxcbiAgICBtYW5SdWxlU2FmZTonL3NldF9ydWxlX3NhZmUvJywvL+i2heeuoeiuvue9ruinhOWImeWuieWFqOaAp1xcbiAgICBtYW5SdWxlR29vZDonL3NldF9ydWxlX2dvb2QvJywvL+i2heeuoeiuvue9ruinhOWImeS8mOi0qOaAp1xcbiAgICBpbXBvcnRVcmw6IFxcXCIvcnVsZWxpc3QuanNvbj9pZD1cXFwiLCAvL+inhOWImeivpuaDheWPr+WvvOWFpVxcbiAgICBpbmZvU2V0VXJsOiBcXFwiL2Rldi9zZXRfaW5mb1xcXCIsXFxuICAgIG5vd0NvblVybDogXFxcIi9zcWxfaW5mby9nZXRfbm93X2NvblxcXCIsXFxuICAgIGluZm9HZXRVcmw6IFxcXCIvZGV2L2dldF9pbmZvP25hbWU9XFxcIixcXG4gICAgc2V0dGluZ3NHZXRVcmw6IFxcXCIvZGV2L2dldF9zZXR0aW5ncz9uYW1lPVxcXCIsXFxuICAgIGd1cGxvYWQ6IFxcXCIvZGV2L2d1cGxvYWRcXFwiLFxcbiAgICBndGltZW92ZXI6IFxcXCIvZGV2L2d0aW1lb3ZlclxcXCIsXFxuICAgIGdldGJ5aWQ6IFxcXCIvZGV2L2dldGJ5aWRcXFwiLFxcbiAgICBydWxlTGlzdEpzb246IFxcXCIvcnVsZWxpc3QuanNvblxcXCIsXFxuICAgIGF1dGg6IFxcXCIvZGV2L2dldF9hdXRoXFxcIixcXG4gICAgdGltZW92ZXI6IFxcXCIvZGV2L3RpbWVvdmVyXFxcIixcXG4gICAgc2hhcmU6IFxcXCIvZGV2L3NoYXJlXFxcIixcXG4gICAgZ2VuQXV0aDogXFxcIi9kZXYvZ2VuX2F1dGhcXFwiLFxcbiAgICBkZWxldGVVcmw6IFxcXCIvZGV2L2RlbGV0ZVxcXCIsXFxuICAgIGpzb25MaXN0OiBcXFwiL2Rldi9qc29uX2xpc3RcXFwiLFxcbiAgICBzZWFyY2g6IFxcXCIvZGV2L3NlYXJjaFxcXCIsXFxuICAgIG5ld19kZXY6IFxcXCIvZGV2X3JlZ2lzdC9uZXdcXFwiLFxcbiAgICBuZXdfZ2V0SWQ6IFxcXCIvZGV2X3JlZ2lzdC9nZXRfaWRcXFwiLFxcbiAgICBuZXdfY29uZmlybTogXFxcIi9kZXZfcmVnaXN0L2NvbmZpcm1cXFwiLFxcbiAgICBtb2RpZnlfcHdkOiBcXFwiL21vZGlmeS9wYXNzd29yZFxcXCIsXFxuICAgIG1vZGlmeV9uYW1lOiBcXFwiL21vZGlmeS9uYW1lXFxcIixcXG4gICAgbW9kaWZ5X2F2YTogXFxcIi9tb2RpZnkvYXZhdGFyXFxcIixcXG4gICAgdXNlcjogXFxcIi9kZXYvdXNlci9cXFwiLFxcbiAgICBnZXRfcnVsZV9ub3RlOiBcXFwiL21vZGlmeS9nZXRfcnVsZV9ub3RlL1xcXCIsXFxuICAgIHNldF9ydWxlX3BpYzogXFxcIi9tb2RpZnkvcnVsZV9waWMvXFxcIixcXG4gICAgc2V0X3J1bGVfbm90ZTogXFxcIi9tb2RpZnkvcnVsZV9ub3RlL1xcXCJcXG59XFxuJC5leHBvcnRzLnJhbmdlID0gZnVuY3Rpb24obSwgbikge1xcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG0gLSBuICsgMSkgKyBuKTtcXG59XFxuJC5leHBvcnRzLm1hcENvbFR5cGUgPSBmdW5jdGlvbih0YXJnZXQsIHR5cGUsIG4pIHtcXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcXG4gICAgICAgIHRhcmdldC5wdXNoKHtcXG4gICAgICAgICAgICBjb2xfdHlwZTogdHlwZVxcbiAgICAgICAgfSk7XFxuICAgIH1cXG59XFxudmFyIGdldEFwaSA9IGZ1bmN0aW9uKGspIHtcXG4gICAgcmV0dXJuIGFwaS5ob3N0ICsgYXBpW2tdO1xcbn07XFxuJC5leHBvcnRzLmdldEFwaT1nZXRBcGk7XFxuJC5leHBvcnRzLm1kPWdldEFwaSgnaW1wb3J0VXJsJykrXFxcIjMxODdcXFwiO1xcbiQuZXhwb3J0cy5sb2NhbFJ1bGVWZXIgPSBmdW5jdGlvbihsb2NhbFJ1bGVMaXN0LCBydWxlKSB7XFxuICAgIGxldCBsb2NhbFJ1bGU7XFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxSdWxlTGlzdC5sZW5ndGg7IGkrKykge1xcbiAgICAgICAgbGV0IGl0ZW0gPSBsb2NhbFJ1bGVMaXN0W2ldO1xcbiAgICAgICAgbGV0IGF1ID0gaXRlbS5hdXRob3IgfHwgXFxcIlxcXCI7XFxuICAgICAgICBsZXQgc2FtZUF1PWF1Lmxlbmd0aCA+IDAgJiYgcnVsZS5hdXRob3IuaW5jbHVkZXMoYXUpO1xcbiAgICAgICAgc2FtZUF1PXRydWU7Ly/kuI3liKTmlq3kvZzogIXpu5jorqTkuLp0cnVlXFxuICAgICAgICBpZiAoaXRlbS50aXRsZSA9PT0gcnVsZS5uYW1lICYmIHNhbWVBdSkge1xcbiAgICAgICAgICAgIGxvY2FsUnVsZSA9IGl0ZW07XFxuICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICB9XFxuICAgIH1cXG4gICAgaWYgKGxvY2FsUnVsZSA9PT0gdm9pZCAwKSB7XFxuICAgICAgICByZXR1cm4gLTE7XFxuICAgIH0gZWxzZSB7XFxuICAgICAgICByZXR1cm4gbG9jYWxSdWxlLnZlcnNpb247XFxuICAgIH1cXG59XFxuJC5leHBvcnRzLmNvbG9yID0gZnVuY3Rpb24odGV4dCwgY29sb3IpIHtcXG4gICAgdGV4dCArPSBcXFwiXFxcIjtcXG4gICAgaWYgKHRleHQuaW5kZXhPZihcXFwi4oCc4oCc4oCd4oCdXFxcIikgPT09IDApIHtcXG4gICAgICAgIHRleHQucmVwbGFjZShcXFwi4oCc4oCc4oCd4oCdXFxcIiwgXFxcIlxcXCIpO1xcbiAgICB9XFxuICAgIHJldHVybiBcXFwi4oCc4oCc4oCd4oCdPGZvbnQgY29sb3I9J1xcXCIgKyBjb2xvciArIFxcXCInPlxcXCIgKyB0ZXh0ICsgXFxcIjwvZm9udD5cXFwiO1xcbn1cXG5cXG4kLmV4cG9ydHMuc2xlZXAgPSBmdW5jdGlvbih0aW1lb3V0KXtcXG4gICAgamF2YS5sYW5nLlRocmVhZC5zbGVlcCh0aW1lb3V0KTtcXG59XFxuZnVuY3Rpb24gaHRtbFRhZyh0YWcsIHRleHQpIHtcXG4gICAgdGV4dCArPSBcXFwiXFxcIjtcXG4gICAgaWYgKHRleHQuaW5kZXhPZihcXFwi4oCc4oCc4oCd4oCdXFxcIikgPT09IDApIHtcXG4gICAgICAgIHRleHQucmVwbGFjZShcXFwi4oCc4oCc4oCd4oCdXFxcIiwgXFxcIlxcXCIpO1xcbiAgICB9XFxuICAgIHJldHVybiBcXFwi4oCc4oCc4oCd4oCdXFxcIiArIFxcXCI8XFxcIiArIHRhZyArIFxcXCI+XFxcIiArIHRleHQgKyBcXFwiPC9cXFwiICsgdGFnICsgXFxcIj5cXFwiO1xcblxcbn1cXG5cXG5mdW5jdGlvbiBnZXROb3dGb3JtYXREYXRlKCkge1xcbiAgICAgICAgICAgIGxldCBkYXRlID0gbmV3IERhdGUoKTtcXG4gICAgICAgICAgICBsZXQgc2VwZXJhdG9yMSA9IFxcXCItXFxcIjtcXG4gICAgICAgICAgICBsZXQgc2VwZXJhdG9yMiA9IFxcXCI6XFxcIjtcXG4gICAgICAgICAgICBsZXQgbW9udGggPSBkYXRlLmdldE1vbnRoKCkgKyAxO1xcbiAgICAgICAgICAgIGxldCBzdHJEYXRlID0gZGF0ZS5nZXREYXRlKCk7XFxuICAgICAgICAgICAgbGV0IHN0ckhvdXJzID0gZGF0ZS5nZXRIb3VycygpO1xcbiAgICAgICAgICAgIGxldCBzdHJNaW51dGVzID0gZGF0ZS5nZXRNaW51dGVzKCk7XFxuICAgICAgICAgICAgbGV0IHN0clNlY29uZHMgPSBkYXRlLmdldFNlY29uZHMoKSsxO1xcbiAgICAgICAgICAgIGlmIChtb250aCA+PSAxICYmIG1vbnRoIDw9IDkpIHtcXG4gICAgICAgICAgICAgICAgbW9udGggPSBcXFwiMFxcXCIgKyBtb250aFxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBpZiAoc3RyRGF0ZSA+PSAwICYmIHN0ckRhdGUgPD0gOSkge1xcbiAgICAgICAgICAgICAgICBzdHJEYXRlID0gXFxcIjBcXFwiICsgc3RyRGF0ZVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBpZiAoc3RySG91cnMgPj0gMCAmJiBzdHJIb3VycyA8PSA5KSB7XFxuICAgICAgICAgICAgICAgIHN0ckhvdXJzID0gXFxcIjBcXFwiICsgc3RySG91cnNcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgaWYgKHN0ck1pbnV0ZXMgPj0gMCAmJiBzdHJNaW51dGVzIDw9IDkpIHtcXG4gICAgICAgICAgICAgICAgc3RyTWludXRlcyA9IFxcXCIwXFxcIiArIHN0ck1pbnV0ZXNcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgaWYgKHN0clNlY29uZHMgPj0gMCAmJiBzdHJTZWNvbmRzIDw9IDkpIHtcXG4gICAgICAgICAgICAgICAgc3RyU2Vjb25kcyA9IFxcXCIwXFxcIiArIHN0clNlY29uZHNcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgLy9sZXQgY3VycmVudGRhdGUgPSBkYXRlLmdldEZ1bGxZZWFyKCkgKyBzZXBlcmF0b3IxICsgbW9udGggKyBzZXBlcmF0b3IxICsgc3RyRGF0ZSArIFxcXCIgXFxcIiArIHN0ckhvdXJzICsgc2VwZXJhdG9yMiArIHN0ck1pbnV0ZXMgKyBzZXBlcmF0b3IyICsgc3RyU2Vjb25kcztcXG4gICAgICAgICAgICBsZXQgY3VycmVudGRhdGUgPSAoZGF0ZS5nZXRGdWxsWWVhcigpLTIwMjApKycnKyBtb250aCArJycrIHN0ckRhdGUgKycnKyBzdHJIb3VycysnJyArIHN0ck1pbnV0ZXMgKycnKyBNYXRoLmNlaWwoc3RyU2Vjb25kcy83KTtcXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoY3VycmVudGRhdGUpXFxuICAgICAgICB9XFxuJC5leHBvcnRzLmdldE5vd0Zvcm1hdERhdGUgPSBnZXROb3dGb3JtYXREYXRlO1xcbiQuZXhwb3J0cy5odG1sVGFnID0gaHRtbFRhZztcXG4kLmV4cG9ydHMuc21hbGwgPSBmdW5jdGlvbih0ZXh0KSB7XFxuICAgIHJldHVybiBodG1sVGFnKFxcXCJzbWFsbFxcXCIsIHRleHQpO1xcbn1cXG4kLmV4cG9ydHMuZ2V0RmlsZSA9IGZ1bmN0aW9uKCkge1xcbiAgICB2YXIgRmlsZSA9IHJlcXVlc3QoXFxcImhpa2VyOi8vZmlsZXMvV2FyZWhvdXNlVVNFUi5qc29uXFxcIikgfHwgXFxcInt9XFxcIjtcXG4gICAgdHJ5IHtcXG4gICAgICAgIHJldHVybiBKU09OLnBhcnNlKEZpbGUpO1xcbiAgICB9IGNhdGNoIChlKSB7XFxuICAgICAgICB3cml0ZUZpbGUoXFxcImhpa2VyOi8vZmlsZXMvV2FyZWhvdXNlVVNFUi5qc29uXFxcIiwgXFxcInt9XFxcIik7XFxuICAgICAgICByZXR1cm4ge307XFxuICAgIH1cXG59XFxuJC5leHBvcnRzLmdldFVzZXJEYXRlID1mdW5jdGlvbigpe1xcbiAgICB2YXIgRmlsZSA9IHJlcXVlc3QoXFxcImhpa2VyOi8vZmlsZXMvV2FyZWhvdXNlVVNFUkEuanNvblxcXCIpIHx8IFxcXCJbXVxcXCI7XFxuICAgIHRyeSB7XFxuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShGaWxlKTtcXG4gICAgfSBjYXRjaCAoZSkge1xcbiAgICAgICAgd3JpdGVGaWxlKFxcXCJoaWtlcjovL2ZpbGVzL1dhcmVob3VzZVVTRVJBLmpzb25cXFwiLCBcXFwiW11cXFwiKTtcXG4gICAgICAgIHJldHVybiBbXTtcXG4gICAgfVxcbn1cXG4kLmV4cG9ydHMuZXhpc3RGaWxlID0gZnVuY3Rpb24oc3BhdGgsIGlwYXRoLCBoZWFkZXJzKSB7XFxuICAgIGxldCBzY29kZSA9IHJlcXVlc3Qoc3BhdGgpO1xcbiAgICBpZiAoIXNjb2RlKSB7XFxuICAgICAgICB3cml0ZUZpbGUoc3BhdGgsIHJlcXVlc3QoaXBhdGgsIGhlYWRlcnMpKTtcXG4gICAgfVxcbn1cXG5cXG5sZXQgbmV3QXBpID0ge1xcbiAgICBcXFwiZGlzX25ld1xcXCI6IFxcXCIvaGlrZXJ1bGUvbmV3X3J1bGVfZGlzY3Vzcy9cXFwiLFxcbiAgICBcXFwiZGlzX3ZlcmlmeVxcXCI6IFxcXCIvaGlrZXJ1bGUvcnVsZV9kaXNjdXNzL2dldF95em1cXFwiLFxcbiAgICBcXFwiZGlzX2dldFxcXCI6IFxcXCIvaGlrZXJ1bGUvcnVsZV9kaXNjdXNzL1xcXCIsXFxuICAgIFxcXCJkaXNfc2V0XFxcIjogXFxcIi9oaWtlcnVsZS9tb2RpZnkvY2FuX2Rpc2N1c3MvXFxcIixcXG4gICAgXFxcImRpc19uZXdfdXNlclxcXCI6IFxcXCIvaGlrZXJ1bGUvcnVsZV9kaXNjdXNzL25ld191c2VyXFxcIixcXG4gICAgXFxcImRpc19sb2dpblxcXCI6XFxcIi9oaWtlcnVsZS9ydWxlX2Rpc2N1c3MvdXNlcl9sb2dpblxcXCIsXFxuICAgIFxcXCJkaXNfZGV2X2Rpc2N1c3NcXFwiOlxcXCIvaGlrZXJ1bGUvbW9kaWZ5L2Rldl9jYW5fZGlzY3Vzc1xcXCIsXFxuICAgIFxcXCJkaXNfZGV2X2NvbnRyb2xcXFwiOlxcXCIvaGlrZXJ1bGUvcnVsZV9kaXNjdXNzL3JlbW92ZS9cXFwiLFxcbiAgICBcXFwiYWxsX3J1bGVcXFwiOlxcXCIvaGlrZXJ1bGUvZ2V0X3J1bGVzXFxcIixcXG4gICAgXFxcImRpc19nZXRfcmVwbHlcXFwiOlxcXCIvaGlrZXJ1bGUvZ2V0X3JlcGx5X3J1bGVfZGlzY3Vzc1xcXCIsXFxuICAgIFxcXCJkaXNfcmVwbHlcXFwiOlxcXCIvaGlrZXJ1bGUvZGV2X25ld19ydWxlX2Rpc2N1c3MvXFxcIixcXG59XFxuXFxuZnVuY3Rpb24gc2V0QXBpKG9iamVjdCkge1xcbiAgICBsZXQgdGFyZ2V0ID0ge307XFxuICAgIGZvciAobGV0IGtleSBpbiBvYmplY3QpIHtcXG4gICAgICAgIHRhcmdldFtrZXldPWhvc3Qrb2JqZWN0W2tleV1cXG4gICAgfVxcbiAgICByZXR1cm4gdGFyZ2V0O1xcbn1cXG5cXG4kLmV4cG9ydHMuYXBpID0gc2V0QXBpKG5ld0FwaSk7XFxuJC5leHBvcnRzLmFwaS5ob3N0PWhvc3Q7XFxuJC5leHBvcnRzLmFwaS5ob21lPWhvbWU7XCJ9LHtcImNvbF90eXBlXCI6XCJtb3ZpZV8zXCIsXCJuYW1lXCI6XCLlvIDlj5HogIXnmbvlvZVcIixcInBhdGhcIjpcImRldkxvZ2luXCIsXCJydWxlXCI6XCJqczpcXG5zZXRQYWdlVGl0bGUoXFxcIuW8gOWPkeiAheeZu+W9lVxcXCIpO1xcbmNvbnN0IHtcXG4gICAgZ2V0QXBpLFxcbiAgICBodG1sVGFnLFxcbiAgICBtYXBDb2xUeXBlLFxcbiAgICBzbWFsbCxcXG5nZXRGaWxlXFxufSA9ICQucmVxdWlyZShcXFwiaGlrZXI6Ly9wYWdlL3V0aWxpeVxcXCIpO1xcbnZhciBkYXRhID0gW107XFxuYWRkTGlzdGVuZXIoJ29uQ2xvc2UnLCAkLnRvU3RyaW5nKCgpPT57XFxuICAgIGNsZWFyVmFyKFxcXCJXYXJlaG91c2VVc2VybmFtZVxcXCIpO1xcbiAgICBjbGVhclZhcihcXFwiV2FyZWhvdXNlUGFzc3dvcmRcXFwiKTtcXG59KSlcXG5kYXRhLnB1c2goe1xcbiAgICB0aXRsZTogJ+i0puWPtycsXFxuICAgIGNvbF90eXBlOiAnaW5wdXQnLFxcbiAgICBleHRyYToge1xcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBnZXRWYXIoJ1dhcmVob3VzZVVzZXJuYW1lJywnJyksXFxuICAgICAgICB0eXBlOlxcXCJudW1iZXJcXFwiLFxcbiAgICAgICAgb25DaGFuZ2U6ICdwdXRWYXIoXFxcIldhcmVob3VzZVVzZXJuYW1lXFxcIixpbnB1dCknXFxuICAgIH1cXG59LCB7XFxuICAgIHRpdGxlOiAn5a+G56CBJyxcXG4gICAgY29sX3R5cGU6ICdpbnB1dCcsXFxuICAgIGV4dHJhOiB7XFxuICAgICAgICBkZWZhdWx0VmFsdWU6IGdldFZhcignV2FyZWhvdXNlUGFzc3dvcmQnLCAnJyksXFxuICAgICAgICB0eXBlOiBcXFwicGFzc3dvcmRcXFwiLFxcbiAgICAgICAgb25DaGFuZ2U6ICdwdXRWYXIoXFxcIldhcmVob3VzZVBhc3N3b3JkXFxcIixpbnB1dCknXFxuICAgIH1cXG59KTtcXG5cXG5kYXRhLnB1c2goe1xcbiAgICB0aXRsZTpcXFwiJm5ic3A7Jm5ic3A7PGEgaHJlZj0naGlrZXI6Ly9wYWdlL1JlZ2lzdGVyJz7ms6jlhow8L2E+XFxcIixcXG4gICAgY29sX3R5cGU6XFxcInJpY2hfdGV4dFxcXCJcXG59KTtcXG5tYXBDb2xUeXBlKGRhdGEsIFxcXCJsaW5lX2JsYW5rXFxcIiwgMSk7XFxubGV0IHVzZXIgPSBnZXRGaWxlKCk7XFxuZGF0YS5wdXNoKHtcXG4gICAgdGl0bGU6IGh0bWxUYWcoXFxcImJcXFwiLCBcXFwi55m75b2VXFxcIiksXFxuICAgIHVybDogJCgpLmxhenlSdWxlKCh1cmwsIGYpPT4ge1xcbiAgICAgICAgbGV0IHVzZXJuYW1lID0gZ2V0VmFyKCdXYXJlaG91c2VVc2VybmFtZScsICcnKSxcXG4gICAgICAgICAgICBwYXNzd29yZCA9IGdldFZhcignV2FyZWhvdXNlUGFzc3dvcmQnLCAnJyk7XFxuICAgICAgICBpZih1c2VybmFtZSA9PT0gXFxcIlxcXCIgJiYgcGFzc3dvcmQgPT09XFxcIlxcXCIpe1xcbiAgICAgICAgICAgIHJldHVybiBcXFwidG9hc3Q6Ly/otKblj7flkozlr4bnoIHkuI3og73kuLrnqbpcXFwiXFxuICAgICAgICB9XFxuICAgICAgICBsZXQgbXlVcmwgPSB1cmwgKyAnP3FxPScgKyB1c2VybmFtZSArICcmcGFzc3dvcmQ9JyArIHBhc3N3b3JkO1xcbiAgICAgICAgbGV0IGNvZGVfc3RyID0gcmVxdWVzdChteVVybCk7XFxuICAgICAgICBsZXQgY29kZSA9IEpTT04ucGFyc2UoY29kZV9zdHIpO1xcbiAgICAgICAgaWYgKGNvZGUuc3RhdHVzID09IDApIHtcXG4gICAgICAgICAgICBmLnVzZXJuYW1lPXVzZXJuYW1lO1xcbiAgICAgICAgICAgIGYucGFzc3dvcmQ9cGFzc3dvcmRcXG4gICAgICAgICAgICB3cml0ZUZpbGUoJ2hpa2VyOi8vZmlsZXMvV2FyZWhvdXNlVVNFUi5qc29uJywgSlNPTi5zdHJpbmdpZnkoZikpO1xcbiAgICAgICAgICAgIGJhY2soKTtcXG4gICAgICAgICAgICByZXR1cm4gXFxcInRvYXN0Oi8v55m75b2V5oiQ5YqfXFxcIjtcXG4gICAgICAgIH1lbHNle1xcbiAgICAgICAgICAgIHJldHVybiBcXFwidG9hc3Q6Ly/otKblj7fmiJblr4bnoIHplJnor69cXFwiO1xcbiAgICAgICAgfVxcbiAgICB9LCBnZXRBcGkoXFxcInJ1bGVzQWxsVXJsXFxcIiksdXNlciksXFxuICAgIGNvbF90eXBlOiAndGV4dF9jZW50ZXJfMSdcXG59KTtcXG5zZXRSZXN1bHQoZGF0YSk7XCJ9LHtcImNvbF90eXBlXCI6XCJpY29uXzJfcm91bmRcIixcIm5hbWVcIjpcIuW8gOWPkeiAheeuoeeQhlwiLFwicGF0aFwiOlwiZGV2TWFuYWdlXCIsXCJydWxlXCI6XCJqczpcXG5zZXRQYWdlVGl0bGUoXFxcIuinhOWImeeuoeeQhlxcXCIpO1xcbmFkZExpc3RlbmVyKCdvbkNsb3NlJywgJ2NsZWFyVmFyKFxcXCJXYXJlaG91c2UuYmFja1xcXCIsXFxcIlxcXCIpOycpO1xcbmlmIChnZXRWYXIoXFxcIldhcmVob3VzZS5iYWNrXFxcIikgPT09IFxcXCIxXFxcIikge1xcbiAgICBiYWNrKCk7XFxufVxcbmNvbnN0IHtcXG4gICAgZ2V0QXBpLFxcbiAgICBjb2xvcixcXG4gICAgc21hbGwsXFxuICAgIGdldEZpbGUsXFxuICAgIGV4aXN0RmlsZSxcXG4gICAgbWFwQ29sVHlwZSxcXG4gICAgYXBpXFxufSA9ICQucmVxdWlyZShcXFwiaGlrZXI6Ly9wYWdlL3V0aWxpeVxcXCIpO1xcbmxldCB7XFxuICAgIGRldlxcbn0gPSBNWV9QQVJBTVM7XFxubGV0IHtcXG4gICAgdXNlcm5hbWUsXFxuICAgIHBhc3N3b3JkLFxcbn0gPSBnZXRGaWxlKCk7XFxuLy9leGlzdEZpbGUoXFxcImhpa2VyOi8vZmlsZXMvcnVsZXMvZHpIb3VzZS9odG1sL+W8gOWPkeiAheWIhuS6qy5odG1sXFxcIiwgXFxcImh0dHBzOi8vZXJwLnNjd2luYmFvLmNvbS9oaWtlcnVsZS9ydWxlbGlzdC5qc29uP2lkPTUzOVxcXCIpO1xcbmxldCBydWxlTGlzdCA9IEpTT04ucGFyc2UocmVxdWVzdChnZXRBcGkoXFxcInJ1bGVzQWxsVXJsXFxcIikgKyAnP3FxPScgKyB1c2VybmFtZSArICcmcGFzc3dvcmQ9JyArIHBhc3N3b3JkKSkucmVzdWx0O1xcbmxldCBNT0JJTEVfVUEgPSAnTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDUuMDsgU00tRzkwMFAgQnVpbGQvTFJYMjFUKSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvODguMC40MzI0LjE0NiBNb2JpbGUgU2FmYXJpLzUzNy4zNic7XFxubGV0IGluZm9TZXRVcmwgPSBnZXRBcGkoXFxcImluZm9TZXRVcmxcXFwiKTtcXG5sZXQgaW5mb0dldFVybCA9IGdldEFwaShcXFwiaW5mb0dldFVybFxcXCIpICsgdXNlcm5hbWU7XFxubGV0IHNldHRpbmdzR2V0VXJsID0gZ2V0QXBpKFxcXCJzZXR0aW5nc0dldFVybFxcXCIpICsgdXNlcm5hbWU7XFxucHV0TXlWYXIoXFxcImRldl9zZXRfaW5mb1xcXCIsIFt1c2VybmFtZSwgcGFzc3dvcmQsIGluZm9TZXRVcmwsIE1PQklMRV9VQSwgaW5mb0dldFVybF0uam9pbihcXFwiJCRcXFwiKSk7XFxubGV0IGRhdGEgPSBbXTtcXG5kYXRhLnB1c2goe1xcbiAgICB0aXRsZTogJ+KAnOKAnOKAneKAnTxiaWc+5LuT5bqT6K6+572uPC9iaWc+Jm5ic3A7Jm5ic3A7Jm5ic3A7PHNtYWxsPjx1Pu+8iCDkuKrkurrotYTmlpkgPu+8iTwvdT48L3NtYWxsPicsXFxuICAgIGRlc2M6ICfigJzigJzigJ3igJ3mgqjlhbHmnIkgPHNwYW4gc3R5bGU9XFxcImNvbG9yOiAjZmY3MDAwXFxcIj4nICsgcnVsZUxpc3QubGVuZ3RoICsgJzwvc3Bhbj4nICsgXFxcIiDmnaHop4TliJnjgIJcXFxcbueCueWHu+inhOWImeWPr+i/m+ihjOWIhuS6q+OAgeWIoOmZpOOAgeWvvOWFpeaTjeS9nOWPiuafpeeci+ivpuaDhVxcXCIsXFxuICAgIHVybDogXFxcImhpa2VyOi8vcGFnZS9QZXJzb25hbERhdGEjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjXFxcIixcXG4gICAgZXh0cmE6e2lkOmRldi5pZH0sXFxuICAgIGNvbF90eXBlOiAndGV4dF8xJ1xcbn0pO1xcbm1hcENvbFR5cGUoZGF0YSwgXFxcImxpbmVcXFwiLCAyKTtcXG5kYXRhLnB1c2goe1xcbiAgICB0aXRsZTogc21hbGwoY29sb3IoXFxcIuabtOaUueWFrOWRiuKcjVxcXCIsIFxcXCIjMzRiMWZmXFxcIikpLFxcbiAgICAvLyB1cmw6IFxcXCJ4NTovL2ZpbGU6Ly8vc3RvcmFnZS9lbXVsYXRlZC8wL0FuZHJvaWQvZGF0YS9jb20uZXhhbXBsZS5oaWtlcnZpZXcvZmlsZXMvRG9jdW1lbnRzL3J1bGVzL2R6SG91c2UvaHRtbC9kZXZfaW5mb19lZGl0Lmh0bWxcXFwiLFxcbiAgICB1cmw6IFxcXCJoaWtlcjovL3BhZ2UvZGV2SW5mb0VkaXRcXFwiLFxcbiAgICBjb2xfdHlwZTogJ3RleHRfMydcXG59KTtcXG5kYXRhLnB1c2goe1xcbiAgICB0aXRsZTogc21hbGwoY29sb3IoXFxcIuabtOWkmuWIhuS6q/Cfk7JcXFwiLCBcXFwiIzM0YjFmZlxcXCIpKSxcXG4gICAgLy91cmw6IFxcXCJ4NTovL2ZpbGU6Ly8vc3RvcmFnZS9lbXVsYXRlZC8wL0FuZHJvaWQvZGF0YS9jb20uZXhhbXBsZS5oaWtlcnZpZXcvZmlsZXMvRG9jdW1lbnRzL3J1bGVzL2R6SG91c2UvaHRtbC/lvIDlj5HogIXliIbkuqsuaHRtbFxcXCIsXFxuICAgIHVybDogXFxcImhpa2VyOi8vcGFnZS9tb3JlU2hhcmVcXFwiLFxcbiAgICBjb2xfdHlwZTogJ3RleHRfMydcXG59KTtcXG5kYXRhLnB1c2goe1xcbiAgICB0aXRsZTogc21hbGwoY29sb3IoXFxcIuWNh+e6p+S+nei1lvCfk6VcXFwiLCBcXFwiIzM0YjFmZlxcXCIpKSxcXG4gICAgdXJsOiAkKFxcXCLljYfnuqfkvJrph43mlrDku47ku5PlupPmi4nlj5bnm7jlhbPnmoTpnZnmgIHpobXpnaLliLDmnKzlnLBcXFxcbuehruiupOWNh+e6p+WQlz9cXFwiKS5jb25maXJtKChob3N0KSA9PiB7XFxuICAgICAgICB3cml0ZUZpbGUoXFxcImhpa2VyOi8vZmlsZXMvcnVsZXMvZHpIb3VzZS9odG1sL+W8gOWPkeiAheWIhuS6qy5odG1sXFxcIiwgcmVxdWVzdChob3N0KycvaGlrZXJ1bGUvcnVsZWxpc3QuanNvbj9pZD01MzknKSk7XFxuICAgICAgICB3cml0ZUZpbGUoXFxcImhpa2VyOi8vZmlsZXMvcnVsZXMvZHpIb3VzZS9odG1sL2Rldl9pbmZvX2VkaXQuaHRtbFxcXCIsIHJlcXVlc3QoaG9zdCsnL2hpa2VydWxlL3J1bGVsaXN0Lmpzb24/aWQ9NDAyJykpO1xcbiAgICAgICAgd3JpdGVGaWxlKFxcXCJoaWtlcjovL2ZpbGVzL3J1bGVzL2R6SG91c2UvaHRtbC9kZXZfaW5mb19nZXQuaHRtbFxcXCIsIHJlcXVlc3QoaG9zdCsnL2hpa2VydWxlL3J1bGVsaXN0Lmpzb24/aWQ9NDA0JykpO1xcbiAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xcbiAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL+W3sumHjee9ruW8gOWPkeiAheWIhuS6qyznroDku4vmn6XnnIss566A5LuL57yW6L6R562J6Z2Z5oCB5paH5Lu2XFxcIjtcXG4gICAgfSxhcGkuaG9zdCksXFxuICAgIGNvbF90eXBlOiAndGV4dF8zJ1xcbn0pO1xcbmxldCBkZXZTZXRCYWNrO1xcbnRyeSB7XFxuICAgIGRldlNldEJhY2sgPSBKU09OLnBhcnNlKHJlcXVlc3Qoc2V0dGluZ3NHZXRVcmwpKTtcXG59IGNhdGNoIChlKSB7XFxuICAgIGRldlNldEJhY2sgPSB7fTtcXG59XFxuXFxuZnVuY3Rpb24gc2V0U2V0dGluZ0l0ZW0oYmFzaWMpIHtcXG4gICAgbGV0IHRlbXAgPSB7XFxuICAgICAgICB0aXRsZTogYmFzaWMudGl0bGUsXFxuICAgICAgICBjb2xfdHlwZTogYmFzaWMuY29sX3R5cGUsXFxuICAgICAgICB1cmw6ICQoYmFzaWMuY29uZmlybSkuY29uZmlybSgodXJsLCBtc2cpID0+IHtcXG4gICAgICAgICAgICBsZXQgYmFjayA9IHJlcXVlc3QodXJsKTtcXG4gICAgICAgICAgICBsZXQgcmV0ID0gSlNPTi5wYXJzZShiYWNrKTtcXG4gICAgICAgICAgICBpZiAocmV0LnN0YXR1cyA9PSAwKSB7XFxuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKHRydWUpO1xcbiAgICAgICAgICAgICAgICByZXR1cm4gXFxcInRvYXN0Oi8vXFxcIiArIG1zZ1swXTtcXG4gICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFwidG9hc3Q6Ly9cXFwiICsgbXNnWzFdICsgXFxcIlxcXFxuXFxcIiArIHJldC5kZXRhaWw7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSwgYmFzaWMudXJsLCBiYXNpYy5tc2cpXFxuICAgIH07XFxuICAgIHJldHVybiB0ZW1wO1xcbn1cXG5pZiAoZGV2U2V0QmFjay5zdGF0dXMgPT0gMCkge1xcbiAgICBsZXQgZGV2U2V0dGluZ3MgPSBkZXZTZXRCYWNrLnJlc3VsdDtcXG4gICAgbGV0IHNoYXJlID0ge1xcbiAgICAgICAgY29sX3R5cGU6IFxcXCJ0ZXh0XzNcXFwiXFxuICAgIH07XFxuICAgIGlmIChkZXZTZXR0aW5ncy5zaGFyZV9wdWJsaWMpIHtcXG4gICAgICAgIHNoYXJlLnRpdGxlID0gc21hbGwoY29sb3IoXFxcIuWFrOW8gOS4iuS8oFxcXCIsIFxcXCJncmVlblxcXCIpICsgY29sb3IoXFxcIijnp4Hol48pXFxcIiwgXFxcIiMwMGJmZmZcXFwiKSk7XFxuICAgICAgICBzaGFyZS51cmwgPSBnZXRBcGkoXFxcImd1cGxvYWRcXFwiKSArIFxcXCI/cXE9XFxcIiArIHVzZXJuYW1lICsgXFxcIiZwYXNzd29yZD1cXFwiICsgcGFzc3dvcmQgKyBcXFwiJmZsYWc9MVxcXCI7XFxuICAgICAgICBzaGFyZS5jb25maXJtID0gXFxcIuaYr+WQpuehruiupOengeiXj+S7peWQjuaPkOS6pOeahOinhOWImT9cXFwiO1xcbiAgICAgICAgc2hhcmUubXNnID0gW1xcXCLlt7Lnp4Hol49cXFwiLCBcXFwi56eB6JeP5aSx6LSlXFxcIl07XFxuICAgIH0gZWxzZSB7XFxuICAgICAgICBzaGFyZS50aXRsZSA9IHNtYWxsKGNvbG9yKFxcXCLnp4Hlr4bkuIrkvKBcXFwiLCBcXFwicmVkXFxcIikgKyBjb2xvcihcXFwiKOWFrOW8gClcXFwiLCBcXFwiI2FkZmYyZlxcXCIpKTtcXG4gICAgICAgIHNoYXJlLnVybCA9IGdldEFwaShcXFwiZ3VwbG9hZFxcXCIpICsgXFxcIj9xcT1cXFwiICsgdXNlcm5hbWUgKyBcXFwiJnBhc3N3b3JkPVxcXCIgKyBwYXNzd29yZDtcXG4gICAgICAgIHNoYXJlLmNvbmZpcm0gPSBcXFwi5piv5ZCm56Gu6K6k5YWs5byA5Lul5ZCO5o+Q5Lqk55qE6KeE5YiZP1xcXCI7XFxuICAgICAgICBzaGFyZS5tc2cgPSBbXFxcIuW3suWFrOW8gFxcXCIsIFxcXCLlhazlvIDlpLHotKVcXFwiXTtcXG4gICAgfVxcbiAgICBkYXRhLnB1c2goc2V0U2V0dGluZ0l0ZW0oc2hhcmUpKTtcXG4gICAgbGV0IHRpbWVPdmVyID0ge1xcbiAgICAgICAgY29sX3R5cGU6IFxcXCJ0ZXh0XzNcXFwiXFxuICAgIH07XFxuICAgIGlmIChkZXZTZXR0aW5ncy50aW1lX292ZXIpIHtcXG4gICAgICAgIHRpbWVPdmVyLnRpdGxlID0gc21hbGwoY29sb3IoXFxcIuefreaXtuenmOmSpVxcXCIsIFxcXCJncmVlblxcXCIpICsgY29sb3IoXFxcIijmsLjkuYUpXFxcIiwgXFxcIiMwMGJmZmZcXFwiKSk7XFxuICAgICAgICB0aW1lT3Zlci51cmwgPSBnZXRBcGkoXFxcImd0aW1lb3ZlclxcXCIpICsgXFxcIj9xcT1cXFwiICsgdXNlcm5hbWUgKyBcXFwiJnBhc3N3b3JkPVxcXCIgKyBwYXNzd29yZCArIFxcXCImZmxhZz0xXFxcIjtcXG4gICAgICAgIHRpbWVPdmVyLmNvbmZpcm0gPSBcXFwi5piv5ZCm56Gu6K6k5Lul5ZCO55qE56eB6JeP6KeE5YiZ5YiG5Lqr5LiN6L+H5pyfP1xcXCI7XFxuICAgICAgICB0aW1lT3Zlci5tc2cgPSBbXFxcIuW3suiuvuS4uuawuOS5hVxcXCIsIFxcXCLorr7kuLrmsLjkuYXlpLHotKVcXFwiXTtcXG4gICAgfSBlbHNlIHtcXG4gICAgICAgIHRpbWVPdmVyLnRpdGxlID0gc21hbGwoY29sb3IoXFxcIuawuOS5heenmOmSpVxcXCIsIFxcXCJyZWRcXFwiKSArIGNvbG9yKFxcXCIo6L+H5pyfKVxcXCIsIFxcXCIjYWRmZjJmXFxcIikpO1xcbiAgICAgICAgdGltZU92ZXIudXJsID0gZ2V0QXBpKFxcXCJndGltZW92ZXJcXFwiKSArIFxcXCI/cXE9XFxcIiArIHVzZXJuYW1lICsgXFxcIiZwYXNzd29yZD1cXFwiICsgcGFzc3dvcmQ7XFxuICAgICAgICB0aW1lT3Zlci5jb25maXJtID0gXFxcIuehruiupOimgeS7peWQjuWIhuS6q+eahOengeiXj+inhOWImeiHquWKqOWIsOacnz9cXFwiO1xcbiAgICAgICAgdGltZU92ZXIubXNnID0gW1xcXCLlt7Lorr7kuLrov4fmnJ9cXFwiLCBcXFwi6K6+5Li66L+H5pyf5aSx6LSlXFxcIl07XFxuICAgIH1cXG4gICAgZGF0YS5wdXNoKHNldFNldHRpbmdJdGVtKHRpbWVPdmVyKSk7XFxuICAgIGxldCBkaXNjdXNzID0ge1xcbiAgICAgICAgY29sX3R5cGU6IFxcXCJ0ZXh0XzNcXFwiXFxuICAgIH07XFxuICAgIGlmIChkZXZTZXR0aW5ncy5jYW5fZGlzY3Vzcykge1xcbiAgICAgICAgZGlzY3Vzcy50aXRsZSA9IHNtYWxsKGNvbG9yKFxcXCLlhYHorrjor4TorrpcXFwiLCBcXFwicmVkXFxcIikgKyBjb2xvcihcXFwiKOS4jeiuuClcXFwiLCBcXFwiI2FkZmYyZlxcXCIpKTtcXG4gICAgICAgIGRpc2N1c3MudXJsID0gYXBpLmRpc19kZXZfZGlzY3VzcyArIFxcXCI/cXE9XFxcIiArIHVzZXJuYW1lICsgXFxcIiZwYXNzd29yZD1cXFwiICsgcGFzc3dvcmQrIFxcXCImZmxhZz0xXFxcIjtcXG4gICAgICAgIGRpc2N1c3MuY29uZmlybSA9IFxcXCLmmK/lkKbnoa7orqTku6XlkI7kuIrkvKDnmoTop4TliJnlhYHorrjor4Torro/XFxcIjtcXG4gICAgICAgIGRpc2N1c3MubXNnID0gW1xcXCLlt7Lorr7kuLrkuI3orrhcXFwiLCBcXFwi6K6+572u5aSx6LSlXFxcIl07XFxuXFxuICAgIH0gZWxzZSB7XFxuICAgICAgICBkaXNjdXNzLnRpdGxlID0gc21hbGwoY29sb3IoXFxcIuS4jeiuuOivhOiuulxcXCIsIFxcXCJncmVlblxcXCIpICsgY29sb3IoXFxcIijlhYHorrgpXFxcIiwgXFxcIiMwMGJmZmZcXFwiKSk7XFxuICAgICAgICBkaXNjdXNzLnVybCA9IGFwaS5kaXNfZGV2X2Rpc2N1c3MgKyBcXFwiP3FxPVxcXCIgKyB1c2VybmFtZSArIFxcXCImcGFzc3dvcmQ9XFxcIiArIHBhc3N3b3JkO1xcbiAgICAgICAgZGlzY3Vzcy5jb25maXJtID0gXFxcIuaYr+WQpuehruiupOS7peWQjuS4iuS8oOeahOinhOWImeWFgeiuuOivhOiuuj9cXFwiO1xcbiAgICAgICAgZGlzY3Vzcy5tc2cgPSBbXFxcIuW3suiuvuS4uuWFgeiuuFxcXCIsIFxcXCLorr7nva7lpLHotKVcXFwiXTtcXG4gICAgfVxcbiAgICBkYXRhLnB1c2goc2V0U2V0dGluZ0l0ZW0oZGlzY3VzcykpO1xcbn1cXG5tYXBDb2xUeXBlKGRhdGEsIFxcXCJsaW5lXFxcIiwgMik7XFxuZm9yIChsZXQgaXRlbSBvZiBydWxlTGlzdCkge1xcbiAgICBsZXQgbXlfdF9leGNvZGUxID0gJyc7XFxuICAgIGxldCBteV90X2V4Y29kZTIgPSAnJztcXG4gICAgaWYgKGl0ZW0uc3RhdGUgIT0gJ3B1YmxpYycpIHtcXG4gICAgICAgIG15X3RfZXhjb2RlMSArPSAn44qZ77iPJztcXG4gICAgfSBlbHNlIHtcXG4gICAgICAgIG15X3RfZXhjb2RlMSArPSAnJztcXG4gICAgfVxcbiAgICBkYXRhLnB1c2goe1xcbiAgICAgICAgdGl0bGU6IG15X3RfZXhjb2RlMSArIGl0ZW0ubmFtZSArIG15X3RfZXhjb2RlMixcXG4gICAgICAgIHVybDogXFxcImhpa2VyOi8vcGFnZS9tYW5hZ2VSdWxlI25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5I1xcXCIsXFxuICAgICAgICBleHRyYToge1xcbiAgICAgICAgICAgIGlkOiBpdGVtLmlkLFxcbiAgICAgICAgICAgIC8vdXNlcm5hbWU6IHVzZXJuYW1lLFxcbiAgICAgICAgICAgIC8vcGFzc3dvcmQ6IHBhc3N3b3JkXFxuICAgICAgICB9LFxcbiAgICAgICAgcGljX3VybDogaXRlbS5waWMsXFxuICAgIH0pXFxufVxcbmlmIChydWxlTGlzdC5sZW5ndGggPT09IDApIHtcXG4gICAgZGF0YS5wdXNoKHtcXG4gICAgICAgIHRpdGxlOiBcXFwiPGg1IHN0eWxlPSd0ZXh0LWFsaWduOmNlbnRlcic+5b+r5p2l5LiK5Lyg5L2g55qE56ys5LiA5p2h6KeE5YiZ5ZCn77yBPC9oNT5cXFwiLFxcbiAgICAgICAgY29sX3R5cGU6IFxcXCJyaWNoX3RleHRcXFwiXFxuICAgIH0pO1xcbn1cXG5zZXRSZXN1bHQoZGF0YSk7XCJ9LHtcImNvbF90eXBlXCI6XCJtb3ZpZV8zXCIsXCJuYW1lXCI6XCLop4TliJnor6bnu4YtZGV2XCIsXCJwYXRoXCI6XCJtYW5hZ2VSdWxlXCIsXCJydWxlXCI6XCJqczpcXG4gICAgY29uc3Qge1xcbiAgICAgICAgZ2V0QXBpLFxcbiAgICAgICAgY29sb3IsXFxuICAgICAgICBzbWFsbCxcXG4gICAgICAgIGdldEZpbGUsXFxuICAgICAgICBleGlzdEZpbGUsXFxuICAgICAgICBtYXBDb2xUeXBlLFxcbiAgICAgICAgaHRtbFRhZyxcXG4gICAgICAgIGFwaSxcXG4gICAgICAgIG1kLFxcbiAgICB9ID0gJC5yZXF1aXJlKFxcXCJoaWtlcjovL3BhZ2UvdXRpbGl5XFxcIik7XFxubGV0IHtcXG4gICAgaWRcXG59ID0gTVlfUEFSQU1TO1xcbmxldCB7XFxuICAgIHVzZXJuYW1lLFxcbiAgICBwYXNzd29yZCxcXG59ID0gZ2V0RmlsZSgpO1xcbmFkZExpc3RlbmVyKCdvbkNsb3NlJywgJC50b1N0cmluZygoKSA9PiB7XFxuICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcXG59KSk7XFxubGV0IGRhdGFJdGVtID0gSlNPTi5wYXJzZShyZXF1ZXN0KGdldEFwaShcXFwiZ2V0YnlpZFxcXCIpICsgXFxcIj9pZD1cXFwiICsgaWQpKS5yZXN1bHQ7XFxuc2V0UGFnZVRpdGxlKFxcXCLnvJbovpHjgIxcXFwiICsgZGF0YUl0ZW0ubmFtZSArIFxcXCLjgI1cXFwiKTtcXG5sZXQgcmVxQnlHZXQgPSBcXFwiP2lkPVxcXCIgKyBkYXRhSXRlbS5pZCArIFxcXCImcXE9XFxcIiArIHVzZXJuYW1lICsgXFxcIiZwYXNzd29yZD1cXFwiICsgcGFzc3dvcmQ7XFxubGV0IHJ1bGVMaXN0SnNvbiA9IGdldEFwaShcXFwicnVsZUxpc3RKc29uXFxcIikgKyBcXFwiP2lkPVxcXCI7XFxubGV0IGRhdGEgPSBbXTtcXG5kYXRhLnB1c2goe1xcbiAgICB0aXRsZTogaHRtbFRhZyhcXFwiYmlnXFxcIiwgXFxcIueJiOacrFxcXCIpLFxcbiAgICBkZXNjOiBcXFwi4oCc4oCc4oCd4oCd5LqR56uv54mI5pysOlxcXCIgKyBjb2xvcihkYXRhSXRlbS52ZXIsIFxcXCIjNWNmZjJjXFxcIikgKyBcXFwiXFxcXG7kuIrmrKHmj5DkuqTkuo46IFtcXFwiICsgY29sb3IoZGF0YUl0ZW0ubGFzdF91cGRhdGUsIFxcXCIjZmY3MDAwXFxcIikgKyBcXFwiXVxcXCIsXFxuICAgIHVybDogJChcXFwiPOW8gOWPkeiAhT5cXFxcblxcXCIgKyBkYXRhSXRlbS5hdXRob3IgKyBcXFwiXFxcXG485ZCN56ewPlxcXFxuXFxcIiArIGRhdGFJdGVtLm5hbWUgKyBcXFwiXFxcXG485LqR56uv54mI5pysPlxcXFxuXFxcIiArIGRhdGFJdGVtLnZlciArIFxcXCJcXFxcbjzmm7TmlrDml7bpl7Q+XFxcXG5bXFxcIiArIGRhdGFJdGVtLmxhc3RfdXBkYXRlICsgXFxcIl1cXFwiKS5jb25maXJtKCgpID0+IHt9KSxcXG4gICAgY29sX3R5cGU6ICd0ZXh0XzEnXFxufSk7XFxubGV0IGRhdGFUeXBlID0ge1xcbiAgICBob21lX3J1bGVfdXJsOiAn6aaW6aG15LqR6KeE5YiZJyxcXG4gICAgcHVibGlzaDogJ+aPkOS6pOS6keS7k+W6k+inhOWImScsXFxuICAgIGpzX3VybDogJ+e9kemhteaPkuS7tuinhOWImScsXFxuICAgIGh0bWw6ICfpnZnmgIHpobXpnaInLFxcbiAgICBjb25maWc6ICfkuLvpobXphY3nva4nXFxufTtcXG5cXG5sZXQgYmFzaWMgPSB7XFxuICAgIGNvbF90eXBlOiBcXFwidGV4dF8xXFxcIixcXG4gICAgdXJsOiBcXFwiaGlrZXI6Ly9lbXB0eVxcXCJcXG59O1xcbmxldCBkYXRhVHlwZVRpcHMgPSBkYXRhVHlwZVtkYXRhSXRlbS5kYXRhX3R5cGVdIHx8ICfmnKrnn6Xop4TliJk6JyArIGRhdGFJdGVtLmRhdGFfdHlwZTtcXG5cXG5iYXNpYy50aXRsZSA9IGh0bWxUYWcoXFxcImJpZ1xcXCIsIFxcXCLnsbvlnotcXFwiKSArIFxcXCJcXFxcdFxcXFx0XFxcXHRcXFwiICsgc21hbGwoXFxcIihpZDpcXFwiICsgZGF0YUl0ZW0uaWQgKyBcXFwiKVxcXCIpO1xcbmJhc2ljLmRlc2MgPSBcXFwi5pWw5o2u57G75Z6L77yaXFxcIiArIGNvbG9yKGRhdGFUeXBlVGlwcywgXFxcIiNjYjU0ZmZcXFwiKSArIFxcXCJcXFxcbuWIhuS6q+eKtuaAgeS4uu+8mlxcXCIgKyBkYXRhSXRlbS5zdGF0ZTtcXG5pZiAoW1xcXCJodG1sXFxcIiwgXFxcImNvbmZpZ1xcXCIsIFxcXCJqc191cmxcXFwiXS5pbmNsdWRlcyhkYXRhSXRlbS5kYXRhX3R5cGUpKSB7XFxuICAgIGJhc2ljLmRlc2MgKz0gXFxcIlxcXFxu4oCc4oCc4oCd4oCdID0+XFxcIiArIHNtYWxsKFxcXCLngrnmraTpooTop4hcXFwiKTtcXG4gICAgYmFzaWMudXJsID0gcnVsZUxpc3RKc29uICsgZGF0YUl0ZW0uaWQ7XFxufVxcbmxldCBhdXRoID0gXFxcIlxcXCI7XFxuaWYgKGRhdGFJdGVtLnN0YXRlID09IFxcXCJwcml2YXRlXFxcIikge1xcbiAgICBsZXQgYXV0aF9iYWNrID0gSlNPTi5wYXJzZShyZXF1ZXN0KGdldEFwaShcXFwiYXV0aFxcXCIpICsgcmVxQnlHZXQpKTtcXG4gICAgYmFzaWMudGl0bGUgPSBiYXNpYy50aXRsZSArIFxcXCJcXFxcblxcXCIgKyBzbWFsbChjb2xvcihhdXRoX2JhY2sucmVzdWx0LCBcXFwiZ3JleVxcXCIpKTtcXG4gICAgYXV0aCA9ICcmYXV0aD0nICsgYXV0aF9iYWNrLnJlc3VsdDtcXG4gICAgYmFzaWMudXJsID0gYmFzaWMudXJsID09PSBcXFwiaGlrZXI6Ly9lbXB0eVxcXCIgPyBiYXNpYy51cmwgOiBiYXNpYy51cmwgKyBhdXRoO1xcbn1cXG5kYXRhLnB1c2goYmFzaWMpO1xcbmxldCBub3RlcyA9IHJlcXVlc3QoZ2V0QXBpKFxcXCJnZXRfcnVsZV9ub3RlXFxcIikgKyBpZCk7XFxubm90ZXMgPSBKU09OLnBhcnNlKG5vdGVzKS5yZXN1bHQ7XFxucmVxdWlyZShtZCk7XFxubGV0IG5vdGVzSHRtbD1cXFwiXFxcIlxcbnRyeXtcXG4gICAgbm90ZXNIdG1sPW1hcmtlZC5wYXJzZShub3Rlcyk7XFxufWNhdGNoKGUpe31cXG5pZiAobm90ZXMgIT09IGZhbHNlKSB7XFxuICAgIGRhdGEucHVzaCh7XFxuICAgICAgICB0aXRsZTogaHRtbFRhZyhcXFwiYmlnXFxcIiwgXFxcIuWkh+azqFxcXCIpICsgXFxcIlxcXFx0XFxcXHRcXFxcdFxcXCIgKyBzbWFsbChodG1sVGFnKFxcXCJ1XFxcIiwgXFxcIuafpeeci+WujOaVtOWFrOWRiiA+XFxcIikpLFxcbiAgICAgICAgZGVzYzogbm90ZXMsXFxuICAgICAgICBjb2xfdHlwZTogXFxcInRleHRfMVxcXCIsXFxuICAgICAgICB1cmw6IFxcXCJoaWtlcjovL3BhZ2UvaW5mb1xcXCIsXFxuICAgICAgICBleHRyYToge1xcbiAgICAgICAgICAgIHRleHQ6IG5vdGVzSHRtbCxcXG4gICAgICAgICAgICBuYW1lOiBkYXRhSXRlbS5uYW1lLFxcbiAgICAgICAgICAgIC8vIHR5cGU6IFxcXCJsb25nX3RleHRcXFwiXFxuICAgICAgICAgICAgdHlwZTogXFxcInJpY2hfdGV4dFxcXCJcXG4gICAgICAgIH1cXG4gICAgfSk7XFxufVxcbmRhdGEucHVzaCh7XFxuICAgIHRpdGxlOiBodG1sVGFnKFxcXCJiaWdcXFwiLCBcXFwi5pON5L2cXFxcIiksXFxuICAgIGNvbF90eXBlOiBcXFwidGV4dF8xXFxcIixcXG4gICAgdXJsOiBcXFwidG9hc3Q6Ly/kvaDmiY3mmK/mnIDluIXnmoTpgqPkuKrkurrvvIFcXFwiXFxufSk7XFxubGV0IGltcG9ydFVybCwgcnVsZUNvZGUsIHNoYXJlVXJsLCBiYWNrQ29kZSA9IFxcXCJcXFwiO1xcbmxldCBzdWJVcmwgPSBydWxlTGlzdEpzb24gKyBkYXRhSXRlbS5pZCArIGF1dGg7XFxuaWYgKCFkYXRhSXRlbS5pc19qc29uKSB7XFxuICAgIGJhY2tDb2RlID0gcmVxdWVzdChzdWJVcmwpO1xcbn1cXG5zd2l0Y2ggKGRhdGFJdGVtLmRhdGFfdHlwZSkge1xcbiAgICBjYXNlIFxcXCJob21lX3J1bGVfdXJsXFxcIjpcXG4gICAgICAgIHJ1bGVDb2RlID0gXFxcIua1t+mYlOinhueVjOmmlumhtemikemBk+inhOWImeOAkFxcXCIgKyBkYXRhSXRlbS5uYW1lICsgXFxcIuOAke+/pWhvbWVfcnVsZV91cmzvv6VcXFwiICsgcnVsZUxpc3RKc29uICsgZGF0YUl0ZW0uaWQgKyBhdXRoO1xcbiAgICAgICAgaW1wb3J0VXJsID0gXFxcInJ1bGU6Ly9cXFwiICsgYmFzZTY0RW5jb2RlKHJ1bGVDb2RlKVxcbiAgICAgICAgYnJlYWs7XFxuICAgIGNhc2UgJ3B1Ymxpc2gnOlxcbiAgICAgICAgcnVsZUNvZGUgPSAn5rW36ZiU6KeG55WM6KeE5YiZ5YiG5Lqr77yM5b2T5YmN5YiG5Lqr55qE5piv77yaJyArIGRhdGFJdGVtLm5hbWUgKyAn77+lcHVibGlzaO+/pScgKyBiYXNlNjRFbmNvZGUoYmFja0NvZGUpO1xcbiAgICAgICAgaW1wb3J0VXJsID0gJ3J1bGU6Ly8nICsgYmFzZTY0RW5jb2RlKHJ1bGVDb2RlKTtcXG4gICAgICAgIGJyZWFrO1xcbiAgICBjYXNlICdqc191cmwnOlxcbiAgICAgICAgcnVsZUNvZGUgPSAn5rW36ZiU6KeG55WM6KeE5YiZ5YiG5Lqr77yM5b2T5YmN5YiG5Lqr55qE5piv77ya572R6aG15o+S5Lu277+lanNfdXJs77+lJyArIGRhdGFJdGVtLm5hbWUgKyAnQGJhc2U2NDovLycgKyBiYXNlNjRFbmNvZGUoYmFja0NvZGUpO1xcbiAgICAgICAgaW1wb3J0VXJsID0gJ3J1bGU6Ly8nICsgYmFzZTY0RW5jb2RlKHJ1bGVDb2RlKTtcXG4gICAgICAgIGJyZWFrO1xcbiAgICBjYXNlICdodG1sJzpcXG4gICAgICAgIGxldCBmaWxlX3RtcCA9IGRhdGFJdGVtLm5hbWUuc3BsaXQoJy4nKTtcXG4gICAgICAgIGxldCBmaWxlX3BhdGggPSBmaWxlX3RtcC5sZW5ndGggPiAxID8gZmlsZV90bXBbZmlsZV90bXAubGVuZ3RoIC0gMV0gKyBcXFwiL1xcXCIgKyBkYXRhSXRlbS5uYW1lIDogZGF0YUl0ZW0ubmFtZTtcXG4gICAgICAgIHJ1bGVDb2RlID0gXFxcIua1t+mYlOinhueVjOacrOWcsOaWh+S7tuWIhuS6q++/pWZpbGVfdXJs77+laGlrZXI6Ly9maWxlcy9ydWxlcy9kekhvdXNlL1xcXCIgKyBmaWxlX3BhdGggKyBcXFwiQFxcXCIgKyBydWxlTGlzdEpzb24gKyBkYXRhSXRlbS5pZCArIGF1dGg7XFxuICAgICAgICBpbXBvcnRVcmwgPSAncnVsZTovLycgKyBiYXNlNjRFbmNvZGUocnVsZUNvZGUpO1xcbiAgICAgICAgYnJlYWtcXG4gICAgY2FzZSBcXFwiY29uZmlnXFxcIjpcXG4gICAgICAgIGltcG9ydFVybCA9ICQoKS5ydWxlKHBhc3N3b3JkID0+IHtcXG4gICAgICAgICAgICBldmFsKGZldGNoKFxcXCJoaWtlcjovL2Fzc2V0cy9ob21lLmpzXFxcIikpO1xcbiAgICAgICAgICAgIEhpa2VySG9tZS5sb2FkKFxcXCJpbXBvcnRcXFwiLCBwYXNzd29yZCk7XFxuICAgICAgICB9LCBiYWNrQ29kZSk7XFxuICAgICAgICBicmVhaztcXG59XFxubGV0IG15X2NvbF90eXBlID0gXFxcInRleHRfMlxcXCI7XFxuaWYgKGltcG9ydFVybCkge1xcbiAgICBkYXRhLnB1c2goe1xcbiAgICAgICAgdGl0bGU6IFxcXCLlr7zlhaXop4TliJlcXFwiLFxcbiAgICAgICAgdXJsOiBpbXBvcnRVcmwsXFxuICAgICAgICBjb2xfdHlwZTogbXlfY29sX3R5cGVcXG4gICAgfSk7XFxuICAgIGlmKGRhdGFJdGVtLmlzX2pzb25fbGlzdCYmL2hvbWVfcnVsZV91cmx8aHRtbC8udGVzdChkYXRhSXRlbS5kYXRhX3R5cGUpKXtcXG4gICAgICAgIGRhdGEucHVzaCh7XFxuICAgICAgICAgICAgdGl0bGU6ICfigJzigJzigJ3igJ08c3BhbiBzdHlsZT1cXFwiY29sb3I6ICNmZjcwMDBcXFwiPuWvvOWFpemBk+W+t+e7jzwvc3Bhbj4nLFxcbiAgICAgICAgICAgIHVybDogJCgpLmxhenlSdWxlKChkYXRhSXRlbSxzdWJVcmwpPT57XFxuICAgICAgICAgICAgICAgIC8vIGxldCB0aXRsZSA9IFxcXCJILVxcXCIrZGF0YUl0ZW0ubmFtZStcXFwiLlxcXCIrZGF0YUl0ZW0uYXV0aG9yO1xcbiAgICAgICAgICAgICAgICBsZXQgdGl0bGUgPSBcXFwiSi1cXFwiK2RhdGFJdGVtLm5hbWUuc3BsaXQoJy4nKVswXTtcXG4gICAgICAgICAgICAgICAgbGV0IHN1Yk9iaiA9IHtcXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcXG4gICAgICAgICAgICAgICAgICAgIHVybDogc3ViVXJsLFxcbiAgICAgICAgICAgICAgICAgICAgZGVzYzogXFxcImhpa2VyOi8vZmlsZXMvcnVsZXMvZHpIb3VzZS9ydWxlQ2FjaGUvXFxcIit0aXRsZStcXFwiLmpzb25cXFwiLFxcbiAgICAgICAgICAgICAgICAgICAgY29kZTogXFxcIlxcXCIsXFxuICAgICAgICAgICAgICAgICAgICBhY3RpdmU6IGZhbHNlLC8v56aB55So5bm25Y+R5pu05pawXFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgbGV0IHNoYXJlVGV4dCA9IGJhc2U2NEVuY29kZShKU09OLnN0cmluZ2lmeShzdWJPYmopKTtcXG4gICAgICAgICAgICAgICAgdmFyIHBhc3RlcyA9IGdldFBhc3RlcygpO1xcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gc2hhcmVQYXN0ZShzaGFyZVRleHQscGFzdGVzLnNsaWNlKC0xKVswXSk7XFxuICAgICAgICAgICAgICAgIGxldCBpbXBvcnRfcnVsZT0gXFxcIui9u+WQiOmbhuiuoumYhe+8mlxcXCIrdGl0bGUrJ1xcXFxuJyt1cmw7XFxuICAgICAgICAgICAgICAgIGNvcHkoaW1wb3J0X3J1bGUpO1xcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gJ2hpa2VyOi8vZmlsZXMvcnVsZXMvZHpIb3VzZS9ydWxlQ2FjaGUvc3ViLmpzb24nO1xcbiAgICAgICAgICAgICAgICAkLnJjKGNvbmZpZy5saWIuc3ViKTtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIOiuoumYheWvvOWFpShwYXRoKVxcbiAgICAgICAgICAgIH0sZGF0YUl0ZW0sc3ViVXJsKSxcXG4gICAgICAgICAgICBjb2xfdHlwZTogbXlfY29sX3R5cGVcXG4gICAgICAgIH0pO1xcbiAgICB9XFxufVxcbmlmIChydWxlQ29kZSkge1xcbiAgICBkYXRhLnB1c2goe1xcbiAgICAgICAgdGl0bGU6IFxcXCLliIbkuqvop4TliJlcXFwiLFxcbiAgICAgICAgdXJsOiBcXFwiY29weTovL1xcXCIgKyBydWxlQ29kZSxcXG4gICAgICAgIGNvbF90eXBlOiBteV9jb2xfdHlwZVxcbiAgICB9KTtcXG59XFxuXFxuZnVuY3Rpb24gc2V0U2V0dGluZ0l0ZW0oYmFzaWMsIHBhdHRlcm4pIHtcXG4gICAgbGV0IHRlbXAgPSB7XFxuICAgICAgICB0aXRsZTogYmFzaWMudGl0bGUsXFxuICAgICAgICBjb2xfdHlwZTogYmFzaWMuY29sX3R5cGUsXFxuICAgICAgICB1cmw6ICQoYmFzaWMuY29uZmlybSkuY29uZmlybSgodXJsLCBtc2csIHBhdHRlcm4pID0+IHtcXG4gICAgICAgICAgICBsZXQgYmFja0EgPSByZXF1ZXN0KHVybCk7XFxuICAgICAgICAgICAgbGV0IHJldCA9IEpTT04ucGFyc2UoYmFja0EpO1xcbiAgICAgICAgICAgIGlmIChyZXQuc3RhdHVzID09IDApIHtcXG4gICAgICAgICAgICAgICAgcGF0dGVybiA/IGJhY2soKSA6IHJlZnJlc2hQYWdlKGZhbHNlKTtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL1xcXCIgKyBtc2dbMF07XFxuICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgcGF0dGVybiA/IGJhY2soKSA6IHJlZnJlc2hQYWdlKGZhbHNlKTtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL1xcXCIgKyBtc2dbMV0gKyBcXFwiXFxcXG5cXFwiICsgcmV0LmRldGFpbDtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9LCBiYXNpYy51cmwsIGJhc2ljLm1zZywgcGF0dGVybilcXG4gICAgfTtcXG4gICAgcmV0dXJuIHRlbXA7XFxufVxcbmlmIChkYXRhSXRlbS5zdGF0ZSA9PSAncHJpdmF0ZScpIHtcXG4gICAgZGF0YS5wdXNoKHtcXG4gICAgICAgIHRpdGxlOiBcXFwi6K6+5Li65YWs5byAXFxcIixcXG4gICAgICAgIHVybDogJChnZXRBcGkoXFxcInNoYXJlXFxcIikgKyByZXFCeUdldCArIFxcXCImZmxhZ1xcXCIgKyBcXFwiI25vTG9hZGluZyNcXFwiKS5sYXp5UnVsZSgoKSA9PiB7XFxuICAgICAgICAgICAgcmVxdWVzdChpbnB1dCk7XFxuICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xcbiAgICAgICAgICAgIHJldHVybiBcXFwidG9hc3Q6Ly/lt7Lorr7kuLrlhazlvIBcXFwiO1xcbiAgICAgICAgfSksXFxuICAgICAgICBjb2xfdHlwZTogbXlfY29sX3R5cGVcXG4gICAgfSwge1xcbiAgICAgICAgdGl0bGU6IFxcXCLpmo/mnLrlr4bpkqVcXFwiLFxcbiAgICAgICAgY29sX3R5cGU6IG15X2NvbF90eXBlLFxcbiAgICAgICAgdXJsOiAkKGdldEFwaShcXFwiZ2VuQXV0aFxcXCIpICsgcmVxQnlHZXQgKyBcXFwiI25vTG9hZGluZyNcXFwiKS5sYXp5UnVsZSgoKSA9PiB7XFxuICAgICAgICAgICAgbGV0IGJhY2sgPSByZXF1ZXN0KGlucHV0KTtcXG4gICAgICAgICAgICBsZXQgcmV0ID0gSlNPTi5wYXJzZShiYWNrKTtcXG4gICAgICAgICAgICBpZiAocmV0LnN0YXR1cyA9PSAwKSB7XFxuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL+W3sueUn+aIkOmaj+acuuWvhueggVxcXFxuXFxcIiArIHJldC5yZXN1bHRcXG4gICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICByZWZyZXNoUGFnZSh0cnVlKTtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL+maj+acuuWvhueggeeUn+aIkOWksei0pVxcXCJcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9KVxcbiAgICB9KTtcXG4gICAgbGV0IHRpbWVPdmVyID0ge1xcbiAgICAgICAgY29sX3R5cGU6IG15X2NvbF90eXBlXFxuICAgIH07XFxuICAgIGlmIChkYXRhSXRlbS50aW1lX292ZXIpIHtcXG4gICAgICAgIHRpbWVPdmVyLnRpdGxlID0gc21hbGwoY29sb3IoXFxcIuefreaXtuWvhumSpVxcXCIsIFxcXCJncmVlblxcXCIpICsgY29sb3IoXFxcIijihpLmsLjkuYUpXFxcIiwgXFxcInJlZFxcXCIpKTtcXG4gICAgICAgIHRpbWVPdmVyLnVybCA9IGdldEFwaShcXFwidGltZW92ZXJcXFwiKSArIHJlcUJ5R2V0ICsgXFxcIiZmbGFnPTFcXFwiO1xcbiAgICAgICAgdGltZU92ZXIuY29uZmlybSA9IFxcXCLmmK/lkKbnoa7orqTku6XlkI7nmoTnp4Hol4/op4TliJnliIbkuqvkuI3ov4fmnJ8/XFxcIjtcXG4gICAgICAgIHRpbWVPdmVyLm1zZyA9IFtcXFwi5bey6K6+5Li65rC45LmFXFxcIiwgXFxcIuiuvuS4uuawuOS5heWksei0pVxcXCJdO1xcbiAgICB9IGVsc2Uge1xcbiAgICAgICAgdGltZU92ZXIudGl0bGUgPSBzbWFsbChjb2xvcihcXFwi5rC45LmF5a+G6ZKlXFxcIiwgXFxcInJlZFxcXCIpICsgY29sb3IoXFxcIijihpLnn63ml7YpXFxcIiwgXFxcImdyZWVuXFxcIikpO1xcbiAgICAgICAgdGltZU92ZXIudXJsID0gZ2V0QXBpKFxcXCJ0aW1lb3ZlclxcXCIpICsgcmVxQnlHZXQ7XFxuICAgICAgICB0aW1lT3Zlci5jb25maXJtID0gXFxcIuehruiupOimgeS7peWQjuWIhuS6q+eahOengeiXj+inhOWImeiHquWKqOWIsOacnz9cXFwiO1xcbiAgICAgICAgdGltZU92ZXIubXNnID0gW1xcXCLlt7Lorr7kuLrov4fmnJ9cXFwiLCBcXFwi6K6+5Li66L+H5pyf5aSx6LSlXFxcIl07XFxuICAgIH1cXG4gICAgZGF0YS5wdXNoKHNldFNldHRpbmdJdGVtKHRpbWVPdmVyKSk7XFxufSBlbHNlIGlmIChkYXRhSXRlbS5zdGF0ZSA9PSAncHVibGljJykge1xcbiAgICBkYXRhLnB1c2goe1xcbiAgICAgICAgdGl0bGU6IFxcXCLorr7kuLrnp4HmnIlcXFwiLFxcbiAgICAgICAgdXJsOiAkKGdldEFwaShcXFwic2hhcmVcXFwiKSArIHJlcUJ5R2V0ICsgXFxcIiZmbGFnPTEjbm9Mb2FkaW5nI1xcXCIpLmxhenlSdWxlKCgpID0+IHtcXG4gICAgICAgICAgICByZXF1ZXN0KGlucHV0KTtcXG4gICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XFxuICAgICAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL+W3suiuvuS4uuengeaciVxcXCI7XFxuICAgICAgICB9KSxcXG4gICAgICAgIGNvbF90eXBlOiBteV9jb2xfdHlwZVxcbiAgICB9KTtcXG59XFxuZGF0YS5wdXNoKHNldFNldHRpbmdJdGVtKHtcXG4gICAgdGl0bGU6IFxcXCLliKDpmaTmlbDmja5cXFwiLFxcbiAgICBjb25maXJtOiBcXFwi5piv5ZCm56Gu6K6k5Yig6ZmkXFxcIixcXG4gICAgbXNnOiBbXFxcIuW3suWIoOmZpFxcXCIsIFxcXCLliKDpmaTlpLHotKVcXFwiXSxcXG4gICAgdXJsOiBnZXRBcGkoXFxcImRlbGV0ZVVybFxcXCIpICsgcmVxQnlHZXQsXFxuICAgIGNvbF90eXBlOiBteV9jb2xfdHlwZVxcbn0sIHRydWUpKTtcXG5kYXRhLnB1c2goe1xcbiAgICB0aXRsZTogXFxcIuiuvue9ruWbvuagh1xcXCIsXFxuICAgIHVybDogJChkYXRhSXRlbS5waWNfdXJsLCBcXFwi6L6T5YWl5Zu+5qCH5Zyw5Z2AXFxcIikuaW5wdXQoYXBpID0+IHtcXG4gICAgICAgIGlmIChpbnB1dCA9PT0gXFxcIlxcXCIpIHtcXG4gICAgICAgICAgICByZXR1cm4gXFxcInRvYXN0Oi8v5L2g5Zyo6YCX5oiR6ZO+5o6l5ZOqP1xcXCJcXG4gICAgICAgIH1cXG4gICAgICAgIGxldCByZXN1bHQgPSByZXF1ZXN0KGFwaSArIFxcXCImcnVsZV9waWM9XFxcIiArIGlucHV0KTtcXG4gICAgICAgIHJlc3VsdCA9IEpTT04ucGFyc2UocmVzdWx0KTtcXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzICE9PSAwKSB7XFxuICAgICAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL1xcXCIgKyByZXN1bHQuZGV0YWlsO1xcbiAgICAgICAgfVxcbiAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL+S/ruaUueaIkOWKn1xcXCI7XFxuICAgIH0sIGdldEFwaShcXFwic2V0X3J1bGVfcGljXFxcIikgKyBkYXRhSXRlbS5pZCArIHJlcUJ5R2V0KSxcXG4gICAgY29sX3R5cGU6IG15X2NvbF90eXBlXFxufSk7XFxuXFxuZGF0YS5wdXNoKHtcXG4gICAgdGl0bGU6IGRhdGFJdGVtLmNhbl9kaXNjdXNzID8gXFxcIuemgeatouivhOiuulxcXCIgOiBcXFwi5byA5ZCv6K+E6K66XFxcIixcXG4gICAgdXJsOiAkKGFwaS5kaXNfc2V0ICsgZGF0YUl0ZW0uaWQgKyByZXFCeUdldCArIFxcXCImc3RhdGU9XFxcIiArIChkYXRhSXRlbS5jYW5fZGlzY3VzcyA/IFxcXCJcXFwiIDogMSkpLmxhenlSdWxlKChjYW5fZGlzY3VzcykgPT4ge1xcbiAgICAgICAgcmVxdWVzdChpbnB1dCk7XFxuICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XFxuICAgICAgICByZXR1cm4gY2FuX2Rpc2N1c3MgPyBcXFwidG9hc3Q6Ly/lt7LnpoHmraLor4TorrpcXFwiIDogXFxcInRvYXN0Oi8v5bey5byA5ZCv6K+E6K66XFxcIjtcXG4gICAgfSwgZGF0YUl0ZW0uY2FuX2Rpc2N1c3MpLFxcbiAgICBjb2xfdHlwZTogbXlfY29sX3R5cGVcXG59KTtcXG5NWV9QQVJBTVMubmFtZSA9IGRhdGFJdGVtLm5hbWU7XFxuTVlfUEFSQU1TLnVzZXJuYW1lPXVzZXJuYW1lO1xcbk1ZX1BBUkFNUy5wYXNzd29yZD1wYXNzd29yZDtcXG5kYXRhLnB1c2goe1xcbiAgICB0aXRsZTogXFxcIuiuvue9ruWkh+azqFxcXCIsXFxuICAgIHVybDogXFxcImhpa2VyOi8vcGFnZS9zZXRfcnVsZV9ub3Rlc1xcXCIsXFxuICAgIGV4dHJhOiBNWV9QQVJBTVMsXFxuICAgIGNvbF90eXBlOiBteV9jb2xfdHlwZVxcbn0pO1xcbmlmIChkYXRhSXRlbS5pc19qc29uICYmIGRhdGFJdGVtLmRhdGFfdHlwZSA9PT0gXFxcImhvbWVfcnVsZV91cmxcXFwiICYmICFkYXRhSXRlbS5pc19qc29uX2xpc3QpIHtcXG4gICAgZGF0YS5wdXNoKHtcXG4gICAgICAgIHRpdGxlOiAn6L+b5YWl6aKR6YGTJyxcXG4gICAgICAgIHVybDogJCggLypcXFwiI25vTG9hZGluZyNcXFwiKi8gKS5sYXp5UnVsZSgobmFtZSxob21lKSA9PiB7XFxuICAgICAgICAgICAgbGV0IHJ1bGVMaXN0ID0gSlNPTi5wYXJzZShyZXF1ZXN0KGhvbWUpKTtcXG4gICAgICAgICAgICBsZXQgaGFzUnVsZSA9IHJ1bGVMaXN0LnNvbWUoaXRlbSA9PiBpdGVtLnRpdGxlID09PSBuYW1lKTtcXG4gICAgICAgICAgICBpZiAoaGFzUnVsZSkge1xcbiAgICAgICAgICAgICAgICBwdXRWYXIoXFxcIldhcmVob3VzZS5iYWNrXFxcIiwgXFxcIjFcXFwiKTtcXG4gICAgICAgICAgICAgICAgYmFjaygpO1xcbiAgICAgICAgICAgICAgICByZXR1cm4gaG9tZStcXFwic0BcXFwiICsgbmFtZTtcXG4gICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICByZXR1cm4gXFxcInRvYXN0Oi8v5pyq5a6J6KOFXFxcIjtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9LCBkYXRhSXRlbS5uYW1lLGFwaS5ob21lKSxcXG4gICAgICAgIGNvbF90eXBlOiBteV9jb2xfdHlwZVxcbiAgICB9KTtcXG59XFxuZGF0YS5wdXNoKHtcXG4gICAgY29sX3R5cGU6IFxcXCJsaW5lX2JsYW5rXFxcIlxcbn0pO1xcbmRhdGEucHVzaCh7XFxuICAgIHRpdGxlOiBkYXRhSXRlbS5nb29kX251bSxcXG4gICAgcGljX3VybDogXFxcImhpa2VyOi8vZmlsZXMvaWNvbi/otZ4uc3ZnXFxcIixcXG4gICAgY29sX3R5cGU6IFxcXCJpY29uX3NtYWxsXzNcXFwiLFxcbiAgICB1cmw6IFxcXCJoaWtlcjovL2VtcHR5XFxcIlxcbn0pO1xcbmRhdGEucHVzaCh7XFxuICAgIHRpdGxlOiBkYXRhSXRlbS5iYWRfbnVtLFxcbiAgICBwaWNfdXJsOiBcXFwiaGlrZXI6Ly9maWxlcy9pY29uL+i4qS5zdmdcXFwiLFxcbiAgICBjb2xfdHlwZTogXFxcImljb25fc21hbGxfM1xcXCIsXFxuICAgIHVybDogXFxcImhpa2VyOi8vZW1wdHlcXFwiXFxufSk7XFxuZGF0YS5wdXNoKHtcXG4gICAgdGl0bGU6IFxcXCLor4TorrpcXFwiLFxcbiAgICBwaWNfdXJsOiBcXFwiaGlrZXI6Ly9maWxlcy9pY29uL+ivhOiuui5zdmdcXFwiLFxcbiAgICBjb2xfdHlwZTogXFxcImljb25fc21hbGxfM1xcXCIsXFxuICAgIHVybDogXFxcImhpa2VyOi8vcGFnZS9SZXBseSNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSNcXFwiLFxcbiAgICBleHRyYToge1xcbiAgICAgICAgcnVsZUlkOiBkYXRhSXRlbS5pZCxcXG4gICAgICAgIG5hbWU6IGRhdGFJdGVtLmF1dGhvcixcXG4gICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcXG4gICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZVxcbiAgICB9XFxufSk7XFxubGV0IHRvdGFsU3VtID0gZGF0YUl0ZW0uZ29vZF9udW0gKyBkYXRhSXRlbS5iYWRfbnVtO1xcblxcbmRhdGEucHVzaCh7XFxuICAgIHRpdGxlOiBodG1sVGFnKFxcXCJiaWdcXFwiLCBcXFwi6K+E6K66KFxcXCIgKyB0b3RhbFN1bSArIFxcXCIpXFxcIikgKyBcXFwiXFxcXHRcXFxcdFxcXFx0XFxcIiArIHNtYWxsKGh0bWxUYWcoXFxcInVcXFwiLCBcXFwi5p+l55yL5YWo6YOo6K+E6K66KOaOp+ivhCkgPlxcXCIpKSxcXG4gICAgY29sX3R5cGU6IFxcXCJ0ZXh0XzFcXFwiLFxcbiAgICB1cmw6IFxcXCJoaWtlcjovL3BhZ2UvQ29tbWVudFxcXCIsXFxuICAgIGV4dHJhOiB7XFxuICAgICAgICB1cmw6IFxcXCJoaWtlcjovL2VtcHR5I2Z5cGFnZSNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSNcXFwiLFxcbiAgICAgICAgaWQ6IGRhdGFJdGVtLmlkLFxcbiAgICAgICAgdG90YWxTdW06IHRvdGFsU3VtLFxcbiAgICAgICAgbm9fYWN0aXZlOiB0cnVlLFxcbiAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxcbiAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkXFxuICAgIH1cXG59KTtcXG4vL2NvbnN0IGxvbmdlc3RTdW09MTIwO1xcbmxldCBpY29uID0ge1xcbiAgICBcXFwiZ29vZFxcXCI6IFxcXCLwn5GNXFxcIixcXG4gICAgXFxcImJhZFxcXCI6IFxcXCLwn5GOXFxcIixcXG4gICAgXFxcInJlcGx5XFxcIjogXFxcIuW8gOWPkeiAhfCfl6NcXFwiXFxufVxcbmlmICh0b3RhbFN1bSA9PT0gMCkge1xcbiAgICBkYXRhLnB1c2goe1xcbiAgICAgICAgdGl0bGU6IFxcXCI8aDUgc3R5bGU9J3RleHQtYWxpZ246Y2VudGVyJz7kuIDmnaHor4TorrrkuZ/msqHmnInvvIzlv6vmnaXmiqLmspnlj5HlkKfvvIE8L2g1PlxcXCIsXFxuICAgICAgICBjb2xfdHlwZTogXFxcInJpY2hfdGV4dFxcXCJcXG4gICAgfSk7XFxufSBlbHNlIHtcXG4gICAgbGV0IGNvbW1lbnRMaXN0ID0gSlNPTi5wYXJzZShyZXF1ZXN0KGFwaS5kaXNfZ2V0ICsgZGF0YUl0ZW0uaWQgKyBcXFwiP2xpbWl0PTVcXFwiKSkucmVzdWx0O1xcbiAgICBmb3IgKGxldCBpdGVtIG9mIGNvbW1lbnRMaXN0KSB7XFxuICAgICAgICBsZXQgUmVwbHkgPSBpdGVtLmRpc2N1c3NfdHlwZT09PVxcXCJyZXBseVxcXCImJml0ZW0ucmVwbHlfdG9fbmFtZSE9PWZhbHNlJiZpdGVtLnJlcGx5X3RvX2lkIT09ZmFsc2U/XFxcIuKAmOKAmOWbnuWkjUBcXFwiK2l0ZW0ucmVwbHlfdG9fbmFtZStcXFwiICNcXFwiK2l0ZW0uZGlzY3Vzc19pZCtcXFwi4oCZ4oCZXFxcXG5cXFwiOlxcXCJcXFwiO1xcbiAgICAgICAgZGF0YS5wdXNoKHtcXG4gICAgICAgICAgICB0aXRsZTogaXRlbS5uYW1lICsgXFxcIiZuYnNwOyZuYnNwOzxmb250IGNvbG9yPSdncmF5Jz48c21hbGw+I1xcXCIgKyBpdGVtLmlkICsgXFxcIjwvc21hbGw+PGZvbnQ+XFxcIixcXG4gICAgICAgICAgICBjb2xfdHlwZTogXFxcImF2YXRhclxcXCIsXFxuICAgICAgICAgICAgdXJsOiBcXFwiaGlrZXI6Ly9wYWdlL1JlcGx5XFxcIixcXG4gICAgICAgICAgICBleHRyYTp7XFxuICAgICAgICAgICAgICAgIHJ1bGVJZDogZGF0YUl0ZW0uaWQsXFxuICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSxcXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLFxcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWUsXFxuICAgICAgICAgICAgICAgIHJlcGx5SWQ6aXRlbS5pZFxcbiAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgcGljX3VybDogaXRlbS5hdmF0YXJfdXJsXFxuICAgICAgICB9KTtcXG4gICAgICAgIGRhdGEucHVzaCh7XFxuICAgICAgICAgICAgdGl0bGU6IGl0ZW0uZGlzY3Vzc190ZXh0LFxcbiAgICAgICAgICAgIGRlc2M6IFJlcGx5K2l0ZW0uY3JlYXRlX2RhdGUgKyBcXFwiwrdcXFwiICsgaWNvbltpdGVtLmRpc2N1c3NfdHlwZV0sXFxuICAgICAgICAgICAgY29sX3R5cGU6IFxcXCJ0ZXh0XzFcXFwiLFxcbiAgICAgICAgICAgIHVybDogXFxcImhpa2VyOi8vcGFnZS9pbmZvXFxcIixcXG4gICAgICAgICAgICBleHRyYToge1xcbiAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsXFxuICAgICAgICAgICAgICAgIHR5cGU6IFxcXCJsb25nX3RleHRcXFwiLFxcbiAgICAgICAgICAgICAgICB0ZXh0OiBpdGVtLmRpc2N1c3NfdGV4dFxcbiAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgcGljX3VybDogaXRlbS5hdmF0YXJfdXJsXFxuICAgICAgICB9KTtcXG4gICAgfVxcbn1cXG5kYXRhLnB1c2goe1xcbiAgICBjb2xfdHlwZTogXFxcImxpbmVfYmxhbmtcXFwiXFxufSk7XFxuc2V0UmVzdWx0KGRhdGEpO1wifSx7XCJjb2xfdHlwZVwiOlwiaWNvbl8yX3JvdW5kXCIsXCJuYW1lXCI6XCLop4TliJnliJfooahcIixcInBhdGhcIjpcInJ1bGVzXCIsXCJydWxlXCI6XCJqczpcXG4gICAgYWRkTGlzdGVuZXIoJ29uQ2xvc2UnLCQudG9TdHJpbmcoKCk9PntcXG4gICAgICAgIGNsZWFyVmFyKFxcXCJXYXJlaG91c2UuYmFja1xcXCIpO1xcbiAgICAgICAgY2xlYXJWYXIoXFxcIldhcmVob3VzZS5maWx0ZXJcXFwiKTtcXG4gICAgICAgIGNsZWFyVmFyKFxcXCJXYXJlaG91c2UudHlwZVxcXCIpO1xcbiAgICAgICAgaWYoZ2V0VmFyKCdXYXJlaG91c2UuY2FuX3VwbG9hZCcsJycpKXtcXG4gICAgICAgICAgICBsb2coJ+aTjeS9nOi/h+emgeatouS4iuS8oDonK2dldFZhcignV2FyZWhvdXNlLmNhbl91cGxvYWQnKSk7XFxuICAgICAgICAgICAgY2xlYXJWYXIoXFxcIldhcmVob3VzZS5jYW5fdXBsb2FkXFxcIik7XFxuICAgICAgICAgICAgcmVmcmVzaFBhZ2UodHJ1ZSk7XFxuICAgICAgICB9XFxuICAgIH0pKTtcXG5cXG5pZiAoZ2V0VmFyKFxcXCJXYXJlaG91c2UuYmFja1xcXCIpID09PSBcXFwiMVxcXCIpIHtcXG4gICAgYmFjayhmYWxzZSk7XFxufVxcblxcbmNvbnN0IHtcXG4gICAgZ2V0QXBpLFxcbiAgICBhcGksXFxuICAgIGNvbG9yLFxcbiAgICBzbWFsbCxcXG4gICAgbG9jYWxSdWxlVmVyLFxcbiAgICBodG1sVGFnLFxcbiAgICBtZFxcbn0gPSAkLnJlcXVpcmUoXFxcImhpa2VyOi8vcGFnZS91dGlsaXlcXFwiKTtcXG5jb25zdCB7IG5vcm1hbFNvcnQgfSA9ICQucmVxdWlyZShcXFwiaGlrZXI6Ly9wYWdlL3NvcnRcXFwiKTtcXG5sZXQge1xcbiAgICBhdmF0YXJVcmwsXFxuICAgIHFxLFxcbiAgICBpZCxcXG4gICAgY2FuX3VwbG9hZFxcbn0gPSBNWV9QQVJBTVM7XFxubGV0IGRhdGFUeXBlID0gZ2V0VmFyKFxcXCJXYXJlaG91c2UudHlwZVxcXCIsXFxcIlxcXCIpO1xcbmxldCBiYWNrQ29kZSA9IEpTT04ucGFyc2UocmVxdWVzdChnZXRBcGkoXFxcInJ1bGVzVXJsXFxcIikgKyBcXFwiP25hbWU9XFxcIiArIHFxK1xcXCImZGF0YV90eXBlPVxcXCIrZGF0YVR5cGUpKTtcXG5sZXQgZGV2TmFtZSA9IGJhY2tDb2RlLmRldl9uYW1lO1xcbnB1dFZhcihcXFwiV2FyZWhvdXNlLmZpbHRlclxcXCIsIGRldk5hbWUpO1xcbmxldCBydWxlTGlzdCA9IGJhY2tDb2RlLnJlc3VsdDtcXG5sZXQgc3ViVXJsID0gZ2V0QXBpKFxcXCJqc29uTGlzdFxcXCIpICsgXFxcIj9uYW1lPVxcXCIgKyBxcTtcXG5sZXQgaGFzU3ViID0gaGFzSG9tZVN1YihzdWJVcmwpO1xcbmxldCBkZXZJbmZvID0gXFxcIui/meS4quS6uuW+iOaHkizku4DkuYjpg73msqHlhpnlk6Z+XFxcIjtcXG5sZXQgdG1wSnNvbiA9IEpTT04ucGFyc2UocmVxdWVzdChnZXRBcGkoXFxcImluZm9HZXRVcmxcXFwiKSArIHFxKSk7XFxuaWYgKHRtcEpzb24uc3RhdHVzID09IDApIHtcXG4gICAgZGV2SW5mbyA9IHRtcEpzb24ucmVzdWx0IHx8IGRldkluZm87XFxufVxcbmxldCBzdWJGbGFnID0gaGFzU3ViID8gJ/CfhpcnIDogJ/Cfk6EnO1xcbmxldCBkYXRhID0gW107XFxucmVxdWlyZShtZCk7XFxuZGV2SW5mbz1tYXJrZWQucGFyc2UoZGV2SW5mbyk7XFxuZGF0YS5wdXNoKHtcXG4gICAgdGl0bGU6IFxcXCLigJzigJzigJ3igJ1cXFwiICsgZGV2TmFtZSArIFxcXCJcXFxcblxcXFxuXFxcIiArIHNtYWxsKGh0bWxUYWcoXFxcInVcXFwiLCBcXFwi54K55Ye75p+l55yL5a6M5pW05YWs5ZGKXFxcIikpLFxcbiAgICBkZXNjOiBzbWFsbChkZXZJbmZvKSxcXG4gICAgdXJsOiAnaGlrZXI6Ly9wYWdlL2luZm8nLFxcbiAgICBleHRyYToge1xcbiAgICAgICAgdGV4dDogZGV2SW5mbyxcXG4gICAgICAgIG5hbWU6IGRldk5hbWUsXFxuICAgICAgICB0eXBlOlxcXCJyaWNoX3RleHRcXFwiXFxuICAgIH0sXFxuICAgIHBpY191cmw6IGF2YXRhclVybCxcXG4gICAgY29sX3R5cGU6ICdtb3ZpZV8xX3ZlcnRpY2FsX3BpYydcXG59KTtcXG5kYXRhLnB1c2goe1xcbiAgICB0aXRsZTogXFxcIjxiaWc+6K6i6ZiF566h55CGPC9iaWc+Jm5ic3A7Jm5ic3A7PHNtYWxsPijlvZPliY1cXFwiICsgKGhhc1N1YiA/IFxcXCLlt7LorqLpmIVcXFwiIDogXFxcIuacquiuoumYhVxcXCIpICsgXFxcIik8L3NtYWxsPlxcXCIsXFxuICAgIGNvbF90eXBlOiBcXFwicmljaF90ZXh0XFxcIlxcbn0pO1xcblxcbmxldCBzdWJfY29kZSA9ICfmtbfpmJTop4bnlYzlkIjpm4bop4TliJnorqLpmIXvv6Vob21lX3N1Yu+/pScgKyBkZXZOYW1lICsgXFxcIuWQiOmbhkBAXFxcIiArIHN1YlVybDtcXG5sZXQgcnVsZXNDb2RlID0gJ+a1t+mYlOinhueVjOWQiOmbhuinhOWIme+/pWhvbWVfcnVsZV91cmzvv6UnICsgc3ViVXJsO1xcbmRhdGEucHVzaCh7XFxuICAgIHRpdGxlOiAn4oCc4oCc4oCd4oCdPHNwYW4gc3R5bGU9XFxcImNvbG9yOiAjZmY3MDAwXFxcIj7kuIDplK7orqLpmIU8L3NwYW4+JyxcXG4gICAgZGVzYzogJ+iuoumYheKAnOKAnOKAneKAnTxzcGFuIHN0eWxlPVxcXCJjb2xvcjogIzVjZmYyY1xcXCI+JyArIGRldk5hbWUgKyAnPC9zcGFuPueahOaJgOacieWNleinhOWIme+8jOWQiOmbhumcgOWNleeLrOiuoumYhScsXFxuICAgIHVybDogc3ViX2NvZGUsXFxuICAgIGNvbF90eXBlOiAndGV4dF8yJ1xcbn0pO1xcbmRhdGEucHVzaCh7XFxuICAgIHRpdGxlOiAn4oCc4oCc4oCd4oCdPHNwYW4gc3R5bGU9XFxcImNvbG9yOiAjZmY3MDAwXFxcIj7lr7zlhaXlhajpg6g8L3NwYW4+JyxcXG4gICAgdXJsOiBydWxlc0NvZGUsXFxuICAgIGNvbF90eXBlOiAndGV4dF8yJ1xcbn0pO1xcbmRhdGEucHVzaCh7XFxuICAgIHRpdGxlOiAn4oCc4oCc4oCd4oCdPHNwYW4gc3R5bGU9XFxcImNvbG9yOiAjZmY3MDAwXFxcIj7lr7zlhaXovbvlkIjpm4Y8L3NwYW4+JyxcXG4gICAgdXJsOiAkKCkubGF6eVJ1bGUoKGRldk5hbWUsc3ViVXJsLGF2YXRhclVybCk9PntcXG4gICAgICAgIGNvbnN0IHtnZW5SdWxlfT0kLnJlcXVpcmUoXFxcImhpa2VyOi8vcGFnZS9nZW5BcGlcXFwiKTtcXG4gICAgICAgIGxvZyhcXFwi6L275ZCI6ZuG5Zu+5qCH6ZO+5o6lOlxcXCIrYXZhdGFyVXJsKTtcXG4gICAgICAgIGxldCBpbXBvcnRfcnVsZT1nZW5SdWxlKFxcXCLovbvlkIjpm4YuXFxcIitkZXZOYW1lLHN1YlVybCxhdmF0YXJVcmwpO1xcbiAgICAgICAgLy9jb3B5KGltcG9ydF9ydWxlKTtcXG4gICAgICAgIGxldCBydWxlQ29kZT1wYXJzZVBhc3RlKGltcG9ydF9ydWxlLnNwbGl0KFxcXCJcXFxcblxcXCIpWzBdKTtcXG4gICAgICAgIC8vcmV0dXJuIFxcXCJoaWtlcjovL2VtcHR5XFxcIlxcbiAgICAgICAgaW1wb3J0VXJsID0gJ3J1bGU6Ly8nICsgYmFzZTY0RW5jb2RlKHJ1bGVDb2RlKTtcXG4gICAgICAgIHJldHVybiBpbXBvcnRVcmxcXG4gICAgfSxkZXZOYW1lLHN1YlVybCxhdmF0YXJVcmwpLFxcbiAgICBjb2xfdHlwZTogJ3RleHRfMidcXG59KTtcXG5kYXRhLnB1c2goe1xcbiAgICB0aXRsZTogJ+KAnOKAnOKAneKAnTxzcGFuIHN0eWxlPVxcXCJjb2xvcjogI2ZmNzAwMFxcXCI+5a+85YWl6YGT5b6357uPPC9zcGFuPicsXFxuICAgIHVybDogJCgpLmxhenlSdWxlKChkZXZOYW1lLHN1YlVybCxhdmF0YXJVcmwpPT57XFxuICAgICAgICBsZXQgdGl0bGUgPSBcXFwiSC1cXFwiK2Rldk5hbWU7XFxuICAgICAgICBsZXQgc3ViT2JqID0ge1xcbiAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcXG4gICAgICAgICAgICB1cmw6IHN1YlVybCxcXG4gICAgICAgICAgICBkZXNjOiBcXFwiaGlrZXI6Ly9maWxlcy9ydWxlcy9kekhvdXNlL3J1bGVDYWNoZS9cXFwiK3RpdGxlK1xcXCIuanNvblxcXCIsXFxuICAgICAgICAgICAgY29kZTogXFxcIlxcXCIsXFxuICAgICAgICAgICAgYWN0aXZlOiBmYWxzZSwvL+emgeeUqOW5tuWPkeabtOaWsFxcbiAgICAgICAgfVxcbiAgICAgICAgbGV0IHNoYXJlVGV4dCA9IGJhc2U2NEVuY29kZShKU09OLnN0cmluZ2lmeShzdWJPYmopKTtcXG4gICAgICAgIHZhciBwYXN0ZXMgPSBnZXRQYXN0ZXMoKTtcXG4gICAgICAgIHZhciB1cmwgPSBzaGFyZVBhc3RlKHNoYXJlVGV4dCxwYXN0ZXMuc2xpY2UoLTEpWzBdKTtcXG4gICAgICAgIGxldCBpbXBvcnRfcnVsZT0gXFxcIui9u+WQiOmbhuiuoumYhe+8mlxcXCIrdGl0bGUrJ1xcXFxuJyt1cmw7XFxuICAgICAgICBjb3B5KGltcG9ydF9ydWxlKTtcXG4gICAgICAgIGNvbnN0IHBhdGggPSAnaGlrZXI6Ly9maWxlcy9ydWxlcy9kekhvdXNlL3J1bGVDYWNoZS9zdWIuanNvbic7XFxuICAgICAgICAkLnJjKGNvbmZpZy5saWIuc3ViKTtcXG4gICAgICAgIHJldHVybiDorqLpmIXlr7zlhaUocGF0aClcXG4gICAgfSxkZXZOYW1lLHN1YlVybCxhdmF0YXJVcmwpLFxcbiAgICBjb2xfdHlwZTogJ3RleHRfMidcXG59KTtcXG5sZXQgY2FuX3VwbG9hZF9hcGkgPSBnZXRBcGkoXFxcIm1hbkNhblVwbG9hZFxcXCIpK2lkO1xcbmlmKGdldFZhcignaG91c2UuaXNfbWFuYWdlcicpKXtcXG4gICAgbGV0IHRpcHMgPSBjYW5fdXBsb2FkPyfog70nOiflkKYnO1xcbiAgICAvLyBsb2coJ3RpcHM6Jyt0aXBzKTtcXG4gICAgLy8gbG9nKCdjYW5fdXBsb2FkOicrY2FuX3VwbG9hZCk7XFxuICAgIGRhdGEucHVzaCh7XFxuICAgICAgICB0aXRsZTon4pqg6IO95ZCm5LiK5LygOicrKGdldFZhcignV2FyZWhvdXNlLmNhbl91cGxvYWQnKXx8dGlwcyksXFxuICAgICAgICBjb2xfdHlwZTonc2Nyb2xsX2J1dHRvbicsXFxuICAgICAgICB1cmw6J2hpa2VyOi8vZW1wdHknXFxuICAgIH0pO1xcbiAgICBmdW5jdGlvbiBzZXRVcGxvYWQoZmxhZyxjYW5fdXBsb2FkX2FwaSkge1xcbiAgICAgICAgZmxhZyA9IGZsYWcgfHwgJyc7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIGxldCBjb2RlID0gZmV0Y2goY2FuX3VwbG9hZF9hcGksIHtcXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xcXCJVc2VyLUFnZW50XFxcIjogTU9CSUxFX1VBfSxcXG4gICAgICAgICAgICAgICAgYm9keToge1xcbiAgICAgICAgICAgICAgICAgICAgXFxcInBhcmFtc1xcXCI6XFxuICAgICAgICAgICAgICAgICAgICAgICAge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXFwidXNlcm5hbWVcXFwiOiBnZXRWYXIoJ2hvdXNlLnVzZXJuYW1lJyksXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXCJwYXNzd29yZFxcXCI6IGdldFZhcignaG91c2UucGFzc3dvcmQnKSxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxcImNhbl91cGxvYWRcXFwiOiAhIWZsYWdcXG4gICAgICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9KTtcXG4gICAgICAgICAgICBjb2RlID0gSlNPTi5wYXJzZShjb2RlKS5yZXN1bHQ7XFxuICAgICAgICAgICAgaWYgKGNvZGUuc3RhdHVzID09PSAwKSB7XFxuICAgICAgICAgICAgICAgIHJldHVybiBjb2RlLmRldGFpbFxcbiAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgIHJldHVybiAn5pON5L2c5aSx6LSlOicgKyBjb2RlLmRldGFpbFxcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcXG4gICAgICAgICAgICByZXR1cm4gJ+aTjeS9nOWksei0pTonICsgZS5tZXNzYWdlXFxuICAgICAgICB9XFxuICAgIH1cXG4gICAgZGF0YS5wdXNoKHtcXG4gICAgICAgIHRpdGxlOifwn5qr56aB5q2i5LiK5LygJyxcXG4gICAgICAgIGNvbF90eXBlOidzY3JvbGxfYnV0dG9uJyxcXG4gICAgICAgIHVybDokKCfnpoHmraLor6XlvIDlj5HogIXkuIrkvKDop4TliJk/5L2g55qE5pON5L2c5bCG6KKr57O757uf6K6w5b2VJykuY29uZmlybSgoaWQsY2FuX3VwbG9hZF9hcGksc2V0VXBsb2FkKT0+e1xcbiAgICAgICAgICAgIGxldCByZXQgPSBzZXRVcGxvYWQoZmFsc2UsY2FuX3VwbG9hZF9hcGkpO1xcbiAgICAgICAgICAgIGlmKCEv5pON5L2c5aSx6LSlLy50ZXN0KHJldCkpe1xcbiAgICAgICAgICAgICAgICBwdXRWYXIoJ1dhcmVob3VzZS5jYW5fdXBsb2FkJywn5ZCmJyk7XFxuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovLycrcmV0XFxuICAgICAgICB9LGlkLGNhbl91cGxvYWRfYXBpLHNldFVwbG9hZClcXG4gICAgfSk7XFxuICAgIGRhdGEucHVzaCh7XFxuICAgICAgICB0aXRsZTon4pyF5YWB6K645LiK5LygJyxcXG4gICAgICAgIGNvbF90eXBlOidzY3JvbGxfYnV0dG9uJyxcXG4gICAgICAgIHVybDokKCflhYHorrjor6XlvIDlj5HogIXkuIrkvKDop4TliJk/5L2g55qE5pON5L2c5bCG6KKr57O757uf6K6w5b2VJykuY29uZmlybSgoaWQsY2FuX3VwbG9hZF9hcGksc2V0VXBsb2FkKT0+e1xcbiAgICAgICAgICAgIGxldCByZXQgPSBzZXRVcGxvYWQodHJ1ZSxjYW5fdXBsb2FkX2FwaSk7XFxuICAgICAgICAgICAgaWYoIS/mk43kvZzlpLHotKUvLnRlc3QocmV0KSl7XFxuICAgICAgICAgICAgICAgIHB1dFZhcignV2FyZWhvdXNlLmNhbl91cGxvYWQnLCfmmK8nKTtcXG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8vJytyZXRcXG4gICAgICAgIH0saWQsY2FuX3VwbG9hZF9hcGksc2V0VXBsb2FkKVxcbiAgICB9KTtcXG59XFxuZGF0YS5wdXNoKHtcXG4gICAgdGl0bGU6IFxcXCI8c21hbGw+5o+Q56S677ya5byA5Y+R6ICF5Y2V54us5YiG5Lqr55qE5ZCI6ZuG5paH5Lu25Y+q6IO95Y2V54us5a+85YWl44CCPC9zbWFsbD5cXFwiLFxcbiAgICBjb2xfdHlwZTogXFxcInJpY2hfdGV4dFxcXCJcXG59KTtcXG5kYXRhLnB1c2goe1xcbiAgICB0aXRsZTogXFxcIjxiaWc+6KeE5YiZ5YiX6KGoPC9iaWc+Jm5ic3A7Jm5ic3A7PHNtYWxsPijlhbFcXFwiICsgcnVsZUxpc3QubGVuZ3RoICsgXFxcIuadoSk8L3NtYWxsPlxcXCIsXFxuICAgIGNvbF90eXBlOiBcXFwicmljaF90ZXh0XFxcIlxcbn0pO1xcbmxldCBkYXRhVHlwZUxpc3QgPSB7XFxuICAgIFxcXCJcXFwiOlxcXCLlhajpg6hcXFwiLFxcbiAgICBcXFwiaG9tZV9ydWxlX3VybFxcXCI6ICflsI/nqIvluo8nLFxcbiAgICAvL1xcXCJwdWJsaXNoXFxcIjogJ+aPkOS6pOS6keS7k+W6k+inhOWImScsXFxuICAgIFxcXCJqc191cmxcXFwiOiAn572R6aG15o+S5Lu2JyxcXG4gICAgXFxcImh0bWxcXFwiOiAn6Z2Z5oCB6aG16Z2iJyxcXG4gICAgXFxcImNvbmZpZ1xcXCI6ICfkuLvpopgnXFxufTtcXG5mb3IobGV0IGtleSBpbiBkYXRhVHlwZUxpc3Qpe1xcbiAgICBkYXRhLnB1c2goe1xcbiAgICAgICAgdGl0bGU6ZGF0YVR5cGU9PT1rZXk/XFxcIuKAnOKAnFxcXCIrZGF0YVR5cGVMaXN0W2tleV0rXFxcIuKAneKAnVxcXCI6ZGF0YVR5cGVMaXN0W2tleV0sXFxuICAgICAgICB1cmw6JChcXFwiI25vTG9hZGluZyNcXFwiKS5sYXp5UnVsZSgoa2V5KT0+e1xcbiAgICAgICAgICAgIHB1dFZhcihcXFwiV2FyZWhvdXNlLnR5cGVcXFwiLGtleSk7XFxuICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xcbiAgICAgICAgICAgIHJldHVybiBcXFwiaGlrZXI6Ly9lbXB0eVxcXCI7XFxuICAgICAgICB9LGtleSksXFxuICAgICAgICBjb2xfdHlwZTpcXFwic2Nyb2xsX2J1dHRvblxcXCJcXG4gICAgfSk7XFxufVxcbmlmIChydWxlTGlzdC5sZW5ndGggPiAyMCkge1xcbiAgICBkYXRhLnB1c2goe1xcbiAgICAgICAgdGl0bGU6IFxcXCLmkJzntKJcXFwiLFxcbiAgICAgICAgdXJsOiAkLnRvU3RyaW5nKG5hbWUgPT4gXFxcImhpa2VyOi8vc2VhcmNoP3M9XFxcIiArIGlucHV0ICsgXFxcIiZydWxlPVxcXCIgKyBuYW1lLCBNWV9SVUxFLnRpdGxlKSxcXG4gICAgICAgIGNvbF90eXBlOiBcXFwiaW5wdXRcXFwiLFxcbiAgICAgICAgZGVzYzogXFxcIuaQnOe0ouW9k+WJjeW8gOWPkeiAheeahOinhOWImVxcXCJcXG4gICAgfSk7XFxufVxcbmxldCBob21lTGlzdCA9IEpTT04ucGFyc2UocmVxdWVzdChhcGkuaG9tZSkpO1xcbmxldCBtUnVsZUxpc3QgPSBbXTtcXG5mb3IgKHZhciBpdGVtIG9mIHJ1bGVMaXN0KSB7XFxuICAgIHZhciBuYW1lID0gaXRlbS5uYW1lO1xcbiAgICBpZiAoaXRlbS5pc190YXApIHtcXG4gICAgICAgIGxldCBsb2NhdGlvbiA9IEpTT04ucGFyc2UocmVxdWVzdChnZXRBcGkoXFxcInJ1bGVMaXN0SnNvblxcXCIpICsgXFxcIj9pZD1cXFwiICsgaXRlbS5pZCkpO1xcbiAgICAgICAgaXRlbS5pZCA9IGxvY2F0aW9uLmlkO1xcbiAgICAgICAgaXRlbS5uYW1lID0gbG9jYXRpb24ubmFtZTtcXG4gICAgICAgIGl0ZW0uYXV0aG9yID0gbG9jYXRpb24uYXV0aG9yO1xcbiAgICAgICAgaXRlbS5kYXRhX3R5cGUgPSBsb2NhdGlvbi5kYXRhX3R5cGU7XFxuICAgICAgICBpdGVtLnZlciA9IGxvY2F0aW9uLnZlclxcbiAgICB9XFxuICAgIGl0ZW0udmVyc2lvbiA9IGl0ZW0udmVyO1xcbiAgICBsZXQgbGFiZWwgPSBcXFwiXFxcIixcXG4gICAgICAgIGx2ZXIgPSAtMjtcXG4gICAgaWYgKGl0ZW0uaXNfanNvbiAmJiBpdGVtLmRhdGFfdHlwZSA9PT0gXFxcImhvbWVfcnVsZV91cmxcXFwiKSB7XFxuICAgICAgICBsdmVyID0gbG9jYWxSdWxlVmVyKGhvbWVMaXN0LCBpdGVtKTtcXG4gICAgICAgIGlmIChsdmVyID09PSAtMSkge1xcbiAgICAgICAgICAgIGxhYmVsID0gXFxcIvCfhpVcXFwiO1xcbiAgICAgICAgfSBlbHNlIGlmIChsdmVyIDwgaXRlbS52ZXIpIHtcXG4gICAgICAgICAgICBsYWJlbCA9IFxcXCLwn4aZXFxcIjtcXG4gICAgICAgIH1cXG4gICAgfVxcbiAgICBtUnVsZUxpc3QucHVzaCh7XFxuICAgICAgICB0aXRsZTogbGFiZWwgKyBuYW1lLFxcbiAgICAgICAgdXJsOiBcXFwiaGlrZXI6Ly9wYWdlL3J1bGVEZXRhaWwjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjXFxcIixcXG4gICAgICAgIGV4dHJhOiB7XFxuICAgICAgICAgICAgbHZlcjogbHZlcixcXG4gICAgICAgICAgICBpZDogaXRlbS5pZFxcbiAgICAgICAgfSxcXG4gICAgICAgIHBpY191cmw6IGl0ZW0ucGljLFxcbiAgICB9KTtcXG59XFxuLyog5b2S5bm25o6S5bqPIFN0YXJ0ICovXFxuaWYoZ2V0SXRlbShcXFwi5o6S5bqPXFxcIixcXFwi5pe26Ze05LyY5YWIXFxcIik9PT0n5paw54mI5LyY5YWIJyl7XFxuICAgIG1SdWxlTGlzdCA9IG5vcm1hbFNvcnQobVJ1bGVMaXN0KTtcXG59XFxuLyog5b2S5bm25o6S5bqPIEVuZCAqL1xcbmRhdGEucHVzaC5hcHBseShkYXRhLCBtUnVsZUxpc3QpXFxuc2V0UmVzdWx0KGRhdGEpO1xcblwifSx7XCJjb2xfdHlwZVwiOlwibW92aWVfM1wiLFwibmFtZVwiOlwi6KeE5YiZ6K+m57uGLXVzZXJcIixcInBhdGhcIjpcInJ1bGVEZXRhaWxcIixcInJ1bGVcIjpcImpzOlxcbiAgICBjb25zdCB7XFxuICAgICAgICBnZXRBcGksXFxuICAgICAgICBjb2xvcixcXG4gICAgICAgIHNtYWxsLFxcbiAgICAgICAgaHRtbFRhZyxcXG4gICAgICAgIGFwaSxcXG4gICAgICAgIG1kXFxuICAgIH0gPSAkLnJlcXVpcmUoXFxcImhpa2VyOi8vcGFnZS91dGlsaXlcXFwiKTtcXG5sZXQge1xcbiAgICBpZCxcXG4gICAgbHZlcixcXG4gICAgaXNBbGxcXG59ID0gTVlfUEFSQU1TO1xcbmlmKGdldFBhcmFtKFxcXCJpZFxcXCIpKXtcXG4gICAgaXNBbGwgPSB0cnVlO1xcbiAgICBpZCA9IGdldFBhcmFtKFxcXCJpZFxcXCIpO1xcbiAgICBsdmVyID0gbHZlciB8fCBcXFwi5pyq6I635Y+W54mI5pys5Y+3XFxcIjtcXG59XFxuYWRkTGlzdGVuZXIoJ29uQ2xvc2UnLCAkLnRvU3RyaW5nKChpc0FsbCkgPT4ge1xcbiAgICBpZighaXNBbGwpe1xcbiAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xcbiAgICB9XFxufSxpc0FsbCkpO1xcbmxldCBkYXRhSXRlbSA9IEpTT04ucGFyc2UocmVxdWVzdChnZXRBcGkoXFxcImdldGJ5aWRcXFwiKSArIFxcXCI/aWQ9XFxcIiArIGlkKSkucmVzdWx0O1xcbnNldFBhZ2VUaXRsZShcXFwi44CMXFxcIiArIGRhdGFJdGVtLm5hbWUgKyBcXFwi44CNXFxcIilcXG5sZXQgcnVsZUxpc3RKc29uID0gZ2V0QXBpKFxcXCJydWxlTGlzdEpzb25cXFwiKSArIFxcXCI/aWQ9XFxcIjtcXG5sZXQgZGF0YSA9IFtdO1xcbnZhciBoYXNTdWIgPSBmYWxzZTtcXG5cXG5pZiAoZGF0YUl0ZW0uaXNfanNvbl9saXN0KSB7XFxuICAgIGhhc1N1YiA9IGhhc0hvbWVTdWIocnVsZUxpc3RKc29uICsgZGF0YUl0ZW0uaWQpO1xcbn0gZWxzZSBpZiAoIWRhdGFJdGVtLmlzX2pzb25fbGlzdCAmJiBkYXRhSXRlbS5kYXRhX3R5cGUgPT0gJ2hvbWVfcnVsZV91cmwnKSB7XFxuICAgIGhhc1N1YiA9IGhhc0hvbWVTdWIocnVsZUxpc3RKc29uICsgZGF0YUl0ZW0uaWQgKyAnJmRlYnVnPXRydWUnKTtcXG59XFxuXFxuZGF0YS5wdXNoKHtcXG4gICAgdGl0bGU6IGh0bWxUYWcoXFxcImJpZ1xcXCIsIFxcXCLniYjmnKxcXFwiKSxcXG4gICAgZGVzYzogXFxcIuKAnOKAnOKAneKAneW8gOWPkeiAhe+8mlxcXCIgKyBjb2xvcihkYXRhSXRlbS5hdXRob3IsIFxcXCIjMjI4QkU2XFxcIikgKyBcXFwiXFxcXG7kupHnq6/niYjmnKzvvJpcXFwiICsgY29sb3IoZGF0YUl0ZW0udmVyLCBcXFwiIzVjZmYyY1xcXCIpICsgXFxcIlxcXFx0XFxcXHTmnKzlnLDniYjmnKzvvJpcXFwiICsgY29sb3IobHZlciwgXFxcIiM1Y2ZmMmNcXFwiKSArIFxcXCJcXFxcbuabtOaWsOS6jjogW1xcXCIgKyBjb2xvcihkYXRhSXRlbS5sYXN0X3VwZGF0ZSwgXFxcIiNmZjcwMDBcXFwiKSArIFxcXCJdXFxcIixcXG4gICAgdXJsOiAkKFxcXCI85byA5Y+R6ICFPlxcXFxuXFxcIiArIGRhdGFJdGVtLmF1dGhvciArIFxcXCJcXFxcbjzlkI3np7A+XFxcXG5cXFwiICsgZGF0YUl0ZW0ubmFtZSArIFxcXCJcXFxcbjzkupHnq6/niYjmnKw+XFxcXG5cXFwiICsgZGF0YUl0ZW0udmVyICsgXFxcIlxcXFxuPOacrOWcsOeJiOacrD5cXFxcblxcXCIgKyBsdmVyICsgXFxcIlxcXFxuPOabtOaWsOaXtumXtD5cXFxcbltcXFwiICsgZGF0YUl0ZW0ubGFzdF91cGRhdGUgKyBcXFwiXVxcXCIpLmNvbmZpcm0oKCkgPT4ge30pLFxcbiAgICBjb2xfdHlwZTogJ3RleHRfMSdcXG59KTtcXG5sZXQgZGF0YVR5cGUgPSB7XFxuICAgIGhvbWVfcnVsZV91cmw6ICfpppbpobXkupHop4TliJknLFxcbiAgICBwdWJsaXNoOiAn5o+Q5Lqk5LqR5LuT5bqT6KeE5YiZJyxcXG4gICAganNfdXJsOiAn572R6aG15o+S5Lu26KeE5YiZJyxcXG4gICAgaHRtbDogJ+mdmeaAgemhtemdoicsXFxuICAgIGNvbmZpZzogJ+S4u+mhtemFjee9ridcXG59O1xcblxcbmxldCBiYXNpYyA9IHtcXG4gICAgY29sX3R5cGU6IFxcXCJ0ZXh0XzFcXFwiLFxcbiAgICB1cmw6IFxcXCJoaWtlcjovL2VtcHR5XFxcIlxcbn07XFxubGV0IGRhdGFUeXBlVGlwcyA9IGRhdGFUeXBlW2RhdGFJdGVtLmRhdGFfdHlwZV0gfHwgJ+acquefpeinhOWIme+8micgKyBkYXRhSXRlbS5kYXRhX3R5cGU7XFxuXFxubGV0IHNhZmVfdGlwPWRhdGFJdGVtLmlzX3NhZmU/XFxcIuWuieWFqFxcXCI6XFxcIuWNsemZqVxcXCI7XFxubGV0IGdvb2RfdGlwID0gZGF0YUl0ZW0uaXNfZ29vZD9zbWFsbChjb2xvcihcXFwi44CQ5LyY6LSo6KeE5YiZ44CRXFxcIiwnI2ZmNzAwMCcpKTpcXFwiXFxcIjtcXG5sZXQgbm90X3NhZmVfbm90ZT1kYXRhSXRlbS5ub3Rfc2FmZV9ub3RlO1xcbmJhc2ljLnRpdGxlID0gaHRtbFRhZyhcXFwiYmlnXFxcIiwgXFxcIuexu+Wei1xcXCIpICsgXFxcIlxcXFx0XFxcXHRcXFxcdFxcXCIgKyBzbWFsbChcXFwiKGlkOlxcXCIgKyBkYXRhSXRlbS5pZCArIFxcXCIpXFxcIikrXFxcIlxcXFx0XFxcXHRcXFxcdFxcXCIgKyBzbWFsbChcXFwiKOmjjumZqeajgOa1izpcXFwiICtzYWZlX3RpcCtcXFwiKVxcXCIpK2dvb2RfdGlwO1xcbmJhc2ljLmRlc2MgPSBcXFwi5pWw5o2u57G75Z6L77yaXFxcIiArIGNvbG9yKGRhdGFUeXBlVGlwcywgXFxcIiNjYjU0ZmZcXFwiKSArIFxcXCJcXFxcbuWIhuS6q+eKtuaAgeS4uu+8mlxcXCIgKyBkYXRhSXRlbS5zdGF0ZTtcXG5pZiAoW1xcXCJodG1sXFxcIiwgXFxcImNvbmZpZ1xcXCIsIFxcXCJqc191cmxcXFwiXS5pbmNsdWRlcyhkYXRhSXRlbS5kYXRhX3R5cGUpKSB7XFxuICAgIGJhc2ljLmRlc2MgKz0gXFxcIlxcXFxu4oCc4oCc4oCd4oCdID0+XFxcIiArIHNtYWxsKFxcXCLngrnmraTpooTop4hcXFwiKTtcXG4gICAgYmFzaWMudXJsID0gcnVsZUxpc3RKc29uICsgZGF0YUl0ZW0uaWQ7XFxufVxcblxcbmRhdGEucHVzaChiYXNpYyk7XFxubGV0IGhhc1N1YnMgPSBcXFwiXFxcIjtcXG5pZiAoaGFzU3ViKSB7XFxuICAgIGhhc1N1YnMgPSBcXFwiXFxcXHRcXFxcdFxcXFx0XFxcIiArIHNtYWxsKFxcXCLlt7LorqLpmIVcXFwiKVxcbn1cXG5cXG5sZXQgbm90ZXMgPSByZXF1ZXN0KGdldEFwaShcXFwiZ2V0X3J1bGVfbm90ZVxcXCIpICsgaWQpO1xcbm5vdGVzID0gSlNPTi5wYXJzZShub3RlcykucmVzdWx0O1xcbnJlcXVpcmUobWQpO1xcbmxldCBub3Rlc0h0bWw9XFxcIlxcXCJcXG50cnl7XFxuICAgIG5vdGVzSHRtbD1tYXJrZWQucGFyc2Uobm90ZXMpO1xcbn1jYXRjaChlKXt9XFxuXFxuaWYgKG5vdGVzICE9PSBmYWxzZSkge1xcbiAgICBkYXRhLnB1c2goe1xcbiAgICAgICAgdGl0bGU6IGh0bWxUYWcoXFxcImJpZ1xcXCIsIFxcXCLlpIfms6hcXFwiKSArIFxcXCJcXFxcdFxcXFx0XFxcXHRcXFwiICsgc21hbGwoaHRtbFRhZyhcXFwidVxcXCIsIFxcXCLmn6XnnIvlrozmlbTlhazlkYogPlxcXCIpKSxcXG4gICAgICAgIGRlc2M6IG5vdGVzLFxcbiAgICAgICAgY29sX3R5cGU6IFxcXCJ0ZXh0XzFcXFwiLFxcbiAgICAgICAgdXJsOiBcXFwiaGlrZXI6Ly9wYWdlL2luZm9cXFwiLFxcbiAgICAgICAgZXh0cmE6IHtcXG4gICAgICAgICAgICB0ZXh0OiBub3Rlc0h0bWwsXFxuICAgICAgICAgICAgbmFtZTogZGF0YUl0ZW0ubmFtZSxcXG4gICAgICAgICAgICAvLyB0eXBlOiBcXFwibG9uZ190ZXh0XFxcIlxcbiAgICAgICAgICAgIHR5cGU6IFxcXCJyaWNoX3RleHRcXFwiXFxuICAgICAgICB9XFxuICAgIH0pO1xcbn1cXG5kYXRhLnB1c2goe1xcbiAgICB0aXRsZTogaHRtbFRhZyhcXFwiYmlnXFxcIiwgXFxcIuaTjeS9nCjliIbkuqvor6bnu4bpobUpXFxcIikgKyBoYXNTdWJzLFxcbiAgICBjb2xfdHlwZTogXFxcInRleHRfMVxcXCIsXFxuICAgIHVybDogXFxcImNvcHk6Ly/pgZPplb/ku5PlupPjgIxcXFwiK2RhdGFJdGVtLm5hbWUrXFxcIuOAjVxcXFxuXFxcIitpZCsnQGltcG9ydD1qczokLnJlcXVpcmUoXFxcImhpa2VyOi8vcGFnZS9ydWxlRGV0YWlsSW1wb3J0P3J1bGU96YGT6ZW/5LuT5bqTUHJvXFxcIiwgaW5wdXQpJ1xcbn0pO1xcbmxldCBpbXBvcnRVcmwsIHJ1bGVDb2RlLCBzaGFyZVVybCwgYmFja0NvZGUgPSBcXFwiXFxcIjtcXG5pZiAoIWRhdGFJdGVtLmlzX2pzb24pIHtcXG4gICAgYmFja0NvZGUgPSByZXF1ZXN0KHJ1bGVMaXN0SnNvbiArIGRhdGFJdGVtLmlkKTtcXG59XFxuc3dpdGNoIChkYXRhSXRlbS5kYXRhX3R5cGUpIHtcXG4gICAgY2FzZSBcXFwiaG9tZV9ydWxlX3VybFxcXCI6XFxuICAgICAgICBydWxlQ29kZSA9IFxcXCLmtbfpmJTop4bnlYzpppbpobXpopHpgZPop4TliJnjgJBcXFwiICsgZGF0YUl0ZW0ubmFtZSArIFxcXCLjgJHvv6Vob21lX3J1bGVfdXJs77+lXFxcIiArIHJ1bGVMaXN0SnNvbiArIGRhdGFJdGVtLmlkO1xcbiAgICAgICAgaW1wb3J0VXJsID0gXFxcInJ1bGU6Ly9cXFwiICsgYmFzZTY0RW5jb2RlKHJ1bGVDb2RlKVxcbiAgICAgICAgYnJlYWs7XFxuICAgIGNhc2UgJ3B1Ymxpc2gnOlxcbiAgICAgICAgcnVsZUNvZGUgPSAn5rW36ZiU6KeG55WM6KeE5YiZ5YiG5Lqr77yM5b2T5YmN5YiG5Lqr55qE5piv77yaJyArIGRhdGFJdGVtLm5hbWUgKyAn77+lcHVibGlzaO+/pScgKyBiYXNlNjRFbmNvZGUoYmFja0NvZGUpO1xcbiAgICAgICAgaW1wb3J0VXJsID0gJ3J1bGU6Ly8nICsgYmFzZTY0RW5jb2RlKHJ1bGVDb2RlKTtcXG4gICAgICAgIGJyZWFrO1xcbiAgICBjYXNlICdqc191cmwnOlxcbiAgICAgICAgcnVsZUNvZGUgPSAn5rW36ZiU6KeG55WM6KeE5YiZ5YiG5Lqr77yM5b2T5YmN5YiG5Lqr55qE5piv77ya572R6aG15o+S5Lu277+lanNfdXJs77+lJyArIGRhdGFJdGVtLm5hbWUgKyAnQGJhc2U2NDovLycgKyBiYXNlNjRFbmNvZGUoYmFja0NvZGUpO1xcbiAgICAgICAgaW1wb3J0VXJsID0gJ3J1bGU6Ly8nICsgYmFzZTY0RW5jb2RlKHJ1bGVDb2RlKTtcXG4gICAgICAgIGJyZWFrO1xcbiAgICBjYXNlICdodG1sJzpcXG4gICAgICAgIGxldCBmaWxlX3RtcCA9IGRhdGFJdGVtLm5hbWUuc3BsaXQoJy4nKTtcXG4gICAgICAgIGxldCBmaWxlX3BhdGggPSBmaWxlX3RtcC5sZW5ndGggPiAxID8gZmlsZV90bXBbZmlsZV90bXAubGVuZ3RoIC0gMV0gKyBcXFwiL1xcXCIgKyBkYXRhSXRlbS5uYW1lIDogZGF0YUl0ZW0ubmFtZTtcXG4gICAgICAgIHJ1bGVDb2RlID0gXFxcIua1t+mYlOinhueVjOacrOWcsOaWh+S7tuWIhuS6q++/pWZpbGVfdXJs77+laGlrZXI6Ly9maWxlcy9ydWxlcy9kekhvdXNlL1xcXCIgKyBmaWxlX3BhdGggKyBcXFwiQFxcXCIgKyBydWxlTGlzdEpzb24gKyBkYXRhSXRlbS5pZDtcXG4gICAgICAgIGltcG9ydFVybCA9ICdydWxlOi8vJyArIGJhc2U2NEVuY29kZShydWxlQ29kZSk7XFxuICAgICAgICBicmVha1xcbiAgICBjYXNlIFxcXCJjb25maWdcXFwiOlxcbiAgICAgICAgaW1wb3J0VXJsID0gJCgpLnJ1bGUocGFzc3dvcmQgPT4ge1xcbiAgICAgICAgICAgIGV2YWwoZmV0Y2goXFxcImhpa2VyOi8vYXNzZXRzL2hvbWUuanNcXFwiKSk7XFxuICAgICAgICAgICAgSGlrZXJIb21lLmxvYWQoXFxcImltcG9ydFxcXCIsIHBhc3N3b3JkKTtcXG4gICAgICAgIH0sIGJhY2tDb2RlKTtcXG4gICAgICAgIGJyZWFrO1xcbn1cXG5sZXQgbXlfY29sX3R5cGUgPSBcXFwidGV4dF8yXFxcIjtcXG5sZXQgbXlfY29sX3R5cGUyID0gXFxcInRleHRfM1xcXCI7XFxuaWYgKGltcG9ydFVybCkge1xcbiAgICBkYXRhLnB1c2goe1xcbiAgICAgICAgdGl0bGU6IFxcXCLlr7zlhaXop4TliJlcXFwiLFxcbiAgICAgICAgdXJsOiBkYXRhSXRlbS5pc19zYWZlP2ltcG9ydFVybDondG9hc3Q6Ly/po47pmanop4TliJnnpoHmraLlr7zlhaUhISEnLFxcbiAgICAgICAgY29sX3R5cGU6IG15X2NvbF90eXBlXFxuICAgIH0pO1xcbn1cXG5pZiAocnVsZUNvZGUpIHtcXG4gICAgZGF0YS5wdXNoKHtcXG4gICAgICAgIHRpdGxlOiBcXFwi5YiG5Lqr5Y+j5LukXFxcIixcXG4gICAgICAgIHVybDogXFxcImNvcHk6Ly9cXFwiICsgcnVsZUNvZGUsXFxuICAgICAgICBjb2xfdHlwZTogbXlfY29sX3R5cGVcXG4gICAgfSk7XFxufVxcblxcbmlmIChpbXBvcnRVcmwpIHtcXG4gICAgaWYgKGRhdGFJdGVtLmlzX2pzb25fbGlzdCAmJiAhaGFzU3ViKSB7XFxuICAgICAgICBsZXQgc3ViX3J1bGVfY29kZSA9ICfmtbfpmJTop4bnlYzlkIjpm4bop4TliJnorqLpmIXvv6Vob21lX3N1Yu+/pScgKyBkYXRhSXRlbS5uYW1lICsgXFxcIkBAXFxcIiArIHJ1bGVMaXN0SnNvbiArIGRhdGFJdGVtLmlkO1xcbiAgICAgICAgbGV0IHN1Yl91cmwgPSAncnVsZTovLycgKyBiYXNlNjRFbmNvZGUoc3ViX3J1bGVfY29kZSk7XFxuICAgICAgICBkYXRhLnB1c2goe1xcbiAgICAgICAgICAgIHRpdGxlOiAn6K6i6ZiF5ZCI6ZuGJyxcXG4gICAgICAgICAgICB1cmw6IHN1Yl91cmwsXFxuICAgICAgICAgICAgY29sX3R5cGU6IG15X2NvbF90eXBlMlxcbiAgICAgICAgfSk7XFxuICAgICAgICBkYXRhLnB1c2goe1xcbiAgICAgICAgICAgIHRpdGxlOiAn4oCc4oCc4oCd4oCdPHNwYW4gc3R5bGU9XFxcImNvbG9yOiAjZmY3MDAwXFxcIj7lr7zlhaXovbvlkIjpm4Y8L3NwYW4+JyxcXG4gICAgICAgICAgICB1cmw6ICQoKS5sYXp5UnVsZSgoZGF0YUl0ZW0sc3ViVXJsKT0+e1xcbiAgICAgICAgICAgICAgICBjb25zdCB7Z2VuUnVsZX09JC5yZXF1aXJlKFxcXCJoaWtlcjovL3BhZ2UvZ2VuQXBpXFxcIik7XFxuICAgICAgICAgICAgICAgIGxldCBpbXBvcnRfcnVsZT1nZW5SdWxlKGRhdGFJdGVtLm5hbWUrXFxcIi5cXFwiK2RhdGFJdGVtLmF1dGhvcixzdWJVcmwpO1xcbiAgICAgICAgICAgICAgICAvL2NvcHkoaW1wb3J0X3J1bGUpO1xcbiAgICAgICAgICAgICAgICBsZXQgcnVsZUNvZGU9cGFyc2VQYXN0ZShpbXBvcnRfcnVsZS5zcGxpdChcXFwiXFxcXG5cXFwiKVswXSk7XFxuICAgICAgICAgICAgICAgIC8vcmV0dXJuIFxcXCJoaWtlcjovL2VtcHR5XFxcIlxcbiAgICAgICAgICAgICAgICBpbXBvcnRVcmwgPSAncnVsZTovLycgKyBiYXNlNjRFbmNvZGUocnVsZUNvZGUpO1xcbiAgICAgICAgICAgICAgICByZXR1cm4gaW1wb3J0VXJsXFxuICAgICAgICAgICAgfSxkYXRhSXRlbSxydWxlTGlzdEpzb24gKyBkYXRhSXRlbS5pZCksXFxuICAgICAgICAgICAgY29sX3R5cGU6IG15X2NvbF90eXBlMlxcbiAgICAgICAgfSk7XFxuICAgICAgICBkYXRhLnB1c2goe1xcbiAgICAgICAgICAgIHRpdGxlOiAn4oCc4oCc4oCd4oCdPHNwYW4gc3R5bGU9XFxcImNvbG9yOiAjZmY3MDAwXFxcIj7lr7zlhaXpgZPlvrfnu488L3NwYW4+JyxcXG4gICAgICAgICAgICB1cmw6ICQoKS5sYXp5UnVsZSgoZGF0YUl0ZW0sc3ViVXJsKT0+e1xcbiAgICAgICAgICAgICAgICAvLyBsZXQgdGl0bGUgPSBcXFwiSC1cXFwiK2RhdGFJdGVtLm5hbWUrXFxcIi5cXFwiK2RhdGFJdGVtLmF1dGhvcjtcXG4gICAgICAgICAgICAgICAgbGV0IHRpdGxlID0gXFxcIkotXFxcIitkYXRhSXRlbS5uYW1lLnNwbGl0KCcuJylbMF07XFxuICAgICAgICAgICAgICAgIGxldCBzdWJPYmogPSB7XFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXFxuICAgICAgICAgICAgICAgICAgICB1cmw6IHN1YlVybCxcXG4gICAgICAgICAgICAgICAgICAgIGRlc2M6IFxcXCJoaWtlcjovL2ZpbGVzL3J1bGVzL2R6SG91c2UvcnVsZUNhY2hlL1xcXCIrdGl0bGUrXFxcIi5qc29uXFxcIixcXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFxcXCJcXFwiLFxcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiBmYWxzZSwvL+emgeeUqOW5tuWPkeabtOaWsFxcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIGxldCBzaGFyZVRleHQgPSBiYXNlNjRFbmNvZGUoSlNPTi5zdHJpbmdpZnkoc3ViT2JqKSk7XFxuICAgICAgICAgICAgICAgIHZhciBwYXN0ZXMgPSBnZXRQYXN0ZXMoKTtcXG4gICAgICAgICAgICAgICAgdmFyIHVybCA9IHNoYXJlUGFzdGUoc2hhcmVUZXh0LHBhc3Rlcy5zbGljZSgtMSlbMF0pO1xcbiAgICAgICAgICAgICAgICBsZXQgaW1wb3J0X3J1bGU9IFxcXCLovbvlkIjpm4borqLpmIXvvJpcXFwiK3RpdGxlKydcXFxcbicrdXJsO1xcbiAgICAgICAgICAgICAgICBjb3B5KGltcG9ydF9ydWxlKTtcXG4gICAgICAgICAgICAgICAgY29uc3QgcGF0aCA9ICdoaWtlcjovL2ZpbGVzL3J1bGVzL2R6SG91c2UvcnVsZUNhY2hlL3N1Yi5qc29uJztcXG4gICAgICAgICAgICAgICAgJC5yYyhjb25maWcubGliLnN1Yik7XFxuICAgICAgICAgICAgICAgIHJldHVybiDorqLpmIXlr7zlhaUocGF0aClcXG4gICAgICAgICAgICB9LGRhdGFJdGVtLHJ1bGVMaXN0SnNvbiArIGRhdGFJdGVtLmlkKSxcXG4gICAgICAgICAgICBjb2xfdHlwZTogbXlfY29sX3R5cGUyXFxuICAgICAgICB9KTtcXG4gICAgICAgIGRhdGEucHVzaCh7XFxuICAgICAgICAgICAgdGl0bGU6IFxcXCI8c21hbGw+5o+Q56S677ya5byA5Y+R6ICF5Y2V54us5YiG5Lqr55qE5ZCI6ZuG5paH5Lu25Y+q6IO95Y2V54us5a+85YWl44CCPC9zbWFsbD5cXFwiLFxcbiAgICAgICAgICAgIGNvbF90eXBlOiBcXFwicmljaF90ZXh0XFxcIlxcbiAgICAgICAgfSk7XFxuICAgIH0gZWxzZSBpZiAoIWRhdGFJdGVtLmlzX2pzb25fbGlzdCAmJiAhaGFzU3ViICYmIGRhdGFJdGVtLmRhdGFfdHlwZSA9PSAnaG9tZV9ydWxlX3VybCcpIHtcXG4gICAgICAgIGxldCBzdWJfcnVsZV9jb2RlID0gJ+a1t+mYlOinhueVjOWNleinhOWImeiuoumYhe+/pWhvbWVfc3Vi77+lJyArIGRhdGFJdGVtLm5hbWUgKyBcXFwiQEBcXFwiICsgcnVsZUxpc3RKc29uICsgZGF0YUl0ZW0uaWQgKyAnJmRlYnVnPXRydWUnO1xcbiAgICAgICAgbGV0IHN1Yl91cmwgPSAncnVsZTovLycgKyBiYXNlNjRFbmNvZGUoc3ViX3J1bGVfY29kZSk7XFxuICAgICAgICBkYXRhLnB1c2goe1xcbiAgICAgICAgICAgIHRpdGxlOiAn6K6i6ZiF6KeE5YiZJyxcXG4gICAgICAgICAgICB1cmw6IHN1Yl91cmwsXFxuICAgICAgICAgICAgY29sX3R5cGU6IG15X2NvbF90eXBlXFxuICAgICAgICB9KVxcbiAgICB9XFxufVxcbmlmIChkYXRhSXRlbS5pc19qc29uICYmIGRhdGFJdGVtLmRhdGFfdHlwZSA9PT0gXFxcImhvbWVfcnVsZV91cmxcXFwiICYmICFkYXRhSXRlbS5pc19qc29uX2xpc3QpIHtcXG4gICAgZGF0YS5wdXNoKHtcXG4gICAgICAgIHRpdGxlOiAn6L+b5YWl6aKR6YGTJyxcXG4gICAgICAgIHVybDogJCggLypcXFwiI25vTG9hZGluZyNcXFwiKi8gKS5sYXp5UnVsZSgobmFtZSxob21lKSA9PiB7XFxuICAgICAgICAgICAgbGV0IHJ1bGVMaXN0ID0gSlNPTi5wYXJzZShyZXF1ZXN0KGhvbWUpKTtcXG4gICAgICAgICAgICBsZXQgaGFzUnVsZSA9IHJ1bGVMaXN0LnNvbWUoaXRlbSA9PiBpdGVtLnRpdGxlID09PSBuYW1lKTtcXG4gICAgICAgICAgICBpZiAoaGFzUnVsZSkge1xcbiAgICAgICAgICAgICAgICBwdXRWYXIoXFxcIldhcmVob3VzZS5iYWNrXFxcIiwgXFxcIjFcXFwiKTtcXG4gICAgICAgICAgICAgICAgYmFjaygpO1xcbiAgICAgICAgICAgICAgICByZXR1cm4gaG9tZStcXFwic0BcXFwiICsgbmFtZTtcXG4gICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICByZXR1cm4gXFxcInRvYXN0Oi8v5pyq5a6J6KOFXFxcIjtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9LCBkYXRhSXRlbS5uYW1lLGFwaS5ob21lKSxcXG4gICAgICAgIGNvbF90eXBlOiBteV9jb2xfdHlwZVxcbiAgICB9KVxcbn1cXG5sZXQgbWFuX3J1bGVfc2FmZSA9IGdldEFwaShcXFwibWFuUnVsZVNhZmVcXFwiKStkYXRhSXRlbS5pZDtcXG5sZXQgbWFuX3J1bGVfZ29vZCA9IGdldEFwaShcXFwibWFuUnVsZUdvb2RcXFwiKStkYXRhSXRlbS5pZDtcXG4vLyBkYXRhSXRlbS5pc19zYWZlO1xcbmlmKGdldFZhcignaG91c2UuaXNfbWFuYWdlcicpKXtcXG4gICAgZnVuY3Rpb24gc2V0SXNTYWZlKGZsYWcsbWFuX3J1bGVfc2FmZSkge1xcbiAgICAgICAgZmxhZyA9IGZsYWcgfHwgJyc7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIGxldCBjb2RlID0gZmV0Y2gobWFuX3J1bGVfc2FmZSwge1xcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XFxcIlVzZXItQWdlbnRcXFwiOiBNT0JJTEVfVUF9LFxcbiAgICAgICAgICAgICAgICBib2R5OiB7XFxuICAgICAgICAgICAgICAgICAgICBcXFwicGFyYW1zXFxcIjpcXG4gICAgICAgICAgICAgICAgICAgICAgICB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXCJ1c2VybmFtZVxcXCI6IGdldFZhcignaG91c2UudXNlcm5hbWUnKSxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxcInBhc3N3b3JkXFxcIjogZ2V0VmFyKCdob3VzZS5wYXNzd29yZCcpLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXFwiaXNfc2FmZVxcXCI6ICEhZmxhZ1xcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH0pO1xcbiAgICAgICAgICAgIGNvZGUgPSBKU09OLnBhcnNlKGNvZGUpLnJlc3VsdDtcXG4gICAgICAgICAgICBpZiAoY29kZS5zdGF0dXMgPT09IDApIHtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvZGUuZGV0YWlsXFxuICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgcmV0dXJuICfmk43kvZzlpLHotKU6JyArIGNvZGUuZGV0YWlsXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSBjYXRjaCAoZSkge1xcbiAgICAgICAgICAgIHJldHVybiAn5pON5L2c5aSx6LSlOicgKyBlLm1lc3NhZ2VcXG4gICAgICAgIH1cXG4gICAgfVxcbiAgICBmdW5jdGlvbiBzZXRJc0dvb2QoZmxhZyxtYW5fcnVsZV9nb29kKSB7XFxuICAgICAgICBmbGFnID0gZmxhZyB8fCAnJztcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgbGV0IGNvZGUgPSBmZXRjaChtYW5fcnVsZV9nb29kLCB7XFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcXFwiVXNlci1BZ2VudFxcXCI6IE1PQklMRV9VQX0sXFxuICAgICAgICAgICAgICAgIGJvZHk6IHtcXG4gICAgICAgICAgICAgICAgICAgIFxcXCJwYXJhbXNcXFwiOlxcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxcInVzZXJuYW1lXFxcIjogZ2V0VmFyKCdob3VzZS51c2VybmFtZScpLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcXFwicGFzc3dvcmRcXFwiOiBnZXRWYXIoJ2hvdXNlLnBhc3N3b3JkJyksXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXCJpc19nb29kXFxcIjogISFmbGFnXFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfSk7XFxuICAgICAgICAgICAgY29kZSA9IEpTT04ucGFyc2UoY29kZSkucmVzdWx0O1xcbiAgICAgICAgICAgIGlmIChjb2RlLnN0YXR1cyA9PT0gMCkge1xcbiAgICAgICAgICAgICAgICByZXR1cm4gY29kZS5kZXRhaWxcXG4gICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICByZXR1cm4gJ+aTjeS9nOWksei0pTonICsgY29kZS5kZXRhaWxcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9IGNhdGNoIChlKSB7XFxuICAgICAgICAgICAgcmV0dXJuICfmk43kvZzlpLHotKU6JyArIGUubWVzc2FnZVxcbiAgICAgICAgfVxcbiAgICB9XFxuICAgIGRhdGEucHVzaCh7XFxuICAgICAgICB0aXRsZTon8J+aq+mjjumZqScsXFxuICAgICAgICBjb2xfdHlwZTonc2Nyb2xsX2J1dHRvbicsXFxuICAgICAgICB1cmw6JCgn5qCH6K6w6K+l6KeE5YiZ5Li66aOO6ZmpP+mjjumZqeinhOWImeaXoOazleiiq+WvvOWFpScpLmNvbmZpcm0oKGlkLG1hbl9ydWxlX3NhZmUsc2V0SXNTYWZlKT0+e1xcbiAgICAgICAgICAgIGxldCByZXQgPSBzZXRJc1NhZmUoZmFsc2UsbWFuX3J1bGVfc2FmZSk7XFxuICAgICAgICAgICAgaWYoIS/mk43kvZzlpLHotKUvLnRlc3QocmV0KSl7XFxuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovLycrcmV0XFxuICAgICAgICB9LGRhdGFJdGVtLmlkLG1hbl9ydWxlX3NhZmUsc2V0SXNTYWZlKVxcbiAgICB9KTtcXG4gICAgZGF0YS5wdXNoKHtcXG4gICAgICAgIHRpdGxlOifinIXmraPluLgnLFxcbiAgICAgICAgY29sX3R5cGU6J3Njcm9sbF9idXR0b24nLFxcbiAgICAgICAgdXJsOiQoJ+agh+iusOivpeinhOWImeS4uuato+W4uD8nKS5jb25maXJtKChpZCxtYW5fcnVsZV9zYWZlLHNldElzU2FmZSk9PntcXG4gICAgICAgICAgICBsZXQgcmV0ID0gc2V0SXNTYWZlKHRydWUsbWFuX3J1bGVfc2FmZSk7XFxuICAgICAgICAgICAgaWYoIS/mk43kvZzlpLHotKUvLnRlc3QocmV0KSl7XFxuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovLycrcmV0XFxuICAgICAgICB9LGRhdGFJdGVtLmlkLG1hbl9ydWxlX3NhZmUsc2V0SXNTYWZlKVxcbiAgICB9KTtcXG4gICAgZGF0YS5wdXNoKHtcXG4gICAgICAgIHRpdGxlOifimaXpnZ7kvJjotKgnLFxcbiAgICAgICAgY29sX3R5cGU6J3Njcm9sbF9idXR0b24nLFxcbiAgICAgICAgdXJsOiQoJ+agh+iusOivpeinhOWImeS4uumdnuS8mOi0qD8nKS5jb25maXJtKChpZCxtYW5fcnVsZV9nb29kLHNldElzR29vZCk9PntcXG4gICAgICAgICAgICBsZXQgcmV0ID0gc2V0SXNHb29kKGZhbHNlLG1hbl9ydWxlX2dvb2QpO1xcbiAgICAgICAgICAgIGlmKCEv5pON5L2c5aSx6LSlLy50ZXN0KHJldCkpe1xcbiAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly8nK3JldFxcbiAgICAgICAgfSxkYXRhSXRlbS5pZCxtYW5fcnVsZV9nb29kLHNldElzR29vZClcXG4gICAgfSk7XFxuICAgIGRhdGEucHVzaCh7XFxuICAgICAgICB0aXRsZTon8J+SluS8mOi0qCcsXFxuICAgICAgICBjb2xfdHlwZTonc2Nyb2xsX2J1dHRvbicsXFxuICAgICAgICB1cmw6JCgn5qCH6K6w6K+l6KeE5YiZ5Li65LyY6LSoPycpLmNvbmZpcm0oKGlkLG1hbl9ydWxlX2dvb2Qsc2V0SXNHb29kKT0+e1xcbiAgICAgICAgICAgIGxldCByZXQgPSBzZXRJc0dvb2QodHJ1ZSxtYW5fcnVsZV9nb29kKTtcXG4gICAgICAgICAgICBpZighL+aTjeS9nOWksei0pS8udGVzdChyZXQpKXtcXG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8vJytyZXRcXG4gICAgICAgIH0sZGF0YUl0ZW0uaWQsbWFuX3J1bGVfZ29vZCxzZXRJc0dvb2QpXFxuICAgIH0pO1xcbn1cXG5cXG5kYXRhLnB1c2goe1xcbiAgICBjb2xfdHlwZTogXFxcImxpbmVfYmxhbmtcXFwiXFxufSk7XFxuZGF0YS5wdXNoKHtcXG4gICAgdGl0bGU6IGRhdGFJdGVtLmdvb2RfbnVtLFxcbiAgICBwaWNfdXJsOiBcXFwiaGlrZXI6Ly9maWxlcy9pY29uL+i1ni5zdmdcXFwiLFxcbiAgICBjb2xfdHlwZTogXFxcImljb25fc21hbGxfM1xcXCIsXFxuICAgIHVybDogXFxcImhpa2VyOi8vcGFnZS9NYWtlQWNvbW1lbnQjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjXFxcIixcXG4gICAgZXh0cmE6IHtcXG4gICAgICAgIGlkOiBkYXRhSXRlbS5pZCxcXG4gICAgICAgIG5hbWU6IGRhdGFJdGVtLm5hbWVcXG4gICAgfVxcbn0pO1xcbmRhdGEucHVzaCh7XFxuICAgIHRpdGxlOiBkYXRhSXRlbS5iYWRfbnVtLFxcbiAgICBwaWNfdXJsOiBcXFwiaGlrZXI6Ly9maWxlcy9pY29uL+i4qS5zdmdcXFwiLFxcbiAgICBjb2xfdHlwZTogXFxcImljb25fc21hbGxfM1xcXCIsXFxuICAgIHVybDogXFxcImhpa2VyOi8vcGFnZS9NYWtlQWNvbW1lbnQjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjXFxcIixcXG4gICAgZXh0cmE6IHtcXG4gICAgICAgIGlkOiBkYXRhSXRlbS5pZCxcXG4gICAgICAgIG5hbWU6IGRhdGFJdGVtLm5hbWUsXFxuICAgICAgICBkZWZhdWx0VHlwZTpcXFwiYmFkXFxcIlxcbiAgICB9XFxufSk7XFxuZGF0YS5wdXNoKHtcXG4gICAgdGl0bGU6IFxcXCLor4TorrpcXFwiLFxcbiAgICBwaWNfdXJsOiBcXFwiaGlrZXI6Ly9maWxlcy9pY29uL+ivhOiuui5zdmdcXFwiLFxcbiAgICBjb2xfdHlwZTogXFxcImljb25fc21hbGxfM1xcXCIsXFxuICAgIHVybDogXFxcImhpa2VyOi8vcGFnZS9NYWtlQWNvbW1lbnQjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjXFxcIixcXG4gICAgZXh0cmE6IHtcXG4gICAgICAgIGlkOiBkYXRhSXRlbS5pZCxcXG4gICAgICAgIG5hbWU6IGRhdGFJdGVtLm5hbWVcXG4gICAgfVxcbn0pO1xcbmxldCB0b3RhbFN1bSA9IGRhdGFJdGVtLmdvb2RfbnVtICsgZGF0YUl0ZW0uYmFkX251bTtcXG5cXG5kYXRhLnB1c2goe1xcbiAgICB0aXRsZTogaHRtbFRhZyhcXFwiYmlnXFxcIiwgXFxcIuivhOiuuihcXFwiICsgdG90YWxTdW0gKyBcXFwiKVxcXCIpICsgXFxcIlxcXFx0XFxcXHRcXFxcdFxcXCIgKyBzbWFsbChodG1sVGFnKFxcXCJ1XFxcIiwgXFxcIuafpeeci+WFqOmDqOivhOiuuiA+XFxcIikpLFxcbiAgICBjb2xfdHlwZTogXFxcInRleHRfMVxcXCIsXFxuICAgIHVybDogXFxcImhpa2VyOi8vcGFnZS9Db21tZW50XFxcIixcXG4gICAgZXh0cmE6IHtcXG4gICAgICAgIHVybDogXFxcImhpa2VyOi8vZW1wdHkjZnlwYWdlI25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5I1xcXCIsXFxuICAgICAgICBpZDogZGF0YUl0ZW0uaWQsXFxuICAgICAgICB0b3RhbFN1bTogdG90YWxTdW0sXFxuICAgICAgICBub19hY3RpdmU6IGZhbHNlXFxuICAgIH1cXG59KTtcXG4vL2NvbnN0IGxvbmdlc3RTdW09MTIwO1xcbmxldCBpY29uID0ge1xcbiAgICBcXFwiZ29vZFxcXCI6IFxcXCLwn5GNXFxcIixcXG4gICAgXFxcImJhZFxcXCI6IFxcXCLwn5GOXFxcIixcXG4gICAgXFxcInJlcGx5XFxcIjpcXFwi5byA5Y+R6ICF8J+Xo1xcXCJcXG59XFxuaWYgKHRvdGFsU3VtID09PSAwKSB7XFxuICAgIGRhdGEucHVzaCh7XFxuICAgICAgICB0aXRsZTogXFxcIjxoNSBzdHlsZT0ndGV4dC1hbGlnbjpjZW50ZXInPuS4gOadoeivhOiuuuS5n+ayoeacie+8jOW/q+adpeaKouaymeWPkeWQp++8gTwvaDU+XFxcIixcXG4gICAgICAgIGNvbF90eXBlOiBcXFwicmljaF90ZXh0XFxcIlxcbiAgICB9KTtcXG59IGVsc2Uge1xcbiAgICBsZXQgY29tbWVudExpc3QgPSBKU09OLnBhcnNlKHJlcXVlc3QoYXBpLmRpc19nZXQgKyBkYXRhSXRlbS5pZCArIFxcXCI/bGltaXQ9NVxcXCIpKS5yZXN1bHQ7XFxuICAgIGZvciAobGV0IGl0ZW0gb2YgY29tbWVudExpc3QpIHtcXG4gICAgICAgIGxldCBSZXBseSA9IGl0ZW0uZGlzY3Vzc190eXBlPT09XFxcInJlcGx5XFxcIiYmaXRlbS5yZXBseV90b19uYW1lIT09ZmFsc2UmJml0ZW0ucmVwbHlfdG9faWQhPT1mYWxzZT9cXFwi4oCY4oCY5Zue5aSNQFxcXCIraXRlbS5yZXBseV90b19uYW1lK1xcXCIgI1xcXCIraXRlbS5kaXNjdXNzX2lkK1xcXCLigJnigJlcXFxcblxcXCI6XFxcIlxcXCI7XFxuICAgICAgICBkYXRhLnB1c2goe1xcbiAgICAgICAgICAgIHRpdGxlOiBpdGVtLm5hbWUgKyBcXFwiJm5ic3A7Jm5ic3A7PGZvbnQgY29sb3I9J2dyYXknPjxzbWFsbD4jXFxcIiArIGl0ZW0uaWQgKyBcXFwiPC9zbWFsbD48Zm9udD5cXFwiLFxcbiAgICAgICAgICAgIGNvbF90eXBlOiBcXFwiYXZhdGFyXFxcIixcXG4gICAgICAgICAgICAvL3VybDogXFxcInRvYXN0Oi8vXFxcIiArIGl0ZW0ucXEsXFxuICAgICAgICAgICAgdXJsOlxcXCJtcXF3cGE6Ly9pbS9jaGF0P2NoYXRfdHlwZT13cGEmdWluPVxcXCIraXRlbS5xcSxcXG4gICAgICAgICAgICBwaWNfdXJsOiBpdGVtLmF2YXRhcl91cmxcXG4gICAgICAgIH0pO1xcbiAgICAgICAgZGF0YS5wdXNoKHtcXG4gICAgICAgICAgICB0aXRsZTogaXRlbS5kaXNjdXNzX3RleHQsXFxuICAgICAgICAgICAgZGVzYzogUmVwbHkraXRlbS5jcmVhdGVfZGF0ZSArIFxcXCLCt1xcXCIgKyBpY29uW2l0ZW0uZGlzY3Vzc190eXBlXSxcXG4gICAgICAgICAgICBjb2xfdHlwZTogXFxcInRleHRfMVxcXCIsXFxuICAgICAgICAgICAgdXJsOiBcXFwiaGlrZXI6Ly9wYWdlL2luZm9cXFwiLFxcbiAgICAgICAgICAgIGV4dHJhOntcXG4gICAgICAgICAgICAgICAgbmFtZTppdGVtLm5hbWUsXFxuICAgICAgICAgICAgICAgIHR5cGU6XFxcImxvbmdfdGV4dFxcXCIsXFxuICAgICAgICAgICAgICAgIHRleHQ6aXRlbS5kaXNjdXNzX3RleHRcXG4gICAgICAgICAgICB9LFxcbiAgICAgICAgICAgIHBpY191cmw6IGl0ZW0uYXZhdGFyX3VybFxcbiAgICAgICAgfSk7XFxuICAgIH1cXG4gICAgZGF0YS5wdXNoKHtcXG4gICAgICAgIGNvbF90eXBlOiBcXFwibGluZV9ibGFua1xcXCJcXG4gICAgfSk7XFxufVxcblxcbnNldFJlc3VsdChkYXRhKTtcIn0se1wiY29sX3R5cGVcIjpcInJpY2hfdGV4dFwiLFwibmFtZVwiOlwi5p+l55yLXCIsXCJwYXRoXCI6XCJpbmZvXCIsXCJydWxlXCI6XCJqczpcXG5zZXRQYWdlVGl0bGUoXFxcIuafpeeci+OAjFxcXCIrTVlfUEFSQU1TLm5hbWUrXFxcIuOAjVxcXCIpXFxuc2V0UmVzdWx0KFt7XFxuICAgIHRpdGxlOiBNWV9QQVJBTVMudGV4dCxcXG4gICAgY29sX3R5cGU6TVlfUEFSQU1TLnR5cGVcXG59XSk7XCJ9LHtcImNvbF90eXBlXCI6XCJtb3ZpZV8zXCIsXCJuYW1lXCI6XCLlvIDlj5HogIXms6jlhoxcIixcInBhdGhcIjpcIlJlZ2lzdGVyXCIsXCJydWxlXCI6XCJqczpcXG5zZXRQYWdlVGl0bGUoXFxcIuW8gOWPkeiAheazqOWGjFxcXCIpO1xcbmNvbnN0IHtcXG4gICAgZ2V0QXBpLFxcbiAgICBodG1sVGFnLFxcbiAgICBtYXBDb2xUeXBlLFxcbiAgICBzbWFsbFxcbn0gPSAkLnJlcXVpcmUoXFxcImhpa2VyOi8vcGFnZS91dGlsaXlcXFwiKTtcXG52YXIgZGF0YSA9IFtdO1xcbmFkZExpc3RlbmVyKCdvbkNsb3NlJywgJC50b1N0cmluZygoKSA9PiB7XFxuICAgIGNsZWFyVmFyKFxcXCJXYXJlaG91c2UuUGFzc3dvcmRcXFwiKTtcXG4gICAgY2xlYXJWYXIoXFxcIldhcmVob3VzZS5Vc2VybmFtZVxcXCIpO1xcbiAgICBjbGVhclZhcihcXFwiV2FyZWhvdXNlLkRlc2NyaXB0aW9uXFxcIik7XFxuICAgIGNsZWFyVmFyKFxcXCJXYXJlaG91c2UuVXNlckFkZHJlc3NcXFwiKTtcXG59KSk7XFxuYWRkTGlzdGVuZXIoJ29uUmVmcmVzaCcsICQudG9TdHJpbmcoKCk9PntcXG4gICAgcHV0VmFyKFxcXCJXYXJlaG91c2UuV2FpdFxcXCIsIFxcXCJcXFwiKTtcXG59KSk7XFxuZGF0YS5wdXNoKHtcXG4gICAgdGl0bGU6ICfotKblj7cnLFxcbiAgICBkZXNjOiBcXFwi6K+36L6T5YWl6LSm5Y+3KOW/heWhqylcXFwiLFxcbiAgICBjb2xfdHlwZTogJ2lucHV0JyxcXG4gICAgZXh0cmE6IHtcXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogZ2V0VmFyKCdXYXJlaG91c2UuVXNlcm5hbWUnLCAnJyksXFxuICAgICAgICB0eXBlOiBcXFwibnVtYmVyXFxcIixcXG4gICAgICAgIG9uQ2hhbmdlOiAncHV0VmFyKFxcXCJXYXJlaG91c2UuVXNlcm5hbWVcXFwiLGlucHV0KSdcXG4gICAgfVxcbn0sIHtcXG4gICAgdGl0bGU6ICflr4bnoIEnLFxcbiAgICBkZXNjOiBcXFwi6K+36L6T5YWl5a+G56CBKOW/heWhqylcXFwiLFxcbiAgICBjb2xfdHlwZTogJ2lucHV0JyxcXG4gICAgZXh0cmE6IHtcXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogZ2V0VmFyKCdXYXJlaG91c2UuUGFzc3dvcmQnLCAnJyksXFxuICAgICAgICB0eXBlOiBcXFwicGFzc3dvcmRcXFwiLFxcbiAgICAgICAgb25DaGFuZ2U6ICdwdXRWYXIoXFxcIldhcmVob3VzZS5QYXNzd29yZFxcXCIsaW5wdXQpJ1xcbiAgICB9XFxufSk7XFxubWFwQ29sVHlwZShkYXRhLCBcXFwibGluZV9ibGFua1xcXCIsIDEpO1xcbmRhdGEucHVzaCh7XFxuICAgIHRpdGxlOiAn5pi156ewJyxcXG4gICAgZGVzYzogXFxcIuivt+i+k+WFpeaYteensCjlv4XloaspXFxcIixcXG4gICAgY29sX3R5cGU6ICdpbnB1dCcsXFxuICAgIGV4dHJhOiB7XFxuICAgICAgICBkZWZhdWx0VmFsdWU6IGdldFZhcignV2FyZWhvdXNlLlVzZXJBZGRyZXNzJywgJycpLFxcbiAgICAgICAgb25DaGFuZ2U6ICdwdXRWYXIoXFxcIldhcmVob3VzZS5Vc2VyQWRkcmVzc1xcXCIsaW5wdXQpJ1xcbiAgICB9XFxufSwge1xcbiAgICB0aXRsZTogJ+aPj+i/sCcsXFxuICAgIGRlc2M6IFxcXCLor7Tor7TkuLrku4DkuYjopoHms6jlhozlkKdcXFxcbijlj6/ku6Xlop7liqDpgJrov4fmpoLnjocs6YCJ5aGrKVxcXCIsXFxuICAgIGNvbF90eXBlOiAnaW5wdXQnLFxcbiAgICBleHRyYToge1xcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBnZXRWYXIoJ1dhcmVob3VzZS5EZXNjcmlwdGlvbicsICcnKSxcXG4gICAgICAgIHR5cGU6IFxcXCJ0ZXh0YXJlYVxcXCIsXFxuICAgICAgICBvbkNoYW5nZTogJ3B1dFZhcihcXFwiV2FyZWhvdXNlLkRlc2NyaXB0aW9uXFxcIixpbnB1dCknXFxuICAgIH1cXG59KVxcblxcbm1hcENvbFR5cGUoZGF0YSwgXFxcImxpbmVfYmxhbmtcXFwiLCAxKTtcXG5cXG5kYXRhLnB1c2goe1xcbiAgICB0aXRsZTogaHRtbFRhZyhcXFwiYlxcXCIsIFxcXCLms6jlhoxcXFwiKSxcXG4gICAgdXJsOiAkKGdldEFwaShcXFwibmV3X2RldlxcXCIpK1xcXCIjbm9Mb2FkaW5nI1xcXCIpLmxhenlSdWxlKChnZXRJZCwgY29uZmlybSkgPT4ge1xcbiAgICAgICAgbGV0IHVzZXJuYW1lID0gZ2V0VmFyKCdXYXJlaG91c2UuVXNlcm5hbWUnLCBcXFwiXFxcIiksXFxuICAgICAgICAgICAgcGFzc3dvcmQgPSBnZXRWYXIoJ1dhcmVob3VzZS5QYXNzd29yZCcsIFxcXCJcXFwiKSxcXG4gICAgICAgICAgICBkZXNjcmlwdGlvbiA9IGdldFZhcignV2FyZWhvdXNlLkRlc2NyaXB0aW9uJywgXFxcIlxcXCIpLFxcbiAgICAgICAgICAgIG5hbWUgPSBnZXRWYXIoXFxcIldhcmVob3VzZS5Vc2VyQWRkcmVzc1xcXCIsIFxcXCJcXFwiKTtcXG4gICAgICAgIGlmIChbdXNlcm5hbWUsIHBhc3N3b3JkLCBuYW1lXS5pbmNsdWRlcyhcXFwiXFxcIikpIHtcXG4gICAgICAgICAgICByZXR1cm4gXFxcInRvYXN0Oi8v6LSm5Y+3LOWvhueggeWSjOaYteensOS4jeiDveS4uuepulxcXCI7XFxuICAgICAgICB9XFxuICAgICAgICBzaG93TG9hZGluZyhcXFwi5q2j5Zyo5o+Q5Lqk55Sz6K+36KGoXFxcIik7XFxuICAgICAgICBsZXQgcmVzdWx0ID0gcmVxdWVzdChpbnB1dCwge1xcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xcbiAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xcbiAgICAgICAgICAgICAgICBcXFwicGFyYW1zXFxcIjoge1xcbiAgICAgICAgICAgICAgICAgICAgXFxcInJlYXNvblxcXCI6IGRlc2NyaXB0aW9uLFxcbiAgICAgICAgICAgICAgICAgICAgXFxcIm5hbWVcXFwiOiBuYW1lLFxcbiAgICAgICAgICAgICAgICAgICAgXFxcInBhc3N3b3JkXFxcIjogcGFzc3dvcmQsXFxuICAgICAgICAgICAgICAgICAgICBcXFwicXFcXFwiOiB1c2VybmFtZVxcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfSksXFxuICAgICAgICAgICAgbWV0aG9kOiAncG9zdCdcXG4gICAgICAgIH0pO1xcbiAgICAgICAgcmVzdWx0ID0gSlNPTi5wYXJzZShyZXN1bHQpLnJlc3VsdDtcXG4gICAgICAgIGhpZGVMb2FkaW5nKCk7XFxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyAhPT0gMCkge1xcbiAgICAgICAgICAgIHJldHVybiBcXFwidG9hc3Q6Ly9cXFwiICsgcmVzdWx0LmRldGFpbDtcXG4gICAgICAgIH1cXG4gICAgICAgIGxldCBpZHJlc3VsdCA9IEpTT04ucGFyc2UocmVxdWVzdChnZXRJZCArIFxcXCI/cXE9XFxcIiArIHVzZXJuYW1lKSk7XFxuICAgICAgICBpZiAoaWRyZXN1bHQuc3RhdHVzICE9PSAwKSB7XFxuICAgICAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL1xcXCIgKyBpZHJlc3VsdC5kZXRhaWw7XFxuICAgICAgICB9XFxuICAgICAgICBcXG4gICAgICAgIHJldHVybiAkKFxcXCJcXFwiLCBcXFwi6L6T5YWl6YKu566x6aqM6K+B56CBXFxcXG5cXFwiICsgcmVzdWx0LmRldGFpbCkuaW5wdXQoKGNvbmZpcm0sIGlkLCBhY2NvdW50KSA9PiB7XFxuICAgICAgICAgICAgc2hvd0xvYWRpbmcoXFxcIuivt+iAkOW/g+etieW+hVxcXCIpO1xcbiAgICAgICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgICAgIGxldCByZXN1bHQgPSByZXF1ZXN0KGNvbmZpcm0sIHtcXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXFxuICAgICAgICAgICAgICAgICAgICB9LFxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xcbiAgICAgICAgICAgICAgICAgICAgICAgIFxcXCJwYXJhbXNcXFwiOiB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXCJyZWdpc3RfaWRcXFwiOiBpZCxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxcInl6bVxcXCI6IGlucHV0XFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgICAgfSksXFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJ1xcbiAgICAgICAgICAgICAgICB9KTtcXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gSlNPTi5wYXJzZShyZXN1bHQpLnJlc3VsdDtcXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgIT09IDApIHtcXG4gICAgICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXFxcInRvYXN0Oi8vXFxcIiArIHJlc3VsdC5kZXRhaWw7XFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgICAgICBwdXRWYXIoXFxcIldhcmVob3VzZVVzZXJuYW1lXFxcIiwgYWNjb3VudFswXSk7XFxuICAgICAgICAgICAgICAgICAgICBwdXRWYXIoXFxcIldhcmVob3VzZVBhc3N3b3JkXFxcIiwgYWNjb3VudFsxXSk7XFxuICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xcbiAgICAgICAgICAgICAgICAgICAgYmFjaygpO1xcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL+aIkOWKn+aPkOS6pOazqOWGjOazqOWGjFxcXFxuXFxcIityZXN1bHQuZGV0YWlsO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xcbiAgICAgICAgICAgICAgICByZXR1cm4gXFxcInRvYXN0Oi8v5Ye66ZSZ5LqG5ZGQXFxcIjtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9LCBjb25maXJtLCBpZHJlc3VsdC5yZXN1bHQsIFt1c2VybmFtZSwgcGFzc3dvcmRdKTtcXG4gICAgfSwgZ2V0QXBpKFxcXCJuZXdfZ2V0SWRcXFwiKSwgZ2V0QXBpKFxcXCJuZXdfY29uZmlybVxcXCIpKSxcXG4gICAgY29sX3R5cGU6ICd0ZXh0X2NlbnRlcl8xJ1xcbn0pO1xcbnNldFJlc3VsdChkYXRhKTtcIn0se1wiY29sX3R5cGVcIjpcInRleHRfMVwiLFwibmFtZVwiOlwi5Liq5Lq66LWE5paZXCIsXCJwYXRoXCI6XCJQZXJzb25hbERhdGFcIixcInJ1bGVcIjpcImpzOlxcbnNldFBhZ2VUaXRsZShcXFwi5Liq5Lq66LWE5paZXFxcIik7XFxudmFyIGRhdGE9W107XFxuY29uc3Qge1xcbiAgICBnZXRBcGksXFxuICAgIGdldEZpbGUsXFxuICAgIGFwaVxcbn0gPSAkLnJlcXVpcmUoXFxcImhpa2VyOi8vcGFnZS91dGlsaXlcXFwiKTtcXG5cXG5kYXRhLnB1c2goe1xcbiAgICBjb2xfdHlwZTpcXFwibGluZV9ibGFua1xcXCJcXG59KTtcXG5cXG5sZXQge3VzZXJuYW1lLHBhc3N3b3JkfSA9IGdldEZpbGUoKTtcXG5sZXQgZGV2ID0gSlNPTi5wYXJzZShyZXF1ZXN0KGdldEFwaShcXFwidXNlclxcXCIpK01ZX1BBUkFNUy5pZCkpLnJlc3VsdDtcXG5kYXRhLnB1c2goe1xcbiAgICB0aXRsZTpcXFwi5aS05YOPXFxcIixcXG4gICAgZGVzYzpkZXYuYXZhdGFyLFxcbiAgICB1cmw6XFxcImhpa2VyOi8vcGFnZS9tb2RpZnlfUGVyc29uYWxEYXRhI25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5I1xcXCIsXFxuICAgIGV4dHJhOntcXG4gICAgICAgIGRldjpkZXYsXFxuICAgICAgICB1c2VybmFtZTp1c2VybmFtZSxcXG4gICAgICAgIHBhc3N3b3JkOnBhc3N3b3JkLFxcbiAgICAgICAgUGF0dGVybjowXFxuICAgIH0sXFxuICAgIGNvbF90eXBlOlxcXCJ0ZXh0XzFcXFwiXFxufSk7XFxuXFxuXFxuZGF0YS5wdXNoKHtcXG4gICAgdGl0bGU6XFxcIuaYteensFxcXCIsXFxuICAgIGRlc2M6ZGV2Lm5hbWUsXFxuICAgIHVybDpcXFwiaGlrZXI6Ly9wYWdlL21vZGlmeV9QZXJzb25hbERhdGEjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjXFxcIixcXG4gICAgZXh0cmE6e1xcbiAgICAgICAgZGV2OmRldixcXG4gICAgICAgIHVzZXJuYW1lOnVzZXJuYW1lLFxcbiAgICAgICAgcGFzc3dvcmQ6cGFzc3dvcmQsXFxuICAgICAgICBQYXR0ZXJuOjFcXG4gICAgfSxcXG4gICAgY29sX3R5cGU6XFxcInRleHRfMVxcXCJcXG59KTtcXG5cXG5kYXRhLnB1c2goe1xcbiAgICB0aXRsZTpcXFwi5a+G56CBXFxcIixcXG4gICAgdXJsOlxcXCJoaWtlcjovL3BhZ2UvbW9kaWZ5X1BlcnNvbmFsRGF0YSNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSNcXFwiLFxcbiAgICBleHRyYTp7XFxuICAgICAgICBkZXY6ZGV2LFxcbiAgICAgICAgdXNlcm5hbWU6dXNlcm5hbWUsXFxuICAgICAgICBwYXNzd29yZDpwYXNzd29yZCxcXG4gICAgICAgIFBhdHRlcm46MlxcbiAgICB9LFxcbiAgICBjb2xfdHlwZTpcXFwidGV4dF8xXFxcIlxcbn0pO1xcbmRhdGEucHVzaCh7XFxuICAgIGNvbF90eXBlOlxcXCJsaW5lX2JsYW5rXFxcIlxcbn0pO1xcbmRhdGEucHVzaCh7XFxuICAgIHRpdGxlOlxcXCLotKblj7fvvJpcXFwiK3VzZXJuYW1lLFxcbiAgICB1cmw6XFxcImNvcHk6Ly9cXFwiK3VzZXJuYW1lLFxcbiAgICBjb2xfdHlwZTpcXFwidGV4dF8xXFxcIlxcbn0pO1xcbmRhdGEucHVzaCh7XFxuICAgIHRpdGxlOlxcXCJVSUTvvJpcXFwiK2Rldi5pZCxcXG4gICAgdXJsOlxcXCJjb3B5Oi8vXFxcIitkZXYuaWQsXFxuICAgIGNvbF90eXBlOlxcXCJ0ZXh0XzFcXFwiXFxufSk7XFxuZGF0YS5wdXNoKHtcXG4gICAgY29sX3R5cGU6XFxcImxpbmVfYmxhbmtcXFwiXFxufSk7XFxuZGF0YS5wdXNoKHtcXG4gICAgdGl0bGU6XFxcIuaPkOS6pOS6keS7k+W6k+inhOWImVxcXCIsXFxuICAgIHVybDokKFxcXCIjbm9Mb2FkaW5nI1xcXCIpLmxhenlSdWxlKChob3N0KT0+e1xcbiAgICAgICAgbGV0IGNvZGU9cmVxdWVzdChob3N0K1xcXCIvaGlrZXJ1bGUvcnVsZWxpc3QuanNvbj9pZD0xNDVcXFwiKTtcXG4gICAgICAgIGxldCB3b3JkPVxcXCLvv6VwdWJsaXNo77+lXFxcIitiYXNlNjRFbmNvZGUoY29kZSk7XFxuICAgICAgICByZXR1cm4gXFxcInJ1bGU6Ly9cXFwiK2Jhc2U2NEVuY29kZSh3b3JkKTtcXG4gICAgfSxhcGkuaG9zdCksXFxuICAgIGNvbF90eXBlOlxcXCJ0ZXh0XzFcXFwiXFxufSk7XFxuZGF0YS5wdXNoKHtcXG4gICAgdGl0bGU6XFxcIuWQjOatpeaPkOS6pOS6keS7k+W6k+i0puWPt+WvhueggVxcXCIsXFxuICAgIHVybDpcXFwicnVsZTovL1xcXCIrYmFzZTY0RW5jb2RlKFxcXCLvv6VwdWJsaXNoX2FjY291bnTvv6VcXFwiK3VzZXJuYW1lK1xcXCJAXFxcIitwYXNzd29yZCksXFxuICAgIGNvbF90eXBlOlxcXCJ0ZXh0XzFcXFwiXFxufSk7XFxuZGF0YS5wdXNoKHtcXG4gICAgY29sX3R5cGU6XFxcImxpbmVfYmxhbmtcXFwiXFxufSk7XFxuZGF0YS5wdXNoKHtcXG4gICAgdGl0bGU6XFxcIuS9oOS4gOWFseWPkeW4g+S6huOAjFxcXCIrZGV2LnJ1bGVfbnVtK1xcXCLjgI3mnaHop4TliJlcXFwiLFxcbiAgICB1cmw6XFxcImhpa2VyOi8vZW1wdHlcXFwiLFxcbiAgICBjb2xfdHlwZTpcXFwidGV4dF8xXFxcIlxcbn0pO1xcbmRhdGEucHVzaCh7XFxuICAgIGNvbF90eXBlOlxcXCJsaW5lX2JsYW5rXFxcIlxcbn0pO1xcbmxldCB1c2VyID0gZ2V0RmlsZSgpO1xcbmRhdGEucHVzaCh7XFxuICAgIHRpdGxlOlxcXCLms6jplIDnmbvlvZVcXFwiLFxcbiAgICB1cmw6JChcXFwi56Gu6K6k5rOo6ZSA55m75b2VP1xcXCIpLmNvbmZpcm0oZiA9PiB7XFxuICAgICAgICBmLnVzZXJuYW1lPVxcXCJcXFwiO1xcbiAgICAgICAgZi5wYXNzd29yZD1cXFwiXFxcIjtcXG4gICAgICAgIHdyaXRlRmlsZSgnaGlrZXI6Ly9maWxlcy9XYXJlaG91c2VVU0VSLmpzb24nLCBKU09OLnN0cmluZ2lmeShmKSk7XFxuICAgICAgICBwdXRWYXIoXFxcIldhcmVob3VzZS5iYWNrXFxcIixcXFwiMVxcXCIpO1xcbiAgICAgICAgYmFjaygpO1xcbiAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL+W3suazqOmUgFxcXCI7XFxuICAgIH0sdXNlciksXFxuICAgIGNvbF90eXBlOlxcXCJ0ZXh0X2NlbnRlcl8xXFxcIlxcbn0pO1xcbnNldFJlc3VsdChkYXRhKTtcIn0se1wiY29sX3R5cGVcIjpcIm1vdmllXzNcIixcIm5hbWVcIjpcIuabtOaUueS4quS6uui1hOaWmVwiLFwicGF0aFwiOlwibW9kaWZ5X1BlcnNvbmFsRGF0YVwiLFwicnVsZVwiOlwianM6XFxuY29uc3Qge1xcbiAgICBnZXRBcGksXFxuICAgIGNvbG9yLFxcbiAgICBzbWFsbCxcXG4gICAgZ2V0RmlsZSxcXG4gICAgaHRtbFRhZ1xcbn0gPSAkLnJlcXVpcmUoXFxcImhpa2VyOi8vcGFnZS91dGlsaXlcXFwiKTtcXG5sZXQge1xcbiAgICBkZXYsXFxuICAgIHVzZXJuYW1lLFxcbiAgICBwYXNzd29yZCxcXG4gICAgUGF0dGVyblxcbn0gPSBNWV9QQVJBTVM7XFxudmFyIGRhdGEgPSBbXTtcXG5sZXQgcGF0aCA9IFxcXCI/cXE9XFxcIiArIHVzZXJuYW1lICsgXFxcIiZwYXNzd29yZD1cXFwiICsgcGFzc3dvcmQ7XFxuYWRkTGlzdGVuZXIoJ29uQ2xvc2UnLCAkLnRvU3RyaW5nKCgpID0+IHtcXG4gICAgY2xlYXJWYXIoXFxcIldhcmVob3VzZS5tLnBldE5hbWVcXFwiKTtcXG4gICAgY2xlYXJWYXIoXFxcIldhcmVob3VzZS5tLmF2YXRhclxcXCIpO1xcbiAgICBjbGVhclZhcihcXFwiV2FyZWhvdXNlLm0uUGFzc3dvcmQuY1xcXCIpO1xcbiAgICBjbGVhclZhcihcXFwiV2FyZWhvdXNlLm0uUGFzc3dvcmQueFxcXCIpO1xcbiAgICBjbGVhclZhcihcXFwiV2FyZWhvdXNlLm0uUGFzc3dvcmQueVxcXCIpO1xcbn0pKTtcXG5mdW5jdGlvbiBtX3BldE5hbWUoKSB7XFxuICAgIGRhdGEucHVzaCh7XFxuICAgICAgICBjb2xfdHlwZTogXFxcImxpbmVfYmxhbmtcXFwiXFxuICAgIH0pO1xcbiAgICBkYXRhLnB1c2goe1xcbiAgICAgICAgY29sX3R5cGU6ICdpbnB1dCcsXFxuICAgICAgICBkZXNjOiBcXFwi6K+36L6T5YWl5paw5pi156ewXFxcIixcXG4gICAgICAgIGV4dHJhOiB7XFxuICAgICAgICAgICAgdGl0bGVWaXNpYmxlOiBmYWxzZSxcXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IGdldFZhcignV2FyZWhvdXNlLm0ucGV0TmFtZScsICcnKXx8ZGV2Lm5hbWUsXFxuICAgICAgICAgICAgb25DaGFuZ2U6ICdwdXRWYXIoXFxcIldhcmVob3VzZS5tLnBldE5hbWVcXFwiLGlucHV0KSdcXG4gICAgICAgIH1cXG4gICAgfSk7XFxuICAgIGRhdGEucHVzaCh7XFxuICAgICAgICBjb2xfdHlwZTogXFxcImxpbmVfYmxhbmtcXFwiXFxuICAgIH0pO1xcbiAgICBkYXRhLnB1c2goe1xcbiAgICAgICAgdGl0bGU6IFxcXCLkv53lrZhcXFwiLFxcbiAgICAgICAgdXJsOiAkKGdldEFwaShcXFwibW9kaWZ5X25hbWVcXFwiKSArIHBhdGgpLmxhenlSdWxlKCgpID0+IHtcXG4gICAgICAgICAgICBsZXQgbmV3UGV0TmFtZSA9IGdldFZhcignV2FyZWhvdXNlLm0ucGV0TmFtZScsICcnKTtcXG4gICAgICAgICAgICBpZiAobmV3UGV0TmFtZSA9PSBcXFwiXFxcIikge1xcbiAgICAgICAgICAgICAgICByZXR1cm4gXFxcInRvYXN0Oi8v5L2g6L+Y5LuA5LmI6YO95rKh5aGr5ZWKIVxcXCI7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGxldCByZXN1bHQgPSByZXF1ZXN0KGlucHV0ICsgXFxcIiZuYW1lPVxcXCIgKyBlbmNvZGVVUklDb21wb25lbnQobmV3UGV0TmFtZSkpO1xcbiAgICAgICAgICAgIHJlc3VsdCA9IEpTT04ucGFyc2UocmVzdWx0KTtcXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMCkge1xcbiAgICAgICAgICAgICAgICBiYWNrKCk7XFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFwidG9hc3Q6Ly/kv67mlLnmiJDlip9cXFwiO1xcbiAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFwidG9hc3Q6Ly9cXFwiICsgcmVzdWx0LmRldGFpbDtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9KSxcXG4gICAgICAgIGNvbF90eXBlOiAndGV4dF9jZW50ZXJfMSdcXG4gICAgfSk7XFxufVxcblxcbmZ1bmN0aW9uIG1fYXZhdGFyKCkge1xcbiAgICBkYXRhLnB1c2goe1xcbiAgICAgICAgY29sX3R5cGU6IFxcXCJsaW5lX2JsYW5rXFxcIlxcbiAgICB9KTtcXG4gICAgZGF0YS5wdXNoKHtcXG4gICAgICAgIGNvbF90eXBlOiAnaW5wdXQnLFxcbiAgICAgICAgZGVzYzogXFxcIuivt+i+k+WFpeaWsOeahOWktOWDj+mTvuaOpVxcXCIsXFxuICAgICAgICBleHRyYToge1xcbiAgICAgICAgICAgIHRpdGxlVmlzaWJsZTogZmFsc2UsXFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBnZXRWYXIoJ1dhcmVob3VzZS5tLmF2YXRhcicsICcnKSB8fCBkZXYuYXZhdGFyLFxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiAncHV0VmFyKFxcXCJXYXJlaG91c2UubS5hdmF0YXJcXFwiLGlucHV0KSdcXG4gICAgICAgIH1cXG4gICAgfSk7XFxuICAgIGRhdGEucHVzaCh7XFxuICAgICAgICBjb2xfdHlwZTogXFxcImxpbmVfYmxhbmtcXFwiXFxuICAgIH0pO1xcbiAgICBkYXRhLnB1c2goe1xcbiAgICAgICAgdGl0bGU6IFxcXCLkv53lrZhcXFwiLFxcbiAgICAgICAgdXJsOiAkKGdldEFwaShcXFwibW9kaWZ5X2F2YVxcXCIpICsgcGF0aCkubGF6eVJ1bGUoKCkgPT4ge1xcbiAgICAgICAgICAgIGxldCBuZXdBdmF0YXIgPSBnZXRWYXIoJ1dhcmVob3VzZS5tLmF2YXRhcicsICcnKTtcXG4gICAgICAgICAgICBcXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gcmVxdWVzdChpbnB1dCArIFxcXCImYXZhdGFyX3VybD1cXFwiICsgZW5jb2RlVVJJQ29tcG9uZW50KG5ld0F2YXRhcikpO1xcbiAgICAgICAgICAgIHJlc3VsdCA9IEpTT04ucGFyc2UocmVzdWx0KTtcXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMCkge1xcbiAgICAgICAgICAgICAgICBiYWNrKCk7XFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFwidG9hc3Q6Ly/kv67mlLnmiJDlip9cXFwiO1xcbiAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFwidG9hc3Q6Ly9cXFwiICsgcmVzdWx0LmRldGFpbDtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9KSxcXG4gICAgICAgIGNvbF90eXBlOiAndGV4dF9jZW50ZXJfMSdcXG4gICAgfSk7XFxufVxcblxcbmZ1bmN0aW9uIG1fcHdkKCkge1xcbiAgICBkYXRhLnB1c2goe1xcbiAgICAgICAgY29sX3R5cGU6IFxcXCJsaW5lX2JsYW5rXFxcIlxcbiAgICB9KTtcXG4gICAgZGF0YS5wdXNoKHtcXG4gICAgICAgIHRpdGxlOlxcXCLljp/lr4bnoIFcXFwiLFxcbiAgICAgICAgY29sX3R5cGU6ICdpbnB1dCcsXFxuICAgICAgICBkZXNjOiBcXFwi6K+36L6T5YWl5Y6f5a+G56CBXFxcIixcXG4gICAgICAgIGV4dHJhOiB7XFxuICAgICAgICAgICAgdHlwZTpcXFwicGFzc3dvcmRcXFwiLFxcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogZ2V0VmFyKCdXYXJlaG91c2UubS5QYXNzd29yZC55JywgJycpLFxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiAncHV0VmFyKFxcXCJXYXJlaG91c2UubS5QYXNzd29yZC55XFxcIixpbnB1dCknXFxuICAgICAgICB9XFxuICAgIH0pO1xcbiAgICBkYXRhLnB1c2goe1xcbiAgICAgICAgY29sX3R5cGU6IFxcXCJsaW5lX2JsYW5rXFxcIlxcbiAgICB9KTtcXG4gICAgZGF0YS5wdXNoKHtcXG4gICAgICAgIHRpdGxlOlxcXCLmlrDlr4bnoIFcXFwiLFxcbiAgICAgICAgY29sX3R5cGU6ICdpbnB1dCcsXFxuICAgICAgICBkZXNjOiBcXFwi6K+36L6T5YWl5paw5a+G56CBXFxcIixcXG4gICAgICAgIGV4dHJhOiB7XFxuICAgICAgICAgICAgdHlwZTpcXFwicGFzc3dvcmRcXFwiLFxcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogZ2V0VmFyKCdXYXJlaG91c2UubS5QYXNzd29yZC54JywgJycpLFxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiAncHV0VmFyKFxcXCJXYXJlaG91c2UubS5QYXNzd29yZC54XFxcIixpbnB1dCknXFxuICAgICAgICB9XFxuICAgIH0pO1xcbiAgICBkYXRhLnB1c2goe1xcbiAgICAgICAgdGl0bGU6XFxcIumHjeWkjeaWsOWvhueggVxcXCIsXFxuICAgICAgICBjb2xfdHlwZTogJ2lucHV0JyxcXG4gICAgICAgIGRlc2M6IFxcXCLor7fph43lpI3mlrDlr4bnoIFcXFwiLFxcbiAgICAgICAgZXh0cmE6IHtcXG4gICAgICAgICAgICB0eXBlOlxcXCJwYXNzd29yZFxcXCIsXFxuICAgICAgICAgICAgdGl0bGVWaXNpYmxlOiBmYWxzZSxcXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IGdldFZhcignV2FyZWhvdXNlLm0uUGFzc3dvcmQuYycsICcnKSxcXG4gICAgICAgICAgICBvbkNoYW5nZTogJ3B1dFZhcihcXFwiV2FyZWhvdXNlLm0uUGFzc3dvcmQuY1xcXCIsaW5wdXQpJ1xcbiAgICAgICAgfVxcbiAgICB9KTtcXG4gICAgZGF0YS5wdXNoKHtcXG4gICAgICAgIGNvbF90eXBlOiBcXFwibGluZV9ibGFua1xcXCJcXG4gICAgfSk7XFxuICAgIGRhdGEucHVzaCh7XFxuICAgICAgICB0aXRsZTogXFxcIuS/neWtmFxcXCIsXFxuICAgICAgICB1cmw6ICQoZ2V0QXBpKFxcXCJtb2RpZnlfcHdkXFxcIikrcGF0aCkubGF6eVJ1bGUoKHBhc3N3b3JkLHVzZXJuYW1lKSA9PiB7XFxuICAgICAgICAgICAgbGV0IG9sZF9wYXNzd29yZCA9IGdldFZhcignV2FyZWhvdXNlLm0uUGFzc3dvcmQueScsICcnKTtcXG4gICAgICAgICAgICBsZXQgbmV3X3Bhc3N3b3JkID0gZ2V0VmFyKCdXYXJlaG91c2UubS5QYXNzd29yZC54JywgJycpO1xcbiAgICAgICAgICAgIGxldCBuZXdfcGFzc3dvcmRfYWdhaW4gPSBnZXRWYXIoJ1dhcmVob3VzZS5tLlBhc3N3b3JkLmMnLCAnJyk7XFxuICAgICAgICAgICAgaWYgKG9sZF9wYXNzd29yZCE9PXBhc3N3b3JkKSB7XFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFwidG9hc3Q6Ly/ljp/lr4bnoIHplJnor69cXFwiO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBpZihuZXdfcGFzc3dvcmQ9PT1cXFwiXFxcIil7XFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFwidG9hc3Q6Ly/or7fovpPlhaXmlrDlr4bnoIFcXFwiO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBpZihuZXdfcGFzc3dvcmQhPT1uZXdfcGFzc3dvcmRfYWdhaW4pe1xcbiAgICAgICAgICAgICAgICByZXR1cm4gXFxcInRvYXN0Oi8v5Lik5qyh5a+G56CB5LiN5ZCMXFxcIlxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gcmVxdWVzdChpbnB1dCArIFxcXCImbmV3X3Bhc3N3b3JkPVxcXCIgKyBuZXdfcGFzc3dvcmQrXFxcIiZuZXdfcGFzc3dvcmRfcmU9XFxcIituZXdfcGFzc3dvcmRfYWdhaW4pO1xcbiAgICAgICAgICAgIHJlc3VsdCA9IEpTT04ucGFyc2UocmVzdWx0KTtcXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMCkge1xcbiAgICAgICAgICAgICAgICB3cml0ZUZpbGUoXFxcImhpa2VyOi8vZmlsZXMvV2FyZWhvdXNlVVNFUi5qc29uXFxcIixKU09OLnN0cmluZ2lmeSh7XFxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTp1c2VybmFtZSxcXG4gICAgICAgICAgICAgICAgICAgIHBhc3N3b3JkOm5ld19wYXNzd29yZFxcbiAgICAgICAgICAgICAgICB9KSk7XFxuICAgICAgICAgICAgICAgIGJhY2soKTtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL+S/ruaUueaIkOWKn1xcXCI7XFxuICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL1xcXCIgKyByZXN1bHQuZGV0YWlsO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0scGFzc3dvcmQsdXNlcm5hbWUpLFxcbiAgICAgICAgY29sX3R5cGU6ICd0ZXh0X2NlbnRlcl8xJ1xcbiAgICB9KTtcXG59XFxuXFxuc3dpdGNoIChQYXR0ZXJuKSB7XFxuICAgIGNhc2UgMDpcXG4gICAgICAgIHNldFBhZ2VUaXRsZShcXFwi5L+u5pS55aS05YOPXFxcIik7XFxuICAgICAgICBtX2F2YXRhcigpO1xcbiAgICAgICAgYnJlYWs7XFxuICAgIGNhc2UgMTpcXG4gICAgICAgIHNldFBhZ2VUaXRsZShcXFwi5L+u5pS55pi156ewXFxcIik7XFxuICAgICAgICBtX3BldE5hbWUoKTtcXG4gICAgICAgIGJyZWFrO1xcbiAgICBjYXNlIDI6XFxuICAgICAgICBzZXRQYWdlVGl0bGUoXFxcIuS/ruaUueWvhueggVxcXCIpO1xcbiAgICAgICAgbV9wd2QoKTtcXG4gICAgICAgIGJyZWFrO1xcbn1cXG5zZXRSZXN1bHQoZGF0YSk7XCJ9LHtcImNvbF90eXBlXCI6XCJtb3ZpZV8zXCIsXCJuYW1lXCI6XCLnvJbovpHop4TliJnlpIfms6hcIixcInBhdGhcIjpcInNldF9ydWxlX25vdGVzXCIsXCJydWxlXCI6XCJqczpcXG5sZXQgZGF0YSA9IFtdO1xcbmNvbnN0IHtcXG4gICAgZ2V0QXBpXFxufSA9ICQucmVxdWlyZShcXFwiaGlrZXI6Ly9wYWdlL3V0aWxpeVxcXCIpO1xcbmxldCB7XFxuICAgIGlkLFxcbiAgICB1c2VybmFtZSxcXG4gICAgcGFzc3dvcmQsXFxuICAgIG5hbWVcXG59ID0gTVlfUEFSQU1TO1xcbnNldFBhZ2VUaXRsZShcXFwi5aSH5rOo44CMXFxcIituYW1lK1xcXCLjgI1cXFwiKTtcXG5hZGRMaXN0ZW5lcignb25DbG9zZScsXFxcImNsZWFyVmFyKCdXYXJlaG91c2UucnVsZS5ub3RlcycsICcnKVxcXCIpO1xcbmxldCBub3Rlcz1yZXF1ZXN0KGdldEFwaShcXFwiZ2V0X3J1bGVfbm90ZVxcXCIpK2lkKTtcXG5ub3Rlcz1KU09OLnBhcnNlKG5vdGVzKS5yZXN1bHQ7XFxuZGF0YS5wdXNoKHtcXG4gICAgZGVzYzogXFxcIuinhOWImeWkh+azqC4uLi4uLlxcXCIsXFxuICAgIGNvbF90eXBlOiAnaW5wdXQnLFxcbiAgICBleHRyYToge1xcbiAgICAgICAgdGl0bGVWaXNpYmxlOiBmYWxzZSxcXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogZ2V0VmFyKCdXYXJlaG91c2UucnVsZS5ub3RlcycsICcnKXx8bm90ZXN8fFxcXCJcXFwiLFxcbiAgICAgICAgdHlwZTogXFxcInRleHRhcmVhXFxcIixcXG4gICAgICAgIGhlaWdodDotMSxcXG4gICAgICAgIG9uQ2hhbmdlOiAncHV0VmFyKFxcXCJXYXJlaG91c2UucnVsZS5ub3Rlc1xcXCIsaW5wdXQpJ1xcbiAgICB9XFxufSk7XFxuXFxuZGF0YS5wdXNoKHtcXG4gICAgdGl0bGU6IFxcXCLkv53lrZhcXFwiLFxcbiAgICBjb2xfdHlwZTogXFxcInRleHRfY2VudGVyXzFcXFwiLFxcbiAgICB1cmw6ICQoZ2V0QXBpKFxcXCJzZXRfcnVsZV9ub3RlXFxcIikgKyBpZCkubGF6eVJ1bGUoKHVzZXJuYW1lLCBwYXNzd29yZCkgPT4ge1xcbiAgICAgICAgbGV0IG5vdGVzID0gZ2V0VmFyKCdXYXJlaG91c2UucnVsZS5ub3RlcycsICcnKTtcXG4gICAgICAgIGxldCByZXN1bHQgPSByZXF1ZXN0KGlucHV0LCB7XFxuICAgICAgICAgICAgaGVhZGVyczoge1xcbiAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXFxuICAgICAgICAgICAgfSxcXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XFxuICAgICAgICAgICAgICAgIFxcXCJwYXJhbXNcXFwiOiB7XFxuICAgICAgICAgICAgICAgICAgICBcXFwicXFcXFwiOiB1c2VybmFtZSxcXG4gICAgICAgICAgICAgICAgICAgIFxcXCJwYXNzd29yZFxcXCI6IHBhc3N3b3JkLFxcbiAgICAgICAgICAgICAgICAgICAgXFxcIm5vdGVcXFwiOm5vdGVzXFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9KSxcXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJ1xcbiAgICAgICAgfSk7XFxuICAgICAgICByZXN1bHQgPSBKU09OLnBhcnNlKHJlc3VsdCkucmVzdWx0O1xcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgIT09IDApIHtcXG4gICAgICAgICAgICByZXR1cm4gXFxcInRvYXN0Oi8vXFxcIiArIHJlc3VsdC5kZXRhaWw7XFxuICAgICAgICB9XFxuICAgICAgICBiYWNrKGZhbHNlKTtcXG4gICAgICAgIHJldHVybiBcXFwidG9hc3Q6Ly/kv67mlLnmiJDlip9cXFwiO1xcbiAgICB9LCB1c2VybmFtZSwgcGFzc3dvcmQpXFxufSk7XFxuc2V0UmVzdWx0KGRhdGEpO1wifSx7XCJjb2xfdHlwZVwiOlwibGluZVwiLFwibmFtZVwiOlwi6K+E6K665YiX6KGoXCIsXCJwYXRoXCI6XCJDb21tZW50XCIsXCJydWxlXCI6XCJqczpcXG5zZXRQYWdlVGl0bGUoXFxcIuivhOiuuuWIl+ihqFxcXCIpO1xcbmNvbnN0IHtcXG4gICAgYXBpXFxufSA9ICQucmVxdWlyZShcXFwiaGlrZXI6Ly9wYWdlL3V0aWxpeVxcXCIpO1xcbmxldCBkYXRhID0gW107XFxubGV0IHtcXG4gICAgdG90YWxTdW0sXFxuICAgIGlkLFxcbiAgICBub19hY3RpdmUsXFxuICAgIHVzZXJuYW1lLFxcbiAgICBwYXNzd29yZFxcbn0gPSBNWV9QQVJBTVM7XFxubGV0IHBhZ2UgPSBwYXJzZUludChNWV9VUkwuc3BsaXQoXFxcIiNcXFwiKVsxXSk7XFxubGV0IGRpc2N1c3NfdHlwZSA9IGdldFZhcihcXFwiV2FyZWhvdXNlLmNvbW1lbnQuZGlzY3Vzc190eXBlXFxcIiwgXFxcIlxcXCIpO1xcbmlmIChwYWdlID09PSAxKSB7XFxuICAgIGRhdGEucHVzaCh7XFxuICAgICAgICBjb2xfdHlwZTogXFxcImxpbmVfYmxhbmtcXFwiXFxuICAgIH0pO1xcbiAgICBhZGRMaXN0ZW5lcignb25DbG9zZScsICQudG9TdHJpbmcoKCkgPT4ge1xcbiAgICAgICAgcHV0VmFyKFxcXCJXYXJlaG91c2UuY29tbWVudC5kaXNjdXNzX3R5cGVcXFwiLCBcXFwiXFxcIik7XFxuICAgIH0pKTtcXG4gICAgZGF0YS5wdXNoKHtcXG4gICAgICAgIHRpdGxlOiBcXFwi5YWo6YOoXFxcIiArIChkaXNjdXNzX3R5cGUgPT09IFxcXCJcXFwiID8gXFxcIuKXiVxcXCIgOiBcXFwi4peLXFxcIiksXFxuICAgICAgICB1cmw6ICQoXFxcIiNub0xvYWRpbmcjXFxcIikubGF6eVJ1bGUoKCkgPT4ge1xcbiAgICAgICAgICAgIHB1dFZhcihcXFwiV2FyZWhvdXNlLmNvbW1lbnQuZGlzY3Vzc190eXBlXFxcIiwgXFxcIlxcXCIpO1xcbiAgICAgICAgICAgIHJlZnJlc2hQYWdlKCk7XFxuICAgICAgICAgICAgcmV0dXJuIFxcXCJoaWtlcjovL2VtcHR5XFxcIjtcXG4gICAgICAgIH0pLFxcbiAgICAgICAgY29sX3R5cGU6ICd0ZXh0XzQnXFxuXFxuICAgIH0pO1xcbiAgICBkYXRhLnB1c2goe1xcbiAgICAgICAgdGl0bGU6IFxcXCLwn5GN6LWeXFxcIiArIChkaXNjdXNzX3R5cGUgPT09IFxcXCJnb29kXFxcIiA/IFxcXCLil4lcXFwiIDogXFxcIuKXi1xcXCIpLFxcbiAgICAgICAgdXJsOiAkKFxcXCIjbm9Mb2FkaW5nI1xcXCIpLmxhenlSdWxlKCgpID0+IHtcXG4gICAgICAgICAgICBwdXRWYXIoXFxcIldhcmVob3VzZS5jb21tZW50LmRpc2N1c3NfdHlwZVxcXCIsIFxcXCJnb29kXFxcIik7XFxuICAgICAgICAgICAgcmVmcmVzaFBhZ2UoKTtcXG4gICAgICAgICAgICByZXR1cm4gXFxcImhpa2VyOi8vZW1wdHlcXFwiO1xcbiAgICAgICAgfSksXFxuICAgICAgICBjb2xfdHlwZTogJ3RleHRfNCdcXG5cXG4gICAgfSk7XFxuICAgIGRhdGEucHVzaCh7XFxuICAgICAgICB0aXRsZTogXFxcIvCfkY7ouKlcXFwiICsgKGRpc2N1c3NfdHlwZSA9PT0gXFxcImJhZFxcXCIgPyBcXFwi4peJXFxcIiA6IFxcXCLil4tcXFwiKSxcXG4gICAgICAgIHVybDogJChcXFwiI25vTG9hZGluZyNcXFwiKS5sYXp5UnVsZSgoKSA9PiB7XFxuICAgICAgICAgICAgcHV0VmFyKFxcXCJXYXJlaG91c2UuY29tbWVudC5kaXNjdXNzX3R5cGVcXFwiLCBcXFwiYmFkXFxcIik7XFxuICAgICAgICAgICAgcmVmcmVzaFBhZ2UoKTtcXG4gICAgICAgICAgICByZXR1cm4gXFxcImhpa2VyOi8vZW1wdHlcXFwiO1xcbiAgICAgICAgfSksXFxuICAgICAgICBjb2xfdHlwZTogJ3RleHRfNCdcXG4gICAgfSk7XFxuICAgIGRhdGEucHVzaCh7XFxuICAgICAgICB0aXRsZTogXFxcIuWbnuWkjVxcXCIgKyAoZGlzY3Vzc190eXBlID09PSBcXFwicmVwbHlcXFwiID8gXFxcIuKXiVxcXCIgOiBcXFwi4peLXFxcIiksXFxuICAgICAgICB1cmw6ICQoXFxcIiNub0xvYWRpbmcjXFxcIikubGF6eVJ1bGUoKCkgPT4ge1xcbiAgICAgICAgICAgIHB1dFZhcihcXFwiV2FyZWhvdXNlLmNvbW1lbnQuZGlzY3Vzc190eXBlXFxcIiwgXFxcInJlcGx5XFxcIik7XFxuICAgICAgICAgICAgcmVmcmVzaFBhZ2UoKTtcXG4gICAgICAgICAgICByZXR1cm4gXFxcImhpa2VyOi8vZW1wdHlcXFwiO1xcbiAgICAgICAgfSksXFxuICAgICAgICBjb2xfdHlwZTogJ3RleHRfNCdcXG4gICAgfSk7XFxufVxcblxcblxcbmxldCBpY29uID0ge1xcbiAgICBcXFwiZ29vZFxcXCI6IFxcXCLwn5GNXFxcIixcXG4gICAgXFxcImJhZFxcXCI6IFxcXCLwn5GOXFxcIixcXG4gICAgXFxcInJlcGx5XFxcIjpcXFwi5byA5Y+R6ICF8J+Xo1xcXCJcXG59XFxubGV0IGNvbnRyb2w9KHBpZCxhY3RpdmUpPT52b2lkIDA7XFxuaWYobm9fYWN0aXZlKXtcXG4gICAgY29udHJvbD1mdW5jdGlvbihwaWQsYWN0aXZlKXtcXG4gICAgICAgIGRhdGEucHVzaCh7XFxuICAgICAgICAgICAgdGl0bGU6YWN0aXZlP1xcXCLpmpDol4/or4TorrpcXFwiOlxcXCLlsZXnpLror4TorrpcXFwiLFxcbiAgICAgICAgICAgIHVybDokKGFwaS5kaXNfZGV2X2NvbnRyb2wrcGlkK1xcXCI/cXE9XFxcIiArIHVzZXJuYW1lICsgXFxcIiZwYXNzd29yZD1cXFwiICsgcGFzc3dvcmQrXFxcIiNub0xvYWRpbmcjXFxcIikubGF6eVJ1bGUoKCk9PntcXG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdD1KU09OLnBhcnNlKHJlcXVlc3QoaW5wdXQpKTtcXG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpXFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFwidG9hc3Q6Ly9cXFwiK3Jlc3VsdC5kZXRhaWw7XFxuICAgICAgICAgICAgfSksXFxuICAgICAgICAgICAgY29sX3R5cGU6XFxcInRleHRfMlxcXCJcXG4gICAgICAgIH0pO1xcbiAgICAgICAgZGF0YS5wdXNoKHtcXG4gICAgICAgICAgICB0aXRsZTpcXFwi5Yig6Zmk6K+E6K66XFxcIixcXG4gICAgICAgICAgICB1cmw6JChcXFwi56Gu6K6k5Yig6Zmk6K+l6K+E6K66P1xcXCIpLmNvbmZpcm0oKGlucHV0KT0+e1xcbiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0PUpTT04ucGFyc2UocmVxdWVzdChpbnB1dCkpO1xcbiAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSlcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL1xcXCIrcmVzdWx0LmRldGFpbDtcXG4gICAgICAgICAgICB9LGFwaS5kaXNfZGV2X2NvbnRyb2wrcGlkK1xcXCI/cXE9XFxcIiArIHVzZXJuYW1lICsgXFxcIiZwYXNzd29yZD1cXFwiICsgcGFzc3dvcmQrXFxcIiZkZWxldGU9MVxcXCIpLFxcbiAgICAgICAgICAgIGNvbF90eXBlOlxcXCJ0ZXh0XzJcXFwiXFxuICAgICAgICB9KTtcXG4gICAgICAgIGRhdGEucHVzaCh7XFxuICAgICAgICAgICAgY29sX3R5cGU6XFxcImxpbmVcXFwiXFxuICAgICAgICB9KTtcXG4gICAgICAgIGRhdGEucHVzaCh7XFxuICAgICAgICAgICAgY29sX3R5cGU6XFxcImxpbmVcXFwiXFxuICAgICAgICB9KTtcXG4gICAgfVxcbn1cXG5pZiAodG90YWxTdW0gPT09IDApIHtcXG4gICAgZGF0YS5wdXNoKHtcXG4gICAgICAgIHRpdGxlOiBcXFwiPGg1IHN0eWxlPSd0ZXh0LWFsaWduOmNlbnRlcic+5LiA5p2h6K+E6K665Lmf5rKh5pyJ77yM5b+r5p2l5oqi5rKZ5Y+R5ZCn77yBPC9oNT5cXFwiLFxcbiAgICAgICAgY29sX3R5cGU6IFxcXCJyaWNoX3RleHRcXFwiXFxuICAgIH0pO1xcbn0gZWxzZSB7XFxuICAgIGxldCBjb21tZW50TGlzdCA9IEpTT04ucGFyc2UocmVxdWVzdChhcGkuZGlzX2dldCArIGlkICsgXFxcIj9saW1pdD01JnBhZ2U9XFxcIiArIHBhZ2UgKyBcXFwiJm5vX2FjdGl2ZT1cXFwiICsgbm9fYWN0aXZlICsgXFxcIiZkaXNjdXNzX3R5cGU9XFxcIiArIGRpc2N1c3NfdHlwZSkpLnJlc3VsdDtcXG4gICAgZm9yIChsZXQgaXRlbSBvZiBjb21tZW50TGlzdCkge1xcbiAgICAgICAgbGV0IFJlcGx5ID0gaXRlbS5kaXNjdXNzX3R5cGU9PT1cXFwicmVwbHlcXFwiJiZpdGVtLnJlcGx5X3RvX25hbWUhPT1mYWxzZSYmaXRlbS5yZXBseV90b19pZCE9PWZhbHNlP1xcXCLigJjigJjlm57lpI1AXFxcIitpdGVtLnJlcGx5X3RvX25hbWUrXFxcIiAjXFxcIitpdGVtLmRpc2N1c3NfaWQrXFxcIuKAmeKAmVxcXFxuXFxcIjpcXFwiXFxcIjtcXG4gICAgICAgIGRhdGEucHVzaCh7XFxuICAgICAgICAgICAgdGl0bGU6IGl0ZW0ubmFtZSArIFxcXCImbmJzcDsmbmJzcDs8Zm9udCBjb2xvcj0nZ3JheSc+PHNtYWxsPiNcXFwiICsgaXRlbS5pZCArIFxcXCI8L3NtYWxsPjxmb250PlxcXCIsXFxuICAgICAgICAgICAgY29sX3R5cGU6IFxcXCJhdmF0YXJcXFwiLFxcbiAgICAgICAgICAgIC8vdXJsOiBub19hY3RpdmU/XFxcImhpa2VyOi8vcGFnZS9SZXBseVxcXCI6XFxcInRvYXN0Oi8vXFxcIiArIGl0ZW0ucXEsXFxuXFx0XFx0ICAgICAgIHVybDpub19hY3RpdmU/XFxcImhpa2VyOi8vcGFnZS9SZXBseVxcXCI6XFxcIm1xcXdwYTovL2ltL2NoYXQ/Y2hhdF90eXBlPXdwYSZ1aW49XFxcIitpdGVtLnFxLFxcbiAgICAgICAgICAgIGV4dHJhOntcXG4gICAgICAgICAgICAgICAgcnVsZUlkOiBpZCxcXG4gICAgICAgICAgICAgICAgbmFtZTogaXRlbS5uYW1lLFxcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQsXFxuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcXG4gICAgICAgICAgICAgICAgcmVwbHlJZDppdGVtLmlkXFxuICAgICAgICAgICAgfSxcXG4gICAgICAgICAgICBwaWNfdXJsOiBpdGVtLmF2YXRhcl91cmxcXG4gICAgICAgIH0pO1xcbiAgICAgICAgZGF0YS5wdXNoKHtcXG4gICAgICAgICAgICB0aXRsZTogaXRlbS5kaXNjdXNzX3RleHQsXFxuICAgICAgICAgICAgZGVzYzogUmVwbHkraXRlbS5jcmVhdGVfZGF0ZSArIFxcXCLCt1xcXCIgKyBpY29uW2l0ZW0uZGlzY3Vzc190eXBlXSxcXG4gICAgICAgICAgICBjb2xfdHlwZTogXFxcInRleHRfMVxcXCIsXFxuICAgICAgICAgICAgdXJsOiBcXFwiaGlrZXI6Ly9wYWdlL2luZm9cXFwiLFxcbiAgICAgICAgICAgIGV4dHJhOntcXG4gICAgICAgICAgICAgICAgbmFtZTppdGVtLm5hbWUsXFxuICAgICAgICAgICAgICAgIHR5cGU6XFxcImxvbmdfdGV4dFxcXCIsXFxuICAgICAgICAgICAgICAgIHRleHQ6aXRlbS5kaXNjdXNzX3RleHRcXG4gICAgICAgICAgICB9LFxcbiAgICAgICAgICAgIHBpY191cmw6IGl0ZW0uYXZhdGFyX3VybFxcbiAgICAgICAgfSk7XFxuICAgICAgICBjb250cm9sKGl0ZW0uaWQsaXRlbS5hY3RpdmUpO1xcbiAgICB9XFxuICAgIGlmIChjb21tZW50TGlzdC5sZW5ndGggPT09IDApIHtcXG4gICAgICAgIGRhdGEucHVzaCh7XFxuICAgICAgICAgICAgY29sX3R5cGU6IFxcXCJsaW5lX2JsYW5rXFxcIlxcbiAgICAgICAgfSk7XFxuICAgIH1cXG59XFxuXFxuc2V0UmVzdWx0KGRhdGEpXCJ9LHtcImNvbF90eXBlXCI6XCJtb3ZpZV8zXCIsXCJuYW1lXCI6XCLlj5Hooajor4TorrpcIixcInBhdGhcIjpcIk1ha2VBY29tbWVudFwiLFwicnVsZVwiOlwianM6XFxubGV0IGRhdGEgPSBbXTtcXG5jb25zdCB7XFxuICAgIGFwaSxcXG4gICAgZ2V0RmlsZVxcbn0gPSAkLnJlcXVpcmUoXFxcImhpa2VyOi8vcGFnZS91dGlsaXlcXFwiKTtcXG5sZXQge1xcbiAgICBpZCxcXG4gICAgbmFtZSxcXG4gICAgZGVmYXVsdFR5cGVcXG59ID0gTVlfUEFSQU1TO1xcbmxldCB1c2VyPWdldEZpbGUoKS51c2VyfHxbXFxcIlxcXCIsXFxcIlxcXCJdO1xcblxcbnNldFBhZ2VUaXRsZShcXFwi6K+E6K66KFxcXCIgKyBuYW1lICsgXFxcIilcXFwiKTtcXG5hZGRMaXN0ZW5lcignb25DbG9zZScsICQudG9TdHJpbmcoKCkgPT4ge1xcbiAgICBjbGVhclZhcihcXFwiV2FyZWhvdXNlLmNvbW1lbnQudHlwZVxcXCIpO1xcbiAgICBjbGVhclZhcihcXFwiV2FyZWhvdXNlLmNvbW1lbnQudGV4dFxcXCIpO1xcbiAgICBjbGVhclZhcihcXFwiV2FyZWhvdXNlLmNvbW1lbnQucXFcXFwiKTtcXG4gICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xcbn0pKTtcXG5sZXQgdHlwZSA9IGdldFZhcihcXFwiV2FyZWhvdXNlLmNvbW1lbnQudHlwZVxcXCIpIHx8IGRlZmF1bHRUeXBlfHxcXFwiZ29vZFxcXCI7XFxuZGF0YS5wdXNoKHtcXG4gICAgZGVzYzogXFxcIuivhOiuui4uLi4uLlxcXCIsXFxuICAgIGNvbF90eXBlOiAnaW5wdXQnLFxcbiAgICBleHRyYToge1xcbiAgICAgICAgdGl0bGVWaXNpYmxlOiBmYWxzZSxcXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogZ2V0VmFyKCdXYXJlaG91c2UuY29tbWVudC50ZXh0JywgJycpLFxcbiAgICAgICAgdHlwZTogXFxcInRleHRhcmVhXFxcIixcXG4gICAgICAgIGhlaWdodDo3LFxcbiAgICAgICAgb25DaGFuZ2U6ICdwdXRWYXIoXFxcIldhcmVob3VzZS5jb21tZW50LnRleHRcXFwiLGlucHV0KSdcXG4gICAgfVxcbn0pO1xcbmRhdGEucHVzaCh7XFxuICAgIHRpdGxlOlxcXCLotKblj7fvvJpcXFwiKyh1c2VyWzBdfHxcXFwiXFxcIiksXFxuICAgIGRlc2M6XFxcIumqjOivgeegge+8mlxcXCIrKHVzZXJbMV18fFxcXCJcXFwiKSxcXG4gICAgdXJsOlxcXCJoaWtlcjovL3BhZ2UvVXNlcnJlZ2lzdHJhdGlvblxcXCIsXFxuICAgIGNvbF90eXBlOiAndGV4dF8xJyxcXG4gICAgXFxufSk7XFxuXFxuZGF0YS5wdXNoKHtcXG4gICAgdGl0bGU6ICAodHlwZSA9PT0gXFxcImdvb2RcXFwiID8gXFxcIuKXiVxcXCIgOiBcXFwi4peLXFxcIikrXFxcIiDwn5GNXFxcIixcXG4gICAgdXJsOiAkKFxcXCIjbm9Mb2FkaW5nI1xcXCIpLmxhenlSdWxlKCgpID0+IHtcXG4gICAgICAgIHB1dFZhcihcXFwiV2FyZWhvdXNlLmNvbW1lbnQudHlwZVxcXCIsIFxcXCJnb29kXFxcIik7XFxuICAgICAgICByZWZyZXNoUGFnZSgpO1xcbiAgICAgICAgcmV0dXJuIFxcXCJoaWtlcjovL2VtcHR5XFxcIjtcXG4gICAgfSksXFxuICAgIGNvbF90eXBlOiAndGV4dF8yJ1xcblxcbn0pO1xcbmRhdGEucHVzaCh7XFxuICAgIHRpdGxlOiAgKHR5cGUgPT09IFxcXCJiYWRcXFwiID8gXFxcIuKXiVxcXCIgOiBcXFwi4peLXFxcIikrXFxcIiDwn5GOXFxcIixcXG4gICAgdXJsOiAkKFxcXCIjbm9Mb2FkaW5nI1xcXCIpLmxhenlSdWxlKCgpID0+IHtcXG4gICAgICAgIHB1dFZhcihcXFwiV2FyZWhvdXNlLmNvbW1lbnQudHlwZVxcXCIsIFxcXCJiYWRcXFwiKTtcXG4gICAgICAgIHJlZnJlc2hQYWdlKCk7XFxuICAgICAgICByZXR1cm4gXFxcImhpa2VyOi8vZW1wdHlcXFwiO1xcbiAgICB9KSxcXG4gICAgY29sX3R5cGU6ICd0ZXh0XzInXFxufSk7XFxuXFxuZGF0YS5wdXNoKHtcXG4gICAgdGl0bGU6IFxcXCLmj5DkuqRcXFwiLFxcbiAgICBjb2xfdHlwZTogXFxcInRleHRfY2VudGVyXzFcXFwiLFxcbiAgICB1cmw6ICQoYXBpLmRpc19uZXcgKyBpZCkubGF6eVJ1bGUoKEFjY291bnQpID0+IHtcXG4gICAgICAgIGxldCB0ZXh0ID0gZ2V0VmFyKCdXYXJlaG91c2UuY29tbWVudC50ZXh0JywgJycpO1xcbiAgICAgICAgbGV0IFtxcSxhdXRoX2NvZGVdID0gQWNjb3VudDtcXG4gICAgICAgIGxldCB0eXBlID0gZ2V0VmFyKCdXYXJlaG91c2UuY29tbWVudC50eXBlJykgfHwgJ2dvb2QnO1xcbiAgICAgICAgcXE9cXF8fFxcXCJcXFwiO1xcbiAgICAgICAgYXV0aF9jb2RlPWF1dGhfY29kZXx8XFxcIlxcXCI7XFxuICAgICAgICBpZihxcT09XFxcIlxcXCJ8fGF1dGhfY29kZT09XFxcIlxcXCIpe1xcbiAgICAgICAgICAgIHJldHVybiBcXFwidG9hc3Q6Ly/mnKrnmbvlvZXotKblj7dcXFwiO1xcbiAgICAgICAgfVxcbiAgICAgICAgaWYodGV4dD09XFxcIlxcXCIpe1xcbiAgICAgICAgICAgIHJldHVybiBcXFwidG9hc3Q6Ly/kvaDov5jku4DkuYjpg73msqHlhpnllYpcXFwiO1xcbiAgICAgICAgfVxcbiAgICAgICAgZnVuY3Rpb24gcihwKSB7XFxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHJlcXVlc3QoaW5wdXQsIHtcXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xcbiAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xcbiAgICAgICAgICAgICAgICB9LFxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwKSxcXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCdcXG4gICAgICAgICAgICB9KTtcXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShyZXN1bHQpLnJlc3VsdDtcXG4gICAgICAgIH1cXG4gICAgICAgIGxldCBwID0ge1xcbiAgICAgICAgICAgIFxcXCJwYXJhbXNcXFwiOiB7XFxuICAgICAgICAgICAgICAgIFxcXCJkaXNjdXNzX3RleHRcXFwiOiB0ZXh0LFxcbiAgICAgICAgICAgICAgICBcXFwicXFcXFwiOiBxcSxcXG4gICAgICAgICAgICAgICAgXFxcImRpc2N1c3NfdHlwZVxcXCI6IHR5cGUsXFxuICAgICAgICAgICAgICAgIFxcXCJhdXRoX2NvZGVcXFwiOiBhdXRoX2NvZGVcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgICBsZXQgcmVzdWx0ID0gcihwKTtcXG4gICAgICAgIGlmKHJlc3VsdC5zdGF0dXM9PT0wKXtcXG4gICAgICAgICAgICBiYWNrKGZhbHNlKTtcXG4gICAgICAgIH1cXG4gICAgICAgIHJldHVybiBcXFwidG9hc3Q6Ly9cXFwiK3Jlc3VsdC5kZXRhaWw7XFxuXFxuICAgIH0sdXNlcilcXG59KTtcXG5cXG5zZXRSZXN1bHQoZGF0YSk7XCJ9LHtcImNvbF90eXBlXCI6XCJtb3ZpZV8zXCIsXCJuYW1lXCI6XCLkvKrnlKjmiLfms6jlhoxcIixcInBhdGhcIjpcIlVzZXJyZWdpc3RyYXRpb25cIixcInJ1bGVcIjpcImpzOlxcbmNvbnN0IHtcXG4gICAgYXBpLFxcbiAgICBnZXRGaWxlLFxcbiAgICBnZXRVc2VyRGF0ZVxcbn0gPSAkLnJlcXVpcmUoXFxcImhpa2VyOi8vcGFnZS91dGlsaXlcXFwiKTtcXG5sZXQgZGF0YSA9IFtdO1xcbmRhdGEucHVzaCh7XFxuICAgIGNvbF90eXBlOiBcXFwibGluZV9ibGFua1xcXCJcXG59KTtcXG5zZXRQYWdlVGl0bGUoXFxcIueUqOaIt+WIl+ihqOeuoeeQhlxcXCIpO1xcbmFkZExpc3RlbmVyKCdvbkNsb3NlJywgJC50b1N0cmluZygoKSA9PiB7XFxuICAgIGNsZWFyVmFyKFxcXCJXYXJlaG91c2UubS5xcVxcXCIpO1xcbiAgICBjbGVhclZhcihcXFwiV2FyZWhvdXNlLm0ueXptXFxcIik7XFxufSkpO1xcbmxldCB1c2VyID0gZ2V0RmlsZSgpO1xcbmxldCB1c2VyTmFtZSA9IHVzZXIudXNlciB8fCBbXFxcIlxcXCJdO1xcbnVzZXJOYW1lID0gdXNlck5hbWVbMF07XFxuZGF0YS5wdXNoKHtcXG4gICAgdGl0bGU6IFxcXCLigJzigJzigJ3igJ08YmlnPijmt7vliqAv6aqM6K+BKei0puWPtzwvYmlnPlxcXCIsXFxuICAgIGNvbF90eXBlOiBcXFwidGV4dF8xXFxcIixcXG4gICAgdXJsOiBcXFwiaGlrZXI6Ly9lbXB0eVxcXCJcXG59KTtcXG5cXG5kYXRhLnB1c2goe1xcbiAgICB0aXRsZTogXFxcIuiOt+WPllxcXCIsXFxuICAgIGNvbF90eXBlOiAnaW5wdXQnLFxcbiAgICBkZXNjOiBcXFwi6K+36L6T5YWlcXFcXFwiLFxcbiAgICB1cmw6ICQudG9TdHJpbmcoKGEsIGIpID0+IHtcXG4gICAgICAgIGxldCBxcSA9IGlucHV0O1xcbiAgICAgICAgaWYgKHFxID09IFxcXCJcXFwiKSB7XFxuICAgICAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL+S9oOi/mOS7gOS5iOmDveayoeWhq+WViiFcXFwiO1xcbiAgICAgICAgfVxcbiAgICAgICAgc2hvd0xvYWRpbmcoXFxcIuiOt+WPluS4rS4uLlxcXCIpXFxuICAgICAgICByZXR1cm4gJChcXFwiI25vTG9hZGluZyNcXFwiKS5sYXp5UnVsZSgocXEsIGEsIGIpID0+IHtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHJlcXVlc3QoYSwge1xcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XFxuICAgICAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXFxuICAgICAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcXG4gICAgICAgICAgICAgICAgICAgIFxcXCJwYXJhbXNcXFwiOiB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgXFxcInFxXFxcIjogcXFcXG4gICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgfSksXFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnXFxuICAgICAgICAgICAgfSk7XFxuICAgICAgICAgICAgcmVzdWx0ID0gSlNPTi5wYXJzZShyZXN1bHQpLnJlc3VsdDtcXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMCkge1xcbiAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xcbiAgICAgICAgICAgICAgICByZXR1cm4gXFxcInRvYXN0Oi8vXFxcIiArIHJlc3VsdC5kZXRhaWw7XFxuICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgbGV0IHJlc3VsdDIgPSBKU09OLnBhcnNlKHJlcXVlc3QoYiArIFxcXCI/cXE9XFxcIiArIHFxKSk7XFxuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFwidG9hc3Q6Ly9cXFwiICsgcmVzdWx0Mi5kZXRhaWw7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSBjYXRjaCAoZSkge1xcbiAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XFxuICAgICAgICAgICAgdGhyb3cgZTtcXG4gICAgICAgIH1cXG4gICAgICAgIH0sIHFxLCBhLCBiKTtcXG5cXG4gICAgfSwgYXBpLmRpc19uZXdfdXNlciwgYXBpLmRpc192ZXJpZnkpLFxcbiAgICBleHRyYToge1xcbiAgICAgICAgdHlwZTogXFxcIm51bWJlclxcXCIsXFxuICAgICAgICBkZWZhdWx0VmFsdWU6IGdldFZhcignV2FyZWhvdXNlLm0ucXEnLCAnJykgfHwgdXNlck5hbWUsXFxuICAgICAgICBvbkNoYW5nZTogJ3B1dFZhcihcXFwiV2FyZWhvdXNlLm0ucXFcXFwiLGlucHV0KSdcXG4gICAgfVxcbn0pO1xcblxcbmRhdGEucHVzaCh7XFxuICAgIGNvbF90eXBlOiAnaW5wdXQnLFxcbiAgICBkZXNjOiBcXFwi6K+36L6T5YWl6aqM6K+B56CBXFxcIixcXG4gICAgZXh0cmE6IHtcXG4gICAgICAgIHRpdGxlVmlzaWJsZTogZmFsc2UsXFxuICAgICAgICBkZWZhdWx0VmFsdWU6IGdldFZhcignV2FyZWhvdXNlLm0ueXptJywgJycpLFxcbiAgICAgICAgb25DaGFuZ2U6ICdwdXRWYXIoXFxcIldhcmVob3VzZS5tLnl6bVxcXCIsaW5wdXQpJ1xcbiAgICB9XFxufSk7XFxuZGF0YS5wdXNoKHtcXG4gICAgY29sX3R5cGU6ICdyaWNoX3RleHQnLFxcbiAgICB0aXRsZTogXFxcIjxzbWFsbD7mj5DnpLrvvJoxLuavj+WkqeWPquiDveiOt+WPljXmrKHpqozor4HnoIEuPGJyPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOzIuPHM+6aqM6K+B56CB5pyJ5pWI5pyf5oyB57ut5LiA5ZGo5bem5Y+zPC9zPijmmoLml7bkuI3kvJrvvIzlv5jorrDpqozor4HnoIHlj6/pgJrov4dRUeWPt+iOt+WPlik8L3NtYWxsPlxcXCJcXG59KTtcXG5cXG5sZXQgdXNlckxpc3QgPSBnZXRVc2VyRGF0ZSgpO1xcbmRhdGEucHVzaCh7XFxuICAgIHRpdGxlOiBcXFwi6aqM6K+BL+eZu+W9lVxcXCIsXFxuICAgIHVybDogJChcXFwi56Gu5a6a5L+d5a2Y77yM6aqM6K+B56CB5aGr6ZSZ77yM5peg5rOV6K+E6K665ZOmXFxcIikuY29uZmlybSgoZiwgbCwgbG9naW4pID0+IHtcXG4gICAgICAgIGxldCBxcSA9IGdldFZhcignV2FyZWhvdXNlLm0ucXEnLCAnJyk7XFxuICAgICAgICBsZXQgeXptID0gZ2V0VmFyKCdXYXJlaG91c2UubS55em0nLCAnJyk7XFxuICAgICAgICBpZiAocXEgPT0gXFxcIlxcXCIgfHwgeXptID09IFxcXCJcXFwiKSB7XFxuICAgICAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL3Fx5oiW6aqM6K+B56CB5Li656m6XFxcIjtcXG4gICAgICAgIH1cXG4gICAgICAgIGxldCByZXN1bHQgPSByZXF1ZXN0KGxvZ2luLCB7XFxuICAgICAgICAgICAgaGVhZGVyczoge1xcbiAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXFxuICAgICAgICAgICAgfSxcXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XFxuICAgICAgICAgICAgICAgIFxcXCJwYXJhbXNcXFwiOiB7XFxuICAgICAgICAgICAgICAgICAgICBcXFwicXFcXFwiOiBxcSxcXG4gICAgICAgICAgICAgICAgICAgIFxcXCJhdXRoX2NvZGVcXFwiOiB5em1cXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH0pLFxcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnXFxuICAgICAgICB9KTtcXG4gICAgICAgIHJlc3VsdCA9IEpTT04ucGFyc2UocmVzdWx0KS5yZXN1bHQ7XFxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMCkge1xcbiAgICAgICAgICAgIGYudXNlciA9IFtxcSwgeXptXTtcXG4gICAgICAgICAgICB3cml0ZUZpbGUoXFxcImhpa2VyOi8vZmlsZXMvV2FyZWhvdXNlVVNFUi5qc29uXFxcIiwgSlNPTi5zdHJpbmdpZnkoZikpO1xcbiAgICAgICAgICAgIGxldCBpbmRleCA9IGwuZmluZEluZGV4KGl0ZW0gPT4gaXRlbVswXSA9PT0gcXEpO1xcbiAgICAgICAgICAgIGlmIChpbmRleCA+IC0xKSB7XFxuICAgICAgICAgICAgICAgIGwuc3BsaWNlKGluZGV4LCAxLCBbcXEsIHl6bV0pO1xcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobC5sZW5ndGggPCA2KSB7XFxuICAgICAgICAgICAgICAgIGwucHVzaChbcXEsIHl6bV0pO1xcbiAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgIGwuc3BsaWNlKDAsIDEpO1xcbiAgICAgICAgICAgICAgICBsLnB1c2goW3FxLCB5em1dKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgd3JpdGVGaWxlKFxcXCJoaWtlcjovL2ZpbGVzL1dhcmVob3VzZVVTRVJBLmpzb25cXFwiLCBKU09OLnN0cmluZ2lmeShsKSk7XFxuICAgICAgICAgICAgYmFjaygpO1xcbiAgICAgICAgICAgIHJldHVybiBcXFwidG9hc3Q6Ly/pqozor4HmiJDlip9cXFwiO1xcbiAgICAgICAgfVxcbiAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL1xcXCIgKyByZXN1bHQuZGV0YWlsO1xcbiAgICB9LCB1c2VyLCB1c2VyTGlzdCwgYXBpLmRpc19sb2dpbiksXFxuICAgIGNvbF90eXBlOiAndGV4dF9jZW50ZXJfMSdcXG59KTtcXG5kYXRhLnB1c2goe1xcbiAgICBjb2xfdHlwZTogXFxcImxpbmVfYmxhbmtcXFwiXFxufSk7XFxuZGF0YS5wdXNoKHtcXG4gICAgdGl0bGU6IFxcXCLigJzigJzigJ3igJ08YmlnPui0puWPt+WIl+ihqDwvYmlnPlxcXFx0XFxcXHRcXFxcdDxzbWFsbD4o5L+d55WZNeadoeiusOW9lSk8L3NtYWxsPlxcXCIsXFxuICAgIGNvbF90eXBlOiBcXFwidGV4dF8xXFxcIixcXG4gICAgdXJsOiBcXFwiaGlrZXI6Ly9lbXB0eVxcXCJcXG59KTtcXG51c2VyTGlzdC5yZXZlcnNlKCk7XFxuXFxuZm9yIChsZXQgaXRlbSBvZiB1c2VyTGlzdCkge1xcbiAgICBkYXRhLnB1c2goe1xcbiAgICAgICAgdGl0bGU6IFxcXCLotKblj7fvvJpcXFwiICsgaXRlbVswXSArICh1c2VyTmFtZSA9PT0gaXRlbVswXSA/IFxcXCJcXFxcdFxcXFx0XFxcXHTigJzigJxb5b2T5YmN6LSm5Y+3XeKAneKAnVxcXCIgOiBcXFwiXFxcIiksXFxuICAgICAgICBkZXNjOiBcXFwi6aqM6K+B56CB77yaXFxcIiArIGl0ZW1bMV0sXFxuICAgICAgICB1cmw6ICQoXFxcIuaYr+WQpuWIh+aNouS4uuivpVtcXFwiICsgaXRlbVswXSArIFxcXCJd6LSm5Y+3XFxcIikuY29uZmlybSgoZiwgaXRlbSkgPT4ge1xcbiAgICAgICAgICAgIGYudXNlciA9IGl0ZW07XFxuICAgICAgICAgICAgd3JpdGVGaWxlKFxcXCJoaWtlcjovL2ZpbGVzL1dhcmVob3VzZVVTRVIuanNvblxcXCIsIEpTT04uc3RyaW5naWZ5KGYpKTtcXG4gICAgICAgICAgICBiYWNrKCk7XFxuICAgICAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL+WIh+aNouaIkOWKn1xcXCI7XFxuICAgICAgICB9LCB1c2VyLCBpdGVtKSxcXG4gICAgICAgIGNvbF90eXBlOiBcXFwidGV4dF8xXFxcIlxcbiAgICB9KTtcXG59XFxuZGF0YS5wdXNoKHtcXG4gICAgY29sX3R5cGU6IFxcXCJsaW5lX2JsYW5rXFxcIlxcbn0pO1xcbmRhdGEucHVzaCh7XFxuICAgIHRpdGxlOiBcXFwi6YCA5Ye66LSm5Y+3XFxcIixcXG4gICAgdXJsOiAkKFxcXCLnoa7orqTpgIDlh7rnmbvlvZXnirbmgIFcXFwiKS5jb25maXJtKChmKSA9PiB7XFxuICAgICAgICBmLnVzZXIgPSBbXTtcXG4gICAgICAgIHdyaXRlRmlsZShcXFwiaGlrZXI6Ly9maWxlcy9XYXJlaG91c2VVU0VSLmpzb25cXFwiLCBKU09OLnN0cmluZ2lmeShmKSk7XFxuICAgICAgICBiYWNrKCk7XFxuICAgICAgICByZXR1cm4gXFxcInRvYXN0Oi8v6YCA5Ye65oiQ5YqfXFxcIjtcXG4gICAgfSwgdXNlciksXFxuICAgIGNvbF90eXBlOiAndGV4dF9jZW50ZXJfMSdcXG59KTtcXG5zZXRSZXN1bHQoZGF0YSk7XCJ9LHtcImNvbF90eXBlXCI6XCJtb3ZpZV8zXCIsXCJuYW1lXCI6XCLliJfooajmjpLluo/nrpfms5VcIixcInBhdGhcIjpcInNvcnRcIixcInJ1bGVcIjpcImpzOlxcbi8qIOinhOWImeWIl+ihqOaOkuW6jyBbIFVQ44CBTkVX44CB5peg5pu05pawIF0g6aG65bqPICovXFxuLyog5b2S5bm25o6S5bqPIFN0YXJ0ICovXFxuLypcXG5mdW5jdGlvbiBtZXJnZVNvcnQoYXJyKSB7XFxuICAgIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xcbiAgICBpZiAobGVuIDwgMikge1xcbiAgICAgICAgcmV0dXJuIGFycjtcXG4gICAgfVxcbiAgICB2YXIgbWlkZGxlID0gTWF0aC5mbG9vcihsZW4gLyAyKSxcXG4gICAgICAgIGxlZnQgPSBhcnIuc2xpY2UoMCwgbWlkZGxlKSxcXG4gICAgICAgIHJpZ2h0ID0gYXJyLnNsaWNlKG1pZGRsZSk7XFxuICAgIHJldHVybiBtZXJnZShtZXJnZVNvcnQobGVmdCksIG1lcmdlU29ydChyaWdodCkpO1xcbn1cXG5mdW5jdGlvbiBtZXJnZShsZWZ0LCByaWdodCkge1xcbiAgICB2YXIgcmVzdWx0ID0gW107XFxuICAgIHZhciBpc1RoaXNWZXJzaW9uTGlzdCA9IFtdO1xcblxcbiAgICB3aGlsZSAobGVmdC5sZW5ndGggPiAwICYmIHJpZ2h0Lmxlbmd0aCA+IDApIHtcXG4gICAgICAgIGlmIChsZWZ0WzBdLnRpdGxlLmluY2x1ZGVzKFxcXCLwn4aZXFxcIikpIHtcXG4gICAgICAgICAgICByZXN1bHQucHVzaChsZWZ0LnNoaWZ0KCkpO1xcbiAgICAgICAgfSBlbHNlIGlmIChyaWdodFswXS50aXRsZS5pbmNsdWRlcyhcXFwi8J+GmVxcXCIpKSB7XFxuICAgICAgICAgICAgcmVzdWx0LnB1c2gocmlnaHQuc2hpZnQoKSk7XFxuICAgICAgICB9IGVsc2UgaWYgKGxlZnRbMF0udGl0bGUuaW5jbHVkZXMoXFxcIvCfhpVcXFwiKSkge1xcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGxlZnQuc2hpZnQoKSk7XFxuICAgICAgICB9IGVsc2UgaWYgKHJpZ2h0WzBdLnRpdGxlLmluY2x1ZGVzKFxcXCLwn4aVXFxcIikpIHtcXG4gICAgICAgICAgICByZXN1bHQucHVzaChyaWdodC5zaGlmdCgpKTtcXG4gICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgaXNUaGlzVmVyc2lvbkxpc3QucHVzaChsZWZ0LnNoaWZ0KCkpO1xcbiAgICAgICAgICAgIGlzVGhpc1ZlcnNpb25MaXN0LnB1c2gocmlnaHQuc2hpZnQoKSk7XFxuICAgICAgICB9XFxuICAgIH1cXG5cXG4gICAgd2hpbGUgKGlzVGhpc1ZlcnNpb25MaXN0Lmxlbmd0aCkgcmVzdWx0LnB1c2goaXNUaGlzVmVyc2lvbkxpc3Quc2hpZnQoKSk7XFxuXFxuICAgIHdoaWxlIChsZWZ0Lmxlbmd0aClcXG4gICAgICAgIHJlc3VsdC5wdXNoKGxlZnQuc2hpZnQoKSk7XFxuXFxuICAgIHdoaWxlIChyaWdodC5sZW5ndGgpXFxuICAgICAgICByZXN1bHQucHVzaChyaWdodC5zaGlmdCgpKTtcXG5cXG4gICAgcmV0dXJuIHJlc3VsdDtcXG59XFxuJC5leHBvcnRzLm1lcmdlU29ydCA9IG1lcmdlU29ydDtcXG4qL1xcbi8qIOW9kuW5tuaOkuW6jyBFbmQgKi9cXG4vKiDmma7pgJrliIbnsbvmjpLluo8gU3RhcnQgKi9cXG5mdW5jdGlvbiBub3JtYWxTb3J0KGFycikge1xcbiAgICB2YXIgbGVuID0gYXJyLmxlbmd0aDtcXG4gICAgaWYgKGxlbiA8IDIpIHtcXG4gICAgICAgIHJldHVybiBhcnI7XFxuICAgIH1cXG4gICAgbGV0IHVwUmVzdWx0ID0gW107XFxuICAgIGxldCBvdGhlclJlc3VsdCA9IFtdO1xcbiAgICB3aGlsZShhcnIubGVuZ3RoKSB7XFxuICAgICAgICBsZXQgaXRlbSA9IGFyci5zaGlmdCgpO1xcbiAgICAgICAgaWYoaXRlbS50aXRsZS5pbmNsdWRlcyhcXFwi8J+GmVxcXCIpKSB7XFxuICAgICAgICAgICAgdXBSZXN1bHQucHVzaChpdGVtKVxcbiAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICBvdGhlclJlc3VsdC5wdXNoKGl0ZW0pXFxuICAgICAgICB9XFxuICAgIH1cXG4gICAgcmV0dXJuIHVwUmVzdWx0LmNvbmNhdChvdGhlclJlc3VsdCk7XFxufVxcbiQuZXhwb3J0cy5ub3JtYWxTb3J0ID0gbm9ybWFsU29ydDtcXG4vKiDmma7pgJrliIbnsbvmjpLluo8gRW5kICovXCJ9LHtcImNvbF90eXBlXCI6XCJpY29uXzJfcm91bmRcIixcIm5hbWVcIjpcIuWFqOmDqOWFrOW8gOinhOWImVwiLFwicGF0aFwiOlwiQWxsUHVibGljUnVsZVwiLFwicnVsZVwiOlwianM6XFxuICAgIGNvbnN0IHtcXG4gICAgICAgIGFwaSxcXG4gICAgICAgIGxvY2FsUnVsZVZlcixcXG4gICAgICAgIGdldEFwaVxcbiAgICB9ID0gJC5yZXF1aXJlKFxcXCJoaWtlcjovL3BhZ2UvdXRpbGl5XFxcIik7XFxuY29uc3Qge1xcbiAgICBtZXJnZVNvcnRcXG59ID0gJC5yZXF1aXJlKFxcXCJoaWtlcjovL3BhZ2Uvc29ydFxcXCIpO1xcbmxldCBkYXRhVHlwZSA9IGdldFZhcihcXFwiV2FyZWhvdXNlLnR5cGVcXFwiLCBcXFwiXFxcIik7XFxubGV0IG9yZGVyID0gZ2V0VmFyKFxcXCJXYXJlaG91c2Uub3JkZXJcXFwiLCBcXFwiMFxcXCIpO1xcbmxldCBzb3J0ID0gZ2V0VmFyKFxcXCJXYXJlaG91c2Uuc29ydFxcXCIsIFxcXCIwXFxcIik7XFxubGV0IGdvb2QgPSBnZXRWYXIoXFxcIldhcmVob3VzZS5nb29kXFxcIiwgXFxcIlxcXCIpO1xcbmxldCBwYWdlID0gTVlfVVJMLnNwbGl0KFxcXCIjXFxcIilbMV0gfHwgMTtcXG5sZXQgcnVsZUxpc3QgPSBKU09OLnBhcnNlKHJlcXVlc3QoYXBpLmFsbF9ydWxlICsgXFxcIj9kYXRhX3R5cGU9XFxcIiArIGRhdGFUeXBlICsgXFxcIiZwYWdlPVxcXCIgKyBwYWdlICsgXFxcIiZsaW1pdD0yMCZvcmRlcj1cXFwiICsgb3JkZXIgKyBcXFwiJnNvcnQ9XFxcIiArIHNvcnQrIFxcXCImaXNfZ29vZD1cXFwiICsgZ29vZCkpLnJlc3VsdDtcXG5hZGRMaXN0ZW5lcignb25DbG9zZScsICQudG9TdHJpbmcoKCkgPT4ge1xcbiAgICBjbGVhclZhcihcXFwiV2FyZWhvdXNlLnR5cGVcXFwiKTtcXG4gICAgY2xlYXJWYXIoXFxcIldhcmVob3VzZS5vcmRlclxcXCIpO1xcbiAgICBjbGVhclZhcihcXFwiV2FyZWhvdXNlLnNvcnRcXFwiKTtcXG4gICAgY2xlYXJWYXIoXFxcIldhcmVob3VzZS5nb29kXFxcIik7XFxuICAgIGNsZWFyVmFyKFxcXCJXYXJlaG91c2UuYmFja1xcXCIpO1xcbn0pKTtcXG5sZXQgZGF0YSA9IFtdO1xcbmlmIChnZXRWYXIoXFxcIldhcmVob3VzZS5iYWNrXFxcIikgPT09IFxcXCIxXFxcIikge1xcbiAgICBiYWNrKCk7XFxufVxcbmZ1bmN0aW9uIHRhYihhcnIsIHR5cGUsIGNvbnRyYXN0KSB7XFxuICAgIGZvciAobGV0IGl0ZW0gb2YgYXJyKSB7XFxuICAgICAgICBkYXRhLnB1c2goe1xcbiAgICAgICAgICAgIHRpdGxlOiBpdGVtWzFdID09PSBjb250cmFzdCA/IFxcXCLigJzigJxcXFwiICsgaXRlbVswXSArIFxcXCLigJ3igJ1cXFwiIDogaXRlbVswXSxcXG4gICAgICAgICAgICB1cmw6ICQoXFxcIiNub0xvYWRpbmcjXFxcIikubGF6eVJ1bGUoKGtleSwgdHlwZSkgPT4ge1xcbiAgICAgICAgICAgICAgICBwdXRWYXIodHlwZSwga2V5KTtcXG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xcbiAgICAgICAgICAgICAgICByZXR1cm4gXFxcImhpa2VyOi8vZW1wdHlcXFwiO1xcbiAgICAgICAgICAgIH0sIGl0ZW1bMV0sIHR5cGUpLFxcbiAgICAgICAgICAgIGNvbF90eXBlOiBcXFwic2Nyb2xsX2J1dHRvblxcXCJcXG4gICAgICAgIH0pO1xcbiAgICB9XFxuICAgIGRhdGEucHVzaCh7XFxuICAgICAgICBjb2xfdHlwZTogXFxcImJsYW5rX2Jsb2NrXFxcIlxcbiAgICB9KTtcXG59XFxuaWYgKHBhZ2UgPT09IFxcXCIxXFxcIikge1xcbiAgICB0YWIoW1xcbiAgICAgICAgW1xcXCLlhajpg6hcXFwiLCBcXFwiXFxcIl0sXFxuICAgICAgICBbXFxcIuWwj+eoi+W6j1xcXCIsIFxcXCJob21lX3J1bGVfdXJsXFxcIl0sXFxuICAgICAgICBbXFxcIuaPkOS6pOS6keS7k+W6k+inhOWImVxcXCIsIFxcXCJwdWJsaXNoXFxcIl0sXFxuICAgICAgICBbXFxcIue9kemhteaPkuS7tlxcXCIsIFxcXCJqc191cmxcXFwiXSxcXG4gICAgICAgIFtcXFwi6Z2Z5oCB6aG16Z2iXFxcIiwgXFxcImh0bWxcXFwiXSxcXG4gICAgICAgIFtcXFwi5Li76aKYXFxcIiwgXFxcImNvbmZpZ1xcXCJdXFxuICAgIF0sIFxcXCJXYXJlaG91c2UudHlwZVxcXCIsIGRhdGFUeXBlKTtcXG4gICAgdGFiKFtcXG4gICAgICAgIFtcXFwi5pe26Ze0XFxcIiwgXFxcIjBcXFwiXSxcXG4gICAgICAgIFtcXFwiSURcXFwiLCBcXFwiMVxcXCJdLFxcbiAgICAgICAgW1xcXCLlpb3or4TluqZcXFwiLCBcXFwiMlxcXCJdLFxcbiAgICAgICAgW1xcXCLlt67or4TluqZcXFwiLCBcXFwiM1xcXCJdLFxcbiAgICAgICAgW1xcXCLlm57lpI3mlbBcXFwiLCBcXFwiNFxcXCJdXFxuICAgIF0sIFxcXCJXYXJlaG91c2Uub3JkZXJcXFwiLCBvcmRlcik7XFxuICAgIHRhYihbXFxuICAgICAgICBbXFxcIuWAkuW6j1xcXCIsIFxcXCIwXFxcIl0sXFxuICAgICAgICBbXFxcIuato+W6j1xcXCIsIFxcXCIxXFxcIl1cXG4gICAgXSwgXFxcIldhcmVob3VzZS5zb3J0XFxcIiwgc29ydCk7XFxuICAgIHRhYihbXFxuICAgICAgICBbXFxcIuS4jeiuulxcXCIsIFxcXCJcXFwiXSxcXG4gICAgICAgIFtcXFwi5LyY6LSoXFxcIiwgXFxcIjFcXFwiXVxcbiAgICBdLCBcXFwiV2FyZWhvdXNlLmdvb2RcXFwiLCBnb29kKTtcXG4gICAgZGF0YS5wdXNoKHtcXG4gICAgICAgIHRpdGxlOiBcXFwi5pCc57SiXFxcIixcXG4gICAgICAgIHVybDogJC50b1N0cmluZyhuYW1lID0+IFxcXCJoaWtlcjovL3NlYXJjaD9zPVxcXCIgKyBpbnB1dCArIFxcXCImcnVsZT1cXFwiICsgbmFtZSwgTVlfUlVMRS50aXRsZSksXFxuICAgICAgICBjb2xfdHlwZTogXFxcImlucHV0XFxcIixcXG4gICAgICAgIGRlc2M6IFxcXCLmkJzntKLlhajpg6jop4TliJlcXFwiXFxuICAgIH0pO1xcbn1cXG5cXG5sZXQgaG9tZUxpc3QgPSBKU09OLnBhcnNlKHJlcXVlc3QoYXBpLmhvbWUpKTtcXG5sZXQgbVJ1bGVMaXN0ID0gW107XFxuZm9yICh2YXIgaXRlbSBvZiBydWxlTGlzdCkge1xcbiAgICB2YXIgbmFtZSA9IGl0ZW0ubmFtZTtcXG4gICAgaWYgKGl0ZW0uaXNfdGFwKSB7XFxuICAgICAgICBsZXQgbG9jYXRpb24gPSBKU09OLnBhcnNlKHJlcXVlc3QoZ2V0QXBpKFxcXCJydWxlTGlzdEpzb25cXFwiKSArIFxcXCI/aWQ9XFxcIiArIGl0ZW0uaWQpKTtcXG4gICAgICAgIGl0ZW0uaWQgPSBsb2NhdGlvbi5pZDtcXG4gICAgICAgIGl0ZW0ubmFtZSA9IGxvY2F0aW9uLm5hbWU7XFxuICAgICAgICBpdGVtLmF1dGhvciA9IGxvY2F0aW9uLmF1dGhvcjtcXG4gICAgICAgIGl0ZW0uZGF0YV90eXBlID0gbG9jYXRpb24uZGF0YV90eXBlO1xcbiAgICAgICAgaXRlbS52ZXIgPSBsb2NhdGlvbi52ZXJcXG4gICAgfVxcbiAgICBpdGVtLnZlcnNpb24gPSBpdGVtLnZlcjtcXG4gICAgbGV0IGxhYmVsID0gXFxcIlxcXCIsXFxuICAgICAgICBsdmVyID0gLTI7XFxuICAgIGlmIChpdGVtLmlzX2pzb24gJiYgaXRlbS5kYXRhX3R5cGUgPT09IFxcXCJob21lX3J1bGVfdXJsXFxcIikge1xcbiAgICAgICAgbHZlciA9IGxvY2FsUnVsZVZlcihob21lTGlzdCwgaXRlbSk7XFxuICAgICAgICBpZiAobHZlciA9PT0gLTEpIHtcXG4gICAgICAgICAgICBsYWJlbCA9IFxcXCLwn4aVXFxcIjtcXG4gICAgICAgIH0gZWxzZSBpZiAobHZlciA8IGl0ZW0udmVyKSB7XFxuICAgICAgICAgICAgbGFiZWwgPSBcXFwi8J+GmVxcXCI7XFxuICAgICAgICB9XFxuICAgIH1cXG4gICAgbVJ1bGVMaXN0LnB1c2goe1xcbiAgICAgICAgdGl0bGU6IGxhYmVsICsgbmFtZSxcXG4gICAgICAgIHVybDogXFxcImhpa2VyOi8vcGFnZS9ydWxlRGV0YWlsI25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5I1xcXCIsXFxuICAgICAgICBleHRyYToge1xcbiAgICAgICAgICAgIGx2ZXI6IGx2ZXIsXFxuICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsXFxuICAgICAgICAgICAgaXNBbGw6dHJ1ZVxcbiAgICAgICAgfSxcXG4gICAgICAgIHBpY191cmw6IGl0ZW0ucGljLFxcbiAgICB9KVxcbn1cXG4vKiDlvZLlubbmjpLluo8gU3RhcnQgKi9cXG4vL21SdWxlTGlzdCA9IG1lcmdlU29ydChtUnVsZUxpc3QpO1xcbi8qIOW9kuW5tuaOkuW6jyBFbmQgKi9cXG5kYXRhLnB1c2guYXBwbHkoZGF0YSwgbVJ1bGVMaXN0KVxcbnNldFJlc3VsdChkYXRhKTtcIn0se1wiY29sX3R5cGVcIjpcIm1vdmllXzNcIixcIm5hbWVcIjpcIuWbnuWkjVwiLFwicGF0aFwiOlwiUmVwbHlcIixcInJ1bGVcIjpcImpzOlxcbmxldCBkYXRhID0gW107XFxuY29uc3Qge1xcbiAgICBhcGlcXG59ID0gJC5yZXF1aXJlKFxcXCJoaWtlcjovL3BhZ2UvdXRpbGl5XFxcIik7XFxubGV0IHtcXG4gICAgcmVwbHlJZCxcXG4gICAgcnVsZUlkLFxcbiAgICBuYW1lLFxcbiAgICBwYXNzd29yZCxcXG4gICAgdXNlcm5hbWVcXG59ID0gTVlfUEFSQU1TO1xcblxcblxcbnNldFBhZ2VUaXRsZShcXFwi5Zue5aSNKFxcXCIgKyBuYW1lICsgXFxcIilcXFwiKTtcXG5hZGRMaXN0ZW5lcignb25DbG9zZScsICQudG9TdHJpbmcoKCkgPT4ge1xcbiAgICBjbGVhclZhcihcXFwiV2FyZWhvdXNlLmNvbW1lbnQudGV4dFxcXCIpO1xcbiAgICByZWZyZXNoUGFnZShmYWxzZSk7XFxufSkpO1xcblxcbmRhdGEucHVzaCh7XFxuICAgIGRlc2M6IFxcXCLlm57lpI0uLi4uLi5cXFwiLFxcbiAgICBjb2xfdHlwZTogJ2lucHV0JyxcXG4gICAgZXh0cmE6IHtcXG4gICAgICAgIHRpdGxlVmlzaWJsZTogZmFsc2UsXFxuICAgICAgICBkZWZhdWx0VmFsdWU6IGdldFZhcignV2FyZWhvdXNlLmNvbW1lbnQudGV4dCcsICcnKSxcXG4gICAgICAgIHR5cGU6IFxcXCJ0ZXh0YXJlYVxcXCIsXFxuICAgICAgICBoZWlnaHQ6NyxcXG4gICAgICAgIG9uQ2hhbmdlOiAncHV0VmFyKFxcXCJXYXJlaG91c2UuY29tbWVudC50ZXh0XFxcIixpbnB1dCknXFxuICAgIH1cXG59KTtcXG5cXG5cXG5kYXRhLnB1c2goe1xcbiAgICB0aXRsZTogXFxcIuaPkOS6pFxcXCIsXFxuICAgIGNvbF90eXBlOiBcXFwidGV4dF9jZW50ZXJfMVxcXCIsXFxuICAgIHVybDogJChhcGkuZGlzX3JlcGx5ICsgcnVsZUlkKS5sYXp5UnVsZSgocGFzc3dvcmQsIHVzZXJuYW1lLCBydWxlSWQpID0+IHtcXG4gICAgICAgIGxldCB0ZXh0ID0gZ2V0VmFyKCdXYXJlaG91c2UuY29tbWVudC50ZXh0JywgJycpO1xcbiAgICAgICAgaWYgKHBhc3N3b3JkID09IFxcXCJcXFwiIHx8IHVzZXJuYW1lID09IFxcXCJcXFwiKSB7XFxuICAgICAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL+acqueZu+W9lei0puWPt1xcXCI7XFxuICAgICAgICB9XFxuICAgICAgICBpZiAodGV4dCA9PSBcXFwiXFxcIikge1xcbiAgICAgICAgICAgIHJldHVybiBcXFwidG9hc3Q6Ly/kvaDov5jku4DkuYjpg73msqHlhpnllYpcXFwiO1xcbiAgICAgICAgfVxcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlcXVlc3QoaW5wdXQsIHtcXG4gICAgICAgICAgICBoZWFkZXJzOiB7XFxuICAgICAgICAgICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcXG4gICAgICAgICAgICB9LFxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcXG4gICAgICAgICAgICAgICAgXFxcInBhcmFtc1xcXCI6IHtcXG4gICAgICAgICAgICAgICAgICAgIFxcXCJkaXNjdXNzX3RleHRcXFwiOiB0ZXh0LFxcbiAgICAgICAgICAgICAgICAgICAgXFxcInFxXFxcIjogdXNlcm5hbWUsXFxuICAgICAgICAgICAgICAgICAgICBcXFwicGFzc3dvcmRcXFwiOiBwYXNzd29yZCxcXG4gICAgICAgICAgICAgICAgICAgIFxcXCJkaXNjdXNzX2lkXFxcIjogcnVsZUlkXFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9KSxcXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJ1xcbiAgICAgICAgfSk7XFxuICAgICAgICByZXN1bHQgPSBKU09OLnBhcnNlKHJlc3VsdCkucmVzdWx0O1xcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IDApIHtcXG4gICAgICAgICAgICBiYWNrKGZhbHNlKTtcXG4gICAgICAgIH1cXG4gICAgICAgIHJldHVybiBcXFwidG9hc3Q6Ly9cXFwiICsgcmVzdWx0LmRldGFpbDtcXG5cXG4gICAgfSwgcGFzc3dvcmQsIHVzZXJuYW1lLCByZXBseUlkKVxcbn0pO1xcblxcbnNldFJlc3VsdChkYXRhKTtcIn0se1wiY29sX3R5cGVcIjpcIm1vdmllXzNcIixcIm5hbWVcIjpcIuaIkeeahOWbnuWkjVwiLFwicGF0aFwiOlwiTXlSZXBseVwiLFwicnVsZVwiOlwianM6XFxuY29uc3Qge1xcbiAgICBhcGlcXG59ID0gJC5yZXF1aXJlKFxcXCJoaWtlcjovL3BhZ2UvdXRpbGl5XFxcIik7XFxubGV0IHtcXG4gICAgYXV0aF9jb2RlLFxcbiAgICBxcVxcbn0gPSBNWV9QQVJBTVM7XFxubGV0IHBhZ2UgPSBwYXJzZUludChNWV9VUkwuc3BsaXQoXFxcIiNcXFwiKVsxXSk7XFxubGV0IGRhdGE9W107XFxubGV0IGNvbW1lbnRMaXN0ID0gSlNPTi5wYXJzZShyZXF1ZXN0KGFwaS5kaXNfZ2V0X3JlcGx5ICsgXFxcIj9saW1pdD01JnBhZ2U9XFxcIiArIHBhZ2UgKyBcXFwiJnFxPVxcXCIgKyBxcSArIFxcXCImYXV0aF9jb2RlPVxcXCIgKyBhdXRoX2NvZGUpKS5yZXN1bHQ7XFxuaWYgKGNvbW1lbnRMaXN0Lmxlbmd0aCA9PT0gMCkge1xcbiAgICBkYXRhLnB1c2goe1xcbiAgICAgICAgdGl0bGU6IFxcXCI8aDUgc3R5bGU9J3RleHQtYWxpZ246Y2VudGVyJz7liKvmi4nkuobkuIDmnaHkuZ/kuI3liankuoY8L2g1PlxcXCIsXFxuICAgICAgICBjb2xfdHlwZTogXFxcInJpY2hfdGV4dFxcXCJcXG4gICAgfSk7XFxufSBlbHNlIHtcXG4gICAgZm9yIChsZXQgaXRlbSBvZiBjb21tZW50TGlzdCkge1xcbiAgICAgICAgZGF0YS5wdXNoKHtcXG4gICAgICAgICAgICB0aXRsZTogaXRlbS5uYW1lICsgXFxcIiZuYnNwOyZuYnNwOzxmb250IGNvbG9yPSdncmF5Jz48c21hbGw+I1xcXCIgKyBpdGVtLmlkICsgXFxcIjwvc21hbGw+PGZvbnQ+XFxcIixcXG4gICAgICAgICAgICBjb2xfdHlwZTogXFxcImF2YXRhclxcXCIsXFxuICAgICAgICAgICAgdXJsOiBcXFwiaGlrZXI6Ly9wYWdlL3J1bGVEZXRhaWwjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjXFxcIixcXG4gICAgICAgICAgICBleHRyYToge1xcbiAgICAgICAgICAgICAgICBsdmVyOiBcXFwi5Zue5aSN6L+b5YWl5LiN5pSv5oyB5p+l55yLXFxcIixcXG4gICAgICAgICAgICAgICAgaWQ6IGl0ZW0ucnVsZV9pZFswXVxcbiAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgcGljX3VybDogaXRlbS5hdmF0YXJfdXJsXFxuICAgICAgICB9KTtcXG4gICAgICAgIGRhdGEucHVzaCh7XFxuICAgICAgICAgICAgdGl0bGU6IGl0ZW0uZGlzY3Vzc190ZXh0LFxcbiAgICAgICAgICAgIGRlc2M6IGl0ZW0uY3JlYXRlX2RhdGUgKyBcXFwiwrdcXFwiK2l0ZW0ucnVsZV9pZFsxXStcXFwiwrdcXFwiK1xcXCLlvIDlj5HogIXwn5ejXFxcIixcXG4gICAgICAgICAgICBjb2xfdHlwZTogXFxcInRleHRfMVxcXCIsXFxuICAgICAgICAgICAgdXJsOiBcXFwiaGlrZXI6Ly9wYWdlL2luZm9cXFwiLFxcbiAgICAgICAgICAgIGV4dHJhOntcXG4gICAgICAgICAgICAgICAgbmFtZTppdGVtLm5hbWUsXFxuICAgICAgICAgICAgICAgIHR5cGU6XFxcImxvbmdfdGV4dFxcXCIsXFxuICAgICAgICAgICAgICAgIHRleHQ6aXRlbS5kaXNjdXNzX3RleHRcXG4gICAgICAgICAgICB9LFxcbiAgICAgICAgICAgIHBpY191cmw6IGl0ZW0uYXZhdGFyX3VybFxcbiAgICAgICAgfSk7XFxuICAgIH1cXG4gICAgXFxufVxcbnNldFJlc3VsdChkYXRhKTtcXG5cIn0se1wiY29sX3R5cGVcIjpcIm1vdmllXzNcIixcIm5hbWVcIjpcIuabtOWkmuWIhuS6q1wiLFwicGF0aFwiOlwibW9yZVNoYXJlXCIsXCJydWxlXCI6XCJqczpcXG4gICAgYWRkTGlzdGVuZXIoJ29uQ2xvc2UnLCAkLnRvU3RyaW5nKCgpPT57XFxuICAgICAgICBjbGVhclZhcihcXFwiaG91c2UudXBsb2FkX2NvZGVcXFwiKTtcXG4gICAgfSkpO1xcbmNvbnN0IHtjb2xvcixzbWFsbCxhcGksIGdldEZpbGV9ID0gJC5yZXF1aXJlKFxcXCJoaWtlcjovL3BhZ2UvdXRpbGl5XFxcIik7XFxubGV0IGhvdXNlRmlsZSA9IGdldEZpbGV8fGZhbHNlO1xcbmxldCBwdXRfdXJsID0gYXBpLmhvc3QrJy9oaWtlcnVsZS9kZXYvcHV0JztcXG5pZighaG91c2VGaWxlKXtcXG4gICAgc2V0SXRlbSgnaXNfaG91c2VfdmlwJywgJ2ZhbHNlJyk7XFxufVxcbmxldCBob3VzZV9kYXRhID0gaG91c2VGaWxlKCk7XFxuLy8gbG9nKGhvdXNlX2RhdGEudXNlcm5hbWUrJy0nK2hvdXNlX2RhdGEucGFzc3dvcmQpO1xcbnZhciBjYW51cCA9IGhvdXNlX2RhdGEudXNlcm5hbWUubGVuZ3RoID49IDYgJiYgaG91c2VfZGF0YS5wYXNzd29yZC5sZW5ndGggPiAyO1xcbmxvZygn5Y+v5Lul5LiK5LygPycrY2FudXApO1xcbmxldCBkID0gW107XFxubGV0IGZpbGVfdHlwZSA9IFt7bmFtZTon6Z2Z5oCB5paH5Lu2Jyx2YWx1ZTonaHRtbCd9LHtuYW1lOifnvZHpobXmj5Lku7YnLHZhbHVlOidqc191cmwnfSx7bmFtZTon5Li76aG16YWN572uJyx2YWx1ZTonY29uZmlnJ31dOyAvL+S4iuS8oOexu+Wei1xcbmxldCBmaWxlX3JlZGlyZWN0ID0gW3tuYW1lOifmnKzlnLAnLHZhbHVlOidmYWxzZSd9LHtuYW1lOifnm7Tpk74zMDInLHZhbHVlOid0cnVlJ31dOyAvL+aYr+WQpumHjeWumuWQkVxcbmxldCBmaWxlX3VhID0gW3tuYW1lOifnlLXohJEnLHZhbHVlOidwYyd9LHtuYW1lOifmiYvmnLonLHZhbHVlOidtb2JpbGUnfV07XFxubGV0IGZpbGVfdHlwZV90aXRsZSA9IGZpbGVfdHlwZS5tYXAoKGl0ZW0pID0+IHtcXG4gICAgbGV0IG5hbWUgPSBnZXRJdGVtKCdob3VzZS5maWxlX3R5cGUnLCfpnZnmgIHmlofku7YnKTtcXG4gICAgaWYoaXRlbS5uYW1lPT09bmFtZSl7XFxuICAgICAgICByZXR1cm4gJ/CfkYknK2l0ZW0ubmFtZTtcXG4gICAgfWVsc2V7XFxuICAgICAgICByZXR1cm4gaXRlbS5uYW1lO1xcbiAgICB9XFxufSk7XFxubGV0IGZpbGVfcmVkaXJlY3RfdGl0bGUgPSBmaWxlX3JlZGlyZWN0Lm1hcCgoaXRlbSkgPT4ge1xcbiAgICBsZXQgbmFtZSA9IGdldEl0ZW0oJ2hvdXNlLmZpbGVfcmVkaXJlY3QnLCfmnKzlnLAnKTtcXG4gICAgaWYoaXRlbS5uYW1lPT09bmFtZSl7XFxuICAgICAgICByZXR1cm4gJ/CfkYknK2l0ZW0ubmFtZTtcXG4gICAgfWVsc2V7XFxuICAgICAgICByZXR1cm4gaXRlbS5uYW1lO1xcbiAgICB9XFxufSk7XFxubGV0IGZpbGVfdWFfdGl0bGUgPSBmaWxlX3VhLm1hcCgoaXRlbSkgPT4ge1xcbiAgICBsZXQgbmFtZSA9IGdldEl0ZW0oJ2hvdXNlLmZpbGVfdWEnLCfnlLXohJEnKTtcXG4gICAgaWYoaXRlbS5uYW1lPT09bmFtZSl7XFxuICAgICAgICByZXR1cm4gJ/CfkYknK2l0ZW0ubmFtZTtcXG4gICAgfWVsc2V7XFxuICAgICAgICByZXR1cm4gaXRlbS5uYW1lO1xcbiAgICB9XFxufSk7XFxuZC5wdXNoKHtjb2xfdHlwZTogJ3g1X3dlYnZpZXdfc2luZ2xlJywgZXh0cmE6IHtqczogJ2NvbnNvbGUubG9nKFxcXCLmiJHliqDovb3kuoZcXFwiKSd9fSk7XFxuZC5wdXNoKHtcXG4gICAgdGl0bGU6ICfojrflj5YnLFxcbiAgICBkZXNjOiBcXFwi5paH5Lu26Lev5b6ELOaUr+aMgWhpa2VyLGZpbGUsaHR0cCzkuLvpophcXFwiLFxcbiAgICBleHRyYToge1xcbiAgICAgICAgb25DaGFuZ2U6IFxcXCJwdXRWYXIoJ2hvdXNlLndlYl91cmwnLGlucHV0KVxcXCIsXFxuICAgICAgICB0aXRsZVZpc2libGU6IHRydWUsXFxuICAgICAgICBpZDonZmlsZVBhdGgnLFxcbiAgICAgICAgZGVmYXVsdFZhbHVlOmdldFZhcignaG91c2Uud2ViX3VybCcpXFxuICAgIH0sXFxuICAgIHVybDokLnRvU3RyaW5nKCgpID0+IHtcXG4gICAgICAgIGxldCBpbnB1dCA9IGdldFZhcignaG91c2Uud2ViX3VybCcsJycpO1xcbiAgICAgICAgaWYoaW5wdXQubGVuZ3RoPDIpe1xcbiAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/pk77mjqXkuI3lj6/ku6XkuLrnqbonXFxuICAgICAgICB9IGVsc2UgaWYoL15oaWtlcjp8XmZpbGU6fF5odHRwOnxeaHR0cHM6fF5cXFxcL3N0b3JhZ2VcXFxcL3xeXFxcXC9zZGNhcmRcXFxcLy8udGVzdChpbnB1dCkpe1xcbiAgICAgICAgICAgIGlmKC9eXFxcXC9zdG9yYWdlXFxcXC98XlxcXFwvc2RjYXJkXFxcXC8vLnRlc3QoaW5wdXQpKXtcXG4gICAgICAgICAgICAgICAgaW5wdXQgPSAnZmlsZTovLycraW5wdXQ7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGxvZygn5q2j5bi46ZO+5o6lOicraW5wdXQpO1xcbiAgICAgICAgICAgIGxldCB1YSA9IGdldEl0ZW0oJ2hvdXNlLmZpbGVfdWEnKT09PSfnlLXohJEnPydNb3ppbGxhLzUuMCAoV2luZG93cyBOVCAxMC4wOyBXaW42NDsgeDY0KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvODguMC40MzI0LjE0NiBTYWZhcmkvNTM3LjM2JzonTW96aWxsYS81LjAgKExpbnV4OyBBbmRyb2lkIDk7IE1JIDYpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS84OS4wLjQzODkuOTAgTW9iaWxlIFNhZmFyaS81MzcuMzYnO1xcbiAgICAgICAgICAgIGxldCB3ZWJfdXJsX2FyciA9IGlucHV0LnNwbGl0KCc7Jyk7XFxuICAgICAgICAgICAgbGV0IHdlYl91cmwgPSB3ZWJfdXJsX2FyclswXTtcXG4gICAgICAgICAgICBsZXQgaGVhZGVycyA9IHtcXG4gICAgICAgICAgICAgICAgJ1JlZmVyZXInOidodHRwczovL2Jsb2cuY3Nkbi5uZXQnLFxcbiAgICAgICAgICAgICAgICAnVXNlci1BZ2VudCc6dWEsXFxuICAgICAgICAgICAgICAgICdBY2NlcHQnOidhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQsICovKjsgcT0wLjAxJyxcXG4gICAgICAgICAgICAgICAgJ0FjY2VwdC1MYW5ndWFnZSc6J3poLUNOJyxcXG4gICAgICAgICAgICB9O1xcbiAgICAgICAgICAgIGlmKHdlYl91cmxfYXJyLmxlbmd0aD49MyYmd2ViX3VybF9hcnJbMl0ubGVuZ3RoPjIpeyAvL+iuvue9rue8lueggVxcbiAgICAgICAgICAgICAgICBoZWFkZXJzWydjb250ZW50LXR5cGUnXSA9ICdjaGFyc2V0PScrd2ViX3VybF9hcnJbMl0udG9VcHBlckNhc2UoKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgbGV0IHBhcmFtcyA9IHtoZWFkZXJzOmhlYWRlcnMsd2l0aEhlYWRlcnM6ZmFsc2UscmVkaXJlY3Q6ZmFsc2V9O1xcbiAgICAgICAgICAgIGlmKHdlYl91cmxfYXJyLmxlbmd0aD49MiYmd2ViX3VybF9hcnJbMV0ubGVuZ3RoPjIpeyAvLyDorr7nva7or7fmsYLmlrnms5VcXG4gICAgICAgICAgICAgICAgcGFyYW1zWydtZXRob2QnXSA9IHdlYl91cmxfYXJyWzFdLnRvVXBwZXJDYXNlKCk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGxvZygn5byA5aeL6I635Y+W5rqQ56CBJyk7XFxuICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgLypcXG4gICAgICAgICAgICAgICAgcmVxdWVzdEFzeW5jKHdlYl91cmwscGFyYW1zLGZ1bmN0aW9uIChrZXksY29kZSkge1xcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJhY2tfY29kZSA9IGNvZGU7XFxuICAgICAgICAgICAgICAgICAgICBpZihiYWNrX2NvZGUubGVuZ3RoPjIwKXtcXG4gICAgICAgICAgICAgICAgICAgICAgICBwdXRWYXIoJ2hvdXNlLnVwbG9hZF9jb2RlJyxiYWNrX2NvZGUpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKHRydWUpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/mupDnoIHlt7Lojrflj5Ys5bm26YOo5YiG5o+S5YWl5Yiw5paH5pys5Yy65Z+fJ1xcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+mUmeivr++8jOacrOasoeiOt+WPluWIsOepuuaWh+acrO+8jOeWkeS8vOS9oOayoeacieatpOaWh+S7tiEnO1xcbiAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICB9KTtcXG4gICAgICAgICAgICAgICAgKi9cXG4gICAgICAgICAgICAgICAgbGV0IGJhY2tfY29kZSA9IGdldEl0ZW0oJ2hvdXNlLmZpbGVfdWEnKT09PSfnlLXohJEnP2ZldGNoKHdlYl91cmwscGFyYW1zKTpyZXF1ZXN0KHdlYl91cmwscGFyYW1zKTtcXG4gICAgICAgICAgICAgICAgaWYoYmFja19jb2RlLmxlbmd0aD4yMCl7XFxuICAgICAgICAgICAgICAgICAgICBwdXRWYXIoJ2hvdXNlLnVwbG9hZF9jb2RlJyxiYWNrX2NvZGUpO1xcbiAgICAgICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UodHJ1ZSk7XFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5rqQ56CB5bey6I635Y+WLOW5tumDqOWIhuaPkuWFpeWIsOaWh+acrOWMuuWfnydcXG4gICAgICAgICAgICAgICAgfWVsc2V7XFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v6ZSZ6K+v77yM5pys5qyh6I635Y+W5Yiw56m65paH5pys77yM55aR5Ly85L2g5rKh5pyJ5q2k5paH5Lu2ISc7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9Y2F0Y2ggKGUpIHtcXG4gICAgICAgICAgICAgICAgbG9nKGUubWVzc2FnZSk7XFxuICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lj5HnlJ/kuobplJnor686XFxcXG4nK2UubWVzc2FnZTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9ZWxzZSBpZigv5Li76aKY77+lfOWFg+e0oO+/pS8udGVzdChpbnB1dCkpe1xcbiAgICAgICAgICAgIGxvZygn5Li76aKY6ZO+5o6lJyk7XFxuICAgICAgICAgICAgbGV0IHdlYl91cmxfYXJyID0gaW5wdXQuc3BsaXQoJ++/pScpO1xcbiAgICAgICAgICAgIGxldCB3ZWJfdXJsID0gd2ViX3VybF9hcnJbd2ViX3VybF9hcnIubGVuZ3RoLTFdO1xcbiAgICAgICAgICAgIGxldCBiYWNrX2NvZGUgPSBwYXJzZVBhc3RlKHdlYl91cmwpO1xcbiAgICAgICAgICAgIGlmKGJhY2tfY29kZS5sZW5ndGg+MjApIHtcXG4gICAgICAgICAgICAgICAgcHV0VmFyKCdob3VzZS51cGxvYWRfY29kZScsYmFja19jb2RlKTtcXG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UodHJ1ZSk7XFxuICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/mupDnoIHlt7Lojrflj5Ys5bm26YOo5YiG5o+S5YWl5Yiw5paH5pys5Yy65Z+fJ1xcbiAgICAgICAgICAgIH1lbHNle1xcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v6ZSZ6K+v77yM5pys5qyh6I635Y+W6L+U5Zue5Li6OlxcXFxuJytiYWNrX2NvZGU7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfWVsc2V7XFxuICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+mdnuazlemTvuaOpTpcXFxcbicrZ2V0VmFyKCdob3VzZS53ZWJfdXJsJyk7XFxuICAgICAgICB9XFxuICAgIH0pLFxcbiAgICBjb2xfdHlwZTogXFxcImlucHV0XFxcIlxcbn0pO1xcbmQucHVzaCh7XFxuICAgIHRpdGxlOiBcXFwi6YCJ5oup5paH5Lu26Lev5b6EXFxcIixcXG4gICAgdXJsOiQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKCk9PntcXG4gICAgICAgIC8qXFxuICAgICAgICBsZXQgZnAgPSAnaHR0cHM6Ly9naXRjb2RlLm5ldC9xcV8zMjM5NDM1MS9kci8tL3Jhdy9tYXN0ZXIvanMvZmlsZVNlbGVjdC5qcyc7XFxuICAgICAgICBsZXQgZiA9IHJlcXVpcmUoZnApO1xcbiAgICAgICAgKi9cXG4gICAgICAgIGxldCBmcD1jb25maWcubGliLmZpbGVTZWxlY3Q7XFxuICAgICAgICBsZXQgZj0kLnJjKGZwKTtcXG4gICAgICAgIHJldHVybiBmLmZpbGVTZWxlY3Rpb25Vcmkoe1xcbiAgICAgICAgICAgIGNhbGxiYWNrOiAkLnRvU3RyaW5nKCgpID0+IHtcXG4gICAgICAgICAgICAgICAgbGV0IHRhcmdldCA9IGZpbmRJdGVtKFxcXCJmaWxlUGF0aFxcXCIpLmV4dHJhO1xcbiAgICAgICAgICAgICAgICB1cGRhdGVJdGVtKFxcXCJmaWxlUGF0aFxcXCIsIHtcXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhOiBPYmplY3QuYXNzaWduKHRhcmdldCwge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogUEFUSFxcbiAgICAgICAgICAgICAgICAgICAgfSlcXG4gICAgICAgICAgICAgICAgfSk7XFxuICAgICAgICAgICAgICAgIHB1dFZhcignaG91c2Uud2ViX3VybCcsUEFUSCk7XFxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xcbiAgICAgICAgICAgIH0pLFxcbiAgICAgICAgICAgIG9uQ2xpY2tUeXBlOidjb25maXJtJyxcXG4gICAgICAgICAgICBmaWxlVHlwZTogXFxcIi5qc3wudHh0fC5oaWtlcnwuanNvbnwuaHRtbFxcXCIsXFxuICAgICAgICAgICAgcGF0dGVybjogMCxcXG4gICAgICAgICAgICByZXF1aXJlVXJsOmZwLFxcbiAgICAgICAgICAgIGluaXRpYWxQYXRoOmdldFBhdGgoJ2hpa2VyOi8vZmlsZXMvcnVsZXMvZHpIb3VzZS8nKS5zbGljZSg3KSxcXG4gICAgICAgICAgICBtZW1vcnk6J3RydWUnLFxcbiAgICAgICAgfSk7XFxuICAgIH0pLFxcbiAgICBjb2xfdHlwZTogXFxcInRleHRfY2VudGVyXzFcXFwiLFxcbn0pO1xcbmQucHVzaCh7XFxuICAgIHRpdGxlOifkuIrkvKDnsbvlnosnLFxcbiAgICBkZXNjOifkuIrkvKDmlofku7bnmoTnsbvlnoss5b2T5YmN5Li6OicrY29sb3IoZ2V0SXRlbSgnaG91c2UuZmlsZV90eXBlJywn6Z2Z5oCB5paH5Lu2JyksJyNmZjcwMDAnKSxcXG4gICAgY29sX3R5cGU6J3RleHRfMScsXFxuICAgIHVybDokKGZpbGVfdHlwZV90aXRsZSwyKS5zZWxlY3QoKCkgPT4ge1xcbiAgICAgICAgc2V0SXRlbSgnaG91c2UuZmlsZV90eXBlJyxpbnB1dC5yZXBsYWNlKCfwn5GJJywnJykpO1xcbiAgICAgICAgcmVmcmVzaFBhZ2UodHJ1ZSk7XFxuICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5L2g6YCJ5oup5LqGOicraW5wdXQ7XFxuICAgIH0pXFxufSk7XFxuXFxuZC5wdXNoKHtcXG4gICAgdGl0bGU6J+aWh+S7tuWumuS9jScsXFxuICAgIGRlc2M6J+aWh+S7tuaYr+WQpuWxnuS6jumHjeWumuWQkSzlvZPliY3kuLo6Jytjb2xvcihnZXRJdGVtKCdob3VzZS5maWxlX3JlZGlyZWN0Jywn5pys5ZywJyksJyNmZjcwMDAnKSxcXG4gICAgY29sX3R5cGU6J3RleHRfMScsXFxuICAgIHVybDokKGZpbGVfcmVkaXJlY3RfdGl0bGUsMikuc2VsZWN0KCgpID0+IHtcXG4gICAgICAgIHNldEl0ZW0oJ2hvdXNlLmZpbGVfcmVkaXJlY3QnLGlucHV0LnJlcGxhY2UoJ/CfkYknLCcnKSk7XFxuICAgICAgICByZWZyZXNoUGFnZSh0cnVlKTtcXG4gICAgICAgIHJldHVybiAndG9hc3Q6Ly/kvaDpgInmi6nkuoY6JytpbnB1dDtcXG4gICAgfSlcXG59KTtcXG5cXG5kLnB1c2goe1xcbiAgICB0aXRsZTon6K6+5aSHVUEnLFxcbiAgICBkZXNjOiflj5HotbfnvZHpobXor7fmsYLlpLTmoIfor4Ys5b2T5YmN5Li6OicrY29sb3IoZ2V0SXRlbSgnaG91c2UuZmlsZV91YScsJ+eUteiEkScpLCcjZmY3MDAwJyksXFxuICAgIGNvbF90eXBlOid0ZXh0XzEnLFxcbiAgICB1cmw6JChmaWxlX3VhX3RpdGxlLDIpLnNlbGVjdCgoKSA9PiB7XFxuICAgICAgICBzZXRJdGVtKCdob3VzZS5maWxlX3VhJyxpbnB1dC5yZXBsYWNlKCfwn5GJJywnJykpO1xcbiAgICAgICAgcmVmcmVzaFBhZ2UodHJ1ZSk7XFxuICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5L2g6YCJ5oup5LqGOicraW5wdXQ7XFxuICAgIH0pXFxufSk7XFxuZnVuY3Rpb24gY29tcGFyZShuYW1lKSB7XFxuICAgIHJldHVybiBmdW5jdGlvbihpdGVtKSB7XFxuICAgICAgICByZXR1cm4gaXRlbS5uYW1lID09PSBuYW1lO1xcbiAgICB9XFxufVxcbmQucHVzaCh7XFxuICAgIHRpdGxlOifwn5eE77iP546v5aKDJyxcXG4gICAgY29sX3R5cGU6J2ZsZXhfYnV0dG9uJyxcXG4gICAgdXJsOiQoKS5sYXp5UnVsZSgoZmlsZV90eXBlLGNvbXBhcmUpPT57XFxuICAgICAgICBsb2coJ+afpeeci+eOr+Wig+WPmOmHjycpO1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBsZXQgdXBfY29kZSA9IGdldFZhcignaG91c2UudXBsb2FkX2NvZGUnLCcnKTtcXG4gICAgICAgICAgICBsZXQgZnR5cGUgPSAgZmlsZV90eXBlLmZpbHRlcihjb21wYXJlKGdldEl0ZW0oJ2hvdXNlLmZpbGVfdHlwZScsJ+mdmeaAgeaWh+S7ticpKSlbMF0udmFsdWU7XFxuICAgICAgICAgICAgbGV0IHJlZGlyZWN0ID0gZ2V0SXRlbSgnaG91c2UuZmlsZV9yZWRpcmVjdCcsJ+acrOWcsCcpIT09J+acrOWcsCc7XFxuICAgICAgICAgICAgbGV0IGNvZGUgPSAhcmVkaXJlY3Q/dXBfY29kZTppbnB1dDtcXG4gICAgICAgICAgICBsZXQgZW52ID0ge1xcbiAgICAgICAgICAgICAgICB3ZWJfdXJsOmdldFZhcignaG91c2Uud2ViX3VybCcsJycpLFxcbiAgICAgICAgICAgICAgICBkZXZpY2U6Z2V0SXRlbSgnaG91c2UuZmlsZV91YScsJ+eUteiEkScpLFxcbiAgICAgICAgICAgICAgICBmdHlwZTpmdHlwZXx8XFxcIlxcXCIsXFxuICAgICAgICAgICAgICAgIHJlZGlyZWN0OnJlZGlyZWN0LFxcbiAgICAgICAgICAgICAgICBjb2RlOmNvZGUuc3Vic3RyaW5nKDAsNDApfHxcXFwiXFxcIixcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgbG9nKGVudik7XFxuICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovLycrSlNPTi5zdHJpbmdpZnkoZW52KTtcXG4gICAgICAgICAgICAvLyBhbGVydChKU09OLnN0cmluZ2lmeShlbnYpKTtcXG4gICAgICAgIH1jYXRjaCAoZSkge1xcbiAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly8nK2UubWVzc2FnZTtcXG4gICAgICAgICAgICAvLyBhbGVydChlLm1lc3NhZ2UpO1xcbiAgICAgICAgfVxcbiAgICB9LGZpbGVfdHlwZSxjb21wYXJlKVxcbn0pO1xcblxcbmQucHVzaCh7XFxuICAgIHRpdGxlOifwn5OD5pWZ56iLJyxcXG4gICAgY29sX3R5cGU6J2ZsZXhfYnV0dG9uJyxcXG4gICAgdXJsOiQoKS54NVJ1bGUoKCk9PntcXG4gICAgICAgIGxldCBtc2cgPSAn5qyi6L+O5L2/55So5byA5Y+R6ICF5pu05aSa5YiG5Lqr5bel5YW3XFxcXG4xLui+k+WFpee9keWdgOS4uuacrOWcsOaWh+S7tui3r+W+hCxoaWtlcjovL+aIluiAhWZpbGU6Ly/lvIDlpLRcXFxcbjIu54K55Ye7572R5Z2A6L6T5YWl5qCP5ZCO6Z2i55qE5oyJ6ZKuXFxcXG4zLueci+aWh+acrOmihOiniOWMuuaYr+WQpuato+ehrlxcXFxuNC7ngrnlh7vkuIrkvKDmjInpkq7mj5DkuqTliLDku5PlupMnO1xcbiAgICAgICAgYWxlcnQobXNnKTtcXG4gICAgfSlcXG59KTtcXG5cXG5kLnB1c2goe1xcbiAgICB0aXRsZTon8J+Xke+4j+a4heepuicsXFxuICAgIGNvbF90eXBlOidmbGV4X2J1dHRvbicsXFxuICAgIHVybDokKCkubGF6eVJ1bGUoKCk9PntcXG4gICAgICAgIGNsZWFyVmFyKCdob3VzZS51cGxvYWRfY29kZScpO1xcbiAgICAgICAgcmVmcmVzaFBhZ2UodHJ1ZSk7XFxuICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5riF6Zmk6aKE6KeI5Yy65Z+f5YaF5a65J1xcbiAgICB9KVxcbn0pO1xcblxcbmQucHVzaCh7XFxuICAgIHRpdGxlOifwn5Oy56S65L6LJyxcXG4gICAgY29sX3R5cGU6J2ZsZXhfYnV0dG9uJyxcXG4gICAgdXJsOiQoKS5sYXp5UnVsZSgoKT0+e1xcbiAgICAgICAgbGV0IGRlbW9fY29kZSA9IGdldEl0ZW0oJ2hvdXNlLmRlbW8nLCcwJyk7XFxuICAgICAgICBpZihkZW1vX2NvZGU9PScwJyl7XFxuICAgICAgICAgICAgcHV0VmFyKCdob3VzZS53ZWJfdXJsJywnaGlrZXI6Ly9maWxlcy9ydWxlcy9kekhvdXNlL2h0bWwv6LWE5rqQ572R5Lmm562+Lmh0bWwnKTtcXG4gICAgICAgICAgICBkZW1vX2NvZGUgPSBwYXJzZUludChkZW1vX2NvZGUpKzE7XFxuICAgICAgICAgICAgc2V0SXRlbSgnaG91c2UuZGVtbycsZGVtb19jb2RlKycnKTtcXG4gICAgICAgIH1lbHNle1xcbiAgICAgICAgICAgIHB1dFZhcignaG91c2Uud2ViX3VybCcsJ2ZpbGU6Ly8vc3RvcmFnZS9lbXVsYXRlZC8wL0FuZHJvaWQvZGF0YS9jb20uZXhhbXBsZS5oaWtlcnZpZXcvZmlsZXMvRG9jdW1lbnRzL3J1bGVzL2R6SG91c2UvaHRtbC/otYTmupDnvZHkuabnrb4uaHRtbCcpO1xcbiAgICAgICAgICAgIHNldEl0ZW0oJ2hvdXNlLmRlbW8nLCcwJyk7XFxuICAgICAgICB9XFxuICAgICAgICByZWZyZXNoUGFnZSh0cnVlKTtcXG4gICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7Lorr7nva7npLrkvovlnLDlnYAnXFxuICAgIH0pXFxufSk7XFxuXFxuZC5wdXNoKHtcXG4gICAgdGl0bGU6J/Cfk6TkuIrkvKAnLFxcbiAgICBjb2xfdHlwZTonZmxleF9idXR0b24nLFxcbiAgICB1cmw6JCgpLmxhenlSdWxlKChjYW51cCxob3VzZV9kYXRhLHB1dF91cmwsZmlsZV90eXBlKSA9PntcXG4gICAgICAgIGZ1bmN0aW9uIGNvbXBhcmUobmFtZSkge1xcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihpdGVtKSB7XFxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLm5hbWUgPT09IG5hbWU7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgY29uc3Qge2dldE5vd0Zvcm1hdERhdGV9PSQucmVxdWlyZShcXFwiaGlrZXI6Ly9wYWdlL3V0aWxpeVxcXCIpO1xcbiAgICAgICAgbGV0IHVwX2NvZGUgPSBnZXRWYXIoJ2hvdXNlLnVwbG9hZF9jb2RlJywnJyk7XFxuICAgICAgICBpZih1cF9jb2RlLmxlbmd0aCA8IDIpe1xcbiAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/mupDnoIHljLrml6DlhoXlrrnvvIzor7flhYjorr/pl67kuIDkuKrpnZnmgIHpobXpnaInXFxuICAgICAgICB9XFxuICAgICAgICBpZighY2FudXApe1xcbiAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/kvaDkuI3mmK/lvIDlj5HogIXvvIzmsqHmnInmj5DkuqTliLDku5PlupPnmoTmnYPliKkhJ1xcbiAgICAgICAgfVxcbiAgICAgICAgbGV0IGlucHV0ID0gZ2V0VmFyKCdob3VzZS53ZWJfdXJsJywnJyk7XFxuICAgICAgICBsZXQgd2ViX3VybCA9IGlucHV0LnNwbGl0KCc7JylbMF07XFxuICAgICAgICBsZXQgZmlsZU5hbWUgPSAnJztcXG4gICAgICAgIGlmKC9eaGlrZXI6fF5maWxlOnxeaHR0cDp8Xmh0dHBzOnxeXFxcXC9zdG9yYWdlXFxcXC98XlxcXFwvc2RjYXJkXFxcXC8vLnRlc3Qod2ViX3VybCkpe1xcbiAgICAgICAgICAgIGZpbGVOYW1lID0gd2ViX3VybC5zcGxpdCgnLycpW3dlYl91cmwuc3BsaXQoJy8nKS5sZW5ndGgtMV07XFxuICAgICAgICB9ZWxzZSBpZigv5Li76aKY77+lfOWFg+e0oO+/pS8udGVzdChpbnB1dCkpe1xcbiAgICAgICAgICAgIGxldCBia2FyciA9IHVwX2NvZGUuc3BsaXQoJ++/pScpO1xcbiAgICAgICAgICAgIGlmKGJrYXJyLmxlbmd0aDwzKXtcXG4gICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+S6keWJqui0tOadv+WGheWuueacieivrydcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgc3dpdGNoIChia2FyclsxXSkge1xcbiAgICAgICAgICAgICAgICBjYXNlICdteV9ob21lX3RoZW1lJzpcXG4gICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lID0gdXBfY29kZS5zcGxpdCgn44CMJylbMV0uc3BsaXQoJ+OAjScpWzBdO1xcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICAgIGNhc2UgJ215X2hvbWVfc2luZ2xlJzpcXG4gICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lID0gdXBfY29kZS5zcGxpdCgn44CMJylbMV0uc3BsaXQoJ+OAjScpWzBdO1xcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxuICAgICAgICAgICAgICAgIGNhc2UgJ2pzX3VybCc6XFxuICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZSA9IHVwX2NvZGUuc3BsaXQoJ++/pScpWzJdLnNwbGl0KCdAJylbMF07XFxuICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9ZWxzZXtcXG4gICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v6ZSZ6K+v77yM572R6aG16ZO+5o6l5peg5YaF5a65ISc7XFxuICAgICAgICB9XFxuICAgICAgICBsZXQgdWEgPSBnZXRJdGVtKCdob3VzZS5maWxlX3VhJyk9PT0n55S16ISRJz8nTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzg4LjAuNDMyNC4xNDYgU2FmYXJpLzUzNy4zNic6J01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA5OyBNSSA2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvODkuMC40Mzg5LjkwIE1vYmlsZSBTYWZhcmkvNTM3LjM2JztcXG4gICAgICAgIGxldCBoZWFkZXJzID0ge1xcbiAgICAgICAgICAgICdSZWZlcmVyJzonaHR0cHM6Ly9ibG9nLmNzZG4ubmV0JyxcXG4gICAgICAgICAgICBcXFwiY29udGVudC10eXBlXFxcIjogXFxcImFwcGxpY2F0aW9uL2pzb25cXFwiLFxcbiAgICAgICAgICAgICdVc2VyLUFnZW50Jzp1YSxcXG4gICAgICAgICAgICAnQWNjZXB0JzonYXBwbGljYXRpb24vanNvbiwgdGV4dC9qYXZhc2NyaXB0LCAqLyo7IHE9MC4wMScsXFxuICAgICAgICAgICAgJ0FjY2VwdC1MYW5ndWFnZSc6J3poLUNOJyxcXG4gICAgICAgIH07XFxuICAgICAgICBsZXQgdG9Db21wYXJlID0gJyc7XFxuICAgICAgICBpZihmaWxlTmFtZS5lbmRzV2l0aCgnLmh0bWwnKSl7XFxuICAgICAgICAgICAgdG9Db21wYXJlID0gJ+mdmeaAgeaWh+S7tic7XFxuICAgICAgICB9ZWxzZSBpZigv5Li76aKYLy50ZXN0KGZpbGVOYW1lKSl7XFxuICAgICAgICAgICAgdG9Db21wYXJlID0gJ+S4u+mhtemFjee9ridcXG4gICAgICAgIH1cXG4gICAgICAgIGxldCBmdHlwZSA9ICBmaWxlX3R5cGUuZmlsdGVyKGNvbXBhcmUodG9Db21wYXJlfHxnZXRJdGVtKCdob3VzZS5maWxlX3R5cGUnLCfpnZnmgIHmlofku7YnKSkpWzBdLnZhbHVlO1xcbiAgICAgICAgbGV0IHJlZGlyZWN0ID0gZ2V0SXRlbSgnaG91c2UuZmlsZV9yZWRpcmVjdCcsJ+acrOWcsCcpIT09J+acrOWcsCc7XFxuICAgICAgICBpZihyZWRpcmVjdCYmIXdlYl91cmwuc3RhcnRzV2l0aCgnaHR0cCcpKXtcXG4gICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v55u06ZO+MzAy6YeN5a6a5ZCR572R5Z2A6ZO+5o6l5b+F6aG7aHR0cOW8gOWktCc7XFxuICAgICAgICB9XFxuICAgICAgICBsZXQgY29kZSA9ICFyZWRpcmVjdD91cF9jb2RlOndlYl91cmw7XFxuICAgICAgICBsZXQgZGF0YSA9IHtcXFwicGFyYW1zXFxcIjpcXG4gICAgICAgICAgICAgICAge1xcXCJkYXRhXFxcIjoge3J1bGVfbmFtZTogZmlsZU5hbWUsIFxcXCJydWxlX3R5cGVcXFwiOiAn5pu05aSa5YiG5LqrJywgXFxcInZlcnNpb25cXFwiOmdldE5vd0Zvcm1hdERhdGUoKSxcXFwicnVsZV92YWx1ZVxcXCI6IGNvZGUsXFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YV90eXBlOmZ0eXBlLCBpc19yZWRpcmVjdDpyZWRpcmVjdCxkZXZpY2VVYTpnZXRJdGVtKCdob3VzZS5maWxlX3VhJyksXFxuICAgICAgICAgICAgICAgICAgICB9LFxcbiAgICAgICAgICAgICAgICAgICAgXFxcIm5hbWVcXFwiOiBob3VzZV9kYXRhLnVzZXJuYW1lLFxcbiAgICAgICAgICAgICAgICAgICAgXFxcInBhc3N3b3JkXFxcIjogaG91c2VfZGF0YS5wYXNzd29yZH1cXG4gICAgICAgIH07XFxuICAgICAgICBsZXQgdXBwYXJhbXMgPSB7aGVhZGVyczpoZWFkZXJzLGJvZHk6SlNPTi5zdHJpbmdpZnkoZGF0YSksd2l0aEhlYWRlcnM6ZmFsc2UscmVkaXJlY3Q6ZmFsc2UsbWV0aG9kOidQT1NUJ307XFxuICAgICAgICBsZXQgYmFja21zZyA9IGdldEl0ZW0oJ2hvdXNlLmZpbGVfdWEnKT09PSfnlLXohJEnP2ZldGNoKHB1dF91cmwsdXBwYXJhbXMpOnJlcXVlc3QocHV0X3VybCx1cHBhcmFtcyk7XFxuICAgICAgICB0cnl7XFxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IEpTT04ucGFyc2UoYmFja21zZykucmVzdWx0O1xcbiAgICAgICAgICAgIGxldCBkZXRhaWwgPSByZXN1bHQuZGV0YWlsO1xcbiAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly8nK2RldGFpbDtcXG4gICAgICAgIH1jYXRjaCAoZSkge1xcbiAgICAgICAgICAgIGxvZyhlLm1lc3NhZ2UpO1xcbiAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lj5HnlJ/kuobplJnor69cXFxcbicrZS5tZXNzYWdlO1xcbiAgICAgICAgfVxcbiAgICB9LGNhbnVwLGhvdXNlX2RhdGEscHV0X3VybCxmaWxlX3R5cGUpXFxufSk7XFxuXFxuZC5wdXNoKHtcXG4gICAgdGl0bGU6J+mVv+aWh+acrOmihOiniOWMuuWfnycsXFxuICAgIGNvbF90eXBlOid0ZXh0XzEnLFxcbiAgICB1cmw6J2hpa2VyOi8vZW1wdHknLFxcbiAgICBleHRyYToge3RleHRTaXplOiAxMSxsaW5lVmlzaWJsZTpmYWxzZX1cXG59KTtcXG5cXG5kLnB1c2goe1xcbiAgICB0aXRsZTpnZXRWYXIoJ2hvdXNlLnVwbG9hZF9jb2RlJywnJykuc3Vic3RyaW5nKDAsMTAyNDApLFxcbiAgICBjb2xfdHlwZTonbG9uZ190ZXh0JyxcXG4gICAgZXh0cmE6IHt0ZXh0U2l6ZTogMTF9XFxufSk7XFxuc2V0UGFnZVRpdGxlKFxcXCLmm7TlpJrliIbkuqtcXFwiKTtcXG5zZXRSZXN1bHQoZCk7XCJ9LHtcImNvbF90eXBlXCI6XCJtb3ZpZV8zXCIsXCJuYW1lXCI6XCLovbvlkIjpm4bnlJ/miJDmjqXlj6NcIixcInBhdGhcIjpcImdlbkFwaVwiLFwicnVsZVwiOlwianM6XFxuZnVuY3Rpb24gZ2VuUnVsZShuYW1lLHVybCxpY29uKXtcXG4gICAgaWNvbj1pY29ufHwnaHR0cHM6Ly96My5heDF4LmNvbS8yMDIxLzExLzE2L0lXSmh4Zi5wbmcnO1xcbiAgICBjb25zdCB7Z2V0Tm93Rm9ybWF0RGF0ZSxhcGksZ2V0QXBpfT0kLnJlcXVpcmUoXFxcImhpa2VyOi8vcGFnZS91dGlsaXk/cnVsZT3pgZPplb/ku5PlupNQcm9cXFwiKTtcXG4gICAgU3RyaW5nLnByb3RvdHlwZS5yZXBsYWNlQWxsID0gZnVuY3Rpb24ob2xkLG5ld19zdHIpe1xcbiAgICAgICAgcmV0dXJuIHRoaXMuc3BsaXQob2xkKS5qb2luKG5ld19zdHIpO1xcbiAgICB9O1xcbiAgICBsZXQgbXViYW4gPSBnZXRBcGkoJ2ltcG9ydFVybCcpK1xcXCIxNjkwXFxcIjtcXG4gICAgbGV0IG11YmFuX3dvcmQ9e25hbWU6XFxcIkDovbvlkIjpm4ZcXFwiLHVybDpcXFwiQOWcsOWdgFxcXCIsdmVyOlxcXCJA54mI5pysXFxcIixpY29uOlxcXCJA5Zu+5qCHXFxcIn07XFxuICAgIGxldCBtdWJhbl9jb2RlID0gZmV0Y2gobXViYW4pO1xcbiAgICBtdWJhbl9jb2RlPW11YmFuX2NvZGUucmVwbGFjZUFsbChtdWJhbl93b3JkLm5hbWUsbmFtZSkucmVwbGFjZUFsbChtdWJhbl93b3JkLnZlcixnZXROb3dGb3JtYXREYXRlKCkpLnJlcGxhY2VBbGwobXViYW5fd29yZC51cmwsdXJsKS5yZXBsYWNlQWxsKG11YmFuX3dvcmQuaWNvbixpY29uKTtcXG4gICAgbGV0IGltcG9ydF9jb2RlPVxcXCLmtbfpmJTop4bnlYzop4TliJnliIbkuqvvvIzlvZPliY3liIbkuqvnmoTmmK/vvJrlsI/nqIvluo/vvIzml6DmoLnmoJHvvIzoirHmraPmuIXvvIzkuI3mlq3ojaTohaXkuI3miJLmt6vvv6Vob21lX3J1bGVfdjLvv6ViYXNlNjQ6Ly9AXFxcIituYW1lK1xcXCJAXFxcIitiYXNlNjRFbmNvZGUobXViYW5fY29kZSk7XFxuICAgIHZhciBwYXN0ZXMgPSBnZXRQYXN0ZXMoKTtcXG4gICAgdmFyIHVybCA9IHNoYXJlUGFzdGUoaW1wb3J0X2NvZGUscGFzdGVzLnNsaWNlKC0xKVswXSk7XFxuICAgIGxldCBpbXBvcnRfcnVsZT0gdXJsK1xcXCJcXFxcblxcXFxu5bCP56iL5bqP77yaXFxcIituYW1lO1xcbiAgICByZXR1cm4gaW1wb3J0X3J1bGU7XFxufVxcbiQuZXhwb3J0cy5nZW5SdWxlPWdlblJ1bGU7XCJ9LHtcImNvbF90eXBlXCI6XCJtb3ZpZV8zXCIsXCJuYW1lXCI6XCLlhajlsYDop6PmnpDlhY3ll4VcIixcInBhdGhcIjpcImdsb2JhbFBhcnNlXCIsXCJydWxlXCI6XCJqczpcXG4gICAgZnVuY3Rpb24gZ2V0SGVhZGVycyhwbGF5VXJsKXtcXG4gICAgICAgIGxldCBoZWFkZXJzID0ge307XFxuICAgICAgICBsZXQgcmVmZXI9cGxheVVybC5zcGxpdChcXFwiLy9cXFwiKVswXStcXFwiLy9cXFwiK3BsYXlVcmwuc3BsaXQoXFxcIi8vXFxcIilbMV0uc3BsaXQoXFxcIi9cXFwiKVswXTtcXG4gICAgICAgIGlmKC9sZWNsb3VkXFxcXC5jb218YmlsaXZpZGVvXFxcXC5jb20vLnRlc3QocGxheVVybCkpe1xcbiAgICAgICAgICAgIGhlYWRlcnMgPSB7XFxcIlJlZmVyZXJcXFwiOiAnaHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tLycsXFxcIlVzZXItQWdlbnRcXFwiOlxcXCJNb3ppbGxhLzUuMFxcXCJ9XFxuICAgICAgICB9ZWxzZSBpZigvbWd0dlxcXFwuY29tLy50ZXN0KHBsYXlVcmwpKXtcXG4gICAgICAgICAgICBoZWFkZXJzID0ge1xcXCJSZWZlcmVyXFxcIjogcmVmZXIsXFxcIlVzZXItQWdlbnRcXFwiOlxcXCJNb3ppbGxhLzUuMFxcXCJ9XFxuICAgICAgICB9ZWxzZSBpZigvaXhpZ3VhXFxcXC5jb20vLnRlc3QocGxheVVybCkpe1xcbiAgICAgICAgICAgIGhlYWRlcnMgPSB7XFxcIlJlZmVyZXJcXFwiOiAnaHR0cHM6Ly93d3cuaXhpZ3VhLmNvbS8nLFxcXCJVc2VyLUFnZW50XFxcIjpcXFwiTW96aWxsYS81LjBcXFwifVxcbiAgICAgICAgfWVsc2V7XFxuICAgICAgICAgICAgLy8gaGVhZGVycyA9IHtcXFwiUmVmZXJlclxcXCI6IHJlZmVyLCdVc2VyLUFnZW50JzonRGFydC8yLjEzIChkYXJ0OmlvKSd9XFxuICAgICAgICAgICAgLy8gaGVhZGVycyA9IHtcXFwiUmVmZXJlclxcXCI6IHJlZmVyLCdVc2VyLUFnZW50JzpNT0JJTEVfVUF9O1xcbiAgICAgICAgICAgIGhlYWRlcnMgPSB7J1VzZXItQWdlbnQnOk1PQklMRV9VQX07XFxuICAgICAgICB9XFxuICAgICAgICByZXR1cm4gaGVhZGVyc1xcbiAgICB9XFxuZnVuY3Rpb24gaXNQaWMoc3RyKXtcXG4gICAgcmV0dXJuIC9cXFxcLihnaWZ8anBnfGpwZWd8cG5nfEdJRnxKUEd8UE5HKSQvLnRlc3Qoc3RyKTtcXG59XFxuZnVuY3Rpb24gaXNWaWRlbyhwbGF5VXJsLHJlY2hhbmdlKXtcXG4gICAgLy/ms6jmhI8ucGhw5LiN5Y+v5Lul6KKr5o6S6Zmk5ZCm5YiZ6J6N5YW06Kej5p6Q5LiN5LqGIHwucGhwJFxcbiAgICAvL+WmguaenOaYr+aSreaUvuWcsOWdgOWwseebtOaOpei/lOWbnuWcsOWdgOWKoOS4ilVB77yM5LiN5piv55qE6K+d5bCx6L+U5ZueZmFsc2VcXG4gICAgLy8gbGV0IHQxID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XFxuICAgIGxldCBjYWNoZVJlZ3ggPSBuZXcgUmVnRXhwKCdmaWxlOi8vL3N0b3JhZ2UvZW11bGF0ZWQvKC4qPylcXFxcXFxcXC5tM3U4fGhpa2VyOi8vZmlsZXMvKC4qPylcXFxcXFxcXC5tM3U4Jyk7XFxuICAgIGlmKGNhY2hlUmVneC50ZXN0KHBsYXlVcmwpKXtcXG4gICAgICAgIHJldHVybiBwbGF5VXJsXFxuICAgIH1cXG4gICAgZnVuY3Rpb24gZ2V0SG9zdCh1cmwpe1xcbiAgICAgICAgLy8gZmJh55qEcGFyc2VMYXp55aSq5oWi5LqG5Y2D5LiH5Yir55SoXFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIHJldHVybiB1cmwubWF0Y2goL15odHRwKHMpPzpcXFxcL1xcXFwvKC4qPylcXFxcLy8pWzBdLnNsaWNlKDAsLTEpO1xcbiAgICAgICAgfWNhdGNoIChlKSB7XFxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXFxuICAgICAgICB9XFxuICAgICAgICAvKlxcbiAgICAgICAgaWYodHlwZW9mKGxvZyk9PT0ndW5kZWZpbmVkJyl7XFxuICAgICAgICAgICAgcmV0dXJuICBmYmEucGFyc2VMYXp5UnVsZSgkJCQoKS5sYXp5UnVsZSgodXJsKT0+e1xcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0SG9tZSh1cmwpXFxuICAgICAgICAgICAgfSx1cmwpKVxcbiAgICAgICAgfWVsc2Uge1xcbiAgICAgICAgICAgIHJldHVybiBnZXRIb21lKHVybClcXG4gICAgICAgIH1cXG4gICAgICAgICovXFxuICAgIH1cXG4gICAgbGV0IHBVcmw9cGxheVVybC5zcGxpdChcXFwiO1xcXCIpWzBdOy8v6I635Y+W5oqg5o6J5rW36ZiUdWHnrYnlj4LmlbDnmoTnvZHpobXmkq3mlL7pk77mjqVcXG4gICAgbGV0IGhvc3QgPSBnZXRIb3N0KHBVcmwpOyAvLyDojrflj5bln5/lkI1cXG4gICAgaWYoIWhvc3Qpey8v5Yik5pat5peg5Z+f5ZCN55u05o6l5LiN5piv6KeG6aKRXFxuICAgICAgICByZXR1cm4gZmFsc2VcXG4gICAgfVxcbiAgICBmdW5jdGlvbiBwcmludChkYXRhKXtcXG4gICAgICAgIGlmKHR5cGVvZihsb2cpPT09J3VuZGVmaW5lZCcpe1xcbiAgICAgICAgICAgIHJldHVybiAgZmJhLmxvZyhkYXRhKVxcbiAgICAgICAgfWVsc2Uge1xcbiAgICAgICAgICAgIHJldHVybiBsb2coZGF0YSlcXG4gICAgICAgIH1cXG4gICAgfVxcbiAgICByZWNoYW5nZT10eXBlb2YocmVjaGFuZ2UpPT09XFxcImZ1bmN0aW9uXFxcIj9yZWNoYW5nZTpmdW5jdGlvbihwbGF5VXJsKXtyZXR1cm4gcGxheVVybH07XFxuICAgIGxldCBleGNlcHRXb3JkcyA9ICcuanMkfC5jc3MkfC50cyR8Lmh0bWwkfC5odG0kfC5naWYkfC5qcGckfC5qcGVnJHwucG5nJHwuaWNvJHwuc3ZnJHwudHh0JCcuc3BsaXQoJ3wnKS5tYXAoaXQ9PidcXFxcXFxcXCcraXQpLmpvaW4oJ3wnKTtcXG4gICAgdmFyIGV4Y2VwdEtleXMgPSBuZXcgUmVnRXhwKGV4Y2VwdFdvcmRzKTtcXG4gICAgbGV0IGV4Y2VwdFdvcmRzMSA9ICdyZWZlcmVyPXx1cmw9Jy5zcGxpdCgnfCcpLm1hcChpdD0+aXQpLmpvaW4oJ3wnKTtcXG4gICAgdmFyIGV4Y2VwdEtleXMxID0gbmV3IFJlZ0V4cChleGNlcHRXb3JkczEpO1xcbiAgICBsZXQgcmVwbGFjZVdvcmRzID0gJ3BsYXltM3U4fG0zdThcXFxcLnR2Jy5zcGxpdCgnfCcpLm1hcChpdD0+aXQpLmpvaW4oJ3wnKTtcXG4gICAgbGV0IHJlcGxhY2VLZXlzID0gbmV3IFJlZ0V4cChyZXBsYWNlV29yZHMsJ2cnKTtcXG4gICAgbGV0IHZpZGVvV29yZHMgPSBcXFwiL3ZpZGVvL3Rvc3wubXA0JHwubTN1OCR8LmZsdiR8LmF2aSR8LjNncCR8Lm1wZWckfC53bXYkfC5tb3YkfHJtdmJ8LmRhdCR8Lm1wMyR8Lm00YSR8cXFCRmRvd25sb2FkfG1pbWU9dmlkZW8lMkZ8bWltZV90eXBlPXZpZGVvX3x0eXBlPW0zdTh8cHQ9bTN1OFxcXCIuc3BsaXQoJ3wnKS5tYXAoKGl0KT0+e1xcbiAgICAgICAgLy90eXBlPW1wNFxcbiAgICAgICAgaWYoaXQuc3RhcnRzV2l0aChcXFwiLlxcXCIpKXtcXG4gICAgICAgICAgICByZXR1cm4gJ1xcXFxcXFxcJytpdFxcbiAgICAgICAgfWVsc2V7XFxuICAgICAgICAgICAgcmV0dXJuIGl0XFxuICAgICAgICB9XFxuICAgIH0pLmpvaW4oXFxcInxcXFwiKTtcXG4gICAgbGV0IHZpZGVvS2V5cyA9IG5ldyBSZWdFeHAodmlkZW9Xb3Jkcyk7XFxuICAgIGxldCByVXJsID0gcFVybC5yZXBsYWNlKGhvc3QsJycpOy8v6I635Y+W6Zmk5byA5Z+f5ZCN55qE5Ymp5L2Z6ZO+5o6lXFxuICAgIGxldCBwVXJsMj1wVXJsLnNwbGl0KFxcXCImXFxcIilbMF0uc3BsaXQoXFxcIj9cXFwiKVswXTsvL+iOt+WPluS4jeW4puWPguaVsOeahOe9kemhtemTvuaOpVxcbiAgICBsZXQgcnVybDIgPSBwVXJsMi5yZXBsYWNlKGhvc3QsJycpOy8v6I635Y+W6Zmk5byA5Z+f5ZCN55qE5Ymp5L2Z5LiN5bim5Y+C5pWw6ZO+5o6lXFxuICAgIGxldCBoYXNLZXkgPSB2aWRlb0tleXMudGVzdChyVXJsKXx8dmlkZW9LZXlzLnRlc3QocnVybDIpO1xcbiAgICBsZXQgcGFyVXJsID0gcFVybC5yZXBsYWNlKHBVcmwuc3BsaXQoXFxcIj9cXFwiKVswXSwnJyk7IC8vIOWIhuWJsumXruWPt+WQjuWJqeS9meWPguaVsOeahOWujOaVtOmTvuaOpVxcbiAgICBsZXQgZXhjS2V5ID0gZXhjZXB0S2V5czEudGVzdChwYXJVcmwpO1xcbiAgICBpZihyVXJsLnNwbGl0KCc/JykubGVuZ3RoPjIpe1xcbiAgICAgICAgbGV0IHJVcmwzPXJVcmwuc3BsaXQoXFxcIj9cXFwiKVsxXTsvL+iOt+WPlj/liIblibLlkI7nmoTnrKzkuIDmrrVcXG4gICAgICAgIGhhc0tleSA9IGhhc0tleXx8dmlkZW9LZXlzLnRlc3QoclVybDMpO1xcbiAgICB9XFxuICAgIGlmKGhhc0tleSYmIWV4Y0tleSl7XFxuICAgICAgICBsZXQgdGlwcyA9ICfmo4DmtYvliLDnlpHkvLzlpJrlqpLkvZPnmoTlnLDlnYA6JztcXG4gICAgICAgIHByaW50KFxcXCJqc+S4rVxcXCIrdGlwcytwVXJsKTtcXG4gICAgICAgIHByaW50KFxcXCLliIblibLpl67lj7flkI46XFxcIitwYXJVcmwpO1xcbiAgICB9XFxuICAgIC8vIGxvZygnMTonKyh2aWRlb0tleXMudGVzdChwVXJsKXx8dmlkZW9LZXlzLnRlc3QocFVybDIpfHx2aWRlb0tleXMudGVzdChwVXJsLnJlcGxhY2UocmVwbGFjZUtleXMsXFxcIlxcXCIpLnNwbGl0KFxcXCImXFxcIilbMF0uc3BsaXQoXFxcIj9cXFwiKVswXSkpKTtcXG4gICAgLy8gbG9nKCcyOicrIWV4Y2VwdEtleXMudGVzdChwVXJsLnNwbGl0KFxcXCI/XFxcIilbMF0uc3BsaXQoJyYnKVswXSkpO1xcbiAgICAvLyBsb2coJzM6JyshZXhjZXB0S2V5czEudGVzdChwVXJsLnJlcGxhY2UocFVybC5zcGxpdChcXFwiP1xcXCIpWzBdLCcnKSkpO1xcbiAgICBpZiAoKGhhc0tleXx8dmlkZW9LZXlzLnRlc3QoclVybC5yZXBsYWNlKHJlcGxhY2VLZXlzLFxcXCJcXFwiKS5zcGxpdChcXFwiJlxcXCIpWzBdLnNwbGl0KFxcXCI/XFxcIilbMF0pICkmJiAhZXhjZXB0S2V5cy50ZXN0KHBVcmwyKSYmIWV4Y2VwdEtleXMxLnRlc3QocFVybDIpKSB7XFxuICAgICAgICBpZighKC9Vc2VyLUFnZW50fFJlZmVyZXJALy50ZXN0KHBsYXlVcmwpKSl7XFxuICAgICAgICAgICAgaWYoL2xlY2xvdWRcXFxcLmNvbXxiaWxpdmlkZW8vLnRlc3QocGxheVVybCkpe1xcbiAgICAgICAgICAgICAgICBwbGF5VXJsKz1cXFwiO3tSZWZlcmVyQGh0dHBzOi8vd3d3LmJpbGliaWxpLmNvbS8mJlVzZXItQWdlbnRATW96aWxsYS81LjB9XFxcIjtcXG4gICAgICAgICAgICB9ZWxzZSBpZigvaXhpZ3VhXFxcXC5jb20vLnRlc3QocGxheVVybCkpe1xcbiAgICAgICAgICAgICAgICBwbGF5VXJsKz1cXFwiI2lzdmlkZW89dHJ1ZSM7e1JlZmVyZXJAaHR0cHM6Ly93d3cuaXhpZ3VhLmNvbS8mJlVzZXItQWdlbnRATW96aWxsYS81LjB9XFxcIjtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgZWxzZSBpZigvbWd0dlxcXFwuY29tfGJ5dGVhbW9uZS8udGVzdChwbGF5VXJsKSl7XFxuICAgICAgICAgICAgICAgIHBsYXlVcmwrPVxcXCI7e1VzZXItQWdlbnRATW96aWxsYS81LjB9XFxcIjtcXG4gICAgICAgICAgICB9ZWxzZSBpZigvcHR3b1xcXFwud2tmaWxlXFxcXC5jb20vLnRlc3QocGxheVVybCkmJi91cmw9Ly50ZXN0KHBsYXlVcmwpKXtcXG4gICAgICAgICAgICAgICAgcGxheVVybD1wbGF5VXJsLnNwbGl0KFxcXCJ1cmw9XFxcIilbMV0rXFxcIjt7UmVmZXJlckBodHRwczovL2ZhbnR1YW4udHZ9XFxcIlxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAvLyDlpITnkIblpKfluIjlhYTkuYvnsbvnmoRhcHBcXG4gICAgICAgICAgICAvLyBlbHNle1xcbiAgICAgICAgICAgIC8vICAgICBwbGF5VXJsKz1cXFwiO3tVc2VyLUFnZW50QE1vemlsbGEvNS4wfVxcXCI7XFxuICAgICAgICAgICAgLy8gfVxcbiAgICAgICAgfVxcbiAgICAgICAgcGxheVVybD1yZWNoYW5nZShwbGF5VXJsKTtcXG4gICAgICAgIGlmKCEvI2lzVmlkZW89dHJ1ZSMvLnRlc3QocGxheVVybCkpe1xcbiAgICAgICAgICAgIHBsYXlVcmwrPVxcXCIjaXNWaWRlbz10cnVlI1xcXCI7XFxuICAgICAgICB9XFxuICAgICAgICAvLyBsZXQgdDIgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcXG4gICAgICAgIC8vIHByaW50KCfliKTmlq1pc1ZpZGVv6ICX5pe2OicrKHQyLXQxKSk7XFxuICAgICAgICByZXR1cm4gcGxheVVybDtcXG4gICAgfWVsc2V7XFxuICAgICAgICAvLyBsZXQgdDIgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcXG4gICAgICAgIC8vIHByaW50KCfliKTmlq1pc1ZpZGVv6ICX5pe2OicrKHQyLXQxKSk7XFxuICAgICAgICByZXR1cm4gZmFsc2U7XFxuICAgIH1cXG59XFxuZnVuY3Rpb24gY29tUGFyc2UocGFyU3RyLGVqLG9ubHliYWNrLGh0bWwpe1xcbiAgICAvL+WIl+ihqO+8jOagh+mimO+8jOWbvueJh++8jOaPj+i/sO+8jOmTvuaOpe+8jOWGheWuuVxcbiAgICBlaiA9IGVqfHxmYWxzZTsvL+acieS6jOe6p1xcbiAgICBvbmx5YmFjaz1vbmx5YmFja3x8ZmFsc2U7Ly/lj6rov5Tlm57mlbDmja5cXG4gICAgaHRtbCA9IGh0bWx8fGdldFJlc0NvZGUoKTtcXG4gICAgaHRtbCA9IHR5cGVvZihodG1sKT09PSdzdHJpbmcnP2h0bWw6aHRtbC5odG1sO1xcbiAgICByZXR1cm4gJC50b1N0cmluZygocGFyU3RyLGVqLG9ubHliYWNrLGh0bWwsaXNQaWMpPT57XFxuICAgICAgICBsZXQgdD1wYXJTdHIuc3BsaXQoXFxcIjtcXFwiKTtcXG4gICAgICAgIGxldCBkPVtdO1xcbiAgICAgICAgLy8gbGV0IGxpc3Q9cGRmYShnZXRSZXNDb2RlKCksdFswXSk7XFxuICAgICAgICBsZXQgbGlzdD1wZGZhKGh0bWwsdFswXSk7XFxuICAgICAgICBsZXQgbGF6eSA9ICQoJycpLmxhenlSdWxlKCgpPT57XFxuICAgICAgICAgICAgY29uc3Qge2xhenlQYXJzZX0gPSAkLnJlcXVpcmUoJ2hpa2VyOi8vcGFnZS9nbG9iYWxQYXJzZT9ydWxlPemBk+mVv+S7k+W6k1BybycpO1xcbiAgICAgICAgICAgIHJldHVybiBsYXp5UGFyc2UoaW5wdXQpXFxuICAgICAgICB9KTtcXG4gICAgICAgIGZvcihsZXQgaSBpbiBsaXN0KXtcXG4gICAgICAgICAgICBsZXQgX3BpYyA9IHRbMl0/cGQobGlzdFtpXSx0WzJdKTonJztcXG4gICAgICAgICAgICBpZihpc1BpYyhfcGljKSYmIS9AUmVmZXJlcj0vLnRlc3QoX3BpYykpe1xcbiAgICAgICAgICAgICAgICBfcGljKz0nQFJlZmVyZXI9J1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBsZXQgaXQ9e1xcbiAgICAgICAgICAgICAgICB0aXRsZTpwZGZoKGxpc3RbaV0sdFsxXSksXFxuICAgICAgICAgICAgICAgIHBpY191cmw6X3BpYyxcXG4gICAgICAgICAgICAgICAgZGVzYzpwZGZoKGxpc3RbaV0sdFszXSksXFxuICAgICAgICAgICAgICAgIHVybDplaj9wZChsaXN0W2ldLHRbNF0pOnBkKGxpc3RbaV0sdFs0XSkrbGF6eVxcbiAgICAgICAgICAgIH07XFxuICAgICAgICAgICAgaWYodC5sZW5ndGg+NSl7Ly/lhoXlrrnvvIznlKjkuo7mkJzntKJcXG4gICAgICAgICAgICAgICAgaXQuY29udGVudD1wZGZoKGxpc3RbaV0sdFs1XSlcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgZC5wdXNoKGl0KTtcXG4gICAgICAgIH1cXG4gICAgICAgIGlmKG9ubHliYWNrKXtcXG4gICAgICAgICAgICByZXR1cm4gZFxcbiAgICAgICAgfWVsc2V7XFxuICAgICAgICAgICAgc2V0UmVzdWx0KGQpXFxuICAgICAgICB9XFxuICAgIH0scGFyU3RyLGVqLG9ubHliYWNrLGh0bWwsaXNQaWMpXFxufVxcblxcbmZ1bmN0aW9uIGlzQmFkVmlkZW8odmlkZW9VcmwpIHsvL+aYr+Wdj+eahOinhumikVxcbiAgICBsZXQgZG1QYXRoID0gJ2hpa2VyOi8vZmlsZXMvY2FjaGUvZGlhb21hby50eHQnOy8v5ZCK5q+b5qih5byP6L+H5ruk5paH5Lu26Lev5b6EXFxuICAgIGxldCBkbVVybHM7XFxuICAgIHRyeSB7XFxuICAgICAgICBkbVVybHMgPSByZXF1ZXN0KGRtUGF0aCkudHJpbSgpLnNwbGl0KCdcXFxcbicpLmZpbHRlcihpdCA9PiBpdCAmJiAhaXQuc3RhcnRzV2l0aCgnLy8nKSk7XFxuICAgIH0gY2F0Y2ggKGUpIHtcXG4gICAgICAgIGRtVXJscyA9IFtdO1xcbiAgICB9XFxuXFxuICAgIGZ1bmN0aW9uIGhhc0RtKHZpZGVvVXJsLCBkbVVybHMpIHsvL+aSreaUvuWcsOWdgOaYr+WQpuS4uuWQiuavm+inhumikVxcbiAgICAgICAgaWYgKGRtVXJscy5sZW5ndGggPCAxKSB7XFxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlXFxuICAgICAgICB9XFxuICAgICAgICBmdW5jdGlvbiBwcmludChzdHIpe1xcbiAgICAgICAgICAgIGlmKHR5cGVvZihsb2cpIT09J3VuZGVmaW5lZCcpe1xcbiAgICAgICAgICAgICAgICBsb2coc3RyKTtcXG4gICAgICAgICAgICB9ZWxzZXtcXG4gICAgICAgICAgICAgICAgZmJhLmxvZyhzdHIpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICAgIGZvciAobGV0IGRtVXJsIG9mIGRtVXJscykge1xcbiAgICAgICAgICAgIGlmICgobmV3IFJlZ0V4cChkbVVybCkpLnRlc3QodmlkZW9VcmwpKSB7Ly/mkq3mlL7lnLDlnYDljIXlkKvlkIrmr5vmoIflv5fnmoTlnLDlnYBcXG4gICAgICAgICAgICAgICAgcHJpbnQoJ+WQiuavm+inhumikSzoh6rliqjov4fmu6Q6Jyt2aWRlb1VybCk7XFxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgcHJpbnQoJ+mdnuWQiuavm+inhumikSzlj6/mkq3mlL46Jyt2aWRlb1VybCk7XFxuICAgICAgICByZXR1cm4gZmFsc2VcXG4gICAgfVxcblxcbiAgICBmdW5jdGlvbiBpc0RtKHJldCkge1xcbiAgICAgICAgaWYgKCFyZXQpIHtcXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZVxcbiAgICAgICAgfVxcbiAgICAgICAgcmV0dXJuIGhhc0RtKHJldC5zcGxpdCgnIycpWzBdLnNwbGl0KCc7JylbMF0sIGRtVXJscylcXG4gICAgfVxcbiAgICByZXR1cm4gaXNEbSh2aWRlb1VybClcXG59XFxuXFxuZnVuY3Rpb24gbGF6eVBhcnNlKHBsYXlVcmwsbXMsdG0scmVjaGFuZ2Upe1xcbiAgICAvLyBsb2coJ+iwg+eUqOS7k+W6k+WFjeWXheaOouS8oOWPgui2heaXtuS4ujonK21zKTtcXG4gICAgdG0gPSBwYXJzZUludCh0bSl8fDUwMDA7XFxuICAgIGNvbnN0IHtpc1ZpZGVvLGdldEhlYWRlcnMsaXNCYWRWaWRlb30gPSAkLnJlcXVpcmUoJ2hpa2VyOi8vcGFnZS9nbG9iYWxQYXJzZT9ydWxlPemBk+mVv+S7k+W6k1BybycpO1xcbiAgICBsZXQgcmVhbFVybCA9IGlzVmlkZW8ocGxheVVybCxyZWNoYW5nZSk7XFxuICAgIC8vbG9nKHJlYWxVcmwpO1xcbiAgICBpZih0eXBlb2YocmVhbFVybCk9PSdzdHJpbmcnKXsvL2Jvb2zlgLzlsLHmmK/lpLHotKVcXG4gICAgICAgIHRyeXtcXG4gICAgICAgICAgICBsZXQgcnVybD1yZWFsVXJsLnNwbGl0KFxcXCI7XFxcIilbMF0uc3BsaXQoXFxcIiNcXFwiKVswXTtcXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShyZXF1ZXN0KHJ1cmwse3RpbWVvdXQ6dG19KSkudXJsXFxuICAgICAgICB9Y2F0Y2goZSl7XFxuICAgICAgICAgICAgcmV0dXJuIHJlYWxVcmxcXG4gICAgICAgIH1cXG4gICAgICAgIC8vcmV0dXJuIHJlYWxVcmxcXG4gICAgfVxcblxcbiAgICAvL2xvZyhcXFwi6K6/6Zeu6LaF5pe2OlxcXCIrdG0pO1xcbiAgICBsb2coXFxcIuWwneivlemBk+mVv+S7k+W6k3g15YWN5ZeFOlxcXCIrcGxheVVybCk7XFxuICAgIGNsZWFyVmFyKFxcXCJfeDVqeFVybFxcXCIpO1xcbiAgICBsZXQgYmFkPSQoXFxcIue9kee7nOS4jeS9s+aIluiAheeWkeS8vOWvueaWuee9keermeaMguS6hu+8jOS9oOimgeafpeeci+WFtue9kemhteWQl++8n1xcXCIpLmNvbmZpcm0oKHBsYXlVcmwpPT57XFxuICAgICAgICBsb2coXFxcIue9keermeeci+i1t+adpeaMguS6hjpcXFwiK3BsYXlVcmwpO1xcbiAgICAgICAgcmV0dXJuIHBsYXlVcmxcXG4gICAgfSxwbGF5VXJsKTtcXG4gICAgdHJ5e1xcbiAgICAgICAgdmFyIGJhY2s9cmVxdWVzdChwbGF5VXJsLHtoZWFkZXJzOiBnZXRIZWFkZXJzKHBsYXlVcmwpLHRpbWVvdXQ6dG19KTtcXG4gICAgICAgIC8vdmFyIGJhY2s9ZmV0Y2gocGxheVVybCx7aGVhZGVyczogeydVc2VyLUFnZW50JzogUENfVUF9fSk7XFxuICAgICAgICBpZighYmFjayl7XFxuICAgICAgICAgICAgbG9nKFxcXCLnvZHnq5lcXFwiK3BsYXlVcmwrXFxcIuehruWunuWVpeS5n+ayoei/lOWbnlxcXCIpO1xcbiAgICAgICAgICAgIHJldHVybiBiYWRcXG4gICAgICAgIH1lbHNlIGlmKC8jRVhUSU5GLy50ZXN0KGJhY2spKXtcXG4gICAgICAgICAgICAvL2xldCBsY2FjaGU9XFxcIi9zdG9yYWdlL2VtdWxhdGVkLzAvQW5kcm9pZC9kYXRhL2NvbS5leGFtcGxlLmhpa2Vydmlldy9maWxlcy9Eb2N1bWVudHMvY2FjaGUvdmlkZW8ubTN1OFxcXCI7XFxuICAgICAgICAgICAgLy93cml0ZUZpbGUobGNhY2hlLGJhY2spO1xcbiAgICAgICAgICAgIC8vcmV0dXJuIGxjYWNoZStcXFwiIyNcXFwiK3BsYXlVcmwrXFxcIiNpc1ZpZGVvPXRydWUjXFxcIlxcbiAgICAgICAgICAgIHBsYXlVcmw9Y2FjaGVNM3U4KHBsYXlVcmwpO1xcbiAgICAgICAgICAgIHJldHVybiBwbGF5VXJsXFxuICAgICAgICB9ZWxzZSBpZigoIS/op6blj5HkuobpmLLnm5fpk7585pyq5o6I5p2DfOaOpeWPo+mYsuebly8udGVzdChiYWNrKSkmJighL2h0dHB8dXJsLy50ZXN0KGJhY2spKSYmKCEvbXNnfGNvZGV8aHRtbC8udGVzdChiYWNrKSkpe1xcbiAgICAgICAgICAgIGxvZyhiYWNrKTtcXG4gICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v55aR5Ly85a+55pa55pWw5o2u5Yqg5a+G5LqG77yM5YW35L2T5pWw5o2u55yL5pel5b+XJ1xcbiAgICAgICAgfVxcbiAgICB9Y2F0Y2goZSl7XFxuICAgICAgICBsb2coZS5tZXNzYWdlKTtcXG4gICAgICAgIHJldHVybiBiYWRcXG4gICAgfVxcbiAgICB0cnkge1xcbiAgICAgICAgYmFjaz1KU09OLnBhcnNlKGJhY2spO1xcbiAgICAgICAgbGV0IHJlYWxVcmw9YmFjay51cmw7XFxuICAgICAgICBpZih0eXBlb2YocmVhbFVybCk9PVxcXCJ1bmRlZmluZWRcXFwifHwhcmVhbFVybCl7XFxuICAgICAgICAgICAgbG9nKGJhY2spO1xcbiAgICAgICAgICAgIHJldHVybiBcXFwidG9hc3Q6Ly/pgZPplb/ku5PlupPop6PmnpDlpLHotKXvvIHov5Tlm57mkq3mlL7lnLDlnYDkuLrnqbpcXFwiXFxuICAgICAgICB9IGVsc2UgaWYodHlwZW9mKGlzVmlkZW8ocmVhbFVybCxyZWNoYW5nZSkpPT0nc3RyaW5nJyl7XFxuICAgICAgICAgICAgcmV0dXJuIGlzVmlkZW8ocmVhbFVybCxyZWNoYW5nZSk7XFxuICAgICAgICB9ZWxzZXtcXG4gICAgICAgICAgICByZXR1cm4gcmVhbFVybCtcXFwiI2lzVmlkZW89dHJ1ZSNcXFwiO1xcbiAgICAgICAgfVxcbiAgICAgICAgLy9lbHNle1xcbiAgICAgICAgLy9yZWFsVXJsKz1cXFwiO3tVc2VyLUFnZW50QE1vemlsbGEvNS4wfVxcXCI7XFxuICAgICAgICAvLyB9XFxuICAgIH1jYXRjaCAoZSkge1xcbiAgICAgICAgbG9nKFxcXCLmo4DmtYvliLDop6PmnpDlj6PpnZ5qc29u6ZSZ6K+vOlxcXCIrZS5tZXNzYWdlKycs5byA5aeLeDXlhY3ll4XmjqInKTtcXG4gICAgICAgIC8vIHJlcXVpcmUoJ2h0dHBzOi8vaGpkaG54LmNvZGluZy5uZXQvcC9oaWtlci9kL2RyL2dpdC9yYXcvbWFzdGVyL2pzL2xzZy5qcycpOy8v5byV55So5pys5Zyw5YKo5a2Y5o+S5Lu2XFxuICAgICAgICBjb25zdCBsc2c9JC5yZXF1aXJlKFxcXCJoaWtlcjovL3BhZ2UvbG9jYWxTdG9yYWdlP3J1bGU96YGT6ZW/5LuT5bqTUHJvXFxcIik7Ly/lvJXnlKjlrZDpobXpnaLmnKzlnLDlgqjlrZjmj5Lku7ZcXG4gICAgICAgIGxldCBsb2NhbF9tcyA9IGxzZy5nZXRJdGVtKCd0aW1lb3V0Jyk7XFxuICAgICAgICBsZXQgbXMgPSBwYXJzZUludChtcyl8fHBhcnNlSW50KGxvY2FsX21zKXx8NTAwMDtcXG4gICAgICAgIGxldCBtYXhfY291bnQ9TWF0aC5jZWlsKG1zLzI1MCk7XFxuICAgICAgICBsb2coXFxcIuacrOasoeWXheaOoui2heaXtjpcXFwiK21zK1xcXCLlhbHorqHlvoXmipPljIU6XFxcIittYXhfY291bnQrXFxcIuasoVxcXCIpO1xcbiAgICAgICAgc2hvd0xvYWRpbmcoJ+WXheaOouS4re+8jOiLpeWksei0peWwseWIh+aNondlYuWXheaOoi4uLicpO1xcbiAgICAgICAgbGV0IF94NSA9ICQudG9TdHJpbmcoKGlzVmlkZW8scmVjaGFuZ2UscGxheVVybCxtYXhfY291bnQsUENfVUEsaXNCYWRWaWRlbyk9PntcXG4gICAgICAgICAgICB0cnkge1xcbiAgICAgICAgICAgICAgICBpZih0eXBlb2YoZmJhKT09J3VuZGVmaW5lZCd8fCFmYmEpe1xcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZiYSA9IGZ5X2JyaWRnZV9hcHA7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZihyZXF1ZXN0KT09J3VuZGVmaW5lZCd8fCFyZXF1ZXN0KXtcXG4gICAgICAgICAgICAgICAgICAgICAgICBldmFsKGZiYS5nZXRJbnRlcm5hbEpzKCkpO1xcbiAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICB9Y2F0Y2ggKGUpIHtcXG4gICAgICAgICAgICAgICAgICAgIGZiYS5sb2coZS5tZXNzYWdlKTtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICBmYmEucHV0VmFyKFxcXCJfeDVqeFVybFxcXCIscGxheVVybCk7XFxuICAgICAgICAgICAgICAgIGlmKHdpbmRvdy5jb3VudCA9PSBudWxsKXtcXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb3VudD0xO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIGxldCB0ZXh0PScnO1xcbiAgICAgICAgICAgICAgICB0cnkge1xcbiAgICAgICAgICAgICAgICAgICAgdGV4dD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxcXCJib2R5XFxcIikuaW5uZXJUZXh0O1xcbiAgICAgICAgICAgICAgICB9Y2F0Y2ggKGUpIHtmYmEubG9nKGUubWVzc2FnZSl9XFxuICAgICAgICAgICAgICAgIGlmKC/op6blj5HkuobpmLLnm5fpk7585pyq5o6I5p2DfOaOpeWPo+mYsuebly8udGVzdCh0ZXh0KSYmd2luZG93LmNvdW50PT09MSl7XFxuICAgICAgICAgICAgICAgICAgICBmYmEubG9nKFxcXCLmo4DmtYvliLDmnInmjojmnYPvvIzlvIDlp4vov4fmjojmnYNcXFwiKTtcXG4gICAgICAgICAgICAgICAgICAgIC8vbG9jYXRpb24ucmVsb2FkKCk7XFxuICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5ocmVmPWZiYS5nZXRWYXIoXFxcIl94NWp4VXJsXFxcIik7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgd2luZG93LmNvdW50Kys7XFxuICAgICAgICAgICAgICAgIC8vIGZiYS5sb2coJ2NvdW50Oicrd2luZG93LmNvdW50KycsbWF4X2NvdW50OicrbWF4X2NvdW50KTtcXG4gICAgICAgICAgICAgICAgaWYoIHdpbmRvdy5jb3VudCA+PSBtYXhfY291bnQpe1xcbiAgICAgICAgICAgICAgICAgICAgZmJhLmxvZyhcXFwi6LaF6L+HXFxcIittYXhfY291bnQqMjUwK1xcXCLmr6vnp5LmnKrojrflj5bliLDotYTmupDlnLDlnYDvvIzot7PliLDmupDnvZHpobUs5Lul5LiL5piv5Yqg6L296L+H55qE5Zyw5Z2AXFxcIik7XFxuICAgICAgICAgICAgICAgICAgICB0cnkge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZXh0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXFxcImJvZHlcXFwiKS5pbm5lclRleHQ7XFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmJhLmxvZyh0ZXh0KTtcXG4gICAgICAgICAgICAgICAgICAgIH1jYXRjaCAoZSkge2ZiYS5sb2coZS5tZXNzYWdlKX1cXG4gICAgICAgICAgICAgICAgICAgIGZiYS5sb2coSlNPTi5zdHJpbmdpZnkoX2dldFVybHMoKSkpO1xcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZiYS5nZXRWYXIoXFxcIl94NWp4VXJsXFxcIik7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gbXV0ZU1lKGVsZW0pIHtcXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5wYXVzZSgpO1xcbiAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcXG4gICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICB2YXIgdmlkZW9zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcXFwidmlkZW9cXFwiKSwgYXVkaW9zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcXFwiYXVkaW9cXFwiKSwgdjIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxcXCJlbWJlZFxcXCIpLCB2MyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXFxcIiNwbGF5ZXJcXFwiKTtcXG4gICAgICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbCh2aWRlb3MsIGZ1bmN0aW9uICh2aWRlbykge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIG11dGVNZSh2aWRlbyk7XFxuICAgICAgICAgICAgICAgICAgICB9KTtcXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cXG4gICAgICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChhdWRpb3MsIGZ1bmN0aW9uIChhdWRpbykge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIG11dGVNZShhdWRpbyk7XFxuICAgICAgICAgICAgICAgICAgICB9KTtcXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cXG4gICAgICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbCh2MiwgZnVuY3Rpb24gKHYpIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICBtdXRlTWUodik7XFxuICAgICAgICAgICAgICAgICAgICB9KTtcXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cXG4gICAgICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbCh2MywgZnVuY3Rpb24gKHYpIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICBtdXRlTWUodik7XFxuICAgICAgICAgICAgICAgICAgICB9KTtcXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cXG4gICAgICAgICAgICAgICAgdmFyIHVybHMgPSBfZ2V0VXJscygpO1xcbiAgICAgICAgICAgICAgICAvLyBmYmEubG9nKEpTT04uc3RyaW5naWZ5KHVybHMpKTtcXG4gICAgICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaSBpbiB1cmxzKSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHU9dXJsc1tpXTtcXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnl7dT1kZWNvZGVVUklDb21wb25lbnQodSk7fWNhdGNoKGUpe1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1PXVuZXNjYXBlKHUpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKC91cmw9aHR0cC8udGVzdCh1KSl7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUgPSB1LnNwbGl0KFxcXCJ1cmw9XFxcIikuc2xpY2UoLTEpWzBdO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmYmEubG9nKFxcXCJ1cmzliIblibI6XFxcIit1KTtcXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZigvdXJsPVxcXFwvLy50ZXN0KHUpJiYvXFxcXC5tM3U4Ly50ZXN0KHUpKXtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhvc3QgPSB1Lm1hdGNoKC8oLiopXFxcXC9cXFxcLyguKj8pXFxcXC8vKVswXTtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdSA9IGhvc3QrdS5zcGxpdChcXFwidXJsPVxcXCIpLnNsaWNlKC0xKVswXTtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmJhLmxvZyhcXFwidXJs5YiG5YmyOlxcXCIrdSk7XFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoL3ZpZD1odHRwLy50ZXN0KHUpKXtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdSA9IHUuc3BsaXQoXFxcInZpZD1cXFwiKS5zbGljZSgtMSlbMF07XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZiYS5sb2coXFxcInZpZOWIhuWJsjpcXFwiK3UpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKC92aWQ9XFxcXC8vLnRlc3QodSkmJi9cXFxcLm0zdTgvLnRlc3QodSkpe1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaG9zdCA9IHUubWF0Y2goLyguKilcXFxcL1xcXFwvKC4qPylcXFxcLy8pWzBdO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ID0gaG9zdCt1LnNwbGl0KFxcXCJ2aWQ9XFxcIikuc2xpY2UoLTEpWzBdO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYmEubG9nKFxcXCJ2aWTliIblibI6XFxcIit1KTtcXG4gICAgICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZigvXFxcXD8oLiopPWh0dHAvLnRlc3QodSkmJi9cXFxcLm0zdTgvLnRlc3QodSkpe1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ID0gXFxcImh0dHBcXFwiK3Uuc3BsaXQoL1xcXFw/KC4qKT1odHRwLykuc2xpY2UoLTEpWzBdO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYmEubG9nKFxcXCLlhbbku5bliIblibI6XFxcIit1KTtcXG4gICAgICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgICAgICAgICAgLy98aW5kZXhcXFxcLm0zdTgkXFxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZigvXFxcXC8xXFxcXC5tM3U4Ly50ZXN0KHUpKXtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgICAgICAgIHU9dS5yZXBsYWNlKC8mZnJvbT0uKnwmbmV4dD0uKnwmanVtcD0uKi8sJycpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCByZWFsVXJsID0gaXNWaWRlbyh1LHJlY2hhbmdlKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2YocmVhbFVybCk9PSdzdHJpbmcnJiYhaXNCYWRWaWRlbyh1KSl7Ly/ov4fmu6TlkIrmr5vop4bpopFcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy9meV9icmlkZ2VfYXBwLnNldFdlYlVhKFBDX1VBKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodHlwZW9mKGZiYS5nZXRIZWFkZXJVcmwpIT09J3VuZGVmaW5lZCcmJnR5cGVvZihyZWNoYW5nZSkhPT0nZnVuY3Rpb24nKXtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxldCBiYWNrVXJsID0gZmJhLmdldEhlYWRlclVybCh1LnJlcGxhY2UoXFxcIjt7XFxcIixcXFwiI2lzVmlkZW89dHJ1ZSM7e1xcXCIpKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBiYWNrVXJsID0gZmJhLmdldEhlYWRlclVybCh1cmxzW2ldKS5yZXBsYWNlKCc7eycsJyNpZ25vcmVJbWc9dHJ1ZSMjaXNWaWRlbz10cnVlIzt7Jyk7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdTEgPSBiYWNrVXJsLnNwbGl0KCcjaWdub3JlSW1nJylbMF07XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdTIgPSAnI2lnbm9yZUltZycrYmFja1VybC5zcGxpdCgnI2lnbm9yZUltZycpWzFdO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdTEgPSB1MS5yZXBsYWNlKC8mZnJvbT0uKnwmbmV4dD0uKnwmanVtcD0uKi8sJycpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoL3VybD1odHRwLy50ZXN0KHUxKSl7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdTEgPSB1MS5zcGxpdChcXFwidXJsPVxcXCIpLnNsaWNlKC0xKVswXTtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKC91cmw9XFxcXC8vLnRlc3QodTEpJiYvXFxcXC5tM3U4Ly50ZXN0KHUxKSl7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhvc3QxID0gdTEubWF0Y2goLyguKilcXFxcL1xcXFwvKC4qPylcXFxcLy8pWzBdO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUxID0gaG9zdDErdTEuc3BsaXQoXFxcInVybD1cXFwiKS5zbGljZSgtMSlbMF07XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmJhLmxvZyhcXFwidXJs5YiG5YmyOlxcXCIrdSk7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKC92aWQ9aHR0cC8udGVzdCh1MSkpe1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUxID0gdTEuc3BsaXQoXFxcInZpZD1cXFwiKS5zbGljZSgtMSlbMF07XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZigvdmlkPVxcXFwvLy50ZXN0KHUxKSYmL1xcXFwubTN1OC8udGVzdCh1MSkpe1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBob3N0MSA9IHUxLm1hdGNoKC8oLiopXFxcXC9cXFxcLyguKj8pXFxcXC8vKVswXTtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1MSA9IGhvc3QxK3UxLnNwbGl0KFxcXCJ2aWQ9XFxcIikuc2xpY2UoLTEpWzBdO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZigvXFxcXD8oLiopPWh0dHAvLnRlc3QodTEpJiYvXFxcXC5tM3U4Ly50ZXN0KHUxKSl7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdTEgPSBcXFwiaHR0cFxcXCIrdTEuc3BsaXQoL1xcXFw/KC4qKT1odHRwLykuc2xpY2UoLTEpWzBdO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmFja1VybCA9IHUxICsgdTI7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmYmEubG9nKCfov5Tlm57oh6rliqjliqBjb29raWXpk77mjqU6JytiYWNrVXJsKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZiYS5sb2coJ+i/lOWbnumTvuaOpTonK3UrJ+W5tuiHquWKqOWKoOS6hmNvb2tpZSzlhbfkvZNjb29raWXlnKjop4bpopHmkq3mlL7lpITmn6XnnIsnKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBiYWNrVXJsO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYmEubG9nKFxcXCLov5Tlm57ku5PlupN4NeWFjeWXhee7k+aenDpcXFwiK3JlYWxVcmwpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlYWxVcmxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgfWNhdGNoIChlKSB7XFxuICAgICAgICAgICAgICAgICAgICBmYmEubG9nKGUubWVzc2FnZSlcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH1jYXRjaCAoZSkge1xcbiAgICAgICAgICAgICAgICAvLyBmeV9icmlkZ2VfYXBwLmxvZygneDXlpKfojIPlm7TplJnor686JytlLm1lc3NhZ2UpO1xcbiAgICAgICAgICAgICAgICBhbGVydCgneDXlpKfojIPlm7TplJnor686JytlLm1lc3NhZ2UpO1xcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5oql6ZSZ57uT5p2feDUnXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSxpc1ZpZGVvLHJlY2hhbmdlLHBsYXlVcmwsbWF4X2NvdW50LFBDX1VBLGlzQmFkVmlkZW8pO1xcbiAgICAgICAgbGV0IHVzZVdlYj1sc2cuZ2V0SXRlbShcXFwi6YCa5YWNXFxcIixcXFwiWDVcXFwiKT09PVxcXCJXRUJcXFwiO1xcbiAgICAgICAgLy9sb2coXFxcIuS7k+W6k+S9v+eUqHdlYumAmuWFjeabv+S7o3g1OlxcXCIrdXNlV2ViKTtcXG4gICAgICAgIGxldCBydWxlSGVhZD11c2VXZWImJnBhcnNlSW50KGdldEFwcFZlcnNpb24oKSk+PTIzMzk/XFxcIndlYlJ1bGU6Ly9cXFwiOlxcXCJ4NVJ1bGU6Ly9cXFwiO1xcbiAgICAgICAgbGV0IHg1VXJsID0gcnVsZUhlYWQrcGxheVVybCsgJ0AnICtfeDU7XFxuICAgICAgICByZXR1cm4geDVVcmxcXG4gICAgfVxcbn1cXG5cXG5mdW5jdGlvbiB4NVBhcnNlUHJvKHg1bGlzdCx4NVRpbWVvdXQsaXNWaWRlbyl7XFxuICAgIGxldCBicGF0aCA9ICdmaWxlOi8vL3N0b3JhZ2UvZW11bGF0ZWQvMC9BbmRyb2lkL2RhdGEvY29tLmV4YW1wbGUuaGlrZXJ2aWV3L2ZpbGVzL0RvY3VtZW50cy9ydWxlcy9kekhvdXNlL2h0bWwv5rW36ZiU5ZeF5o6i5ZmoLmh0bWwnO1xcbiAgICBsZXQgYmNvZGUgPSBmZXRjaChicGF0aCk7XFxuICAgIGlmKCFiY29kZXx8IS9meV9icmlkZ2VfYXBwLy50ZXN0KGJjb2RlKSl7XFxuICAgICAgICBsb2coJ+acrOWcsOacquWuieijheWXheaOouWZqO+8jOW8gOWni+WuieijhScpO1xcbiAgICAgICAgY29uc3Qge2FwaX0gPSAkLnJlcXVpcmUoXFxcImhpa2VyOi8vcGFnZS91dGlsaXk/cnVsZT3pgZPplb/ku5PlupNQcm9cXFwiKTtcXG4gICAgICAgIGxldCBodG1sID0gZmV0Y2goYXBpLmhvc3QrJy9ydWxlbGlzdC5qc29uP2lkPTIwNTUnKTtcXG4gICAgICAgIGlmKC/mtbfpmJTop4bnlYwvLnRlc3QoaHRtbCkpe1xcbiAgICAgICAgICAgIHdyaXRlRmlsZShicGF0aCxodG1sKTtcXG4gICAgICAgIH1lbHNle1xcbiAgICAgICAgICAgIHdyaXRlRmlsZShicGF0aCxmZXRjaCgnaHR0cHM6Ly9oamRobnguY29kaW5nLm5ldC9wL2hpa2VyL2QvZHIvZ2l0L3Jhdy9tYXN0ZXIvaHRtbC9nZXRWaWRlby5odG1sJykpXFxuICAgICAgICB9XFxuICAgIH1cXG4gICAgeDVUaW1lb3V0ID0gcGFyc2VJbnQoeDVUaW1lb3V0KXx8NTAwMDtcXG4gICAgbGV0IG1heF9jb3VudD0oeDVUaW1lb3V0LzI1MCk7IC8v5qC55o2u6LaF5pe26Ieq5Yqo6K6h566X5LqG5Y+v5omn6KGM55qE5qyh5pWwXFxuICAgIHB1dFZhcigneDVMaXN0JyxKU09OLnN0cmluZ2lmeSh4NWxpc3QpKTtcXG4gICAgbGV0IF94NSA9ICQudG9TdHJpbmcoKGlzVmlkZW8sIG1heF9jb3VudCx4NVRpbWVvdXQsaXNCYWRWaWRlbykgPT4ge1xcbiAgICAgICAgLy/liJ3lp4vljJZmYmHlkoxyZXF1c3RcXG4gICAgICAgIGlmICh0eXBlb2YgKGZiYSkgPT0gJ3VuZGVmaW5lZCcgfHwgIWZiYSkge1xcbiAgICAgICAgICAgIHZhciBmYmEgPSBmeV9icmlkZ2VfYXBwO1xcbiAgICAgICAgfVxcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBpZiAodHlwZW9mIChyZXF1ZXN0KSA9PSAndW5kZWZpbmVkJyB8fCAhcmVxdWVzdCkge1xcbiAgICAgICAgICAgICAgICBldmFsKGZiYS5nZXRJbnRlcm5hbEpzKCkpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcXG4gICAgICAgICAgICBmYmEubG9nKGUubWVzc2FnZSk7XFxuICAgICAgICB9XFxuICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLVxcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBpZiAod2luZG93LmNvdW50ID09IG51bGwpIHtcXG4gICAgICAgICAgICAgICAgd2luZG93LmNvdW50ID0gMTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgbGV0IHRleHQ9Jyc7XFxuICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgdGV4dD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxcXCJib2R5XFxcIikuaW5uZXJUZXh0O1xcbiAgICAgICAgICAgIH1jYXRjaCAoZSkge2ZiYS5sb2coZS5tZXNzYWdlKX1cXG4gICAgICAgICAgICBpZigv6Kem5Y+R5LqG6Ziy55uX6ZO+fOacquaOiOadg3zmjqXlj6PpmLLnm5cvLnRlc3QodGV4dCkmJndpbmRvdy5jb3VudD09MSl7XFxuICAgICAgICAgICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpO1xcbiAgICAgICAgICAgICAgICBmYmEubG9nKFxcXCLmo4DmtYvliLDmnInmjojmnYPvvIzlvIDlp4vov4fmjojmnYNcXFwiKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgd2luZG93LmNvdW50Kys7XFxuICAgICAgICAgICAgLy8gZmJhLmxvZygnY291bnQ6JyArIHdpbmRvdy5jb3VudCArICcsbWF4X2NvdW50OicgKyBtYXhfY291bnQpO1xcbiAgICAgICAgICAgIGlmICh3aW5kb3cuY291bnQgPj0gbWF4X2NvdW50KSB7XFxuICAgICAgICAgICAgICAgIGZiYS5jbGVhclZhcigneDVMaXN0Jyk7XFxuICAgICAgICAgICAgICAgIGZiYS5oaWRlTG9hZGluZygpO1xcbiAgICAgICAgICAgICAgICBsZXQgZm1zZyA9ICfpgZPplb/ku5PlupPpgJrlhY3op6PmnpDlpLHotKUs5Y6f5ZugOui2heaXticreDVUaW1lb3V0Kyfmr6vnp5InO1xcbiAgICAgICAgICAgICAgICBmYmEubG9nKGZtc2cpO1xcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8vJytmbXNnO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1jYXRjaCAoZSkge1xcbiAgICAgICAgICAgIGZiYS5sb2coZS5tZXNzYWdlKTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIGZ1bmN0aW9uIG11dGVNZShlbGVtKSB7XFxuICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgZWxlbS5wYXVzZSgpO1xcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XFxuXFxuICAgICAgICB2YXIgdmlkZW9zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcXFwidmlkZW9cXFwiKSwgYXVkaW9zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcXFwiYXVkaW9cXFwiKSxcXG4gICAgICAgICAgICB2MiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXFxcImVtYmVkXFxcIiksIHYzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcXFwiI3BsYXllclxcXCIpO1xcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwodmlkZW9zLCBmdW5jdGlvbiAodmlkZW8pIHtcXG4gICAgICAgICAgICAgICAgbXV0ZU1lKHZpZGVvKTtcXG4gICAgICAgICAgICB9KTtcXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcXG4gICAgICAgIH1cXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKGF1ZGlvcywgZnVuY3Rpb24gKGF1ZGlvKSB7XFxuICAgICAgICAgICAgICAgIG11dGVNZShhdWRpbyk7XFxuICAgICAgICAgICAgfSk7XFxuICAgICAgICB9IGNhdGNoIChlKSB7XFxuICAgICAgICB9XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbCh2MiwgZnVuY3Rpb24gKHYpIHtcXG4gICAgICAgICAgICAgICAgbXV0ZU1lKHYpO1xcbiAgICAgICAgICAgIH0pO1xcbiAgICAgICAgfSBjYXRjaCAoZSkge1xcbiAgICAgICAgfVxcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwodjMsIGZ1bmN0aW9uICh2KSB7XFxuICAgICAgICAgICAgICAgIG11dGVNZSh2KTtcXG4gICAgICAgICAgICB9KTtcXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcXG4gICAgICAgIH1cXG4gICAgICAgIHZhciB1cmxzID0gX2dldFVybHMoKTtcXG4gICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgZm9yIChsZXQgaSBpbiB1cmxzKSB7XFxuICAgICAgICAgICAgICAgIGxldCB1PXVybHNbaV07XFxuICAgICAgICAgICAgICAgIC8vdT1kZWNvZGVVUklDb21wb25lbnQodSk7XFxuICAgICAgICAgICAgICAgIHRyeXt1PWRlY29kZVVSSUNvbXBvbmVudCh1KTt9Y2F0Y2goZSl7XFxuICAgICAgICAgICAgICAgICAgICB1PXVuZXNjYXBlKHUpO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIGlmKC91cmw9aHR0cC8udGVzdCh1KSl7XFxuICAgICAgICAgICAgICAgICAgICB1ID0gdS5zcGxpdChcXFwidXJsPVxcXCIpLnNsaWNlKC0xKVswXTtcXG4gICAgICAgICAgICAgICAgfWVsc2UgaWYoL3ZpZD1odHRwLy50ZXN0KHUpKXtcXG4gICAgICAgICAgICAgICAgICAgIHUgPSB1LnNwbGl0KFxcXCJ2aWQ9XFxcIikuc2xpY2UoLTEpWzBdO1xcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZigvXFxcXD8oLiopPWh0dHAvLnRlc3QodSkpe1xcbiAgICAgICAgICAgICAgICAgICAgdSA9IFxcXCJodHRwXFxcIit1LnNwbGl0KC9cXFxcPyguKik9aHR0cC8pLnNsaWNlKC0xKVswXTtcXG4gICAgICAgICAgICAgICAgICAgIC8vZmJhLmxvZyhcXFwi5YW25LuW5YiG5YmyOlxcXCIrdSk7XFxuICAgICAgICAgICAgICAgIH1lbHNlIGlmKC9cXFxcLzFcXFxcLm0zdTgkLy50ZXN0KHUpKXtcXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIHU9dS5yZXBsYWNlKC8mZnJvbT0uKnwmbmV4dD0uKnwmanVtcD0uKi8sJycpO1xcbiAgICAgICAgICAgICAgICBsZXQgcmVhbFVybCA9IGlzVmlkZW8odSk7XFxuICAgICAgICAgICAgICAgIGlmIChyZWFsVXJsJiYhaXNCYWRWaWRlbyh1KSkgey8v6L+H5ruk5ZCK5q+bXFxuICAgICAgICAgICAgICAgICAgICBmYmEubG9nKFxcXCLku5PlupN4NeWFjeWXhee7k+aenDpcXFwiICsgcmVhbFVybCk7XFxuICAgICAgICAgICAgICAgICAgICBmYmEuY2xlYXJWYXIoJ3g1TGlzdCcpO1xcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlYWxVcmxcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcXG4gICAgICAgICAgICBmYmEubG9nKGUubWVzc2FnZSlcXG4gICAgICAgIH1cXG4gICAgfSwgaXNWaWRlbywgbWF4X2NvdW50LHg1VGltZW91dCxpc0JhZFZpZGVvKTtcXG4gICAgY29uc3QgbHNnPSQucmVxdWlyZShcXFwiaGlrZXI6Ly9wYWdlL2xvY2FsU3RvcmFnZT9ydWxlPemBk+mVv+S7k+W6k1Byb1xcXCIpO1xcbiAgICBsZXQgdXNlV2ViPWxzZy5nZXRJdGVtKFxcXCLpgJrlhY1cXFwiLFxcXCJYNVxcXCIpPT09XFxcIldFQlxcXCI7XFxuICAgIC8vbG9nKFxcXCLku5PlupPkvb/nlKh3ZWLpgJrlhY3mm7/ku6N4NTpcXFwiK3VzZVdlYik7XFxuICAgIGxldCBydWxlSGVhZD11c2VXZWImJnBhcnNlSW50KGdldEFwcFZlcnNpb24oKSk+PTIzMzk/XFxcIndlYlJ1bGU6Ly9cXFwiOlxcXCJ4NVJ1bGU6Ly9cXFwiO1xcbiAgICByZXR1cm4gcnVsZUhlYWQrYnBhdGgrJ0AnICsgX3g1O1xcbn1cXG5cXG5mdW5jdGlvbiBMYXp5UGFyc2VGYXN0KHBsYXlVcmxMaXN0LGdldFRpbWVvdXQseDVUaW1lb3V0KXtcXG4gICAgY29uc3Qge2lzVmlkZW8sZ2V0SGVhZGVycyx4NVBhcnNlUHJvfSA9ICQucmVxdWlyZSgnaGlrZXI6Ly9wYWdlL2dsb2JhbFBhcnNlP3J1bGU96YGT6ZW/5LuT5bqTUHJvJyk7XFxuICAgIC8vIGxvZygn5byA5aeL5omn6KGMJytwbGF5VXJsTGlzdC5sZW5ndGgrJ+S4quWcsOWdgOeahOaJuemHj+WXheaOojonK3BsYXlVcmxMaXN0KTtcXG4gICAgbG9nKCflvIDlp4vmiafooYwnK3BsYXlVcmxMaXN0Lmxlbmd0aCsn5Liq5Zyw5Z2A55qE5om56YeP5ZeF5o6iJyk7XFxuICAgIGxldCBwbGF5VXJscyA9IHBsYXlVcmxMaXN0Lm1hcCgoaXQpPT57XFxuICAgICAgICByZXR1cm4ge1xcbiAgICAgICAgICAgIHVybDppdC5zcGxpdChcXFwiO1xcXCIpWzBdLFxcbiAgICAgICAgICAgIG9wdGlvbnM6IHtcXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xcbiAgICAgICAgICAgICAgICAgICAgLy9cXFwiVXNlci1BZ2VudFxcXCI6IFxcXCJEYXJ0LzIuMTMgKGRhcnQ6aW8pXFxcIixcXG4gICAgICAgICAgICAgICAgICAgIFxcXCJVc2VyLUFnZW50XFxcIjpcXFwiTW96aWxsYS81LjBcXFwiXFxuICAgICAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IGdldFRpbWVvdXRcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgIH0pO1xcbiAgICBsZXQgYmh0bWwgPSBiYXRjaEZldGNoKHBsYXlVcmxzKTtcXG4gICAgbGV0IHZpZGVvcyA9IFtdO1xcbiAgICBsZXQgeDVsaXN0ID0gW107XFxuICAgIGZvcihsZXQgaSBpbiBiaHRtbCl7XFxuICAgICAgICBsZXQgb3JkZXIgPSBwYXJzZUludChpKSsxO1xcbiAgICAgICAgbGV0IHRuYW1lPW9yZGVyKyflj7fop6PmnpDnvZHlnYA6JztcXG4gICAgICAgIC8vbG9nKHRuYW1lKTtcXG4gICAgICAgIGxldCB0dXJsPXBsYXlVcmxMaXN0W2ldLnNwbGl0KFxcXCI7XFxcIilbMF07XFxuICAgICAgICBsZXQgam5hbWU9cGxheVVybExpc3RbaV0uc3BsaXQoXFxcIjtcXFwiKS5sZW5ndGg+MT9wbGF5VXJsTGlzdFtpXS5zcGxpdChcXFwiO1xcXCIpWzFdOlxcXCJcXFwiO1xcbiAgICAgICAgdG5hbWUrPWpuYW1lO1xcbiAgICAgICAgbGV0IGJhY2tjb2RlID0gYmh0bWxbaV07XFxuICAgICAgICBpZigoIS91cmx8aHR0cC8udGVzdChiYWNrY29kZSkpJiYoIS8jRVhUSU5GLy50ZXN0KGJhY2tjb2RlKSkpe1xcbiAgICAgICAgICAgIGxvZyh0bmFtZSt0dXJsKyfmnInpl67popgs5Y+v6IO95Yqg5a+G5oiW6ICF5oyC5LqGJyk7XFxuICAgICAgICAgICAgY29udGludWU7XFxuICAgICAgICB9ZWxzZSBpZigvI0VYVElORi8udGVzdChiYWNrY29kZSkpe1xcbiAgICAgICAgICAgIC8vbGV0IGxjYWNoZT1cXFwiL3N0b3JhZ2UvZW11bGF0ZWQvMC9BbmRyb2lkL2RhdGEvY29tLmV4YW1wbGUuaGlrZXJ2aWV3L2ZpbGVzL0RvY3VtZW50cy9jYWNoZS92aWRlb19cXFwiK3RuYW1lK1xcXCIubTN1OFxcXCI7XFxuICAgICAgICAgICAgLy93cml0ZUZpbGUobGNhY2hlLGJhY2tjb2RlKTtcXG4gICAgICAgICAgICAvL3ZpZGVvcy5wdXNoKGxjYWNoZSk7XFxuICAgICAgICAgICAgbGV0IHBVcmw9Y2FjaGVNM3U4KHR1cmwpO1xcbiAgICAgICAgICAgIHZpZGVvcy5wdXNoKHBVcmwpO1xcbiAgICAgICAgICAgIGNvbnRpbnVlO1xcbiAgICAgICAgfVxcbiAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICBsZXQgdXJsID0gSlNPTi5wYXJzZShiYWNrY29kZSkudXJsO1xcbiAgICAgICAgICAgIGlmKC9eaHR0cC8udGVzdCh1cmwpKXtcXG4gICAgICAgICAgICAgICAgbGV0IHJlYWxWaWRlbyA9IGlzVmlkZW8odXJsKTtcXG4gICAgICAgICAgICAgICAgaWYodHlwZW9mKHJlYWxWaWRlbyk9PSdzdHJpbmcnKXtcXG4gICAgICAgICAgICAgICAgICAgIGxvZyh0bmFtZSsn5bey6Kej5p6Q5Ye66KeG6aKROicrcmVhbFZpZGVvKTtcXG4gICAgICAgICAgICAgICAgICAgIGlmKGpuYW1lKXtcXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFsVmlkZW8rPVxcXCLimIVcXFwiK2puYW1lXFxuICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgICAgICB2aWRlb3MucHVzaChyZWFsVmlkZW8pO1xcbiAgICAgICAgICAgICAgICB9ZWxzZXtcXG4gICAgICAgICAgICAgICAgICAgIGxvZyh0bmFtZSsn6Kej5p6Q5Ye65LiN55+l6YGT5LuA5LmI5Lic6KW/OicrdXJsKTtcXG4gICAgICAgICAgICAgICAgICAgIHVybCs9XFxcIiNpc1ZpZGVvPXRydWUjXFxcIjtcXG4gICAgICAgICAgICAgICAgICAgIGlmKGpuYW1lKXtcXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmwrPVxcXCLimIVcXFwiK2puYW1lXFxuICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgICAgICB2aWRlb3MucHVzaCh1cmwpO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfWVsc2V7XFxuICAgICAgICAgICAgICAgIGxvZyh0bmFtZSsn5Li6anNvbuaOpeWPo+S4lOaXoOi/lOWbnuinhumikeWcsOWdgOaVsOaNrjonK3BsYXlVcmxMaXN0W2ldKydcXFxcbicrYmFja2NvZGUpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1jYXRjaCAoZSkge1xcbiAgICAgICAgICAgIGxvZyh0bmFtZSsn5Li6eDXmjqXlj6Ms5Yqg5YWleDXll4XmjqLliJfooagnKTtcXG4gICAgICAgICAgICB4NWxpc3QucHVzaChwbGF5VXJsTGlzdFtpXSk7XFxuICAgICAgICB9XFxuICAgIH1cXG4gICAgLy8gbG9nKHZpZGVvcyk7XFxuICAgIGlmKHZpZGVvcy5sZW5ndGg+MCl7XFxuICAgICAgICBpZihnZXRWYXIoJ2RwLmNhY2hlVmlkZW8nLCd0cnVlJyk9PT0ndHJ1ZScmJnBhcnNlSW50KGdldEFwcFZlcnNpb24oKSk+PTIyNTUpXFxuICAgICAgICB7XFxuICAgICAgICAgICAgbG9nKFxcXCLlsIrmlaznmoTprZTmlq3nlKjmiLfvvIzop4bpopHnvJPlrZjlt7LlkK/nlKjvvIzor7flsL3mg4Xkuqvlj5fnnIvliafml7blhYlcXFwiKTtcXG4gICAgICAgICAgICBsZXQgdmlkZW9zQ2FjaGU9dmlkZW9zLm1hcCgoaXQpPT57XFxuICAgICAgICAgICAgICAgIGxldCBoZWFkZXJzPXt9O1xcbiAgICAgICAgICAgICAgICBpZihpdC5zcGxpdChcXFwiO1xcXCIpLmxlbmd0aD4xKXtcXG4gICAgICAgICAgICAgICAgICAgIGxldCBoZWFkID0gaXQuc3BsaXQoJzsnKVsxXTtcXG4gICAgICAgICAgICAgICAgICAgIGlmKC9ALy50ZXN0KGhlYWQpJiYve3x9Ly50ZXN0KGhlYWQpKXtcXG4vL2hlYWQgPSBoZWFkLnJlcGxhY2UoL3t8fS9nLCcnKTtcXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkID0gaGVhZC5zcGxpdChcXFwie1xcXCIpWzFdLnNwbGl0KFxcXCJ9XFxcIilbMF07XFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZCA9IGhlYWQuc3BsaXQoJyYmJyk7XFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpIGluIGhlYWQpe1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQga2V5ID0gaGVhZFtpXS5zcGxpdCgnQCcpWzBdO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdmFsdWUgPWhlYWRbaV0uc3BsaXQoJ0AnKVsxXS5yZXBsYWNlKC87LywnOycpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzW2tleV0gPSB2YWx1ZTtcXG4gICAgICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcXG4gICAgICAgICAgICAgICAgICAgIHVybDppdC5zcGxpdChcXFwiO1xcXCIpWzBdLnNwbGl0KFxcXCLimIVcXFwiKVswXSxcXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6e1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6aGVhZGVyc1xcbiAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfSk7XFxuICAgICAgICAgICAgdmFyIGRhdGE9YmF0Y2hDYWNoZU0zdTgodmlkZW9zQ2FjaGUpO1xcbiAgICAgICAgICAgIGRhdGE9ZGF0YS5tYXAoKGl0LGlkKT0+e1xcbiAgICAgICAgICAgICAgICBsZXQgZXh0cmE9XFxcIlxcXCI7XFxuICAgICAgICAgICAgICAgIGlmKHZpZGVvc1tpZF0uc3BsaXQoXFxcIjtcXFwiKS5sZW5ndGg+MSl7XFxuICAgICAgICAgICAgICAgICAgICBleHRyYT1cXFwiO1xcXCIrdmlkZW9zW2lkXS5zcGxpdChcXFwiO1xcXCIpWzFdO1xcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZih2aWRlb3NbaWRdLnNwbGl0KFxcXCLimIVcXFwiKS5sZW5ndGg+MSl7XFxuICAgICAgICAgICAgICAgICAgICBleHRyYT1cXFwi4piFXFxcIit2aWRlb3NbaWRdLnNwbGl0KFxcXCLimIVcXFwiKVsxXTtcXG4gICAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgICAgICBpZihpdCtcXFwiXFxcIiE9XFxcIm51bGxcXFwiKXtcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpdCtleHRyYVxcbiAgICAgICAgICAgICAgICB9ZWxzZXtcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2aWRlb3NbaWRdXFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9KTtcXG4gICAgICAgICAgICAvL2xvZyhkYXRhKTtcXG4gICAgICAgICAgICByZXR1cm4gZGF0YVxcbiAgICAgICAgICAgIC8vcmV0dXJuIHZpZGVvc1xcbiAgICAgICAgfWVsc2V7XFxuICAgICAgICAgICAgcmV0dXJuIHZpZGVvc1xcbiAgICAgICAgfVxcbiAgICB9XFxuICAgIGxvZygn5YWx5pyJJyt4NWxpc3QubGVuZ3RoKyfkuKp4NeWcsOWdgOi/m+ihjOi9rua1geWXheaOoicpO1xcbiAgICAvL+ayoeacieeahOivneWwseW8gOWni+S+neasoXg15ZeF5o6iXFxuICAgIHNob3dMb2FkaW5nKCfll4XmjqLkuK3vvIzoi6XlpLHotKXlsLHliIfmjaJ3ZWLll4XmjqIuLi4nKTtcXG4gICAgcmV0dXJuIHg1UGFyc2VQcm8oeDVsaXN0LHg1VGltZW91dCxpc1ZpZGVvKTtcXG59XFxudmFyIGxhenk9JCgnJykubGF6eVJ1bGUoKCk9PntcXG4gICAgdHJ5e1xcbiAgICAgICAgcmVhbFVybD1pbnB1dDtcXG4gICAgICAgIGV2YWwoXFxcInZhciBjb25maWdfZHAgPVxcXCIgKyBmZXRjaChcXFwiaGlrZXI6Ly9maWxlcy9jYWNoZS9NeVBhcnNlU2V0Lmpzb25cXFwiKSk7XFxuICAgICAgICBldmFsKGZldGNoKGNvbmZpZ19kcC5jaikpO1xcbiAgICAgICAgbG9nKGlucHV0KyctPuato+WcqOaWreaPkumtlOaUueeJiOino+aekC4uLicpO1xcbiAgICAgICAgLy8g5Yqg5YWl6LaF5pe26K6+572u77yM5bu66K6u5Zyo6aaW6aG16K6+572uXFxuICAgICAgICByZXR1cm4gYXl0bVBhcnNlKHJlYWxVcmwpXFxuICAgIH1jYXRjaChlKXtcXG4gICAgICAgIHJldHVybiBpbnB1dFxcbiAgICB9XFxufSk7XFxuJC5leHBvcnRzLmlzUGljPWlzUGljO1xcbiQuZXhwb3J0cy5pc1ZpZGVvPWlzVmlkZW87XFxuJC5leHBvcnRzLmlzQmFkVmlkZW89aXNCYWRWaWRlbztcXG4kLmV4cG9ydHMuY29tUGFyc2U9Y29tUGFyc2U7XFxuJC5leHBvcnRzLmdldEhlYWRlcnM9Z2V0SGVhZGVycztcXG4kLmV4cG9ydHMubGF6eVBhcnNlPWxhenlQYXJzZTtcXG4kLmV4cG9ydHMueDVQYXJzZVBybz14NVBhcnNlUHJvO1xcbiQuZXhwb3J0cy5MYXp5UGFyc2VGYXN0PUxhenlQYXJzZUZhc3Q7XFxuJC5leHBvcnRzLmxhenk9bGF6eTtcIn0se1wibmFtZVwiOlwi5Lu75Yqh5LuT5bqT5o6l5Y+jXCIsXCJwYXRoXCI6XCJ0YXNrQ2FsbFwiLFwicnVsZVwiOlwianM6XFxuU3RyaW5nLnByb3RvdHlwZS5zdHJpcCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMucmVwbGFjZSgvKF5cXFxccyopfChcXFxccyokKS9nLCBcXFwiXFxcIik7IH07XFxuZnVuY3Rpb24gdGFza19yZXEodGFza19hcGksdGFzaykgeyAvLyDpgJrnlKjlj5HpgIHku5PlupNwb3N06LCD55So5Lu75Yqh6K+35rGCXFxuICAgIGNvbnN0IHtnZXRGaWxlfSA9ICQucmVxdWlyZShcXFwiaGlrZXI6Ly9wYWdlL3V0aWxpeT9ydWxlPemBk+mVv+S7k+W6k1Byb1xcXCIpO1xcbiAgICBsZXQgaG91c2VGaWxlID0gZ2V0RmlsZXx8ZmFsc2U7XFxuICAgIGlmKCFob3VzZUZpbGUpe1xcbiAgICAgICAgc2V0SXRlbSgnaXNfaG91c2VfdmlwJywgJ2ZhbHNlJyk7XFxuICAgIH1cXG4gICAgbGV0IGhvdXNlX2RhdGEgPSBob3VzZUZpbGUoKTtcXG4gICAgbGV0IHJlc3VsdCA9IHJlcXVlc3QodGFza19hcGksIHtcXG4gICAgICAgIGhlYWRlcnM6IHtcXG4gICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXFxuICAgICAgICB9LFxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xcbiAgICAgICAgICAgIFxcXCJwYXJhbXNcXFwiOiB7XFxuICAgICAgICAgICAgICAgIFxcXCJkYXRhXFxcIjoge1xcbiAgICAgICAgICAgICAgICAgICAgXFxcInR5cGVcXFwiOiB0YXNrLm1vZGV8fCdydW4nLFxcbiAgICAgICAgICAgICAgICAgICAgXFxcImZ1bmNcXFwiOiB0YXNrLmZ1bmN8fCcnLFxcbiAgICAgICAgICAgICAgICAgICAgXFxcInBhcmFtc1xcXCI6IHRhc2sucGFyYW1zfHxbXVxcbiAgICAgICAgICAgICAgICB9LFxcbiAgICAgICAgICAgICAgICBcXFwiYXV0aFxcXCI6IHtcXG4gICAgICAgICAgICAgICAgICAgIFxcXCJuYW1lXFxcIjogaG91c2VfZGF0YS51c2VybmFtZXx8XFxcIlxcXCIsXFxuICAgICAgICAgICAgICAgICAgICBcXFwicGFzc3dvcmRcXFwiOiBob3VzZV9kYXRhLnBhc3N3b3JkfHxcXFwiXFxcIlxcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSksXFxuICAgICAgICBtZXRob2Q6ICdQT1NUJ1xcbiAgICB9KTtcXG4gICAgcmV0dXJuIEpTT04ucGFyc2UocmVzdWx0KS5yZXN1bHQ7XFxufVxcblxcbmZ1bmN0aW9uIHRhc2tfdXBsb2FkKHRhc2speyAvLyDpgJrnlKjku7vliqHlj5HluIPmlrDlop7lj4rkv67mlLnlip/og71cXG4gICAgY29uc3Qge2FwaSxnZXRGaWxlfSA9ICQucmVxdWlyZShcXFwiaGlrZXI6Ly9wYWdlL3V0aWxpeT9ydWxlPemBk+mVv+S7k+W6k1Byb1xcXCIpO1xcbiAgICBsZXQgaG91c2VGaWxlID0gZ2V0RmlsZXx8ZmFsc2U7XFxuICAgIGlmKCFob3VzZUZpbGUpe1xcbiAgICAgICAgc2V0SXRlbSgnaXNfaG91c2VfdmlwJywgJ2ZhbHNlJyk7XFxuICAgIH1cXG4gICAgbGV0IGFwaV91cmwgPSBhcGkuaG9zdCsnL2hpa2VydWxlL3Rhc2svYWRkJztcXG4gICAgbGV0IGhvdXNlX2RhdGEgPSBob3VzZUZpbGUoKTtcXG4gICAgbGV0IHJlc3VsdCA9IHJlcXVlc3QoYXBpX3VybCwge1xcbiAgICAgICAgaGVhZGVyczoge1xcbiAgICAgICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcXG4gICAgICAgIH0sXFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XFxuICAgICAgICAgICAgXFxcInBhcmFtc1xcXCI6IHtcXG4gICAgICAgICAgICAgICAgXFxcImRhdGFcXFwiOiB7XFxuICAgICAgICAgICAgICAgICAgICBcXFwibmFtZVxcXCI6IHRhc2submFtZSxcXG4gICAgICAgICAgICAgICAgICAgIFxcXCJweWNvZGVcXFwiOiB0YXNrLnB5Y29kZSxcXG4gICAgICAgICAgICAgICAgICAgIFxcXCJub3RlXFxcIjogdGFzay5ub3RlLFxcbiAgICAgICAgICAgICAgICAgICAgXFxcInRlc3RfY29kZVxcXCI6IHRhc2sudGVzdF9jb2RlLFxcbiAgICAgICAgICAgICAgICB9LFxcbiAgICAgICAgICAgICAgICBcXFwiYXV0aFxcXCI6IHtcXG4gICAgICAgICAgICAgICAgICAgIFxcXCJuYW1lXFxcIjogaG91c2VfZGF0YS51c2VybmFtZXx8XFxcIlxcXCIsXFxuICAgICAgICAgICAgICAgICAgICBcXFwicGFzc3dvcmRcXFwiOiBob3VzZV9kYXRhLnBhc3N3b3JkfHxcXFwiXFxcIlxcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSksXFxuICAgICAgICBtZXRob2Q6ICdQT1NUJ1xcbiAgICB9KTtcXG4gICAgcmV0dXJuIEpTT04ucGFyc2UocmVzdWx0KS5yZXN1bHQ7XFxufVxcblxcbmZ1bmN0aW9uIHRhc2tfY2FsbChpZCxmdW5jLHBhcmFtcyl7XFxuICAgIGNvbnN0IHthcGl9ID0gJC5yZXF1aXJlKFxcXCJoaWtlcjovL3BhZ2UvdXRpbGl5P3J1bGU96YGT6ZW/5LuT5bqTUHJvXFxcIik7XFxuICAgIGxldCB0YXNrX2FwaSA9IGFwaS5ob3N0KycvaGlrZXJ1bGUvdGFzay9ydW4vJytpZDtcXG4gICAgbGV0IHRhc2sgPSB7XFxuICAgICAgICBtb2RlOidjYWxsJyxcXG4gICAgICAgIGZ1bmM6ZnVuYyxcXG4gICAgICAgIHBhcmFtczpwYXJhbXN8fFtdXFxuICAgIH07XFxuICAgIHJldHVybiB0YXNrX3JlcSh0YXNrX2FwaSx0YXNrKTtcXG59XFxuXFxuZnVuY3Rpb24gdGFza19yZW5hbWUoaWQsbmV3X3Rhc2tfbmFtZSl7XFxuICAgIGNvbnN0IHthcGksZ2V0RmlsZX0gPSAkLnJlcXVpcmUoXFxcImhpa2VyOi8vcGFnZS91dGlsaXk/cnVsZT3pgZPplb/ku5PlupNQcm9cXFwiKTtcXG4gICAgbGV0IGhvdXNlRmlsZSA9IGdldEZpbGV8fGZhbHNlO1xcbiAgICBpZighaG91c2VGaWxlKXtcXG4gICAgICAgIHNldEl0ZW0oJ2lzX2hvdXNlX3ZpcCcsICdmYWxzZScpO1xcbiAgICB9XFxuICAgIGxldCBob3VzZV9kYXRhID0gaG91c2VGaWxlKCk7XFxuICAgIGxldCB0YXNrX2FwaSA9IGFwaS5ob3N0KycvaGlrZXJ1bGUvdGFzay9yZW5hbWUvJytpZDtcXG4gICAgdGFza19hcGkgPSB0YXNrX2FwaSsnP25hbWU9Jytob3VzZV9kYXRhLnVzZXJuYW1lKycmcGFzc3dvcmQ9Jytob3VzZV9kYXRhLnBhc3N3b3JkKycmdGFza19uYW1lPScrbmV3X3Rhc2tfbmFtZTtcXG4gICAgdHJ5IHtcXG4gICAgICAgIGxldCByZXN1bHQgPSBKU09OLnBhcnNlKGZldGNoKHRhc2tfYXBpLHt9KSk7XFxuICAgICAgICBpZihyZXN1bHQuc3RhdHVzPT0wKXtcXG4gICAgICAgICAgICByZXR1cm4gIHJlc3VsdC5kZXRhaWxcXG4gICAgICAgIH1lbHNle1xcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQucmVzdWx0KycnK3Jlc3VsdC5kZXRhaWxcXG4gICAgICAgIH1cXG4gICAgfWNhdGNoIChlKSB7XFxuICAgICAgICBsb2coZS5tZXNzYWdlKTtcXG4gICAgICAgIHJldHVybiAnJytlLm1lc3NhZ2VcXG4gICAgfVxcbn1cXG5cXG5mdW5jdGlvbiB0YXNrX2NoYW5nZV9zdGF0ZShpZCl7XFxuICAgIGNvbnN0IHthcGksZ2V0RmlsZX0gPSAkLnJlcXVpcmUoXFxcImhpa2VyOi8vcGFnZS91dGlsaXk/cnVsZT3pgZPplb/ku5PlupNQcm9cXFwiKTtcXG4gICAgbGV0IGhvdXNlRmlsZSA9IGdldEZpbGV8fGZhbHNlO1xcbiAgICBpZighaG91c2VGaWxlKXtcXG4gICAgICAgIHNldEl0ZW0oJ2lzX2hvdXNlX3ZpcCcsICdmYWxzZScpO1xcbiAgICB9XFxuICAgIGxldCBob3VzZV9kYXRhID0gaG91c2VGaWxlKCk7XFxuICAgIGxldCB0YXNrX2FwaSA9IGFwaS5ob3N0KycvaGlrZXJ1bGUvdGFzay9jaGFuZ2Vfc3RhdGUvJytpZDtcXG4gICAgdGFza19hcGkgPSB0YXNrX2FwaSsnP25hbWU9Jytob3VzZV9kYXRhLnVzZXJuYW1lKycmcGFzc3dvcmQ9Jytob3VzZV9kYXRhLnBhc3N3b3JkO1xcbiAgICB0cnkge1xcbiAgICAgICAgbGV0IHJlc3VsdCA9IEpTT04ucGFyc2UoZmV0Y2godGFza19hcGkse30pKTtcXG4gICAgICAgIGlmKHJlc3VsdC5zdGF0dXM9PTApe1xcbiAgICAgICAgICAgIHJldHVybiAgcmVzdWx0LmRldGFpbFxcbiAgICAgICAgfWVsc2V7XFxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5yZXN1bHQrJycrcmVzdWx0LmRldGFpbFxcbiAgICAgICAgfVxcbiAgICB9Y2F0Y2ggKGUpIHtcXG4gICAgICAgIGxvZyhlLm1lc3NhZ2UpO1xcbiAgICAgICAgcmV0dXJuICcnK2UubWVzc2FnZVxcbiAgICB9XFxufVxcblxcbmZ1bmN0aW9uIHRhc2tfcnVuKGlkKXtcXG4gICAgY29uc3Qge2FwaX0gPSAkLnJlcXVpcmUoXFxcImhpa2VyOi8vcGFnZS91dGlsaXk/cnVsZT3pgZPplb/ku5PlupNQcm9cXFwiKTtcXG4gICAgbGV0IHRhc2tfYXBpID0gYXBpLmhvc3QrJy9oaWtlcnVsZS90YXNrL3J1bi8nK2lkO1xcbiAgICBsZXQgdGFzayA9IHt9O1xcbiAgICByZXR1cm4gdGFza19yZXEodGFza19hcGksdGFzayk7XFxufVxcblxcbiQuZXhwb3J0cy50YXNrQ2FsbCA9IHRhc2tfY2FsbDtcXG4kLmV4cG9ydHMudGFza1J1biA9IHRhc2tfcnVuO1xcbiQuZXhwb3J0cy50YXNrUmVxID0gdGFza19yZXE7XFxuJC5leHBvcnRzLnRhc2tVcGxvYWQgPSB0YXNrX3VwbG9hZDtcXG4kLmV4cG9ydHMudGFza1JlbmFtZSA9IHRhc2tfcmVuYW1lO1xcbiQuZXhwb3J0cy50YXNrQ2hhbmdlU3RhdGUgPSB0YXNrX2NoYW5nZV9zdGF0ZTtcIn0se1wiY29sX3R5cGVcIjpcIm1vdmllXzNcIixcIm5hbWVcIjpcIuWFqOWxgOWCqOWtmFwiLFwicGF0aFwiOlwibG9jYWxTdG9yYWdlXCIsXCJydWxlXCI6XCJsZXQgbG9jYWxTdG9yYWdlID0gKGZ1bmN0aW9uKCkge1xcbiAgICBldmFsUHJpdmF0ZUpTKFxcXCJqd1VLd05UaVBHY1dTTENYQjVYdEFYd2I2TFFiVnlIRCswWEo3bDA3Y2UwPVxcXCIpO1xcbiAgICAvL3BhdGh0bz11bmRlZmluZWQ7XFxuICAgIGV2YWxQcml2YXRlSlMoXFxcIjRDMFl4UlluR0NZa2dGUlh0cGwvQ3o1ekw1aGg0akNDenRiK25nK1dva3ltUThvVXJ6UzlsQTh5eEM1YUZhZG5TRW15SEtNYnJhZmxScVhDbk5SSERsazZ1ZTh5SFRPMTZsQlBycHdnczVqZjBQaHJBdG9USklFMFpIbjltS2FRNEpkMmVycWI0STU1YmVXSWV1Z0tzRHMyMTFTeklOUTV5SmdTaDFkVnVOenp4UkdKZzQwRm1UdVZtWFZmTjF4ZzJXSUdIQkVta1ZuR3htT1JoUE9OQStRNVZ3UG1kcDQxL2h6ZTNlSXNVdmhvN1ZDQmdLNHJhSm1QYWxJUkJCVmxDVmduOEZrV21mS3FabytWVytvQmNIN2hyY3JzU2xDU2pCYW5nVC83c3lXSHhLWWhlaFUwa2FNWWpuV0ZnMUVtMGNtTlJ0b21Dc0h6MUI4cTMyT2VRSG9hd2RXeHpLT2FNSE9YREJqUm9qQThFL2FoMFdST3l6aXFSU3hsL204ZGhCZDBmOXBoWXovNVNVL3pKRDUyWC85RUMxNldWVmRwU1czM2FrUkhSc2xQcFJsVFdGOStBeVJtUncwZVpPRXMxbzlRTVBBUVVmQXhiWXlGSGd6dHcvTzJkSlJwSHlUbWlCaWFhcVRjaXZ4NnY5enl2QnowNHdJMUFhU0N1aStkVHVVM2x1NXhkRXQzQWp0NlozaURYT1ZjRVAwRURGNzQ3NFBRVTZKRVp1d2U5N1NjaDRiaTF3QjFYSFpTZkl0ZGxZWW9HZWQzTExwYm1EQUlSY2l2MHJBb3A4Vm1RY1R0MkszTGZoMVJEWVkwWXR2UmNINDlPdnBEUkgveGE1RmM4TVkzRHJGb0E3cWNvRjRlQ2dpVkJmQmdKUjY4K0xwUUs3dE9rZzhrOWVjKzNOU3hKVGhjbDhkNnlOd3hUOVRrMTd6ZUpnZDZNb3lZWklwV1FMbEY2WXZiT2RFV2hqbW5BNzh3QzBoV3orWG02aFFNU3F0RncrYmhGZjdjQkdVM2FhdFBGbWRDWTJFZFhmaDBJWVc4NXdkT3lNZml3VzcvdlZUcDlpRTAwSTNGMDl3R0hrR0toVmJMdWVBa1llN3p6SlhSN3RoYUZvcjZIN3FMbUpqYlJRazlldk50QlFYTlI3RGlmaVh1UWYybHQ3bk9IODBTV20xZkRISHpqbVBzTklwczJUWEdUK2l3VlY2OWcvdFdpcFZRNkQ4QlR4K2NDUXA0N25tVElyWStxTjRraDJGWWg1TGx3WGRnSXl5MVZJdUMzeDA1M2V3QUlJVW1sWTluaUVwcVl0KzFmRlBYT0N0Q0d0WWJTZDM3dlZSMUVPajJrNUd1Lys5SldnMnF2d2wxdHdlbGcxSjB0eGFySWk0a1RiVHJ2cm5GTE45MnBvZnBaUVVmb1dvNGNlN0hXTmRidTRKS0VyYUxRVWZkZkdFUGQxVEl1ZnV1UlZhMzllcTlHWnlTRHVCTDYwTVBkbGR4S3cxem8rZkI1WlkrWU1qM0xMMmdHdERiczk4K0FzUlY5TEpXbVVtc3g5MWhtSnRGVU1XRDN4bmo4SE1aV3MwTlBsQ0ZVcjk0ODVLcVRwbzVrUnpHZkYray9ObDJKenJ2NWN2a3F0VW5MZ0twWEVPai9zZS9vRHpPQXJRS0k1VE5VYnZZd2N3Y2Rqak1TZmpLNjhLcndocytuNlNtV1o0WmRnUkhnQUs1TW9GaTNYbUxWNDdQM3ZTUld1NXp5RXNNazR5M3V1Q0ZpdVJQUmx1NFE1cEp2dU9lbTdIN1VMaUloQ2VtdjVEZ2tHdERMMWNHTDRFUWhZUkI2SVN6VnZzYjJFYVA5d1FFNkRWUm5NN08rcG5TemV0Nmx6cDNwRmRHbmJveDFMUmZDNjB1dFhaK0NqSW00aUVNbXRiQjJONXpEU2hHYmVNM1hVYkpRZENCaXM4WElyaGgyYmlCNWhCQ1Z3bjNZM2V0dDdHRFBWdG9pMUdSanorSmJnTStZUjkyOEtiZFdTNXRGYU1NM0tqM1h2Nm90SXh6TUJuREM5dVczZCtJWHg2dkxQSjBKUnVoM3lQN3BUbGE2YzNpUjRwOW5XWURxSitaU21wckhGbkRPenNMV21GamFwamUvTXF3TUpkNlRrM25BV3dpY01PUHVZcE15cUlGMDRmbDRtcWd0c0hMU01XUlJOSFBaakVUUTlnUm1lRFllNmFSdGxXMDJxTDJvbERFTnFMUU10QWRvaXJOV1JjUDlWTDNUZDhIYVVPNmZTbEdOYWJNYWtKRC8wMFhDaE9TVU9JUCs3Zk03VjAvbDFiTFdQdEV6MWk3THlnVFY3cGRHb0RudHFTQ0VuSnJCeWhCQXpMUmc1UUljOTQzOEloS215Zm4wLzNhd29EMUlyNzgwZXlwL1hjSTZ4TmN3NlR2L0VUZkhnMGU3aVlDMFVZY0pJRTVRVVh2MHMrWW9HSUVxNUdJekt1YjhITmpTVFVwc3Zua1Z4K2RiZTJqUm4zWWI5VzdKQ1o1WVM2RjVNeVVWc3BqTUQ3TlljK0RXalVMMmIyc1Z5QWZlWXBDOFVoYWg5dHVtYXZiQnY3YTNhOWtnRmJxNThsckh4elk3aUpRVmlnenEzZTFhMkJTYjBQY1cxYUo4QkQ3TmtOcGhLWWF5VHh5a2d3aWxFUkw4anFxQkVuaUhWZEJ4REpZTGIrWHczYWxMbWx0dVRFVjZLR3RCbnRCWCt5ejM2UlBETXlHSUtlKzNmemN4Zm5DRG4yME1vZFZWa1ZOb3pQcU1YWjBHNUw0YUxUQVFha1lLVWpzVk1RakFoUWtUbEhCZU8vYUxQeDlzeGwrK2oxWjVyTGdHMTJUTjRYSjFlaWN2dzRBVkU1OExvcmFxMFFpRTBjUzdQSDFwYnJaV3JmdDdMWUdpeUJTaG9yNyswamlvVWgxcGRXcTJxTVlMcWVNRWV1Q1JPUXQ1N21Gck9qeVBINDlxcDk3Y1dPcmdlZzJXeWZXU0RHUVBqZTUrUDB5UW9DcEQvRDNSQU11V21iOXdsQnRjcTJqOFdKUHQ5MUUza0thd3VRSXl2ZDJyMlVqeDQrSFROdFZLYjlrTUxPTzg1STY1Yk5HQkgrNGlyU3k1Z1FZbEUyNkEyY1NHSWNMS1FSbHZKb01uYTdMLzl3eXJ5NEh6T3J6a3JBdkxkZ3NTTmxZanBIUUVSaU9JODBzSjVqTkNDbmZ3MDEzRitBK3NBZkxteVMvQkRMTlExcWFRM3A2aDgvSnFBZmhYNU9HSGdTaVJWT0NFanVhREIvTXdaTkN1M1FMOWVoaG9Bajd1T2Y4UGtyM21JamJoaDlIaWpzangxOTErMGUySlFyRmEwMUFWSktFVnR1UHRJYzJoLzFwUEtNdnllbnhqVE8yT3hQbmpqdCs4NG5JS0toeERKL2doUHQ3aXY4UG1USjBsS0t5UFJzc2w4Zi9RZEhkeHVwYjZqVHNJNlVLbXo5WTQ2UE1CdUQ2UDN3aDhxcDM2TzZvaWJORGlRZDFzRTEwdkpoOXoxRnlzS0llOEVxTXBuTmRFbUcyVGZFQnhScG1RcmhLRXFlZTBwNithNnNRbzhjVmxSSmtLUUFZS2F3Y2FORVM1WGM2ZFFZNW5xZWlxOHNVaXpmMXNwZkhlSGVsRHUxTTZCUlh1Q2pGYWZYaHo4aTNsUFdnWXFWcGZ4MTNpZ1ZDUmY0N1VINjUyeUxuc21lcENCV2d5QlRXQWNPeUYxUXg4WUd0Wm5vYjFUTis2eEV3enBjV1Z5N1FPOVA5MnNLQTlTSysvTkhzcWYxM0NPdDBKSEN0VFYxT2xUUVcrSkFLeXhlMUhsNytzOTV6M0tDZ0ZLUVMrM0FzMUpWN05hK2crTENSMklldnU4ZDVEMEw3R3dvRHJlVXY0Mzc0TFJhRmtOc0hPcVdiVTluaFFqZE1WcjdhL2k4Ty80aGJwdGFTenFxa2dZRmlORlUvb21XNXF3SXo3c3A0bnNjSVRSRTNndWE2YnprbE1aOEVDbjFpcUFXdDBhNmdla2k1RGFMOHFZYXBUQ0NoamxXc0V4cUZ1eGlXUDM1VFVDZGRFZDhBQ2JNR3MrZ1FGeURPb3pmQkRHMTdkWk8wbUN3VytQekNMMmpiSUNETmFpNS9qbTFRcjZNTDU2anpVYUlEejBHTFBUU2FleDFVRER3a1E5bzdtWFdDMFI3alduemJrSFJXY29tVmJXbUdxTDFyamRvYWNzL1I5dWpxVXVCQTZBNVZML3FrUTF4SEw0MkVYb29wckM4d3JyZlI2OHpNTUZ4T3dVN0NZSEo3YmhHL1E0ck5zWERCY01vMUFkaXE5TFhiWG0vUUpqMHUvamdaR3NzejBubktLVUZKY3h6dUFOSzk2eld3ZjFEWGFzVWNPb0V1RWF0bTFybVA1d3JCSm1XL1p3VDZhQkJpUjJPU0oweHI4dFE2T2JtZEtqeWIrMWVFWGIxNDM3UjJJZGhEVWRrNVBSenRIMllGdDJwbXVMNC9MbUlMRkF2UGRpeU10REhOaitLaDRzVjRNbFhiV1Byckk5N1lCT0ZwRmxYK2duZXdLS2ZGWmtIRTdkaXR5MzRkVVEyR25lNnNBR3gxenh5alp2NUtCTTI2bFJIRjQ1WHFGTkoxUlEzaE15bUpIc3lZTnNNTzQxQldyR3YxOVBBNDY4ZWN3OUhjUk4wd2hqVVRnbnM4WlZhQzRoaUpzZ1kwN2FBRUJIbTkwL3VoaGpPL1dtYjd3dVZhZGhsOVJuSGVRanB4NGd3Q3JMejVpNXM1SXQxc0J3ZkRiMEZlK1BDcExrYyt3SUlOSzJZODZrUHRoUjZnSndXNzV6dW9ONUMwQ0FpRHdmVTczdmFBWmFoemY0VkxObE0wVTA0T3RIWUJpMTNZZ1BvTm1HSFJlbFpWRXkyS3VLVlpnaEQxNHZTbFkrSnJNQkRkbTJ5MnRoRlYrQnJpaEw3K2ZRNXdjWW54R2VsYXdEdW9TUjUrYkREa3I2Ukw0MEw0eHlmQWh4bHJPbjB1QTI4Z2hHZVdndWFXS0V2NW5CcnJ2ZXUxdWVWeTFNdkdVWUJZK0lsRXI4TmRETlJkbUV6WHQzOWtHbGQ4NnhPZkFIL3hMMVZtdWdhWE9HYVBCMnFjN1dEUmtXNms1RjZuM1BrSXpkUFh5T05LcDFEa09nM29jU01aTVRzNkdLajlDM3ZPRFo2WlFwd05EWUxNVCtDbUVMMThHUmpYTmNabFAvTG5oaUFJc2NZVEwxK2lIV0RZdlJtdlBNd3RPSGhDbkVYSVUzRlRiUCs2UVJHQTZxeWRibm5lcVZoWG93Y0xtYk1JejE2SUMxa3doWmo3NS9NNTNzS1lYMnpSZ09TVEFmTlNELzVsWllTTlV4SmZLVERnaWFGRWdnckNyZCszQ2MrY2h6c2xJM3pEWEVLVHJ2bGNYMkluQzl1SCtmc3lweUh3K0F2WTJPbUJHUU1JSWM4ZkUzdE5PMGdCVFZxWHNkc0U3Nll3SHIyOWR6UWNrdXN1eUpzQmZTVmNscnZzTkNaMVBRREw4SDNjUnMzSEU5blVreDViYkpZV3NQeGI4MjVnbkVwV1U5WjlLdHp2c2xpNy9oZU9sREtwSHhKYjF1Q3JXcWY4Z1JuV21xM3pmU1NyVVhCSFNMdTYyTXJrWFRqV2dhcFVWeE1Ha3JuelIwRTRQTXkxYkZjeURwRVFlMTVUYXlXQk0xQjZqcklHKzBEUlI5T2FDVVB3RDdleE5talpiOU04MXVzK0FJUmZ5ekpQWkdtZkh1VDlTTnpGZk51UWRGWnlpWlZ0YVlhb3ZXdU4yaXJJM3pRYXRLQ0RuUUlYcHIwVmhHMEdvcDhjL3pyb1dCb04vYVZLbW44c2tTRnZBRE9qb1pBaXhnNksxeTl3Rmk4cGVDbWltRlozWnpDVnNHNkVVOVN2bGJxNSt3bjdENnkrZEFZZGFQbXM0Z3dDckx6NWk1czVJdDFzQndmRGJ6NFg0VnhxSXBjVEM5TmFZS3FBN0dLSythVHJaV1V3d04yMVFPdHI4ZXF4U2dKMVU5ZUNPY1dYUWQrcDM2R3k0ZlkrdDljMkNzVk5iTmwxZ2h4YTliSThVNmU2RlRkL3Z2QmFxOWpyS2RpdHE0bU5DYWlvZ21mUEs2TTQ4VVlJOGpaTUNkZC85QzhCcXZVajRiWVU1YnlXQVNFRzZCQkdkSzhLbGZpL2E0TFd0M2l2QzR1OVFCVGZiL3ZDbU5KaS9RQWZhYmNQRytVc1dtc1lOUksrZzhoTWNzdUJtaGg0OE5waFJ2ZWJWUXFxNm5jS3hjMW5GSFdNVzVNNm9mK3o4YzFIZGRuaWVEUDlHYUJzcSt5c2xqS3NsWXJ0OTg5UFk5eHNibWtyM1gvb0NmaUZVNE5mY09oZWUrK25nVzBYcFpBVnQxSTJRbmMxYWx3Ym5vTnFNTWhYSUI5NWlrTHhTRnFIMjI2WnE5c0cvdHJkcjJTQVZ1cm55V3NmSE5qdUlsQldLRE9yZDdWcllGSnZROXhiVm9tS3FRanVoOWR6ZjJudlZyQnpiRUYwQ1pZNml6a1kvUlFZNXI5azkzL3kyTkc3bzA3bk1Zak90WllZZU5Vb2lrN0diSy9IelFsMVM3cy9GQ2hudDlNNmZFMFV5dVBtdHRPOThocXp4UWJ0ZU1hbE10U2NlMldMY2p5WFZHZnBxZEJrWXltNGdaQnljY1M2YW50dDRvTGRsdVdTU0pzSFgxSWNYaFF5Nm9KK0Foanc5aEZZd1hMSFBMb0NvM2pFbGlVQUs0MTc5d3RZdEhzTzBhYkx4NCtobXRNNUZ6N3dVVmFoQkE5c3VwT1RmL0ZENHNpWk1Nb2Y1VzN2bTVEZWRocUdBTmxodDNtSTZSbUlodjQ4UVZ0bmVNc1V6WUM0TkRoWkQ0TTVSNnA3R1hCcWNwdTNGYUVGLzBJMGUzTGNlWDFITitpRHFLUlB1R3p2cGFjLzF0c0dQSXRlQUR4dTlPWW9hcDJ6M0YxQ3pTZy9VdWE4bC9LRXp0QUtEY3ZiaE5VL1lVYzJsaGd4Z2ZkYjRlK1A5VFo3UmFYODJzNjI3dTBDYkZzZkdFLzFoTHBiNU1jMnZrMXVER3JkSWNiV0E2eGhwWUFIWWhFWVVsOWM3NVkvUi8wZ2w2cjkrbTZjSTBCdkJZNUFhNU5CUmM2VU12c08vUE93NUNjcjc5c0p6aWNlYVYzWXdyWUVranA2S2krT1lyR3U5NTRBQStkSjlXc3ZOR0JGR01yS0FmUTlWVUMvQVRrSmZUbG9NbHREZVY1QW85emthYXkzZEtBYTUvUHhBR1JEQVVjUUxERjd1VlhiRDF2RmdFLytSWGl3elM1TjdjcjNhRkJkUlk3WEFtRnovZmIwL0tTcFI4Q1EvbG9rcG1NMm1sdEo5dkdQZ2lxYjVuWmw5S3U3ZDJHbGdBZGlFUmhTWDF6dmxqOUgvU0J1akJQb08xZnBvT3U1RjM1Y2RIYTVrU0Z2QURPam9aQWl4ZzZLMXk5d0ZsajBFejVrc1VXM1dVNjNFN2U0cXREVUNLV3dqalU1ZjBGZDU3VnlWenBDNkNkQ1NjQmpZU3pUOXJaTFZza3E2MWFPV3JERFVOS3FBUTMrblgvQkJXM2NRVEVjT1ZkYzE1bmdWWGNTUy9hSzJRRk1kaUtRbHFtMTVmRXJKZHdxeWV6YTdoZmxLVGlDelVkdTVWR2xGVzlxQ3Q4c3lIb29zQTJOemZvc0pkVGROOGJXSG5vRHI1TjI1ZXQrcC9udmpqT3paUmFMWW9ZL2ZyL2s1aHFwdE9rPVxcXCIpO1xcbiAgICByZXR1cm4gJC5leHBvcnRzO1xcbn0pKCk7XCJ9LHtcImNvbF90eXBlXCI6XCJtb3ZpZV8zXCIsXCJuYW1lXCI6XCLnvJbovpHlhazlkYpcIixcInBhdGhcIjpcImRldkluZm9FZGl0XCIsXCJydWxlXCI6XCJqczpcXG5hZGRMaXN0ZW5lcignb25DbG9zZScsICQudG9TdHJpbmcoKCk9PntcXG4gICAgcHV0TXlWYXIoXFxcImRldkluZm9cXFwiLCcnKTsgLy/muIXpmaTljoblj7LlhazlkYpcXG59KSk7XFxuc2V0UGFnZVRpdGxlKCfnvJbovpHlhazlkYonKTtcXG4vLyBsZXQge25vd0p4LE15SmlleGksanhzUm91dGV9ID0gTVlfUEFSQU1TO1xcbmNvbnN0IHtjb2xvcixzbWFsbCxhcGksIGdldEZpbGUsZ2V0QXBpfSA9ICQucmVxdWlyZShcXFwiaGlrZXI6Ly9wYWdlL3V0aWxpeVxcXCIpO1xcbi8vIGxldCBob3VzZUZpbGUgPSBnZXRGaWxlfHxmYWxzZTtcXG52YXIgZGV2X2luZm9fdXJsID0gZ2V0QXBpKCdpbmZvR2V0VXJsJyk7XFxuLy8gbG9nKGRldl9pbmZvX3VybCk7XFxudmFyIGdldF9pbmZvID0gZnVuY3Rpb24ocXEpe1xcbiAgICBxcSA9IHFxfHwnNDM0ODU3MDA1JztcXG4gICAgbGV0IGRldl9pbmZvX3VybCA9IGRldl9pbmZvX3VybCtxcTtcXG4gICAgbGV0IGJhY2tfY29kZSA9IEpTT04ucGFyc2UocmVxdWVzdChkZXZfaW5mb191cmwpKTtcXG4gICAgbGV0IGRldl9pbmZvPWJhY2tfY29kZS5yZXN1bHR8fGJhY2tfY29kZS5kZXRhaWw7XFxuICAgIHJldHVybiBkZXZfaW5mbztcXG59O1xcbnZhciBiZWZvcmVfcmVmcmVzaCA9IGZ1bmN0aW9uKCl7XFxuICAgIGxldCBkZXZfc2V0X2luZm8gPSBnZXRNeVZhcihcXFwiZGV2X3NldF9pbmZvXFxcIikuc3BsaXQoJyQkJyk7XFxuICAgIGxldCBkZXZfaW5mb191cmwgPSBkZXZfc2V0X2luZm8uc2xpY2UoLTEpWzBdO1xcbiAgICBsZXQgYmFja19jb2RlID0gSlNPTi5wYXJzZShyZXF1ZXN0KGRldl9pbmZvX3VybCkpO1xcbiAgICBsZXQgZGV2X2luZm89YmFja19jb2RlLnJlc3VsdHx8YmFja19jb2RlLmRldGFpbDtcXG4gICAgcHV0TXlWYXIoXFxcImRldkluZm9cXFwiLGRldl9pbmZvKTtcXG4gICAgcmV0dXJuIGRldl9pbmZvXFxufTtcXG5sZXQgZCA9IFtdO1xcbmQucHVzaCh7XFxuICAgIHRpdGxlOifnvJbovpHlhazlkYonLFxcbiAgICBkZXNjOifmlK/mjIFtZOivreazlSzngrnlh7vov5vlhaXlrabkuaBNZOivreazlVxcXFxu5L+d5a2Y5YWs5ZGK5oyJ6ZKu5Zyo5paH5pys5qGG5pyA5LiL6Z2iJyxcXG4gICAgY29sX3R5cGU6J3RleHRfMScsXFxuICAgIHVybDonaHR0cHM6Ly93d3cucnVub29iLmNvbS9tYXJrZG93bi9tZC10dXRvcmlhbC5odG1sJ1xcbn0pO1xcbmQucHVzaCh7XFxuICAgIHRpdGxlOifov5Tlm54nLFxcbiAgICBjb2xfdHlwZTondGV4dF8yJyxcXG4gICAgdXJsOiQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKCk9PntcXG4gICAgICAgIGJhY2soZmFsc2UpO1xcbiAgICAgICAgcmV0dXJuICdoaWtlcjovL2VtcHR5J1xcbiAgICB9KVxcbn0pO1xcbmlmKCFnZXRNeVZhcignZGV2SW5mbycpKXtcXG4gICAgYmVmb3JlX3JlZnJlc2goKTtcXG59XFxubGV0IGVtcHR5ID0gJ2hpa2VyOi8vZW1wdHknO1xcbmQucHVzaCh7XFxuICAgIHRpdGxlOifpmIXop4jmn6XpmIUnLFxcbiAgICBjb2xfdHlwZTondGV4dF8yJyxcXG4gICAgLy8gdXJsOiQoZ2V0TXlWYXIoJ2RldkluZm8nKSkuY29uZmlybSgpXFxuICAgIHVybDokKGVtcHR5KS5ydWxlKCgpPT57XFxuICAgICAgICByZXF1aXJlKFxcXCJodHRwczovL2dpdGxhYi5jb20vaGpkaG54L2hpa2VyLy0vcmF3L21haW4vanMvbWFya2VkLm1pbi5qc1xcXCIpO1xcbiAgICAgICBsZXQgZGV2SW5mbz1cXFwiXFxcIjtcXG4gICAgICAgdHJ5e1xcbiAgICAgICAgICBkZXZJbmZvPW1hcmtlZC5wYXJzZShnZXRNeVZhcignZGV2SW5mbycpKTtcXG4gICAgICAgfWNhdGNoKGUpe31cXG4gICAgICAgIHNldFJlc3VsdChbXFxuICAgICAgICAgICAge1xcbiAgICAgICAgICAgICAgICB0aXRsZTpkZXZJbmZvLFxcbiAgICAgICAgICAgICAgICBjb2xfdHlwZToncmljaF90ZXh0JyxcXG4gICAgICAgICAgICB9XFxuICAgICAgICBdKTtcXG4gICAgfSlcXG59KTtcXG5kLnB1c2goe1xcbiAgICBkZXNjOiBcXFwi5b+r5p2l57yW6L6R5L2g55qE5YWs5ZGK5ZCnflxcXCIsXFxuICAgIGNvbF90eXBlOiAnaW5wdXQnLFxcbiAgICBleHRyYToge1xcbiAgICAgICAgdGl0bGVWaXNpYmxlOiBmYWxzZSxcXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogZ2V0TXlWYXIoJ2RldkluZm8nLCAnJyl8fFxcXCJcXFwiLFxcbiAgICAgICAgdHlwZTogXFxcInRleHRhcmVhXFxcIixcXG4gICAgICAgIGhlaWdodDotMSxcXG4gICAgICAgIG9uQ2hhbmdlOiAncHV0TXlWYXIoXFxcImRldkluZm9cXFwiLGlucHV0KSdcXG4gICAgfVxcbn0pO1xcbmQucHVzaCh7XFxuICAgIHRpdGxlOlxcXCLkv53lrZjlhazlkYpcXFwiLFxcbiAgICBjb2xfdHlwZTogJ3RleHRfY2VudGVyXzEnLFxcbiAgICB1cmw6JCgn56Gu6K6k5L+d5a2Y5YWs5ZGK5ZCX77yf5bCG5Lya5LiO6YGT6ZW/5LuT5bqT5pyN5Yqh5Zmo6YCa6K6vJykuY29uZmlybSgoKT0+e1xcbiAgICAgICAgbGV0IGRldl9zZXRfaW5mbyA9IGdldE15VmFyKFxcXCJkZXZfc2V0X2luZm9cXFwiKS5zcGxpdCgnJCQnKTtcXG4gICAgICAgIGxldCBpbnB1dF90ZXh0ID0gZ2V0TXlWYXIoJ2RldkluZm8nLCAnJyk7XFxuICAgICAgICBpZihpbnB1dF90ZXh0Lmxlbmd0aCA+PSA0KXtcXG4gICAgICAgICAgICBsZXQgaW5mb19zZXRfdXJsPSBkZXZfc2V0X2luZm9bMl07XFxuICAgICAgICAgICAgbGV0IHNlbmRfZGF0YSA9IHtcXFwicGFyYW1zXFxcIjpcXG4gICAgICAgICAgICAgICAgICAgIHtcXFwiZGF0YVxcXCI6IHtcXFwiaW5mb1xcXCI6IGlucHV0X3RleHR9LFxcbiAgICAgICAgICAgICAgICAgICAgICAgIFxcXCJuYW1lXFxcIjogZGV2X3NldF9pbmZvWzBdLFxcbiAgICAgICAgICAgICAgICAgICAgICAgIFxcXCJwYXNzd29yZFxcXCI6IGRldl9zZXRfaW5mb1sxXX1cXG4gICAgICAgICAgICB9O1xcbiAgICAgICAgICAgIC8vIGxvZyhzZW5kX2RhdGEpO1xcbiAgICAgICAgICAgIGxldCBwYXIyID0ge2hlYWRlcnM6eydjb250ZW50LXR5cGUnOidhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnLCdVc2VyLUFnZW50JzpkZXZfc2V0X2luZm9bM119LGJvZHk6SlNPTi5zdHJpbmdpZnkoc2VuZF9kYXRhKSxtZXRob2Q6J1BPU1QnfTtcXG4gICAgICAgICAgICAvLyBwYXIyID0gSlNPTi5zdHJpbmdpZnkocGFyMik7IC8veDXph4zpnaLor7fmsYLmiY3pnIDopoHnvJbnoIFcXG4gICAgICAgICAgICB0cnkge1xcbiAgICAgICAgICAgICAgICBsZXQgYmFja19yZXQgPSByZXF1ZXN0KGluZm9fc2V0X3VybCwgcGFyMik7XFxuICAgICAgICAgICAgICAgIGJhY2tfcmV0ID0gSlNPTi5wYXJzZShiYWNrX3JldCkucmVzdWx0O1xcbiAgICAgICAgICAgICAgICBpZihiYWNrX3JldC5zdGF0dXM9PT0wKXtcXG4gICAgICAgICAgICAgICAgICAgIC8vIHJlZnJlc2hQYWdlKCk7XFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5L+d5a2Y5oiQ5YqfXFxcXG4nK2JhY2tfcmV0LmRldGFpbDtcXG4gICAgICAgICAgICAgICAgfWVsc2V7XFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5L+d5a2Y5aSx6LSlXFxcXG4nK2JhY2tfcmV0LmRldGFpbDtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH1jYXRjaCAoZSkge1xcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v6ZSZ6K+vXFxcXG4nK2UubWVzc2FnZTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9ZWxzZXtcXG4gICAgICAgICAgICBjb25maXJtKHt0aXRsZTon6YGT6ZW/5o+Q56S6Jyxjb250ZW50Oifomb3nhLbkvaDlvojmh5LvvIzkvYbmmK/lhazlkYroh7PlsJHlhpk05Liq5a2X5ZCn77yBJ30pO1xcbiAgICAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9lbXB0eSdcXG4gICAgICAgIH1cXG4gICAgfSlcXG59KTtcXG5cXG5zZXRSZXN1bHQoZCk7XCJ9LHtcImNvbF90eXBlXCI6XCJtb3ZpZV8zXCIsXCJuYW1lXCI6XCLpooTlpITnkIbkvp3otZbmlofku7ZcIixcInBhdGhcIjpcImxpYnNcIixcInJ1bGVcIjpcImlmKGdldEFwcFZlcnNpb24oKT49MzIwMCl7XFxuICAgIHRyeXtcXG4gICAgICAgIHJjKFxcXCJoaWtlcjovL2ZpbGVzL3J1bGVzL2pzLyRoaWtlci5qc1xcXCIsIC0xKTtcXG4gICAgICAgIC8vJC5zZXRSb290KCdodHRwczovL2hqZGhueC5jb2RpbmcubmV0L3B1YmxpYy9oaWtlci9oaWtlci9naXQvZmlsZXMvbWFzdGVyL2pzLycpO1xcbiAgICAgICAgJC5zZXRSb290KCk7XFxuICAgICAgICAkLnNldExpYih7XFxuICAgICAgICAgICAgbHNnOiBcXFwibHNnLmpzXFxcIiwgLy/mnKzlnLDlgqjlrZhcXG4gICAgICAgICAgICBmaWxlOiBcXFwiZmlsZS5qc1xcXCIsIC8v5paH5Lu2b3NcXG4gICAgICAgICAgICBmaWxlU2VsZWN0OiBcXFwiZmlsZVNlbGVjdC5qc1xcXCIsIC8v5paH5Lu26YCJ5oup5ZmoXFxuICAgICAgICAgICAgZHQ6IFxcXCJkdC5qc1xcXCIsIC8v5Yqo5oCB5YiG57G7XFxuICAgICAgICAgICAgZHI6IFxcXCJkci5qc1xcXCIsIC8vZHLmqKHmnb/kvp3otZZcXG4gICAgICAgICAgICBkcnByZTogXFxcImRycHJlLmpzXFxcIiwgLy9kcuaooeadv+mihOWkhOeQhlxcbiAgICAgICAgICAgIGRydXA6IFxcXCJkcnVwLmpzXFxcIiwgLy9kcuaooeadv+iHquWKqOabtOaWsFxcbiAgICAgICAgICAgIGRybWF0Y2g6IFxcXCJkcm1hdGNoLmpzXFxcIiwgLy9kcuaooeadv+iHquWKqOaooeadv+WMuemFjVxcbiAgICAgICAgICAgIGRybTogXFxcImRybS5qc1xcXCIsIC8vZHLmqKHmnb/lsI/nqIvluo9cXG4gICAgICAgICAgICBjbXM6IFxcXCJjbXMuanNcXFwiLCAvL2Ntc+aooeadv+S+nei1llxcbiAgICAgICAgICAgIGNtc3ByZTogXFxcImNtc3ByZS5qc1xcXCIsIC8vY21z6aKE5aSE55CGXFxuICAgICAgICAgICAgY21zbTogXFxcImNtc20uanNcXFwiLCAvL2Ntc+aooeadv+Wwj+eoi+W6j1xcbiAgICAgICAgICAgIGxpYmNoZWNrOiBcXFwibGliY2hlY2suanNcXFwiLCAvL2Ry5qOA5rWL5L6d6LWWXFxuICAgICAgICAgICAgcnVsZUVkaXRvcjogXFxcInJ1bGVFZGl0b3IuanNcXFwiLCAvL+WGmemhtea6kOelnuWZqOWwj+eoi+W6j1xcbiAgICAgICAgICAgIGhvdXNlTGF6eTogXFxcImhvdXNlTGF6eS5qc1xcXCIsIC8v5LuT5bqT6YCa5YWNXFxuICAgICAgICAgICAgbGF6eTogXFxcImxhenkuanNcXFwiLCAvL+mmmeWFjVxcbiAgICAgICAgICAgIHN1YjogXFxcInN1Yi5qc1xcXCIsIC8v6YGT5b6357uP6K6i6ZiFXFxuICAgICAgICAgICAgaGlrZXJVaTogXFxcImhpa2VyVWkuanNcXFwiLCAvL+a1t+mYlOe7hOS7tuS+nei1llxcbiAgICAgICAgICAgIGhpa2VyTGliczogXFxcImhpa2VyTGlicy5qc1xcXCIsIC8v5rW36ZiU5YWo6IO95L6d6LWWXFxuICAgICAgICB9KTtcXG4gICAgfWNhdGNoKGUpe1xcbiAgICAgICAgLy90b2FzdCgn6K+35bCd6K+V54K55Ye75LuT5bqT5Li76aG155qE5Y2H57qn5LuT5bqT5peB6L6555qE5oyJ6ZKu5Y2H57qnJOaJqeWxle+8jOWQpuWImeafkOS6m+WKn+iDveS4jeiDveato+W4uOS9v+eUqCcpO1xcbiAgICAgICAgY29uZmlybSh7XFxuICAgICAgICAgICAgdGl0bGU6ICfmj5DnpLot54K55Ye756Gu5a6a5Y+v5Lul5a+85YWlJyxcXG4gICAgICAgICAgICBjb250ZW50OiAn6K+35bCd6K+V54K55Ye75LuT5bqT5Li76aG155qE5Y2H57qn5LuT5bqT5peB6L6555qE5oyJ6ZKu5Y2H57qnJOaJqeWxle+8jOWQpuWImeafkOS6m+WKn+iDveS4jeiDveato+W4uOS9v+eUqCcsXFxuICAgICAgICAgICAgY29uZmlybTogJC50b1N0cmluZygoKT0+e1xcbiAgICAgICAgICAgICAgICBjb25zdCB7Z2V0QXBpfSA9ICQucmVxdWlyZShcXFwiaGlrZXI6Ly9wYWdlL3V0aWxpeT9ydWxlPemBk+mVv+S7k+W6k1Byb1xcXCIpO1xcbiAgICAgICAgICAgICAgICBsZXQgcnVsZUhlYWQgPSAn5rW36ZiU6KeG55WM77yM572R6aG15o+S5Lu277+lanNfdXJs77+lJGhpa2VyQCc7XFxuICAgICAgICAgICAgICAgIGxldCB1cmwgPSBnZXRBcGkoJ2ltcG9ydFVybCcpK1xcXCI1MTExXFxcIjtcXG4gICAgICAgICAgICAgICAgbGV0IGltcG9ydFVybCA9ICdydWxlOi8vJytiYXNlNjRFbmNvZGUocnVsZUhlYWQrdXJsKTtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIGltcG9ydFVybFxcbiAgICAgICAgICAgIH0pLFxcbiAgICAgICAgICAgIGNhbmNlbDogJC50b1N0cmluZygoKT0+e1xcblxcbiAgICAgICAgICAgIH0pLFxcbiAgICAgICAgfSlcXG4gICAgfVxcbn1cIn0se1wiY29sX3R5cGVcIjpcIm1vdmllXzNcIixcIm5hbWVcIjpcIkltcG9ydOivpue7hlwiLFwicGF0aFwiOlwicnVsZURldGFpbEltcG9ydFwiLFwicnVsZVwiOlwianM6XFxuJC5leHBvcnRzID0gXFxcImhpa2VyOi8vcGFnZS9ydWxlRGV0YWlsP3J1bGU96YGT6ZW/5LuT5bqTUHJvJmlkPVxcXCIgKyAkLmltcG9ydFBhcmFtO1xcblwifSx7XCJjb2xfdHlwZVwiOlwibW92aWVfM1wiLFwibmFtZVwiOlwi6LeR6ams54Gv5YWs5ZGKXCIsXCJwYXRoXCI6XCJub3RpY2VcIixcInJ1bGVcIjpcImpzOlxcbmxldCBnZXRIdG1sID0gKHRleHQsIGNvbG9yKSA9PiBgXFxuPCFET0NUWVBFIGh0bWw+XFxuPGh0bWw+XFxuPGhlYWQ+XFxuPG1ldGEgbmFtZT1cXFwidmlld3BvcnRcXFwiIGNvbnRlbnQ9XFxcIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLCBtYXhpbXVtLXNjYWxlPTEsIHVzZXItc2NhbGFibGU9MFxcXCI+XFxuPHN0eWxlPlxcbi5tYXJxdWVlIHtcXG4gIHdpZHRoOiAxMDAlO1xcbiAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgY29sb3I6ICR7Y29sb3J9O1xcbiAgZm9udC1zaXplOiAxNnB4O1xcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXG59XFxuXFxuLm1hcnF1ZWUgc3BhbiB7XFxuICB1c2VyLXNlbGVjdDpub25lO1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrOyAgXFxuICBwYWRkaW5nLWxlZnQ6IDEwMCU7XFxuICBhbmltYXRpb246IG1hcnF1ZWUgMjVzIGxpbmVhciBpbmZpbml0ZTtcXG59XFxuXFxuQGtleWZyYW1lcyBtYXJxdWVlIHtcXG4gIDAlIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDAlKTsgfVxcbiAgMTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMTAwJSk7IH1cXG59XFxuXFxuQG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaykge1xcbiAgICBib2R5IHtcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzFCMUIxQjtcXG4gICAgIH1cXG4gICAgIC50ZXh0LC5zY3JvbGx7XFxuICAgICAgIGNvbG9yOiNGZmY7XFxuICAgICAgIH1cXG4gICAgfVxcblxcbkBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGxpZ2h0KSB7XFxuICAgIGJvZHkge1xcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcXG4gICAgICB9XFxuICAgIH1cXG5cXG48L3N0eWxlPlxcbjwvaGVhZD5cXG48Ym9keT5cXG48ZGl2IGNsYXNzPVxcXCJtYXJxdWVlXFxcIj5cXG4gIDxzcGFuIGlkPVxcXCJ0ZXh0Q29udGFpbmVyXFxcIj4ke3RleHR9PC9zcGFuPlxcbjwvZGl2PlxcbjwvYm9keT5cXG48L2h0bWw+YDtcXG5cXG4kLmV4cG9ydHMuc2hvdyA9IGZ1bmN0aW9uKGFyciwgdGV4dCwgY29sb3IsIHVybCwgY29udGVudCkge1xcbiAgICB2YXIgaHRtbCA9IGdldEh0bWwodGV4dCB8fCAn6L+Z5piv6LeR6ams54Gv6buY6K6k55qE5paH5a2X77yM5Y+v5Lul6Ieq6KGM5pu/5o2i44CCJywgY29sb3IgfHwgJ3JlZCcpO1xcbiAgICBhcnIucHVzaCh7XFxuICAgICAgICBjb2xfdHlwZTogXFxcIng1X3dlYnZpZXdfc2luZ2xlXFxcIixcXG4gICAgICAgIHVybDogXFxcImFib3V0OmJsYW5rXFxcIixcXG4gICAgICAgIGRlc2M6IFxcXCI1MCYmbGlzdFxcXCIsXFxuICAgICAgICBleHRyYToge1xcbiAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKChoLCB1cmwpID0+IHtcXG4gICAgICAgICAgICAgICAgdmFyIGh0bWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XFxuICAgICAgICAgICAgICAgIGh0bWwuaW5uZXJIVE1MID0gaDtcXG5cXG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0ZXh0Q29udGFpbmVyJyk7XFxuICAgICAgICAgICAgICAgIGNvbnN0IHRleHQgPSB0ZXh0Q29udGFpbmVyLmlubmVySFRNTDtcXG4gICAgICAgICAgICAgICAgdGV4dENvbnRhaW5lci5vbmNsaWNrPWZ1bmN0aW9uKCl7XFxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybHx8XFxcImFib3V0OmJsYW5rL25vdGljZVxcXCI7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgLy8g6K6+572u5paH5pys5a655Zmo5a695bqm5Li65paH5pys5YaF5a6555qE5a695bqmXFxuICAgICAgICAgICAgICAgIHRleHRDb250YWluZXIuc3R5bGUud2lkdGggPSBgJHt0ZXh0Q29udGFpbmVyLm9mZnNldFdpZHRofXB4YDtcXG5cXG4gICAgICAgICAgICAgICAgLy8g5aSN5Yi25paH5pys5YaF5a655bm26L+95Yqg5Yiw5paH5pys5a655Zmo5ZCO6Z2iXFxuICAgICAgICAgICAgICAgIHRleHRDb250YWluZXIuaW5uZXJIVE1MICs9ICcgJyArIHRleHQ7XFxuXFxuICAgICAgICAgICAgICAgIC8vIOWKqOaAgeiuoeeul+WKqOeUu+aMgee7reaXtumXtFxcbiAgICAgICAgICAgICAgICBjb25zdCBkdXJhdGlvbiA9ICh0ZXh0Q29udGFpbmVyLm9mZnNldFdpZHRoIC8gdGV4dENvbnRhaW5lci5wYXJlbnRFbGVtZW50Lm9mZnNldFdpZHRoKSAqIDEwO1xcblxcbiAgICAgICAgICAgICAgICB2YXIgc3R5bGVFbGVtZW50cyA9IGRvY3VtZW50LmhlYWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N0eWxlJyk7XFxuXFxuXFxuICAgICAgICAgICAgICAgIHN0eWxlRWxlbWVudHNbMl0uaW5uZXJIVE1MID0gYC5tYXJxdWVlIHNwYW4ge1xcbiAgICAgICAgICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAxMDAlO1xcbiAgICAgICAgICAgICAgICAgICAgYW5pbWF0aW9uOiBtYXJxdWVlICR7ZHVyYXRpb259cyBsaW5lYXIgaW5maW5pdGVcXG4gICAgICAgICAgICAgICAgfWA7XFxuXFxuICAgICAgICAgICAgfSwgaHRtbCwgdXJsKSxcXG4gICAgICAgICAgICB1cmxJbnRlcmNlcHRvcjogJC50b1N0cmluZygoY29udGVudCkgPT4ge1xcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQ9PT1cXFwiYWJvdXQ6Ymxhbmsvbm90aWNlXFxcIikge1xcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICQudG9TdHJpbmcoKGNvbnRlbnQpID0+IHtcXG4gICAgICAgICAgICAgICAgICAgICAgICBmYmEub3BlbihKU09OLnN0cmluZ2lmeSh7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBcXFwi5YWs5ZGKXFxcIixcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnaGlrZXI6Ly9lbXB0eSNub1JlY29yZEhpc3RvcnkjI25vSGlzdG9yeSMnLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaW5kUnVsZTogXFxcImpzOlxcXCIgKyAkJCQudG9TdHJpbmcoKGNvbnRlbnQpID0+IHNldFJlc3VsdChbe1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGNvbnRlbnQsXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogXFxcInJpY2hfdGV4dFxcXCIsXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dKSxjb250ZW50KVxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcXG4gICAgICAgICAgICAgICAgICAgIH0sIGNvbnRlbnQpO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfSwgY29udGVudCB8fCB0ZXh0KSxcXG4gICAgICAgIH1cXG4gICAgfSk7XFxufVwifV0sXCJzYXZlZFwiOmZhbHNlLFwidGl0bGVcIjpcIumBk+mVv+S7k+W6k1Byb1wiLFwidmVyc2lvblwiOjAsXCJ1cmxcIjpcImhpa2VyOi8vZW1wdHkjZnlwYWdlI25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5I1wiLFwiY29sX3R5cGVcIjpcImljb25fMl9yb3VuZFwiLFwiZmluZF9ydWxlXCI6XCJqczpcXG4gICAgY29uc3Qge1xcbiAgICAgICAgYXBpLFxcbiAgICAgICAgbG9jYWxSdWxlVmVyLFxcbiAgICAgICAgZ2V0QXBpXFxuICAgIH0gPSAkLnJlcXVpcmUoXFxcImhpa2VyOi8vcGFnZS91dGlsaXlcXFwiKTtcXG5jb25zdCB7XFxuICAgIG1lcmdlU29ydFxcbn0gPSAkLnJlcXVpcmUoXFxcImhpa2VyOi8vcGFnZS9zb3J0XFxcIik7XFxubGV0IGRhdGFUeXBlID0gZ2V0VmFyKFxcXCJXYXJlaG91c2UudHlwZVxcXCIsIFxcXCJcXFwiKTtcXG5sZXQgb3JkZXIgPSBnZXRWYXIoXFxcIldhcmVob3VzZS5vcmRlclxcXCIsIFxcXCIwXFxcIik7XFxubGV0IHNvcnQgPSBnZXRWYXIoXFxcIldhcmVob3VzZS5zb3J0XFxcIiwgXFxcIjBcXFwiKTtcXG5sZXQgZ29vZCA9IGdldFZhcihcXFwiV2FyZWhvdXNlLmdvb2RcXFwiLCBcXFwiXFxcIik7XFxubGV0IHBhZ2UgPSBNWV9VUkwuc3BsaXQoXFxcIiNcXFwiKVsxXSB8fCAxO1xcbmxldCBydWxlTGlzdCA9IEpTT04ucGFyc2UocmVxdWVzdChhcGkuYWxsX3J1bGUgKyBcXFwiP2RhdGFfdHlwZT1cXFwiICsgZGF0YVR5cGUgKyBcXFwiJnBhZ2U9XFxcIiArIHBhZ2UgKyBcXFwiJmxpbWl0PTIwJm9yZGVyPVxcXCIgKyBvcmRlciArIFxcXCImc29ydD1cXFwiICsgc29ydCsgXFxcIiZpc19nb29kPVxcXCIgKyBnb29kKSkucmVzdWx0O1xcbmFkZExpc3RlbmVyKCdvbkNsb3NlJywgJC50b1N0cmluZygoKSA9PiB7XFxuICAgIGNsZWFyVmFyKFxcXCJXYXJlaG91c2UudHlwZVxcXCIpO1xcbiAgICBjbGVhclZhcihcXFwiV2FyZWhvdXNlLm9yZGVyXFxcIik7XFxuICAgIGNsZWFyVmFyKFxcXCJXYXJlaG91c2Uuc29ydFxcXCIpO1xcbiAgICBjbGVhclZhcihcXFwiV2FyZWhvdXNlLmdvb2RcXFwiKTtcXG4gICAgY2xlYXJWYXIoXFxcIldhcmVob3VzZS5iYWNrXFxcIik7XFxufSkpO1xcbmxldCBkYXRhID0gW107XFxuaWYgKGdldFZhcihcXFwiV2FyZWhvdXNlLmJhY2tcXFwiKSA9PT0gXFxcIjFcXFwiKSB7XFxuICAgIGJhY2soKTtcXG59XFxuZnVuY3Rpb24gdGFiKGFyciwgdHlwZSwgY29udHJhc3QpIHtcXG4gICAgZm9yIChsZXQgaXRlbSBvZiBhcnIpIHtcXG4gICAgICAgIGRhdGEucHVzaCh7XFxuICAgICAgICAgICAgdGl0bGU6IGl0ZW1bMV0gPT09IGNvbnRyYXN0ID8gXFxcIuKAnOKAnFxcXCIgKyBpdGVtWzBdICsgXFxcIuKAneKAnVxcXCIgOiBpdGVtWzBdLFxcbiAgICAgICAgICAgIHVybDogJChcXFwiI25vTG9hZGluZyNcXFwiKS5sYXp5UnVsZSgoa2V5LCB0eXBlKSA9PiB7XFxuICAgICAgICAgICAgICAgIHB1dFZhcih0eXBlLCBrZXkpO1xcbiAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFwiaGlrZXI6Ly9lbXB0eVxcXCI7XFxuICAgICAgICAgICAgfSwgaXRlbVsxXSwgdHlwZSksXFxuICAgICAgICAgICAgY29sX3R5cGU6IFxcXCJzY3JvbGxfYnV0dG9uXFxcIlxcbiAgICAgICAgfSk7XFxuICAgIH1cXG4gICAgZGF0YS5wdXNoKHtcXG4gICAgICAgIGNvbF90eXBlOiBcXFwiYmxhbmtfYmxvY2tcXFwiXFxuICAgIH0pO1xcbn1cXG5pZiAocGFnZSA9PT0gXFxcIjFcXFwiKSB7XFxuICAgIHRhYihbXFxuICAgICAgICBbXFxcIuWFqOmDqFxcXCIsIFxcXCJcXFwiXSxcXG4gICAgICAgIFtcXFwi5bCP56iL5bqPXFxcIiwgXFxcImhvbWVfcnVsZV91cmxcXFwiXSxcXG4gICAgICAgIFtcXFwi5o+Q5Lqk5LqR5LuT5bqT6KeE5YiZXFxcIiwgXFxcInB1Ymxpc2hcXFwiXSxcXG4gICAgICAgIFtcXFwi572R6aG15o+S5Lu2XFxcIiwgXFxcImpzX3VybFxcXCJdLFxcbiAgICAgICAgW1xcXCLpnZnmgIHpobXpnaJcXFwiLCBcXFwiaHRtbFxcXCJdLFxcbiAgICAgICAgW1xcXCLkuLvpophcXFwiLCBcXFwiY29uZmlnXFxcIl1cXG4gICAgXSwgXFxcIldhcmVob3VzZS50eXBlXFxcIiwgZGF0YVR5cGUpO1xcbiAgICB0YWIoW1xcbiAgICAgICAgW1xcXCLml7bpl7RcXFwiLCBcXFwiMFxcXCJdLFxcbiAgICAgICAgW1xcXCJJRFxcXCIsIFxcXCIxXFxcIl0sXFxuICAgICAgICBbXFxcIuWlveivhOW6plxcXCIsIFxcXCIyXFxcIl0sXFxuICAgICAgICBbXFxcIuW3ruivhOW6plxcXCIsIFxcXCIzXFxcIl0sXFxuICAgICAgICBbXFxcIuWbnuWkjeaVsFxcXCIsIFxcXCI0XFxcIl1cXG4gICAgXSwgXFxcIldhcmVob3VzZS5vcmRlclxcXCIsIG9yZGVyKTtcXG4gICAgdGFiKFtcXG4gICAgICAgIFtcXFwi5YCS5bqPXFxcIiwgXFxcIjBcXFwiXSxcXG4gICAgICAgIFtcXFwi5q2j5bqPXFxcIiwgXFxcIjFcXFwiXVxcbiAgICBdLCBcXFwiV2FyZWhvdXNlLnNvcnRcXFwiLCBzb3J0KTtcXG4gICAgdGFiKFtcXG4gICAgICAgIFtcXFwi5LiN6K66XFxcIiwgXFxcIlxcXCJdLFxcbiAgICAgICAgW1xcXCLkvJjotKhcXFwiLCBcXFwiMVxcXCJdXFxuICAgIF0sIFxcXCJXYXJlaG91c2UuZ29vZFxcXCIsIGdvb2QpO1xcbiAgICBkYXRhLnB1c2goe1xcbiAgICAgICAgdGl0bGU6IFxcXCLmkJzntKJcXFwiLFxcbiAgICAgICAgdXJsOiAkLnRvU3RyaW5nKG5hbWUgPT4gXFxcImhpa2VyOi8vc2VhcmNoP3M9XFxcIiArIGlucHV0ICsgXFxcIiZydWxlPVxcXCIgKyBuYW1lLCBNWV9SVUxFLnRpdGxlKSxcXG4gICAgICAgIGNvbF90eXBlOiBcXFwiaW5wdXRcXFwiLFxcbiAgICAgICAgZGVzYzogXFxcIuaQnOe0ouWFqOmDqOinhOWImVxcXCJcXG4gICAgfSk7XFxufVxcblxcbmxldCBob21lTGlzdCA9IEpTT04ucGFyc2UocmVxdWVzdChhcGkuaG9tZSkpO1xcbmxldCBtUnVsZUxpc3QgPSBbXTtcXG5mb3IgKHZhciBpdGVtIG9mIHJ1bGVMaXN0KSB7XFxuICAgIHZhciBuYW1lID0gaXRlbS5uYW1lO1xcbiAgICBpZiAoaXRlbS5pc190YXApIHtcXG4gICAgICAgIGxldCBsb2NhdGlvbiA9IEpTT04ucGFyc2UocmVxdWVzdChnZXRBcGkoXFxcInJ1bGVMaXN0SnNvblxcXCIpICsgXFxcIj9pZD1cXFwiICsgaXRlbS5pZCkpO1xcbiAgICAgICAgaXRlbS5pZCA9IGxvY2F0aW9uLmlkO1xcbiAgICAgICAgaXRlbS5uYW1lID0gbG9jYXRpb24ubmFtZTtcXG4gICAgICAgIGl0ZW0uYXV0aG9yID0gbG9jYXRpb24uYXV0aG9yO1xcbiAgICAgICAgaXRlbS5kYXRhX3R5cGUgPSBsb2NhdGlvbi5kYXRhX3R5cGU7XFxuICAgICAgICBpdGVtLnZlciA9IGxvY2F0aW9uLnZlclxcbiAgICB9XFxuICAgIGl0ZW0udmVyc2lvbiA9IGl0ZW0udmVyO1xcbiAgICBsZXQgbGFiZWwgPSBcXFwiXFxcIixcXG4gICAgICAgIGx2ZXIgPSAtMjtcXG4gICAgaWYgKGl0ZW0uaXNfanNvbiAmJiBpdGVtLmRhdGFfdHlwZSA9PT0gXFxcImhvbWVfcnVsZV91cmxcXFwiKSB7XFxuICAgICAgICBsdmVyID0gbG9jYWxSdWxlVmVyKGhvbWVMaXN0LCBpdGVtKTtcXG4gICAgICAgIGlmIChsdmVyID09PSAtMSkge1xcbiAgICAgICAgICAgIGxhYmVsID0gXFxcIvCfhpVcXFwiO1xcbiAgICAgICAgfSBlbHNlIGlmIChsdmVyIDwgaXRlbS52ZXIpIHtcXG4gICAgICAgICAgICBsYWJlbCA9IFxcXCLwn4aZXFxcIjtcXG4gICAgICAgIH1cXG4gICAgfVxcbiAgICBtUnVsZUxpc3QucHVzaCh7XFxuICAgICAgICB0aXRsZTogbGFiZWwgKyBuYW1lLFxcbiAgICAgICAgdXJsOiBcXFwiaGlrZXI6Ly9wYWdlL3J1bGVEZXRhaWwjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjXFxcIixcXG4gICAgICAgIGV4dHJhOiB7XFxuICAgICAgICAgICAgbHZlcjogbHZlcixcXG4gICAgICAgICAgICBpZDogaXRlbS5pZCxcXG4gICAgICAgICAgICBpc0FsbDp0cnVlXFxuICAgICAgICB9LFxcbiAgICAgICAgcGljX3VybDogaXRlbS5waWMsXFxuICAgIH0pXFxufVxcbi8qIOW9kuW5tuaOkuW6jyBTdGFydCAqL1xcbi8vbVJ1bGVMaXN0ID0gbWVyZ2VTb3J0KG1SdWxlTGlzdCk7XFxuLyog5b2S5bm25o6S5bqPIEVuZCAqL1xcbmRhdGEucHVzaC5hcHBseShkYXRhLCBtUnVsZUxpc3QpXFxuc2V0UmVzdWx0KGRhdGEpO1wiLFwiZ3JvdXBcIjpcIuKRoOaOqOiNkFwiLFwidWFcIjpcIm1vYmlsZVwiLFwicHJlUnVsZVwiOlwiJC5yZXF1aXJlKCdoaWtlcjovL3BhZ2UvbGlicz9ydWxlPemBk+mVv+S7k+W6k1BybycpO1wiLFwicGFnZXNcIjpcIlt7XFxcImNvbF90eXBlXFxcIjpcXFwibW92aWVfM1xcXCIsXFxcIm5hbWVcXFwiOlxcXCLlt6XlhbdcXFwiLFxcXCJwYXRoXFxcIjpcXFwidXRpbGl5XFxcIixcXFwicnVsZVxcXCI6XFxcImpzOlxcXFxubGV0IGhvc3QgPSBcXFxcXFxcImh0dHA6Ly9oaWtlci5ub2tpYS5wcmVzc1xcXFxcXFwiO1xcXFxuLy9sZXQgaG9zdCA9IFxcXFxcXFwiaHR0cDovLzE5Mi4xNjguMzEuNDk6ODA3OVxcXFxcXFwiO1xcXFxubGV0IGhvbWUgPSBiYXNlNjREZWNvZGUoXFxcXFxcXCJhR2xyWlhJNkx5OW9iMjFsXFxcXFxcXCIpO1xcXFxudmFyIGFwaSA9IHtcXFxcbiAgICBob3N0OiBob3N0K1xcXFxcXFwiL2hpa2VydWxlXFxcXFxcXCIsXFxcXG4gICAgbm90aWNlVXJsOlxcXFxcXFwiL25vdGljZS9nZXRcXFxcXFxcIiwvL+iOt+WPluS7k+W6k+WFrOWRilxcXFxuICAgIHVzZXJzVXJsOiBcXFxcXFxcIi9kZXYvdXNlcnM/b3JkZXI9XFxcXFxcXCIsIC8v55So5oi35YiX6KGoXFxcXG4gICAgcnVsZUNvdW50VXJsOiBcXFxcXFxcIi9kZXYvcnVsZWNvdW50XFxcXFxcXCIsIC8v6I635Y+W6KeE5YiZ5pWw6YePXFxcXG4gICAgcnVsZXNVcmw6IFxcXFxcXFwiL2Rldi9nZXRcXFxcXFxcIiwgLy/nlKjmiLflr7nlupTnmoTop4TliJnliJfooajku4Xku4Xojrflj5blhazlvIBcXFxcbiAgICBydWxlc0FsbFVybDogXFxcXFxcXCIvZGV2L2dldGFsbFxcXFxcXFwiLCAvL+W8gOWPkeiAheWvueW6lOeahOinhOWImeWIl+ihqOWPr+iOt+WPluengeaciVxcXFxuICAgIGRldlNlbGY6Jy9kZXYvZ2V0c2VsZicsLy/ojrflj5blvIDlj5HogIXkv6Hmga9cXFxcbiAgICBtYW5DYW5VcGxvYWQ6Jy9zZXRfY2FuX3VwbG9hZC8nLC8v6LaF566h6K6+572u5byA5Y+R6ICF5piv5ZCm5Y+v5LiK5LygXFxcXG4gICAgbWFuUnVsZVNhZmU6Jy9zZXRfcnVsZV9zYWZlLycsLy/otoXnrqHorr7nva7op4TliJnlronlhajmgKdcXFxcbiAgICBtYW5SdWxlR29vZDonL3NldF9ydWxlX2dvb2QvJywvL+i2heeuoeiuvue9ruinhOWImeS8mOi0qOaAp1xcXFxuICAgIGltcG9ydFVybDogXFxcXFxcXCIvcnVsZWxpc3QuanNvbj9pZD1cXFxcXFxcIiwgLy/op4TliJnor6bmg4Xlj6/lr7zlhaVcXFxcbiAgICBpbmZvU2V0VXJsOiBcXFxcXFxcIi9kZXYvc2V0X2luZm9cXFxcXFxcIixcXFxcbiAgICBub3dDb25Vcmw6IFxcXFxcXFwiL3NxbF9pbmZvL2dldF9ub3dfY29uXFxcXFxcXCIsXFxcXG4gICAgaW5mb0dldFVybDogXFxcXFxcXCIvZGV2L2dldF9pbmZvP25hbWU9XFxcXFxcXCIsXFxcXG4gICAgc2V0dGluZ3NHZXRVcmw6IFxcXFxcXFwiL2Rldi9nZXRfc2V0dGluZ3M/bmFtZT1cXFxcXFxcIixcXFxcbiAgICBndXBsb2FkOiBcXFxcXFxcIi9kZXYvZ3VwbG9hZFxcXFxcXFwiLFxcXFxuICAgIGd0aW1lb3ZlcjogXFxcXFxcXCIvZGV2L2d0aW1lb3ZlclxcXFxcXFwiLFxcXFxuICAgIGdldGJ5aWQ6IFxcXFxcXFwiL2Rldi9nZXRieWlkXFxcXFxcXCIsXFxcXG4gICAgcnVsZUxpc3RKc29uOiBcXFxcXFxcIi9ydWxlbGlzdC5qc29uXFxcXFxcXCIsXFxcXG4gICAgYXV0aDogXFxcXFxcXCIvZGV2L2dldF9hdXRoXFxcXFxcXCIsXFxcXG4gICAgdGltZW92ZXI6IFxcXFxcXFwiL2Rldi90aW1lb3ZlclxcXFxcXFwiLFxcXFxuICAgIHNoYXJlOiBcXFxcXFxcIi9kZXYvc2hhcmVcXFxcXFxcIixcXFxcbiAgICBnZW5BdXRoOiBcXFxcXFxcIi9kZXYvZ2VuX2F1dGhcXFxcXFxcIixcXFxcbiAgICBkZWxldGVVcmw6IFxcXFxcXFwiL2Rldi9kZWxldGVcXFxcXFxcIixcXFxcbiAgICBqc29uTGlzdDogXFxcXFxcXCIvZGV2L2pzb25fbGlzdFxcXFxcXFwiLFxcXFxuICAgIHNlYXJjaDogXFxcXFxcXCIvZGV2L3NlYXJjaFxcXFxcXFwiLFxcXFxuICAgIG5ld19kZXY6IFxcXFxcXFwiL2Rldl9yZWdpc3QvbmV3XFxcXFxcXCIsXFxcXG4gICAgbmV3X2dldElkOiBcXFxcXFxcIi9kZXZfcmVnaXN0L2dldF9pZFxcXFxcXFwiLFxcXFxuICAgIG5ld19jb25maXJtOiBcXFxcXFxcIi9kZXZfcmVnaXN0L2NvbmZpcm1cXFxcXFxcIixcXFxcbiAgICBtb2RpZnlfcHdkOiBcXFxcXFxcIi9tb2RpZnkvcGFzc3dvcmRcXFxcXFxcIixcXFxcbiAgICBtb2RpZnlfbmFtZTogXFxcXFxcXCIvbW9kaWZ5L25hbWVcXFxcXFxcIixcXFxcbiAgICBtb2RpZnlfYXZhOiBcXFxcXFxcIi9tb2RpZnkvYXZhdGFyXFxcXFxcXCIsXFxcXG4gICAgdXNlcjogXFxcXFxcXCIvZGV2L3VzZXIvXFxcXFxcXCIsXFxcXG4gICAgZ2V0X3J1bGVfbm90ZTogXFxcXFxcXCIvbW9kaWZ5L2dldF9ydWxlX25vdGUvXFxcXFxcXCIsXFxcXG4gICAgc2V0X3J1bGVfcGljOiBcXFxcXFxcIi9tb2RpZnkvcnVsZV9waWMvXFxcXFxcXCIsXFxcXG4gICAgc2V0X3J1bGVfbm90ZTogXFxcXFxcXCIvbW9kaWZ5L3J1bGVfbm90ZS9cXFxcXFxcIlxcXFxufVxcXFxuJC5leHBvcnRzLnJhbmdlID0gZnVuY3Rpb24obSwgbikge1xcXFxuICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobSAtIG4gKyAxKSArIG4pO1xcXFxufVxcXFxuJC5leHBvcnRzLm1hcENvbFR5cGUgPSBmdW5jdGlvbih0YXJnZXQsIHR5cGUsIG4pIHtcXFxcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47IGkrKykge1xcXFxuICAgICAgICB0YXJnZXQucHVzaCh7XFxcXG4gICAgICAgICAgICBjb2xfdHlwZTogdHlwZVxcXFxuICAgICAgICB9KTtcXFxcbiAgICB9XFxcXG59XFxcXG52YXIgZ2V0QXBpID0gZnVuY3Rpb24oaykge1xcXFxuICAgIHJldHVybiBhcGkuaG9zdCArIGFwaVtrXTtcXFxcbn07XFxcXG4kLmV4cG9ydHMuZ2V0QXBpPWdldEFwaTtcXFxcbiQuZXhwb3J0cy5tZD1nZXRBcGkoJ2ltcG9ydFVybCcpK1xcXFxcXFwiMzE4N1xcXFxcXFwiO1xcXFxuJC5leHBvcnRzLmxvY2FsUnVsZVZlciA9IGZ1bmN0aW9uKGxvY2FsUnVsZUxpc3QsIHJ1bGUpIHtcXFxcbiAgICBsZXQgbG9jYWxSdWxlO1xcXFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxSdWxlTGlzdC5sZW5ndGg7IGkrKykge1xcXFxuICAgICAgICBsZXQgaXRlbSA9IGxvY2FsUnVsZUxpc3RbaV07XFxcXG4gICAgICAgIGxldCBhdSA9IGl0ZW0uYXV0aG9yIHx8IFxcXFxcXFwiXFxcXFxcXCI7XFxcXG4gICAgICAgIGxldCBzYW1lQXU9YXUubGVuZ3RoID4gMCAmJiBydWxlLmF1dGhvci5pbmNsdWRlcyhhdSk7XFxcXG4gICAgICAgIHNhbWVBdT10cnVlOy8v5LiN5Yik5pat5L2c6ICF6buY6K6k5Li6dHJ1ZVxcXFxuICAgICAgICBpZiAoaXRlbS50aXRsZSA9PT0gcnVsZS5uYW1lICYmIHNhbWVBdSkge1xcXFxuICAgICAgICAgICAgbG9jYWxSdWxlID0gaXRlbTtcXFxcbiAgICAgICAgICAgIGJyZWFrO1xcXFxuICAgICAgICB9XFxcXG4gICAgfVxcXFxuICAgIGlmIChsb2NhbFJ1bGUgPT09IHZvaWQgMCkge1xcXFxuICAgICAgICByZXR1cm4gLTE7XFxcXG4gICAgfSBlbHNlIHtcXFxcbiAgICAgICAgcmV0dXJuIGxvY2FsUnVsZS52ZXJzaW9uO1xcXFxuICAgIH1cXFxcbn1cXFxcbiQuZXhwb3J0cy5jb2xvciA9IGZ1bmN0aW9uKHRleHQsIGNvbG9yKSB7XFxcXG4gICAgdGV4dCArPSBcXFxcXFxcIlxcXFxcXFwiO1xcXFxuICAgIGlmICh0ZXh0LmluZGV4T2YoXFxcXFxcXCLigJzigJzigJ3igJ1cXFxcXFxcIikgPT09IDApIHtcXFxcbiAgICAgICAgdGV4dC5yZXBsYWNlKFxcXFxcXFwi4oCc4oCc4oCd4oCdXFxcXFxcXCIsIFxcXFxcXFwiXFxcXFxcXCIpO1xcXFxuICAgIH1cXFxcbiAgICByZXR1cm4gXFxcXFxcXCLigJzigJzigJ3igJ08Zm9udCBjb2xvcj0nXFxcXFxcXCIgKyBjb2xvciArIFxcXFxcXFwiJz5cXFxcXFxcIiArIHRleHQgKyBcXFxcXFxcIjwvZm9udD5cXFxcXFxcIjtcXFxcbn1cXFxcblxcXFxuJC5leHBvcnRzLnNsZWVwID0gZnVuY3Rpb24odGltZW91dCl7XFxcXG4gICAgamF2YS5sYW5nLlRocmVhZC5zbGVlcCh0aW1lb3V0KTtcXFxcbn1cXFxcbmZ1bmN0aW9uIGh0bWxUYWcodGFnLCB0ZXh0KSB7XFxcXG4gICAgdGV4dCArPSBcXFxcXFxcIlxcXFxcXFwiO1xcXFxuICAgIGlmICh0ZXh0LmluZGV4T2YoXFxcXFxcXCLigJzigJzigJ3igJ1cXFxcXFxcIikgPT09IDApIHtcXFxcbiAgICAgICAgdGV4dC5yZXBsYWNlKFxcXFxcXFwi4oCc4oCc4oCd4oCdXFxcXFxcXCIsIFxcXFxcXFwiXFxcXFxcXCIpO1xcXFxuICAgIH1cXFxcbiAgICByZXR1cm4gXFxcXFxcXCLigJzigJzigJ3igJ1cXFxcXFxcIiArIFxcXFxcXFwiPFxcXFxcXFwiICsgdGFnICsgXFxcXFxcXCI+XFxcXFxcXCIgKyB0ZXh0ICsgXFxcXFxcXCI8L1xcXFxcXFwiICsgdGFnICsgXFxcXFxcXCI+XFxcXFxcXCI7XFxcXG5cXFxcbn1cXFxcblxcXFxuZnVuY3Rpb24gZ2V0Tm93Rm9ybWF0RGF0ZSgpIHtcXFxcbiAgICAgICAgICAgIGxldCBkYXRlID0gbmV3IERhdGUoKTtcXFxcbiAgICAgICAgICAgIGxldCBzZXBlcmF0b3IxID0gXFxcXFxcXCItXFxcXFxcXCI7XFxcXG4gICAgICAgICAgICBsZXQgc2VwZXJhdG9yMiA9IFxcXFxcXFwiOlxcXFxcXFwiO1xcXFxuICAgICAgICAgICAgbGV0IG1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMTtcXFxcbiAgICAgICAgICAgIGxldCBzdHJEYXRlID0gZGF0ZS5nZXREYXRlKCk7XFxcXG4gICAgICAgICAgICBsZXQgc3RySG91cnMgPSBkYXRlLmdldEhvdXJzKCk7XFxcXG4gICAgICAgICAgICBsZXQgc3RyTWludXRlcyA9IGRhdGUuZ2V0TWludXRlcygpO1xcXFxuICAgICAgICAgICAgbGV0IHN0clNlY29uZHMgPSBkYXRlLmdldFNlY29uZHMoKSsxO1xcXFxuICAgICAgICAgICAgaWYgKG1vbnRoID49IDEgJiYgbW9udGggPD0gOSkge1xcXFxuICAgICAgICAgICAgICAgIG1vbnRoID0gXFxcXFxcXCIwXFxcXFxcXCIgKyBtb250aFxcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgaWYgKHN0ckRhdGUgPj0gMCAmJiBzdHJEYXRlIDw9IDkpIHtcXFxcbiAgICAgICAgICAgICAgICBzdHJEYXRlID0gXFxcXFxcXCIwXFxcXFxcXCIgKyBzdHJEYXRlXFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICBpZiAoc3RySG91cnMgPj0gMCAmJiBzdHJIb3VycyA8PSA5KSB7XFxcXG4gICAgICAgICAgICAgICAgc3RySG91cnMgPSBcXFxcXFxcIjBcXFxcXFxcIiArIHN0ckhvdXJzXFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICBpZiAoc3RyTWludXRlcyA+PSAwICYmIHN0ck1pbnV0ZXMgPD0gOSkge1xcXFxuICAgICAgICAgICAgICAgIHN0ck1pbnV0ZXMgPSBcXFxcXFxcIjBcXFxcXFxcIiArIHN0ck1pbnV0ZXNcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIGlmIChzdHJTZWNvbmRzID49IDAgJiYgc3RyU2Vjb25kcyA8PSA5KSB7XFxcXG4gICAgICAgICAgICAgICAgc3RyU2Vjb25kcyA9IFxcXFxcXFwiMFxcXFxcXFwiICsgc3RyU2Vjb25kc1xcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgLy9sZXQgY3VycmVudGRhdGUgPSBkYXRlLmdldEZ1bGxZZWFyKCkgKyBzZXBlcmF0b3IxICsgbW9udGggKyBzZXBlcmF0b3IxICsgc3RyRGF0ZSArIFxcXFxcXFwiIFxcXFxcXFwiICsgc3RySG91cnMgKyBzZXBlcmF0b3IyICsgc3RyTWludXRlcyArIHNlcGVyYXRvcjIgKyBzdHJTZWNvbmRzO1xcXFxuICAgICAgICAgICAgbGV0IGN1cnJlbnRkYXRlID0gKGRhdGUuZ2V0RnVsbFllYXIoKS0yMDIwKSsnJysgbW9udGggKycnKyBzdHJEYXRlICsnJysgc3RySG91cnMrJycgKyBzdHJNaW51dGVzICsnJysgTWF0aC5jZWlsKHN0clNlY29uZHMvNyk7XFxcXG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoY3VycmVudGRhdGUpXFxcXG4gICAgICAgIH1cXFxcbiQuZXhwb3J0cy5nZXROb3dGb3JtYXREYXRlID0gZ2V0Tm93Rm9ybWF0RGF0ZTtcXFxcbiQuZXhwb3J0cy5odG1sVGFnID0gaHRtbFRhZztcXFxcbiQuZXhwb3J0cy5zbWFsbCA9IGZ1bmN0aW9uKHRleHQpIHtcXFxcbiAgICByZXR1cm4gaHRtbFRhZyhcXFxcXFxcInNtYWxsXFxcXFxcXCIsIHRleHQpO1xcXFxufVxcXFxuJC5leHBvcnRzLmdldEZpbGUgPSBmdW5jdGlvbigpIHtcXFxcbiAgICB2YXIgRmlsZSA9IHJlcXVlc3QoXFxcXFxcXCJoaWtlcjovL2ZpbGVzL1dhcmVob3VzZVVTRVIuanNvblxcXFxcXFwiKSB8fCBcXFxcXFxcInt9XFxcXFxcXCI7XFxcXG4gICAgdHJ5IHtcXFxcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoRmlsZSk7XFxcXG4gICAgfSBjYXRjaCAoZSkge1xcXFxuICAgICAgICB3cml0ZUZpbGUoXFxcXFxcXCJoaWtlcjovL2ZpbGVzL1dhcmVob3VzZVVTRVIuanNvblxcXFxcXFwiLCBcXFxcXFxcInt9XFxcXFxcXCIpO1xcXFxuICAgICAgICByZXR1cm4ge307XFxcXG4gICAgfVxcXFxufVxcXFxuJC5leHBvcnRzLmdldFVzZXJEYXRlID1mdW5jdGlvbigpe1xcXFxuICAgIHZhciBGaWxlID0gcmVxdWVzdChcXFxcXFxcImhpa2VyOi8vZmlsZXMvV2FyZWhvdXNlVVNFUkEuanNvblxcXFxcXFwiKSB8fCBcXFxcXFxcIltdXFxcXFxcXCI7XFxcXG4gICAgdHJ5IHtcXFxcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoRmlsZSk7XFxcXG4gICAgfSBjYXRjaCAoZSkge1xcXFxuICAgICAgICB3cml0ZUZpbGUoXFxcXFxcXCJoaWtlcjovL2ZpbGVzL1dhcmVob3VzZVVTRVJBLmpzb25cXFxcXFxcIiwgXFxcXFxcXCJbXVxcXFxcXFwiKTtcXFxcbiAgICAgICAgcmV0dXJuIFtdO1xcXFxuICAgIH1cXFxcbn1cXFxcbiQuZXhwb3J0cy5leGlzdEZpbGUgPSBmdW5jdGlvbihzcGF0aCwgaXBhdGgsIGhlYWRlcnMpIHtcXFxcbiAgICBsZXQgc2NvZGUgPSByZXF1ZXN0KHNwYXRoKTtcXFxcbiAgICBpZiAoIXNjb2RlKSB7XFxcXG4gICAgICAgIHdyaXRlRmlsZShzcGF0aCwgcmVxdWVzdChpcGF0aCwgaGVhZGVycykpO1xcXFxuICAgIH1cXFxcbn1cXFxcblxcXFxubGV0IG5ld0FwaSA9IHtcXFxcbiAgICBcXFxcXFxcImRpc19uZXdcXFxcXFxcIjogXFxcXFxcXCIvaGlrZXJ1bGUvbmV3X3J1bGVfZGlzY3Vzcy9cXFxcXFxcIixcXFxcbiAgICBcXFxcXFxcImRpc192ZXJpZnlcXFxcXFxcIjogXFxcXFxcXCIvaGlrZXJ1bGUvcnVsZV9kaXNjdXNzL2dldF95em1cXFxcXFxcIixcXFxcbiAgICBcXFxcXFxcImRpc19nZXRcXFxcXFxcIjogXFxcXFxcXCIvaGlrZXJ1bGUvcnVsZV9kaXNjdXNzL1xcXFxcXFwiLFxcXFxuICAgIFxcXFxcXFwiZGlzX3NldFxcXFxcXFwiOiBcXFxcXFxcIi9oaWtlcnVsZS9tb2RpZnkvY2FuX2Rpc2N1c3MvXFxcXFxcXCIsXFxcXG4gICAgXFxcXFxcXCJkaXNfbmV3X3VzZXJcXFxcXFxcIjogXFxcXFxcXCIvaGlrZXJ1bGUvcnVsZV9kaXNjdXNzL25ld191c2VyXFxcXFxcXCIsXFxcXG4gICAgXFxcXFxcXCJkaXNfbG9naW5cXFxcXFxcIjpcXFxcXFxcIi9oaWtlcnVsZS9ydWxlX2Rpc2N1c3MvdXNlcl9sb2dpblxcXFxcXFwiLFxcXFxuICAgIFxcXFxcXFwiZGlzX2Rldl9kaXNjdXNzXFxcXFxcXCI6XFxcXFxcXCIvaGlrZXJ1bGUvbW9kaWZ5L2Rldl9jYW5fZGlzY3Vzc1xcXFxcXFwiLFxcXFxuICAgIFxcXFxcXFwiZGlzX2Rldl9jb250cm9sXFxcXFxcXCI6XFxcXFxcXCIvaGlrZXJ1bGUvcnVsZV9kaXNjdXNzL3JlbW92ZS9cXFxcXFxcIixcXFxcbiAgICBcXFxcXFxcImFsbF9ydWxlXFxcXFxcXCI6XFxcXFxcXCIvaGlrZXJ1bGUvZ2V0X3J1bGVzXFxcXFxcXCIsXFxcXG4gICAgXFxcXFxcXCJkaXNfZ2V0X3JlcGx5XFxcXFxcXCI6XFxcXFxcXCIvaGlrZXJ1bGUvZ2V0X3JlcGx5X3J1bGVfZGlzY3Vzc1xcXFxcXFwiLFxcXFxuICAgIFxcXFxcXFwiZGlzX3JlcGx5XFxcXFxcXCI6XFxcXFxcXCIvaGlrZXJ1bGUvZGV2X25ld19ydWxlX2Rpc2N1c3MvXFxcXFxcXCIsXFxcXG59XFxcXG5cXFxcbmZ1bmN0aW9uIHNldEFwaShvYmplY3QpIHtcXFxcbiAgICBsZXQgdGFyZ2V0ID0ge307XFxcXG4gICAgZm9yIChsZXQga2V5IGluIG9iamVjdCkge1xcXFxuICAgICAgICB0YXJnZXRba2V5XT1ob3N0K29iamVjdFtrZXldXFxcXG4gICAgfVxcXFxuICAgIHJldHVybiB0YXJnZXQ7XFxcXG59XFxcXG5cXFxcbiQuZXhwb3J0cy5hcGkgPSBzZXRBcGkobmV3QXBpKTtcXFxcbiQuZXhwb3J0cy5hcGkuaG9zdD1ob3N0O1xcXFxuJC5leHBvcnRzLmFwaS5ob21lPWhvbWU7XFxcIn0se1xcXCJjb2xfdHlwZVxcXCI6XFxcIm1vdmllXzNcXFwiLFxcXCJuYW1lXFxcIjpcXFwi5byA5Y+R6ICF55m75b2VXFxcIixcXFwicGF0aFxcXCI6XFxcImRldkxvZ2luXFxcIixcXFwicnVsZVxcXCI6XFxcImpzOlxcXFxuc2V0UGFnZVRpdGxlKFxcXFxcXFwi5byA5Y+R6ICF55m75b2VXFxcXFxcXCIpO1xcXFxuY29uc3Qge1xcXFxuICAgIGdldEFwaSxcXFxcbiAgICBodG1sVGFnLFxcXFxuICAgIG1hcENvbFR5cGUsXFxcXG4gICAgc21hbGwsXFxcXG5nZXRGaWxlXFxcXG59ID0gJC5yZXF1aXJlKFxcXFxcXFwiaGlrZXI6Ly9wYWdlL3V0aWxpeVxcXFxcXFwiKTtcXFxcbnZhciBkYXRhID0gW107XFxcXG5hZGRMaXN0ZW5lcignb25DbG9zZScsICQudG9TdHJpbmcoKCk9PntcXFxcbiAgICBjbGVhclZhcihcXFxcXFxcIldhcmVob3VzZVVzZXJuYW1lXFxcXFxcXCIpO1xcXFxuICAgIGNsZWFyVmFyKFxcXFxcXFwiV2FyZWhvdXNlUGFzc3dvcmRcXFxcXFxcIik7XFxcXG59KSlcXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgdGl0bGU6ICfotKblj7cnLFxcXFxuICAgIGNvbF90eXBlOiAnaW5wdXQnLFxcXFxuICAgIGV4dHJhOiB7XFxcXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogZ2V0VmFyKCdXYXJlaG91c2VVc2VybmFtZScsJycpLFxcXFxuICAgICAgICB0eXBlOlxcXFxcXFwibnVtYmVyXFxcXFxcXCIsXFxcXG4gICAgICAgIG9uQ2hhbmdlOiAncHV0VmFyKFxcXFxcXFwiV2FyZWhvdXNlVXNlcm5hbWVcXFxcXFxcIixpbnB1dCknXFxcXG4gICAgfVxcXFxufSwge1xcXFxuICAgIHRpdGxlOiAn5a+G56CBJyxcXFxcbiAgICBjb2xfdHlwZTogJ2lucHV0JyxcXFxcbiAgICBleHRyYToge1xcXFxuICAgICAgICBkZWZhdWx0VmFsdWU6IGdldFZhcignV2FyZWhvdXNlUGFzc3dvcmQnLCAnJyksXFxcXG4gICAgICAgIHR5cGU6IFxcXFxcXFwicGFzc3dvcmRcXFxcXFxcIixcXFxcbiAgICAgICAgb25DaGFuZ2U6ICdwdXRWYXIoXFxcXFxcXCJXYXJlaG91c2VQYXNzd29yZFxcXFxcXFwiLGlucHV0KSdcXFxcbiAgICB9XFxcXG59KTtcXFxcblxcXFxuZGF0YS5wdXNoKHtcXFxcbiAgICB0aXRsZTpcXFxcXFxcIiZuYnNwOyZuYnNwOzxhIGhyZWY9J2hpa2VyOi8vcGFnZS9SZWdpc3Rlcic+5rOo5YaMPC9hPlxcXFxcXFwiLFxcXFxuICAgIGNvbF90eXBlOlxcXFxcXFwicmljaF90ZXh0XFxcXFxcXCJcXFxcbn0pO1xcXFxubWFwQ29sVHlwZShkYXRhLCBcXFxcXFxcImxpbmVfYmxhbmtcXFxcXFxcIiwgMSk7XFxcXG5sZXQgdXNlciA9IGdldEZpbGUoKTtcXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgdGl0bGU6IGh0bWxUYWcoXFxcXFxcXCJiXFxcXFxcXCIsIFxcXFxcXFwi55m75b2VXFxcXFxcXCIpLFxcXFxuICAgIHVybDogJCgpLmxhenlSdWxlKCh1cmwsIGYpPT4ge1xcXFxuICAgICAgICBsZXQgdXNlcm5hbWUgPSBnZXRWYXIoJ1dhcmVob3VzZVVzZXJuYW1lJywgJycpLFxcXFxuICAgICAgICAgICAgcGFzc3dvcmQgPSBnZXRWYXIoJ1dhcmVob3VzZVBhc3N3b3JkJywgJycpO1xcXFxuICAgICAgICBpZih1c2VybmFtZSA9PT0gXFxcXFxcXCJcXFxcXFxcIiAmJiBwYXNzd29yZCA9PT1cXFxcXFxcIlxcXFxcXFwiKXtcXFxcbiAgICAgICAgICAgIHJldHVybiBcXFxcXFxcInRvYXN0Oi8v6LSm5Y+35ZKM5a+G56CB5LiN6IO95Li656m6XFxcXFxcXCJcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBsZXQgbXlVcmwgPSB1cmwgKyAnP3FxPScgKyB1c2VybmFtZSArICcmcGFzc3dvcmQ9JyArIHBhc3N3b3JkO1xcXFxuICAgICAgICBsZXQgY29kZV9zdHIgPSByZXF1ZXN0KG15VXJsKTtcXFxcbiAgICAgICAgbGV0IGNvZGUgPSBKU09OLnBhcnNlKGNvZGVfc3RyKTtcXFxcbiAgICAgICAgaWYgKGNvZGUuc3RhdHVzID09IDApIHtcXFxcbiAgICAgICAgICAgIGYudXNlcm5hbWU9dXNlcm5hbWU7XFxcXG4gICAgICAgICAgICBmLnBhc3N3b3JkPXBhc3N3b3JkXFxcXG4gICAgICAgICAgICB3cml0ZUZpbGUoJ2hpa2VyOi8vZmlsZXMvV2FyZWhvdXNlVVNFUi5qc29uJywgSlNPTi5zdHJpbmdpZnkoZikpO1xcXFxuICAgICAgICAgICAgYmFjaygpO1xcXFxuICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwidG9hc3Q6Ly/nmbvlvZXmiJDlip9cXFxcXFxcIjtcXFxcbiAgICAgICAgfWVsc2V7XFxcXG4gICAgICAgICAgICByZXR1cm4gXFxcXFxcXCJ0b2FzdDovL+i0puWPt+aIluWvhueggemUmeivr1xcXFxcXFwiO1xcXFxuICAgICAgICB9XFxcXG4gICAgfSwgZ2V0QXBpKFxcXFxcXFwicnVsZXNBbGxVcmxcXFxcXFxcIiksdXNlciksXFxcXG4gICAgY29sX3R5cGU6ICd0ZXh0X2NlbnRlcl8xJ1xcXFxufSk7XFxcXG5zZXRSZXN1bHQoZGF0YSk7XFxcIn0se1xcXCJjb2xfdHlwZVxcXCI6XFxcImljb25fMl9yb3VuZFxcXCIsXFxcIm5hbWVcXFwiOlxcXCLlvIDlj5HogIXnrqHnkIZcXFwiLFxcXCJwYXRoXFxcIjpcXFwiZGV2TWFuYWdlXFxcIixcXFwicnVsZVxcXCI6XFxcImpzOlxcXFxuc2V0UGFnZVRpdGxlKFxcXFxcXFwi6KeE5YiZ566h55CGXFxcXFxcXCIpO1xcXFxuYWRkTGlzdGVuZXIoJ29uQ2xvc2UnLCAnY2xlYXJWYXIoXFxcXFxcXCJXYXJlaG91c2UuYmFja1xcXFxcXFwiLFxcXFxcXFwiXFxcXFxcXCIpOycpO1xcXFxuaWYgKGdldFZhcihcXFxcXFxcIldhcmVob3VzZS5iYWNrXFxcXFxcXCIpID09PSBcXFxcXFxcIjFcXFxcXFxcIikge1xcXFxuICAgIGJhY2soKTtcXFxcbn1cXFxcbmNvbnN0IHtcXFxcbiAgICBnZXRBcGksXFxcXG4gICAgY29sb3IsXFxcXG4gICAgc21hbGwsXFxcXG4gICAgZ2V0RmlsZSxcXFxcbiAgICBleGlzdEZpbGUsXFxcXG4gICAgbWFwQ29sVHlwZSxcXFxcbiAgICBhcGlcXFxcbn0gPSAkLnJlcXVpcmUoXFxcXFxcXCJoaWtlcjovL3BhZ2UvdXRpbGl5XFxcXFxcXCIpO1xcXFxubGV0IHtcXFxcbiAgICBkZXZcXFxcbn0gPSBNWV9QQVJBTVM7XFxcXG5sZXQge1xcXFxuICAgIHVzZXJuYW1lLFxcXFxuICAgIHBhc3N3b3JkLFxcXFxufSA9IGdldEZpbGUoKTtcXFxcbi8vZXhpc3RGaWxlKFxcXFxcXFwiaGlrZXI6Ly9maWxlcy9ydWxlcy9kekhvdXNlL2h0bWwv5byA5Y+R6ICF5YiG5LqrLmh0bWxcXFxcXFxcIiwgXFxcXFxcXCJodHRwczovL2VycC5zY3dpbmJhby5jb20vaGlrZXJ1bGUvcnVsZWxpc3QuanNvbj9pZD01MzlcXFxcXFxcIik7XFxcXG5sZXQgcnVsZUxpc3QgPSBKU09OLnBhcnNlKHJlcXVlc3QoZ2V0QXBpKFxcXFxcXFwicnVsZXNBbGxVcmxcXFxcXFxcIikgKyAnP3FxPScgKyB1c2VybmFtZSArICcmcGFzc3dvcmQ9JyArIHBhc3N3b3JkKSkucmVzdWx0O1xcXFxubGV0IE1PQklMRV9VQSA9ICdNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgNS4wOyBTTS1HOTAwUCBCdWlsZC9MUlgyMVQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS84OC4wLjQzMjQuMTQ2IE1vYmlsZSBTYWZhcmkvNTM3LjM2JztcXFxcbmxldCBpbmZvU2V0VXJsID0gZ2V0QXBpKFxcXFxcXFwiaW5mb1NldFVybFxcXFxcXFwiKTtcXFxcbmxldCBpbmZvR2V0VXJsID0gZ2V0QXBpKFxcXFxcXFwiaW5mb0dldFVybFxcXFxcXFwiKSArIHVzZXJuYW1lO1xcXFxubGV0IHNldHRpbmdzR2V0VXJsID0gZ2V0QXBpKFxcXFxcXFwic2V0dGluZ3NHZXRVcmxcXFxcXFxcIikgKyB1c2VybmFtZTtcXFxcbnB1dE15VmFyKFxcXFxcXFwiZGV2X3NldF9pbmZvXFxcXFxcXCIsIFt1c2VybmFtZSwgcGFzc3dvcmQsIGluZm9TZXRVcmwsIE1PQklMRV9VQSwgaW5mb0dldFVybF0uam9pbihcXFxcXFxcIiQkXFxcXFxcXCIpKTtcXFxcbmxldCBkYXRhID0gW107XFxcXG5kYXRhLnB1c2goe1xcXFxuICAgIHRpdGxlOiAn4oCc4oCc4oCd4oCdPGJpZz7ku5PlupPorr7nva48L2JpZz4mbmJzcDsmbmJzcDsmbmJzcDs8c21hbGw+PHU+77yIIOS4quS6uui1hOaWmSA+77yJPC91Pjwvc21hbGw+JyxcXFxcbiAgICBkZXNjOiAn4oCc4oCc4oCd4oCd5oKo5YWx5pyJIDxzcGFuIHN0eWxlPVxcXFxcXFwiY29sb3I6ICNmZjcwMDBcXFxcXFxcIj4nICsgcnVsZUxpc3QubGVuZ3RoICsgJzwvc3Bhbj4nICsgXFxcXFxcXCIg5p2h6KeE5YiZ44CCXFxcXFxcXFxu54K55Ye76KeE5YiZ5Y+v6L+b6KGM5YiG5Lqr44CB5Yig6Zmk44CB5a+85YWl5pON5L2c5Y+K5p+l55yL6K+m5oOFXFxcXFxcXCIsXFxcXG4gICAgdXJsOiBcXFxcXFxcImhpa2VyOi8vcGFnZS9QZXJzb25hbERhdGEjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjXFxcXFxcXCIsXFxcXG4gICAgZXh0cmE6e2lkOmRldi5pZH0sXFxcXG4gICAgY29sX3R5cGU6ICd0ZXh0XzEnXFxcXG59KTtcXFxcbm1hcENvbFR5cGUoZGF0YSwgXFxcXFxcXCJsaW5lXFxcXFxcXCIsIDIpO1xcXFxuZGF0YS5wdXNoKHtcXFxcbiAgICB0aXRsZTogc21hbGwoY29sb3IoXFxcXFxcXCLmm7TmlLnlhazlkYrinI1cXFxcXFxcIiwgXFxcXFxcXCIjMzRiMWZmXFxcXFxcXCIpKSxcXFxcbiAgICAvLyB1cmw6IFxcXFxcXFwieDU6Ly9maWxlOi8vL3N0b3JhZ2UvZW11bGF0ZWQvMC9BbmRyb2lkL2RhdGEvY29tLmV4YW1wbGUuaGlrZXJ2aWV3L2ZpbGVzL0RvY3VtZW50cy9ydWxlcy9kekhvdXNlL2h0bWwvZGV2X2luZm9fZWRpdC5odG1sXFxcXFxcXCIsXFxcXG4gICAgdXJsOiBcXFxcXFxcImhpa2VyOi8vcGFnZS9kZXZJbmZvRWRpdFxcXFxcXFwiLFxcXFxuICAgIGNvbF90eXBlOiAndGV4dF8zJ1xcXFxufSk7XFxcXG5kYXRhLnB1c2goe1xcXFxuICAgIHRpdGxlOiBzbWFsbChjb2xvcihcXFxcXFxcIuabtOWkmuWIhuS6q/Cfk7JcXFxcXFxcIiwgXFxcXFxcXCIjMzRiMWZmXFxcXFxcXCIpKSxcXFxcbiAgICAvL3VybDogXFxcXFxcXCJ4NTovL2ZpbGU6Ly8vc3RvcmFnZS9lbXVsYXRlZC8wL0FuZHJvaWQvZGF0YS9jb20uZXhhbXBsZS5oaWtlcnZpZXcvZmlsZXMvRG9jdW1lbnRzL3J1bGVzL2R6SG91c2UvaHRtbC/lvIDlj5HogIXliIbkuqsuaHRtbFxcXFxcXFwiLFxcXFxuICAgIHVybDogXFxcXFxcXCJoaWtlcjovL3BhZ2UvbW9yZVNoYXJlXFxcXFxcXCIsXFxcXG4gICAgY29sX3R5cGU6ICd0ZXh0XzMnXFxcXG59KTtcXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgdGl0bGU6IHNtYWxsKGNvbG9yKFxcXFxcXFwi5Y2H57qn5L6d6LWW8J+TpVxcXFxcXFwiLCBcXFxcXFxcIiMzNGIxZmZcXFxcXFxcIikpLFxcXFxuICAgIHVybDogJChcXFxcXFxcIuWNh+e6p+S8mumHjeaWsOS7juS7k+W6k+aLieWPluebuOWFs+eahOmdmeaAgemhtemdouWIsOacrOWcsFxcXFxcXFxcbuehruiupOWNh+e6p+WQlz9cXFxcXFxcIikuY29uZmlybSgoaG9zdCkgPT4ge1xcXFxuICAgICAgICB3cml0ZUZpbGUoXFxcXFxcXCJoaWtlcjovL2ZpbGVzL3J1bGVzL2R6SG91c2UvaHRtbC/lvIDlj5HogIXliIbkuqsuaHRtbFxcXFxcXFwiLCByZXF1ZXN0KGhvc3QrJy9oaWtlcnVsZS9ydWxlbGlzdC5qc29uP2lkPTUzOScpKTtcXFxcbiAgICAgICAgd3JpdGVGaWxlKFxcXFxcXFwiaGlrZXI6Ly9maWxlcy9ydWxlcy9kekhvdXNlL2h0bWwvZGV2X2luZm9fZWRpdC5odG1sXFxcXFxcXCIsIHJlcXVlc3QoaG9zdCsnL2hpa2VydWxlL3J1bGVsaXN0Lmpzb24/aWQ9NDAyJykpO1xcXFxuICAgICAgICB3cml0ZUZpbGUoXFxcXFxcXCJoaWtlcjovL2ZpbGVzL3J1bGVzL2R6SG91c2UvaHRtbC9kZXZfaW5mb19nZXQuaHRtbFxcXFxcXFwiLCByZXF1ZXN0KGhvc3QrJy9oaWtlcnVsZS9ydWxlbGlzdC5qc29uP2lkPTQwNCcpKTtcXFxcbiAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xcXFxuICAgICAgICByZXR1cm4gXFxcXFxcXCJ0b2FzdDovL+W3sumHjee9ruW8gOWPkeiAheWIhuS6qyznroDku4vmn6XnnIss566A5LuL57yW6L6R562J6Z2Z5oCB5paH5Lu2XFxcXFxcXCI7XFxcXG4gICAgfSxhcGkuaG9zdCksXFxcXG4gICAgY29sX3R5cGU6ICd0ZXh0XzMnXFxcXG59KTtcXFxcbmxldCBkZXZTZXRCYWNrO1xcXFxudHJ5IHtcXFxcbiAgICBkZXZTZXRCYWNrID0gSlNPTi5wYXJzZShyZXF1ZXN0KHNldHRpbmdzR2V0VXJsKSk7XFxcXG59IGNhdGNoIChlKSB7XFxcXG4gICAgZGV2U2V0QmFjayA9IHt9O1xcXFxufVxcXFxuXFxcXG5mdW5jdGlvbiBzZXRTZXR0aW5nSXRlbShiYXNpYykge1xcXFxuICAgIGxldCB0ZW1wID0ge1xcXFxuICAgICAgICB0aXRsZTogYmFzaWMudGl0bGUsXFxcXG4gICAgICAgIGNvbF90eXBlOiBiYXNpYy5jb2xfdHlwZSxcXFxcbiAgICAgICAgdXJsOiAkKGJhc2ljLmNvbmZpcm0pLmNvbmZpcm0oKHVybCwgbXNnKSA9PiB7XFxcXG4gICAgICAgICAgICBsZXQgYmFjayA9IHJlcXVlc3QodXJsKTtcXFxcbiAgICAgICAgICAgIGxldCByZXQgPSBKU09OLnBhcnNlKGJhY2spO1xcXFxuICAgICAgICAgICAgaWYgKHJldC5zdGF0dXMgPT0gMCkge1xcXFxuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKHRydWUpO1xcXFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFxcXFxcInRvYXN0Oi8vXFxcXFxcXCIgKyBtc2dbMF07XFxcXG4gICAgICAgICAgICB9IGVsc2Uge1xcXFxuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcXFxcbiAgICAgICAgICAgICAgICByZXR1cm4gXFxcXFxcXCJ0b2FzdDovL1xcXFxcXFwiICsgbXNnWzFdICsgXFxcXFxcXCJcXFxcXFxcXG5cXFxcXFxcIiArIHJldC5kZXRhaWw7XFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgIH0sIGJhc2ljLnVybCwgYmFzaWMubXNnKVxcXFxuICAgIH07XFxcXG4gICAgcmV0dXJuIHRlbXA7XFxcXG59XFxcXG5pZiAoZGV2U2V0QmFjay5zdGF0dXMgPT0gMCkge1xcXFxuICAgIGxldCBkZXZTZXR0aW5ncyA9IGRldlNldEJhY2sucmVzdWx0O1xcXFxuICAgIGxldCBzaGFyZSA9IHtcXFxcbiAgICAgICAgY29sX3R5cGU6IFxcXFxcXFwidGV4dF8zXFxcXFxcXCJcXFxcbiAgICB9O1xcXFxuICAgIGlmIChkZXZTZXR0aW5ncy5zaGFyZV9wdWJsaWMpIHtcXFxcbiAgICAgICAgc2hhcmUudGl0bGUgPSBzbWFsbChjb2xvcihcXFxcXFxcIuWFrOW8gOS4iuS8oFxcXFxcXFwiLCBcXFxcXFxcImdyZWVuXFxcXFxcXCIpICsgY29sb3IoXFxcXFxcXCIo56eB6JePKVxcXFxcXFwiLCBcXFxcXFxcIiMwMGJmZmZcXFxcXFxcIikpO1xcXFxuICAgICAgICBzaGFyZS51cmwgPSBnZXRBcGkoXFxcXFxcXCJndXBsb2FkXFxcXFxcXCIpICsgXFxcXFxcXCI/cXE9XFxcXFxcXCIgKyB1c2VybmFtZSArIFxcXFxcXFwiJnBhc3N3b3JkPVxcXFxcXFwiICsgcGFzc3dvcmQgKyBcXFxcXFxcIiZmbGFnPTFcXFxcXFxcIjtcXFxcbiAgICAgICAgc2hhcmUuY29uZmlybSA9IFxcXFxcXFwi5piv5ZCm56Gu6K6k56eB6JeP5Lul5ZCO5o+Q5Lqk55qE6KeE5YiZP1xcXFxcXFwiO1xcXFxuICAgICAgICBzaGFyZS5tc2cgPSBbXFxcXFxcXCLlt7Lnp4Hol49cXFxcXFxcIiwgXFxcXFxcXCLnp4Hol4/lpLHotKVcXFxcXFxcIl07XFxcXG4gICAgfSBlbHNlIHtcXFxcbiAgICAgICAgc2hhcmUudGl0bGUgPSBzbWFsbChjb2xvcihcXFxcXFxcIuengeWvhuS4iuS8oFxcXFxcXFwiLCBcXFxcXFxcInJlZFxcXFxcXFwiKSArIGNvbG9yKFxcXFxcXFwiKOWFrOW8gClcXFxcXFxcIiwgXFxcXFxcXCIjYWRmZjJmXFxcXFxcXCIpKTtcXFxcbiAgICAgICAgc2hhcmUudXJsID0gZ2V0QXBpKFxcXFxcXFwiZ3VwbG9hZFxcXFxcXFwiKSArIFxcXFxcXFwiP3FxPVxcXFxcXFwiICsgdXNlcm5hbWUgKyBcXFxcXFxcIiZwYXNzd29yZD1cXFxcXFxcIiArIHBhc3N3b3JkO1xcXFxuICAgICAgICBzaGFyZS5jb25maXJtID0gXFxcXFxcXCLmmK/lkKbnoa7orqTlhazlvIDku6XlkI7mj5DkuqTnmoTop4TliJk/XFxcXFxcXCI7XFxcXG4gICAgICAgIHNoYXJlLm1zZyA9IFtcXFxcXFxcIuW3suWFrOW8gFxcXFxcXFwiLCBcXFxcXFxcIuWFrOW8gOWksei0pVxcXFxcXFwiXTtcXFxcbiAgICB9XFxcXG4gICAgZGF0YS5wdXNoKHNldFNldHRpbmdJdGVtKHNoYXJlKSk7XFxcXG4gICAgbGV0IHRpbWVPdmVyID0ge1xcXFxuICAgICAgICBjb2xfdHlwZTogXFxcXFxcXCJ0ZXh0XzNcXFxcXFxcIlxcXFxuICAgIH07XFxcXG4gICAgaWYgKGRldlNldHRpbmdzLnRpbWVfb3Zlcikge1xcXFxuICAgICAgICB0aW1lT3Zlci50aXRsZSA9IHNtYWxsKGNvbG9yKFxcXFxcXFwi55+t5pe256eY6ZKlXFxcXFxcXCIsIFxcXFxcXFwiZ3JlZW5cXFxcXFxcIikgKyBjb2xvcihcXFxcXFxcIijmsLjkuYUpXFxcXFxcXCIsIFxcXFxcXFwiIzAwYmZmZlxcXFxcXFwiKSk7XFxcXG4gICAgICAgIHRpbWVPdmVyLnVybCA9IGdldEFwaShcXFxcXFxcImd0aW1lb3ZlclxcXFxcXFwiKSArIFxcXFxcXFwiP3FxPVxcXFxcXFwiICsgdXNlcm5hbWUgKyBcXFxcXFxcIiZwYXNzd29yZD1cXFxcXFxcIiArIHBhc3N3b3JkICsgXFxcXFxcXCImZmxhZz0xXFxcXFxcXCI7XFxcXG4gICAgICAgIHRpbWVPdmVyLmNvbmZpcm0gPSBcXFxcXFxcIuaYr+WQpuehruiupOS7peWQjueahOengeiXj+inhOWImeWIhuS6q+S4jei/h+acnz9cXFxcXFxcIjtcXFxcbiAgICAgICAgdGltZU92ZXIubXNnID0gW1xcXFxcXFwi5bey6K6+5Li65rC45LmFXFxcXFxcXCIsIFxcXFxcXFwi6K6+5Li65rC45LmF5aSx6LSlXFxcXFxcXCJdO1xcXFxuICAgIH0gZWxzZSB7XFxcXG4gICAgICAgIHRpbWVPdmVyLnRpdGxlID0gc21hbGwoY29sb3IoXFxcXFxcXCLmsLjkuYXnp5jpkqVcXFxcXFxcIiwgXFxcXFxcXCJyZWRcXFxcXFxcIikgKyBjb2xvcihcXFxcXFxcIijov4fmnJ8pXFxcXFxcXCIsIFxcXFxcXFwiI2FkZmYyZlxcXFxcXFwiKSk7XFxcXG4gICAgICAgIHRpbWVPdmVyLnVybCA9IGdldEFwaShcXFxcXFxcImd0aW1lb3ZlclxcXFxcXFwiKSArIFxcXFxcXFwiP3FxPVxcXFxcXFwiICsgdXNlcm5hbWUgKyBcXFxcXFxcIiZwYXNzd29yZD1cXFxcXFxcIiArIHBhc3N3b3JkO1xcXFxuICAgICAgICB0aW1lT3Zlci5jb25maXJtID0gXFxcXFxcXCLnoa7orqTopoHku6XlkI7liIbkuqvnmoTnp4Hol4/op4TliJnoh6rliqjliLDmnJ8/XFxcXFxcXCI7XFxcXG4gICAgICAgIHRpbWVPdmVyLm1zZyA9IFtcXFxcXFxcIuW3suiuvuS4uui/h+acn1xcXFxcXFwiLCBcXFxcXFxcIuiuvuS4uui/h+acn+Wksei0pVxcXFxcXFwiXTtcXFxcbiAgICB9XFxcXG4gICAgZGF0YS5wdXNoKHNldFNldHRpbmdJdGVtKHRpbWVPdmVyKSk7XFxcXG4gICAgbGV0IGRpc2N1c3MgPSB7XFxcXG4gICAgICAgIGNvbF90eXBlOiBcXFxcXFxcInRleHRfM1xcXFxcXFwiXFxcXG4gICAgfTtcXFxcbiAgICBpZiAoZGV2U2V0dGluZ3MuY2FuX2Rpc2N1c3MpIHtcXFxcbiAgICAgICAgZGlzY3Vzcy50aXRsZSA9IHNtYWxsKGNvbG9yKFxcXFxcXFwi5YWB6K646K+E6K66XFxcXFxcXCIsIFxcXFxcXFwicmVkXFxcXFxcXCIpICsgY29sb3IoXFxcXFxcXCIo5LiN6K64KVxcXFxcXFwiLCBcXFxcXFxcIiNhZGZmMmZcXFxcXFxcIikpO1xcXFxuICAgICAgICBkaXNjdXNzLnVybCA9IGFwaS5kaXNfZGV2X2Rpc2N1c3MgKyBcXFxcXFxcIj9xcT1cXFxcXFxcIiArIHVzZXJuYW1lICsgXFxcXFxcXCImcGFzc3dvcmQ9XFxcXFxcXCIgKyBwYXNzd29yZCsgXFxcXFxcXCImZmxhZz0xXFxcXFxcXCI7XFxcXG4gICAgICAgIGRpc2N1c3MuY29uZmlybSA9IFxcXFxcXFwi5piv5ZCm56Gu6K6k5Lul5ZCO5LiK5Lyg55qE6KeE5YiZ5YWB6K646K+E6K66P1xcXFxcXFwiO1xcXFxuICAgICAgICBkaXNjdXNzLm1zZyA9IFtcXFxcXFxcIuW3suiuvuS4uuS4jeiuuFxcXFxcXFwiLCBcXFxcXFxcIuiuvue9ruWksei0pVxcXFxcXFwiXTtcXFxcblxcXFxuICAgIH0gZWxzZSB7XFxcXG4gICAgICAgIGRpc2N1c3MudGl0bGUgPSBzbWFsbChjb2xvcihcXFxcXFxcIuS4jeiuuOivhOiuulxcXFxcXFwiLCBcXFxcXFxcImdyZWVuXFxcXFxcXCIpICsgY29sb3IoXFxcXFxcXCIo5YWB6K64KVxcXFxcXFwiLCBcXFxcXFxcIiMwMGJmZmZcXFxcXFxcIikpO1xcXFxuICAgICAgICBkaXNjdXNzLnVybCA9IGFwaS5kaXNfZGV2X2Rpc2N1c3MgKyBcXFxcXFxcIj9xcT1cXFxcXFxcIiArIHVzZXJuYW1lICsgXFxcXFxcXCImcGFzc3dvcmQ9XFxcXFxcXCIgKyBwYXNzd29yZDtcXFxcbiAgICAgICAgZGlzY3Vzcy5jb25maXJtID0gXFxcXFxcXCLmmK/lkKbnoa7orqTku6XlkI7kuIrkvKDnmoTop4TliJnlhYHorrjor4Torro/XFxcXFxcXCI7XFxcXG4gICAgICAgIGRpc2N1c3MubXNnID0gW1xcXFxcXFwi5bey6K6+5Li65YWB6K64XFxcXFxcXCIsIFxcXFxcXFwi6K6+572u5aSx6LSlXFxcXFxcXCJdO1xcXFxuICAgIH1cXFxcbiAgICBkYXRhLnB1c2goc2V0U2V0dGluZ0l0ZW0oZGlzY3VzcykpO1xcXFxufVxcXFxubWFwQ29sVHlwZShkYXRhLCBcXFxcXFxcImxpbmVcXFxcXFxcIiwgMik7XFxcXG5mb3IgKGxldCBpdGVtIG9mIHJ1bGVMaXN0KSB7XFxcXG4gICAgbGV0IG15X3RfZXhjb2RlMSA9ICcnO1xcXFxuICAgIGxldCBteV90X2V4Y29kZTIgPSAnJztcXFxcbiAgICBpZiAoaXRlbS5zdGF0ZSAhPSAncHVibGljJykge1xcXFxuICAgICAgICBteV90X2V4Y29kZTEgKz0gJ+OKme+4jyc7XFxcXG4gICAgfSBlbHNlIHtcXFxcbiAgICAgICAgbXlfdF9leGNvZGUxICs9ICcnO1xcXFxuICAgIH1cXFxcbiAgICBkYXRhLnB1c2goe1xcXFxuICAgICAgICB0aXRsZTogbXlfdF9leGNvZGUxICsgaXRlbS5uYW1lICsgbXlfdF9leGNvZGUyLFxcXFxuICAgICAgICB1cmw6IFxcXFxcXFwiaGlrZXI6Ly9wYWdlL21hbmFnZVJ1bGUjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjXFxcXFxcXCIsXFxcXG4gICAgICAgIGV4dHJhOiB7XFxcXG4gICAgICAgICAgICBpZDogaXRlbS5pZCxcXFxcbiAgICAgICAgICAgIC8vdXNlcm5hbWU6IHVzZXJuYW1lLFxcXFxuICAgICAgICAgICAgLy9wYXNzd29yZDogcGFzc3dvcmRcXFxcbiAgICAgICAgfSxcXFxcbiAgICAgICAgcGljX3VybDogaXRlbS5waWMsXFxcXG4gICAgfSlcXFxcbn1cXFxcbmlmIChydWxlTGlzdC5sZW5ndGggPT09IDApIHtcXFxcbiAgICBkYXRhLnB1c2goe1xcXFxuICAgICAgICB0aXRsZTogXFxcXFxcXCI8aDUgc3R5bGU9J3RleHQtYWxpZ246Y2VudGVyJz7lv6vmnaXkuIrkvKDkvaDnmoTnrKzkuIDmnaHop4TliJnlkKfvvIE8L2g1PlxcXFxcXFwiLFxcXFxuICAgICAgICBjb2xfdHlwZTogXFxcXFxcXCJyaWNoX3RleHRcXFxcXFxcIlxcXFxuICAgIH0pO1xcXFxufVxcXFxuc2V0UmVzdWx0KGRhdGEpO1xcXCJ9LHtcXFwiY29sX3R5cGVcXFwiOlxcXCJtb3ZpZV8zXFxcIixcXFwibmFtZVxcXCI6XFxcIuinhOWImeivpue7hi1kZXZcXFwiLFxcXCJwYXRoXFxcIjpcXFwibWFuYWdlUnVsZVxcXCIsXFxcInJ1bGVcXFwiOlxcXCJqczpcXFxcbiAgICBjb25zdCB7XFxcXG4gICAgICAgIGdldEFwaSxcXFxcbiAgICAgICAgY29sb3IsXFxcXG4gICAgICAgIHNtYWxsLFxcXFxuICAgICAgICBnZXRGaWxlLFxcXFxuICAgICAgICBleGlzdEZpbGUsXFxcXG4gICAgICAgIG1hcENvbFR5cGUsXFxcXG4gICAgICAgIGh0bWxUYWcsXFxcXG4gICAgICAgIGFwaSxcXFxcbiAgICAgICAgbWQsXFxcXG4gICAgfSA9ICQucmVxdWlyZShcXFxcXFxcImhpa2VyOi8vcGFnZS91dGlsaXlcXFxcXFxcIik7XFxcXG5sZXQge1xcXFxuICAgIGlkXFxcXG59ID0gTVlfUEFSQU1TO1xcXFxubGV0IHtcXFxcbiAgICB1c2VybmFtZSxcXFxcbiAgICBwYXNzd29yZCxcXFxcbn0gPSBnZXRGaWxlKCk7XFxcXG5hZGRMaXN0ZW5lcignb25DbG9zZScsICQudG9TdHJpbmcoKCkgPT4ge1xcXFxuICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcXFxcbn0pKTtcXFxcbmxldCBkYXRhSXRlbSA9IEpTT04ucGFyc2UocmVxdWVzdChnZXRBcGkoXFxcXFxcXCJnZXRieWlkXFxcXFxcXCIpICsgXFxcXFxcXCI/aWQ9XFxcXFxcXCIgKyBpZCkpLnJlc3VsdDtcXFxcbnNldFBhZ2VUaXRsZShcXFxcXFxcIue8lui+keOAjFxcXFxcXFwiICsgZGF0YUl0ZW0ubmFtZSArIFxcXFxcXFwi44CNXFxcXFxcXCIpO1xcXFxubGV0IHJlcUJ5R2V0ID0gXFxcXFxcXCI/aWQ9XFxcXFxcXCIgKyBkYXRhSXRlbS5pZCArIFxcXFxcXFwiJnFxPVxcXFxcXFwiICsgdXNlcm5hbWUgKyBcXFxcXFxcIiZwYXNzd29yZD1cXFxcXFxcIiArIHBhc3N3b3JkO1xcXFxubGV0IHJ1bGVMaXN0SnNvbiA9IGdldEFwaShcXFxcXFxcInJ1bGVMaXN0SnNvblxcXFxcXFwiKSArIFxcXFxcXFwiP2lkPVxcXFxcXFwiO1xcXFxubGV0IGRhdGEgPSBbXTtcXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgdGl0bGU6IGh0bWxUYWcoXFxcXFxcXCJiaWdcXFxcXFxcIiwgXFxcXFxcXCLniYjmnKxcXFxcXFxcIiksXFxcXG4gICAgZGVzYzogXFxcXFxcXCLigJzigJzigJ3igJ3kupHnq6/niYjmnKw6XFxcXFxcXCIgKyBjb2xvcihkYXRhSXRlbS52ZXIsIFxcXFxcXFwiIzVjZmYyY1xcXFxcXFwiKSArIFxcXFxcXFwiXFxcXFxcXFxu5LiK5qyh5o+Q5Lqk5LqOOiBbXFxcXFxcXCIgKyBjb2xvcihkYXRhSXRlbS5sYXN0X3VwZGF0ZSwgXFxcXFxcXCIjZmY3MDAwXFxcXFxcXCIpICsgXFxcXFxcXCJdXFxcXFxcXCIsXFxcXG4gICAgdXJsOiAkKFxcXFxcXFwiPOW8gOWPkeiAhT5cXFxcXFxcXG5cXFxcXFxcIiArIGRhdGFJdGVtLmF1dGhvciArIFxcXFxcXFwiXFxcXFxcXFxuPOWQjeensD5cXFxcXFxcXG5cXFxcXFxcIiArIGRhdGFJdGVtLm5hbWUgKyBcXFxcXFxcIlxcXFxcXFxcbjzkupHnq6/niYjmnKw+XFxcXFxcXFxuXFxcXFxcXCIgKyBkYXRhSXRlbS52ZXIgKyBcXFxcXFxcIlxcXFxcXFxcbjzmm7TmlrDml7bpl7Q+XFxcXFxcXFxuW1xcXFxcXFwiICsgZGF0YUl0ZW0ubGFzdF91cGRhdGUgKyBcXFxcXFxcIl1cXFxcXFxcIikuY29uZmlybSgoKSA9PiB7fSksXFxcXG4gICAgY29sX3R5cGU6ICd0ZXh0XzEnXFxcXG59KTtcXFxcbmxldCBkYXRhVHlwZSA9IHtcXFxcbiAgICBob21lX3J1bGVfdXJsOiAn6aaW6aG15LqR6KeE5YiZJyxcXFxcbiAgICBwdWJsaXNoOiAn5o+Q5Lqk5LqR5LuT5bqT6KeE5YiZJyxcXFxcbiAgICBqc191cmw6ICfnvZHpobXmj5Lku7bop4TliJknLFxcXFxuICAgIGh0bWw6ICfpnZnmgIHpobXpnaInLFxcXFxuICAgIGNvbmZpZzogJ+S4u+mhtemFjee9ridcXFxcbn07XFxcXG5cXFxcbmxldCBiYXNpYyA9IHtcXFxcbiAgICBjb2xfdHlwZTogXFxcXFxcXCJ0ZXh0XzFcXFxcXFxcIixcXFxcbiAgICB1cmw6IFxcXFxcXFwiaGlrZXI6Ly9lbXB0eVxcXFxcXFwiXFxcXG59O1xcXFxubGV0IGRhdGFUeXBlVGlwcyA9IGRhdGFUeXBlW2RhdGFJdGVtLmRhdGFfdHlwZV0gfHwgJ+acquefpeinhOWImTonICsgZGF0YUl0ZW0uZGF0YV90eXBlO1xcXFxuXFxcXG5iYXNpYy50aXRsZSA9IGh0bWxUYWcoXFxcXFxcXCJiaWdcXFxcXFxcIiwgXFxcXFxcXCLnsbvlnotcXFxcXFxcIikgKyBcXFxcXFxcIlxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFwiICsgc21hbGwoXFxcXFxcXCIoaWQ6XFxcXFxcXCIgKyBkYXRhSXRlbS5pZCArIFxcXFxcXFwiKVxcXFxcXFwiKTtcXFxcbmJhc2ljLmRlc2MgPSBcXFxcXFxcIuaVsOaNruexu+Wei++8mlxcXFxcXFwiICsgY29sb3IoZGF0YVR5cGVUaXBzLCBcXFxcXFxcIiNjYjU0ZmZcXFxcXFxcIikgKyBcXFxcXFxcIlxcXFxcXFxcbuWIhuS6q+eKtuaAgeS4uu+8mlxcXFxcXFwiICsgZGF0YUl0ZW0uc3RhdGU7XFxcXG5pZiAoW1xcXFxcXFwiaHRtbFxcXFxcXFwiLCBcXFxcXFxcImNvbmZpZ1xcXFxcXFwiLCBcXFxcXFxcImpzX3VybFxcXFxcXFwiXS5pbmNsdWRlcyhkYXRhSXRlbS5kYXRhX3R5cGUpKSB7XFxcXG4gICAgYmFzaWMuZGVzYyArPSBcXFxcXFxcIlxcXFxcXFxcbuKAnOKAnOKAneKAnSA9PlxcXFxcXFwiICsgc21hbGwoXFxcXFxcXCLngrnmraTpooTop4hcXFxcXFxcIik7XFxcXG4gICAgYmFzaWMudXJsID0gcnVsZUxpc3RKc29uICsgZGF0YUl0ZW0uaWQ7XFxcXG59XFxcXG5sZXQgYXV0aCA9IFxcXFxcXFwiXFxcXFxcXCI7XFxcXG5pZiAoZGF0YUl0ZW0uc3RhdGUgPT0gXFxcXFxcXCJwcml2YXRlXFxcXFxcXCIpIHtcXFxcbiAgICBsZXQgYXV0aF9iYWNrID0gSlNPTi5wYXJzZShyZXF1ZXN0KGdldEFwaShcXFxcXFxcImF1dGhcXFxcXFxcIikgKyByZXFCeUdldCkpO1xcXFxuICAgIGJhc2ljLnRpdGxlID0gYmFzaWMudGl0bGUgKyBcXFxcXFxcIlxcXFxcXFxcblxcXFxcXFwiICsgc21hbGwoY29sb3IoYXV0aF9iYWNrLnJlc3VsdCwgXFxcXFxcXCJncmV5XFxcXFxcXCIpKTtcXFxcbiAgICBhdXRoID0gJyZhdXRoPScgKyBhdXRoX2JhY2sucmVzdWx0O1xcXFxuICAgIGJhc2ljLnVybCA9IGJhc2ljLnVybCA9PT0gXFxcXFxcXCJoaWtlcjovL2VtcHR5XFxcXFxcXCIgPyBiYXNpYy51cmwgOiBiYXNpYy51cmwgKyBhdXRoO1xcXFxufVxcXFxuZGF0YS5wdXNoKGJhc2ljKTtcXFxcbmxldCBub3RlcyA9IHJlcXVlc3QoZ2V0QXBpKFxcXFxcXFwiZ2V0X3J1bGVfbm90ZVxcXFxcXFwiKSArIGlkKTtcXFxcbm5vdGVzID0gSlNPTi5wYXJzZShub3RlcykucmVzdWx0O1xcXFxucmVxdWlyZShtZCk7XFxcXG5sZXQgbm90ZXNIdG1sPVxcXFxcXFwiXFxcXFxcXCJcXFxcbnRyeXtcXFxcbiAgICBub3Rlc0h0bWw9bWFya2VkLnBhcnNlKG5vdGVzKTtcXFxcbn1jYXRjaChlKXt9XFxcXG5pZiAobm90ZXMgIT09IGZhbHNlKSB7XFxcXG4gICAgZGF0YS5wdXNoKHtcXFxcbiAgICAgICAgdGl0bGU6IGh0bWxUYWcoXFxcXFxcXCJiaWdcXFxcXFxcIiwgXFxcXFxcXCLlpIfms6hcXFxcXFxcIikgKyBcXFxcXFxcIlxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFwiICsgc21hbGwoaHRtbFRhZyhcXFxcXFxcInVcXFxcXFxcIiwgXFxcXFxcXCLmn6XnnIvlrozmlbTlhazlkYogPlxcXFxcXFwiKSksXFxcXG4gICAgICAgIGRlc2M6IG5vdGVzLFxcXFxuICAgICAgICBjb2xfdHlwZTogXFxcXFxcXCJ0ZXh0XzFcXFxcXFxcIixcXFxcbiAgICAgICAgdXJsOiBcXFxcXFxcImhpa2VyOi8vcGFnZS9pbmZvXFxcXFxcXCIsXFxcXG4gICAgICAgIGV4dHJhOiB7XFxcXG4gICAgICAgICAgICB0ZXh0OiBub3Rlc0h0bWwsXFxcXG4gICAgICAgICAgICBuYW1lOiBkYXRhSXRlbS5uYW1lLFxcXFxuICAgICAgICAgICAgLy8gdHlwZTogXFxcXFxcXCJsb25nX3RleHRcXFxcXFxcIlxcXFxuICAgICAgICAgICAgdHlwZTogXFxcXFxcXCJyaWNoX3RleHRcXFxcXFxcIlxcXFxuICAgICAgICB9XFxcXG4gICAgfSk7XFxcXG59XFxcXG5kYXRhLnB1c2goe1xcXFxuICAgIHRpdGxlOiBodG1sVGFnKFxcXFxcXFwiYmlnXFxcXFxcXCIsIFxcXFxcXFwi5pON5L2cXFxcXFxcXCIpLFxcXFxuICAgIGNvbF90eXBlOiBcXFxcXFxcInRleHRfMVxcXFxcXFwiLFxcXFxuICAgIHVybDogXFxcXFxcXCJ0b2FzdDovL+S9oOaJjeaYr+acgOW4heeahOmCo+S4quS6uu+8gVxcXFxcXFwiXFxcXG59KTtcXFxcbmxldCBpbXBvcnRVcmwsIHJ1bGVDb2RlLCBzaGFyZVVybCwgYmFja0NvZGUgPSBcXFxcXFxcIlxcXFxcXFwiO1xcXFxubGV0IHN1YlVybCA9IHJ1bGVMaXN0SnNvbiArIGRhdGFJdGVtLmlkICsgYXV0aDtcXFxcbmlmICghZGF0YUl0ZW0uaXNfanNvbikge1xcXFxuICAgIGJhY2tDb2RlID0gcmVxdWVzdChzdWJVcmwpO1xcXFxufVxcXFxuc3dpdGNoIChkYXRhSXRlbS5kYXRhX3R5cGUpIHtcXFxcbiAgICBjYXNlIFxcXFxcXFwiaG9tZV9ydWxlX3VybFxcXFxcXFwiOlxcXFxuICAgICAgICBydWxlQ29kZSA9IFxcXFxcXFwi5rW36ZiU6KeG55WM6aaW6aG16aKR6YGT6KeE5YiZ44CQXFxcXFxcXCIgKyBkYXRhSXRlbS5uYW1lICsgXFxcXFxcXCLjgJHvv6Vob21lX3J1bGVfdXJs77+lXFxcXFxcXCIgKyBydWxlTGlzdEpzb24gKyBkYXRhSXRlbS5pZCArIGF1dGg7XFxcXG4gICAgICAgIGltcG9ydFVybCA9IFxcXFxcXFwicnVsZTovL1xcXFxcXFwiICsgYmFzZTY0RW5jb2RlKHJ1bGVDb2RlKVxcXFxuICAgICAgICBicmVhaztcXFxcbiAgICBjYXNlICdwdWJsaXNoJzpcXFxcbiAgICAgICAgcnVsZUNvZGUgPSAn5rW36ZiU6KeG55WM6KeE5YiZ5YiG5Lqr77yM5b2T5YmN5YiG5Lqr55qE5piv77yaJyArIGRhdGFJdGVtLm5hbWUgKyAn77+lcHVibGlzaO+/pScgKyBiYXNlNjRFbmNvZGUoYmFja0NvZGUpO1xcXFxuICAgICAgICBpbXBvcnRVcmwgPSAncnVsZTovLycgKyBiYXNlNjRFbmNvZGUocnVsZUNvZGUpO1xcXFxuICAgICAgICBicmVhaztcXFxcbiAgICBjYXNlICdqc191cmwnOlxcXFxuICAgICAgICBydWxlQ29kZSA9ICfmtbfpmJTop4bnlYzop4TliJnliIbkuqvvvIzlvZPliY3liIbkuqvnmoTmmK/vvJrnvZHpobXmj5Lku7bvv6Vqc191cmzvv6UnICsgZGF0YUl0ZW0ubmFtZSArICdAYmFzZTY0Oi8vJyArIGJhc2U2NEVuY29kZShiYWNrQ29kZSk7XFxcXG4gICAgICAgIGltcG9ydFVybCA9ICdydWxlOi8vJyArIGJhc2U2NEVuY29kZShydWxlQ29kZSk7XFxcXG4gICAgICAgIGJyZWFrO1xcXFxuICAgIGNhc2UgJ2h0bWwnOlxcXFxuICAgICAgICBsZXQgZmlsZV90bXAgPSBkYXRhSXRlbS5uYW1lLnNwbGl0KCcuJyk7XFxcXG4gICAgICAgIGxldCBmaWxlX3BhdGggPSBmaWxlX3RtcC5sZW5ndGggPiAxID8gZmlsZV90bXBbZmlsZV90bXAubGVuZ3RoIC0gMV0gKyBcXFxcXFxcIi9cXFxcXFxcIiArIGRhdGFJdGVtLm5hbWUgOiBkYXRhSXRlbS5uYW1lO1xcXFxuICAgICAgICBydWxlQ29kZSA9IFxcXFxcXFwi5rW36ZiU6KeG55WM5pys5Zyw5paH5Lu25YiG5Lqr77+lZmlsZV91cmzvv6VoaWtlcjovL2ZpbGVzL3J1bGVzL2R6SG91c2UvXFxcXFxcXCIgKyBmaWxlX3BhdGggKyBcXFxcXFxcIkBcXFxcXFxcIiArIHJ1bGVMaXN0SnNvbiArIGRhdGFJdGVtLmlkICsgYXV0aDtcXFxcbiAgICAgICAgaW1wb3J0VXJsID0gJ3J1bGU6Ly8nICsgYmFzZTY0RW5jb2RlKHJ1bGVDb2RlKTtcXFxcbiAgICAgICAgYnJlYWtcXFxcbiAgICBjYXNlIFxcXFxcXFwiY29uZmlnXFxcXFxcXCI6XFxcXG4gICAgICAgIGltcG9ydFVybCA9ICQoKS5ydWxlKHBhc3N3b3JkID0+IHtcXFxcbiAgICAgICAgICAgIGV2YWwoZmV0Y2goXFxcXFxcXCJoaWtlcjovL2Fzc2V0cy9ob21lLmpzXFxcXFxcXCIpKTtcXFxcbiAgICAgICAgICAgIEhpa2VySG9tZS5sb2FkKFxcXFxcXFwiaW1wb3J0XFxcXFxcXCIsIHBhc3N3b3JkKTtcXFxcbiAgICAgICAgfSwgYmFja0NvZGUpO1xcXFxuICAgICAgICBicmVhaztcXFxcbn1cXFxcbmxldCBteV9jb2xfdHlwZSA9IFxcXFxcXFwidGV4dF8yXFxcXFxcXCI7XFxcXG5pZiAoaW1wb3J0VXJsKSB7XFxcXG4gICAgZGF0YS5wdXNoKHtcXFxcbiAgICAgICAgdGl0bGU6IFxcXFxcXFwi5a+85YWl6KeE5YiZXFxcXFxcXCIsXFxcXG4gICAgICAgIHVybDogaW1wb3J0VXJsLFxcXFxuICAgICAgICBjb2xfdHlwZTogbXlfY29sX3R5cGVcXFxcbiAgICB9KTtcXFxcbiAgICBpZihkYXRhSXRlbS5pc19qc29uX2xpc3QmJi9ob21lX3J1bGVfdXJsfGh0bWwvLnRlc3QoZGF0YUl0ZW0uZGF0YV90eXBlKSl7XFxcXG4gICAgICAgIGRhdGEucHVzaCh7XFxcXG4gICAgICAgICAgICB0aXRsZTogJ+KAnOKAnOKAneKAnTxzcGFuIHN0eWxlPVxcXFxcXFwiY29sb3I6ICNmZjcwMDBcXFxcXFxcIj7lr7zlhaXpgZPlvrfnu488L3NwYW4+JyxcXFxcbiAgICAgICAgICAgIHVybDogJCgpLmxhenlSdWxlKChkYXRhSXRlbSxzdWJVcmwpPT57XFxcXG4gICAgICAgICAgICAgICAgLy8gbGV0IHRpdGxlID0gXFxcXFxcXCJILVxcXFxcXFwiK2RhdGFJdGVtLm5hbWUrXFxcXFxcXCIuXFxcXFxcXCIrZGF0YUl0ZW0uYXV0aG9yO1xcXFxuICAgICAgICAgICAgICAgIGxldCB0aXRsZSA9IFxcXFxcXFwiSi1cXFxcXFxcIitkYXRhSXRlbS5uYW1lLnNwbGl0KCcuJylbMF07XFxcXG4gICAgICAgICAgICAgICAgbGV0IHN1Yk9iaiA9IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxcXFxuICAgICAgICAgICAgICAgICAgICB1cmw6IHN1YlVybCxcXFxcbiAgICAgICAgICAgICAgICAgICAgZGVzYzogXFxcXFxcXCJoaWtlcjovL2ZpbGVzL3J1bGVzL2R6SG91c2UvcnVsZUNhY2hlL1xcXFxcXFwiK3RpdGxlK1xcXFxcXFwiLmpzb25cXFxcXFxcIixcXFxcbiAgICAgICAgICAgICAgICAgICAgY29kZTogXFxcXFxcXCJcXFxcXFxcIixcXFxcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlOiBmYWxzZSwvL+emgeeUqOW5tuWPkeabtOaWsFxcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICBsZXQgc2hhcmVUZXh0ID0gYmFzZTY0RW5jb2RlKEpTT04uc3RyaW5naWZ5KHN1Yk9iaikpO1xcXFxuICAgICAgICAgICAgICAgIHZhciBwYXN0ZXMgPSBnZXRQYXN0ZXMoKTtcXFxcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gc2hhcmVQYXN0ZShzaGFyZVRleHQscGFzdGVzLnNsaWNlKC0xKVswXSk7XFxcXG4gICAgICAgICAgICAgICAgbGV0IGltcG9ydF9ydWxlPSBcXFxcXFxcIui9u+WQiOmbhuiuoumYhe+8mlxcXFxcXFwiK3RpdGxlKydcXFxcXFxcXG4nK3VybDtcXFxcbiAgICAgICAgICAgICAgICBjb3B5KGltcG9ydF9ydWxlKTtcXFxcbiAgICAgICAgICAgICAgICBjb25zdCBwYXRoID0gJ2hpa2VyOi8vZmlsZXMvcnVsZXMvZHpIb3VzZS9ydWxlQ2FjaGUvc3ViLmpzb24nO1xcXFxuICAgICAgICAgICAgICAgICQucmMoY29uZmlnLmxpYi5zdWIpO1xcXFxuICAgICAgICAgICAgICAgIHJldHVybiDorqLpmIXlr7zlhaUocGF0aClcXFxcbiAgICAgICAgICAgIH0sZGF0YUl0ZW0sc3ViVXJsKSxcXFxcbiAgICAgICAgICAgIGNvbF90eXBlOiBteV9jb2xfdHlwZVxcXFxuICAgICAgICB9KTtcXFxcbiAgICB9XFxcXG59XFxcXG5pZiAocnVsZUNvZGUpIHtcXFxcbiAgICBkYXRhLnB1c2goe1xcXFxuICAgICAgICB0aXRsZTogXFxcXFxcXCLliIbkuqvop4TliJlcXFxcXFxcIixcXFxcbiAgICAgICAgdXJsOiBcXFxcXFxcImNvcHk6Ly9cXFxcXFxcIiArIHJ1bGVDb2RlLFxcXFxuICAgICAgICBjb2xfdHlwZTogbXlfY29sX3R5cGVcXFxcbiAgICB9KTtcXFxcbn1cXFxcblxcXFxuZnVuY3Rpb24gc2V0U2V0dGluZ0l0ZW0oYmFzaWMsIHBhdHRlcm4pIHtcXFxcbiAgICBsZXQgdGVtcCA9IHtcXFxcbiAgICAgICAgdGl0bGU6IGJhc2ljLnRpdGxlLFxcXFxuICAgICAgICBjb2xfdHlwZTogYmFzaWMuY29sX3R5cGUsXFxcXG4gICAgICAgIHVybDogJChiYXNpYy5jb25maXJtKS5jb25maXJtKCh1cmwsIG1zZywgcGF0dGVybikgPT4ge1xcXFxuICAgICAgICAgICAgbGV0IGJhY2tBID0gcmVxdWVzdCh1cmwpO1xcXFxuICAgICAgICAgICAgbGV0IHJldCA9IEpTT04ucGFyc2UoYmFja0EpO1xcXFxuICAgICAgICAgICAgaWYgKHJldC5zdGF0dXMgPT0gMCkge1xcXFxuICAgICAgICAgICAgICAgIHBhdHRlcm4gPyBiYWNrKCkgOiByZWZyZXNoUGFnZShmYWxzZSk7XFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwidG9hc3Q6Ly9cXFxcXFxcIiArIG1zZ1swXTtcXFxcbiAgICAgICAgICAgIH0gZWxzZSB7XFxcXG4gICAgICAgICAgICAgICAgcGF0dGVybiA/IGJhY2soKSA6IHJlZnJlc2hQYWdlKGZhbHNlKTtcXFxcbiAgICAgICAgICAgICAgICByZXR1cm4gXFxcXFxcXCJ0b2FzdDovL1xcXFxcXFwiICsgbXNnWzFdICsgXFxcXFxcXCJcXFxcXFxcXG5cXFxcXFxcIiArIHJldC5kZXRhaWw7XFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgIH0sIGJhc2ljLnVybCwgYmFzaWMubXNnLCBwYXR0ZXJuKVxcXFxuICAgIH07XFxcXG4gICAgcmV0dXJuIHRlbXA7XFxcXG59XFxcXG5pZiAoZGF0YUl0ZW0uc3RhdGUgPT0gJ3ByaXZhdGUnKSB7XFxcXG4gICAgZGF0YS5wdXNoKHtcXFxcbiAgICAgICAgdGl0bGU6IFxcXFxcXFwi6K6+5Li65YWs5byAXFxcXFxcXCIsXFxcXG4gICAgICAgIHVybDogJChnZXRBcGkoXFxcXFxcXCJzaGFyZVxcXFxcXFwiKSArIHJlcUJ5R2V0ICsgXFxcXFxcXCImZmxhZ1xcXFxcXFwiICsgXFxcXFxcXCIjbm9Mb2FkaW5nI1xcXFxcXFwiKS5sYXp5UnVsZSgoKSA9PiB7XFxcXG4gICAgICAgICAgICByZXF1ZXN0KGlucHV0KTtcXFxcbiAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcXFxcbiAgICAgICAgICAgIHJldHVybiBcXFxcXFxcInRvYXN0Oi8v5bey6K6+5Li65YWs5byAXFxcXFxcXCI7XFxcXG4gICAgICAgIH0pLFxcXFxuICAgICAgICBjb2xfdHlwZTogbXlfY29sX3R5cGVcXFxcbiAgICB9LCB7XFxcXG4gICAgICAgIHRpdGxlOiBcXFxcXFxcIumaj+acuuWvhumSpVxcXFxcXFwiLFxcXFxuICAgICAgICBjb2xfdHlwZTogbXlfY29sX3R5cGUsXFxcXG4gICAgICAgIHVybDogJChnZXRBcGkoXFxcXFxcXCJnZW5BdXRoXFxcXFxcXCIpICsgcmVxQnlHZXQgKyBcXFxcXFxcIiNub0xvYWRpbmcjXFxcXFxcXCIpLmxhenlSdWxlKCgpID0+IHtcXFxcbiAgICAgICAgICAgIGxldCBiYWNrID0gcmVxdWVzdChpbnB1dCk7XFxcXG4gICAgICAgICAgICBsZXQgcmV0ID0gSlNPTi5wYXJzZShiYWNrKTtcXFxcbiAgICAgICAgICAgIGlmIChyZXQuc3RhdHVzID09IDApIHtcXFxcbiAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwidG9hc3Q6Ly/lt7LnlJ/miJDpmo/mnLrlr4bnoIFcXFxcXFxcXG5cXFxcXFxcIiArIHJldC5yZXN1bHRcXFxcbiAgICAgICAgICAgIH0gZWxzZSB7XFxcXG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UodHJ1ZSk7XFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwidG9hc3Q6Ly/pmo/mnLrlr4bnoIHnlJ/miJDlpLHotKVcXFxcXFxcIlxcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICB9KVxcXFxuICAgIH0pO1xcXFxuICAgIGxldCB0aW1lT3ZlciA9IHtcXFxcbiAgICAgICAgY29sX3R5cGU6IG15X2NvbF90eXBlXFxcXG4gICAgfTtcXFxcbiAgICBpZiAoZGF0YUl0ZW0udGltZV9vdmVyKSB7XFxcXG4gICAgICAgIHRpbWVPdmVyLnRpdGxlID0gc21hbGwoY29sb3IoXFxcXFxcXCLnn63ml7blr4bpkqVcXFxcXFxcIiwgXFxcXFxcXCJncmVlblxcXFxcXFwiKSArIGNvbG9yKFxcXFxcXFwiKOKGkuawuOS5hSlcXFxcXFxcIiwgXFxcXFxcXCJyZWRcXFxcXFxcIikpO1xcXFxuICAgICAgICB0aW1lT3Zlci51cmwgPSBnZXRBcGkoXFxcXFxcXCJ0aW1lb3ZlclxcXFxcXFwiKSArIHJlcUJ5R2V0ICsgXFxcXFxcXCImZmxhZz0xXFxcXFxcXCI7XFxcXG4gICAgICAgIHRpbWVPdmVyLmNvbmZpcm0gPSBcXFxcXFxcIuaYr+WQpuehruiupOS7peWQjueahOengeiXj+inhOWImeWIhuS6q+S4jei/h+acnz9cXFxcXFxcIjtcXFxcbiAgICAgICAgdGltZU92ZXIubXNnID0gW1xcXFxcXFwi5bey6K6+5Li65rC45LmFXFxcXFxcXCIsIFxcXFxcXFwi6K6+5Li65rC45LmF5aSx6LSlXFxcXFxcXCJdO1xcXFxuICAgIH0gZWxzZSB7XFxcXG4gICAgICAgIHRpbWVPdmVyLnRpdGxlID0gc21hbGwoY29sb3IoXFxcXFxcXCLmsLjkuYXlr4bpkqVcXFxcXFxcIiwgXFxcXFxcXCJyZWRcXFxcXFxcIikgKyBjb2xvcihcXFxcXFxcIijihpLnn63ml7YpXFxcXFxcXCIsIFxcXFxcXFwiZ3JlZW5cXFxcXFxcIikpO1xcXFxuICAgICAgICB0aW1lT3Zlci51cmwgPSBnZXRBcGkoXFxcXFxcXCJ0aW1lb3ZlclxcXFxcXFwiKSArIHJlcUJ5R2V0O1xcXFxuICAgICAgICB0aW1lT3Zlci5jb25maXJtID0gXFxcXFxcXCLnoa7orqTopoHku6XlkI7liIbkuqvnmoTnp4Hol4/op4TliJnoh6rliqjliLDmnJ8/XFxcXFxcXCI7XFxcXG4gICAgICAgIHRpbWVPdmVyLm1zZyA9IFtcXFxcXFxcIuW3suiuvuS4uui/h+acn1xcXFxcXFwiLCBcXFxcXFxcIuiuvuS4uui/h+acn+Wksei0pVxcXFxcXFwiXTtcXFxcbiAgICB9XFxcXG4gICAgZGF0YS5wdXNoKHNldFNldHRpbmdJdGVtKHRpbWVPdmVyKSk7XFxcXG59IGVsc2UgaWYgKGRhdGFJdGVtLnN0YXRlID09ICdwdWJsaWMnKSB7XFxcXG4gICAgZGF0YS5wdXNoKHtcXFxcbiAgICAgICAgdGl0bGU6IFxcXFxcXFwi6K6+5Li656eB5pyJXFxcXFxcXCIsXFxcXG4gICAgICAgIHVybDogJChnZXRBcGkoXFxcXFxcXCJzaGFyZVxcXFxcXFwiKSArIHJlcUJ5R2V0ICsgXFxcXFxcXCImZmxhZz0xI25vTG9hZGluZyNcXFxcXFxcIikubGF6eVJ1bGUoKCkgPT4ge1xcXFxuICAgICAgICAgICAgcmVxdWVzdChpbnB1dCk7XFxcXG4gICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XFxcXG4gICAgICAgICAgICByZXR1cm4gXFxcXFxcXCJ0b2FzdDovL+W3suiuvuS4uuengeaciVxcXFxcXFwiO1xcXFxuICAgICAgICB9KSxcXFxcbiAgICAgICAgY29sX3R5cGU6IG15X2NvbF90eXBlXFxcXG4gICAgfSk7XFxcXG59XFxcXG5kYXRhLnB1c2goc2V0U2V0dGluZ0l0ZW0oe1xcXFxuICAgIHRpdGxlOiBcXFxcXFxcIuWIoOmZpOaVsOaNrlxcXFxcXFwiLFxcXFxuICAgIGNvbmZpcm06IFxcXFxcXFwi5piv5ZCm56Gu6K6k5Yig6ZmkXFxcXFxcXCIsXFxcXG4gICAgbXNnOiBbXFxcXFxcXCLlt7LliKDpmaRcXFxcXFxcIiwgXFxcXFxcXCLliKDpmaTlpLHotKVcXFxcXFxcIl0sXFxcXG4gICAgdXJsOiBnZXRBcGkoXFxcXFxcXCJkZWxldGVVcmxcXFxcXFxcIikgKyByZXFCeUdldCxcXFxcbiAgICBjb2xfdHlwZTogbXlfY29sX3R5cGVcXFxcbn0sIHRydWUpKTtcXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgdGl0bGU6IFxcXFxcXFwi6K6+572u5Zu+5qCHXFxcXFxcXCIsXFxcXG4gICAgdXJsOiAkKGRhdGFJdGVtLnBpY191cmwsIFxcXFxcXFwi6L6T5YWl5Zu+5qCH5Zyw5Z2AXFxcXFxcXCIpLmlucHV0KGFwaSA9PiB7XFxcXG4gICAgICAgIGlmIChpbnB1dCA9PT0gXFxcXFxcXCJcXFxcXFxcIikge1xcXFxuICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwidG9hc3Q6Ly/kvaDlnKjpgJfmiJHpk77mjqXlk6o/XFxcXFxcXCJcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBsZXQgcmVzdWx0ID0gcmVxdWVzdChhcGkgKyBcXFxcXFxcIiZydWxlX3BpYz1cXFxcXFxcIiArIGlucHV0KTtcXFxcbiAgICAgICAgcmVzdWx0ID0gSlNPTi5wYXJzZShyZXN1bHQpO1xcXFxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyAhPT0gMCkge1xcXFxuICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwidG9hc3Q6Ly9cXFxcXFxcIiArIHJlc3VsdC5kZXRhaWw7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgcmV0dXJuIFxcXFxcXFwidG9hc3Q6Ly/kv67mlLnmiJDlip9cXFxcXFxcIjtcXFxcbiAgICB9LCBnZXRBcGkoXFxcXFxcXCJzZXRfcnVsZV9waWNcXFxcXFxcIikgKyBkYXRhSXRlbS5pZCArIHJlcUJ5R2V0KSxcXFxcbiAgICBjb2xfdHlwZTogbXlfY29sX3R5cGVcXFxcbn0pO1xcXFxuXFxcXG5kYXRhLnB1c2goe1xcXFxuICAgIHRpdGxlOiBkYXRhSXRlbS5jYW5fZGlzY3VzcyA/IFxcXFxcXFwi56aB5q2i6K+E6K66XFxcXFxcXCIgOiBcXFxcXFxcIuW8gOWQr+ivhOiuulxcXFxcXFwiLFxcXFxuICAgIHVybDogJChhcGkuZGlzX3NldCArIGRhdGFJdGVtLmlkICsgcmVxQnlHZXQgKyBcXFxcXFxcIiZzdGF0ZT1cXFxcXFxcIiArIChkYXRhSXRlbS5jYW5fZGlzY3VzcyA/IFxcXFxcXFwiXFxcXFxcXCIgOiAxKSkubGF6eVJ1bGUoKGNhbl9kaXNjdXNzKSA9PiB7XFxcXG4gICAgICAgIHJlcXVlc3QoaW5wdXQpO1xcXFxuICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XFxcXG4gICAgICAgIHJldHVybiBjYW5fZGlzY3VzcyA/IFxcXFxcXFwidG9hc3Q6Ly/lt7LnpoHmraLor4TorrpcXFxcXFxcIiA6IFxcXFxcXFwidG9hc3Q6Ly/lt7LlvIDlkK/or4TorrpcXFxcXFxcIjtcXFxcbiAgICB9LCBkYXRhSXRlbS5jYW5fZGlzY3VzcyksXFxcXG4gICAgY29sX3R5cGU6IG15X2NvbF90eXBlXFxcXG59KTtcXFxcbk1ZX1BBUkFNUy5uYW1lID0gZGF0YUl0ZW0ubmFtZTtcXFxcbk1ZX1BBUkFNUy51c2VybmFtZT11c2VybmFtZTtcXFxcbk1ZX1BBUkFNUy5wYXNzd29yZD1wYXNzd29yZDtcXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgdGl0bGU6IFxcXFxcXFwi6K6+572u5aSH5rOoXFxcXFxcXCIsXFxcXG4gICAgdXJsOiBcXFxcXFxcImhpa2VyOi8vcGFnZS9zZXRfcnVsZV9ub3Rlc1xcXFxcXFwiLFxcXFxuICAgIGV4dHJhOiBNWV9QQVJBTVMsXFxcXG4gICAgY29sX3R5cGU6IG15X2NvbF90eXBlXFxcXG59KTtcXFxcbmlmIChkYXRhSXRlbS5pc19qc29uICYmIGRhdGFJdGVtLmRhdGFfdHlwZSA9PT0gXFxcXFxcXCJob21lX3J1bGVfdXJsXFxcXFxcXCIgJiYgIWRhdGFJdGVtLmlzX2pzb25fbGlzdCkge1xcXFxuICAgIGRhdGEucHVzaCh7XFxcXG4gICAgICAgIHRpdGxlOiAn6L+b5YWl6aKR6YGTJyxcXFxcbiAgICAgICAgdXJsOiAkKCAvKlxcXFxcXFwiI25vTG9hZGluZyNcXFxcXFxcIiovICkubGF6eVJ1bGUoKG5hbWUsaG9tZSkgPT4ge1xcXFxuICAgICAgICAgICAgbGV0IHJ1bGVMaXN0ID0gSlNPTi5wYXJzZShyZXF1ZXN0KGhvbWUpKTtcXFxcbiAgICAgICAgICAgIGxldCBoYXNSdWxlID0gcnVsZUxpc3Quc29tZShpdGVtID0+IGl0ZW0udGl0bGUgPT09IG5hbWUpO1xcXFxuICAgICAgICAgICAgaWYgKGhhc1J1bGUpIHtcXFxcbiAgICAgICAgICAgICAgICBwdXRWYXIoXFxcXFxcXCJXYXJlaG91c2UuYmFja1xcXFxcXFwiLCBcXFxcXFxcIjFcXFxcXFxcIik7XFxcXG4gICAgICAgICAgICAgICAgYmFjaygpO1xcXFxuICAgICAgICAgICAgICAgIHJldHVybiBob21lK1xcXFxcXFwic0BcXFxcXFxcIiArIG5hbWU7XFxcXG4gICAgICAgICAgICB9IGVsc2Uge1xcXFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFxcXFxcInRvYXN0Oi8v5pyq5a6J6KOFXFxcXFxcXCI7XFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgIH0sIGRhdGFJdGVtLm5hbWUsYXBpLmhvbWUpLFxcXFxuICAgICAgICBjb2xfdHlwZTogbXlfY29sX3R5cGVcXFxcbiAgICB9KTtcXFxcbn1cXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgY29sX3R5cGU6IFxcXFxcXFwibGluZV9ibGFua1xcXFxcXFwiXFxcXG59KTtcXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgdGl0bGU6IGRhdGFJdGVtLmdvb2RfbnVtLFxcXFxuICAgIHBpY191cmw6IFxcXFxcXFwiaGlrZXI6Ly9maWxlcy9pY29uL+i1ni5zdmdcXFxcXFxcIixcXFxcbiAgICBjb2xfdHlwZTogXFxcXFxcXCJpY29uX3NtYWxsXzNcXFxcXFxcIixcXFxcbiAgICB1cmw6IFxcXFxcXFwiaGlrZXI6Ly9lbXB0eVxcXFxcXFwiXFxcXG59KTtcXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgdGl0bGU6IGRhdGFJdGVtLmJhZF9udW0sXFxcXG4gICAgcGljX3VybDogXFxcXFxcXCJoaWtlcjovL2ZpbGVzL2ljb24v6LipLnN2Z1xcXFxcXFwiLFxcXFxuICAgIGNvbF90eXBlOiBcXFxcXFxcImljb25fc21hbGxfM1xcXFxcXFwiLFxcXFxuICAgIHVybDogXFxcXFxcXCJoaWtlcjovL2VtcHR5XFxcXFxcXCJcXFxcbn0pO1xcXFxuZGF0YS5wdXNoKHtcXFxcbiAgICB0aXRsZTogXFxcXFxcXCLor4TorrpcXFxcXFxcIixcXFxcbiAgICBwaWNfdXJsOiBcXFxcXFxcImhpa2VyOi8vZmlsZXMvaWNvbi/or4Torrouc3ZnXFxcXFxcXCIsXFxcXG4gICAgY29sX3R5cGU6IFxcXFxcXFwiaWNvbl9zbWFsbF8zXFxcXFxcXCIsXFxcXG4gICAgdXJsOiBcXFxcXFxcImhpa2VyOi8vcGFnZS9SZXBseSNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSNcXFxcXFxcIixcXFxcbiAgICBleHRyYToge1xcXFxuICAgICAgICBydWxlSWQ6IGRhdGFJdGVtLmlkLFxcXFxuICAgICAgICBuYW1lOiBkYXRhSXRlbS5hdXRob3IsXFxcXG4gICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZCxcXFxcbiAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lXFxcXG4gICAgfVxcXFxufSk7XFxcXG5sZXQgdG90YWxTdW0gPSBkYXRhSXRlbS5nb29kX251bSArIGRhdGFJdGVtLmJhZF9udW07XFxcXG5cXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgdGl0bGU6IGh0bWxUYWcoXFxcXFxcXCJiaWdcXFxcXFxcIiwgXFxcXFxcXCLor4TorrooXFxcXFxcXCIgKyB0b3RhbFN1bSArIFxcXFxcXFwiKVxcXFxcXFwiKSArIFxcXFxcXFwiXFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXCIgKyBzbWFsbChodG1sVGFnKFxcXFxcXFwidVxcXFxcXFwiLCBcXFxcXFxcIuafpeeci+WFqOmDqOivhOiuuijmjqfor4QpID5cXFxcXFxcIikpLFxcXFxuICAgIGNvbF90eXBlOiBcXFxcXFxcInRleHRfMVxcXFxcXFwiLFxcXFxuICAgIHVybDogXFxcXFxcXCJoaWtlcjovL3BhZ2UvQ29tbWVudFxcXFxcXFwiLFxcXFxuICAgIGV4dHJhOiB7XFxcXG4gICAgICAgIHVybDogXFxcXFxcXCJoaWtlcjovL2VtcHR5I2Z5cGFnZSNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSNcXFxcXFxcIixcXFxcbiAgICAgICAgaWQ6IGRhdGFJdGVtLmlkLFxcXFxuICAgICAgICB0b3RhbFN1bTogdG90YWxTdW0sXFxcXG4gICAgICAgIG5vX2FjdGl2ZTogdHJ1ZSxcXFxcbiAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxcXFxuICAgICAgICBwYXNzd29yZDogcGFzc3dvcmRcXFxcbiAgICB9XFxcXG59KTtcXFxcbi8vY29uc3QgbG9uZ2VzdFN1bT0xMjA7XFxcXG5sZXQgaWNvbiA9IHtcXFxcbiAgICBcXFxcXFxcImdvb2RcXFxcXFxcIjogXFxcXFxcXCLwn5GNXFxcXFxcXCIsXFxcXG4gICAgXFxcXFxcXCJiYWRcXFxcXFxcIjogXFxcXFxcXCLwn5GOXFxcXFxcXCIsXFxcXG4gICAgXFxcXFxcXCJyZXBseVxcXFxcXFwiOiBcXFxcXFxcIuW8gOWPkeiAhfCfl6NcXFxcXFxcIlxcXFxufVxcXFxuaWYgKHRvdGFsU3VtID09PSAwKSB7XFxcXG4gICAgZGF0YS5wdXNoKHtcXFxcbiAgICAgICAgdGl0bGU6IFxcXFxcXFwiPGg1IHN0eWxlPSd0ZXh0LWFsaWduOmNlbnRlcic+5LiA5p2h6K+E6K665Lmf5rKh5pyJ77yM5b+r5p2l5oqi5rKZ5Y+R5ZCn77yBPC9oNT5cXFxcXFxcIixcXFxcbiAgICAgICAgY29sX3R5cGU6IFxcXFxcXFwicmljaF90ZXh0XFxcXFxcXCJcXFxcbiAgICB9KTtcXFxcbn0gZWxzZSB7XFxcXG4gICAgbGV0IGNvbW1lbnRMaXN0ID0gSlNPTi5wYXJzZShyZXF1ZXN0KGFwaS5kaXNfZ2V0ICsgZGF0YUl0ZW0uaWQgKyBcXFxcXFxcIj9saW1pdD01XFxcXFxcXCIpKS5yZXN1bHQ7XFxcXG4gICAgZm9yIChsZXQgaXRlbSBvZiBjb21tZW50TGlzdCkge1xcXFxuICAgICAgICBsZXQgUmVwbHkgPSBpdGVtLmRpc2N1c3NfdHlwZT09PVxcXFxcXFwicmVwbHlcXFxcXFxcIiYmaXRlbS5yZXBseV90b19uYW1lIT09ZmFsc2UmJml0ZW0ucmVwbHlfdG9faWQhPT1mYWxzZT9cXFxcXFxcIuKAmOKAmOWbnuWkjUBcXFxcXFxcIitpdGVtLnJlcGx5X3RvX25hbWUrXFxcXFxcXCIgI1xcXFxcXFwiK2l0ZW0uZGlzY3Vzc19pZCtcXFxcXFxcIuKAmeKAmVxcXFxcXFxcblxcXFxcXFwiOlxcXFxcXFwiXFxcXFxcXCI7XFxcXG4gICAgICAgIGRhdGEucHVzaCh7XFxcXG4gICAgICAgICAgICB0aXRsZTogaXRlbS5uYW1lICsgXFxcXFxcXCImbmJzcDsmbmJzcDs8Zm9udCBjb2xvcj0nZ3JheSc+PHNtYWxsPiNcXFxcXFxcIiArIGl0ZW0uaWQgKyBcXFxcXFxcIjwvc21hbGw+PGZvbnQ+XFxcXFxcXCIsXFxcXG4gICAgICAgICAgICBjb2xfdHlwZTogXFxcXFxcXCJhdmF0YXJcXFxcXFxcIixcXFxcbiAgICAgICAgICAgIHVybDogXFxcXFxcXCJoaWtlcjovL3BhZ2UvUmVwbHlcXFxcXFxcIixcXFxcbiAgICAgICAgICAgIGV4dHJhOntcXFxcbiAgICAgICAgICAgICAgICBydWxlSWQ6IGRhdGFJdGVtLmlkLFxcXFxuICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSxcXFxcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmQsXFxcXG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lLFxcXFxuICAgICAgICAgICAgICAgIHJlcGx5SWQ6aXRlbS5pZFxcXFxuICAgICAgICAgICAgfSxcXFxcbiAgICAgICAgICAgIHBpY191cmw6IGl0ZW0uYXZhdGFyX3VybFxcXFxuICAgICAgICB9KTtcXFxcbiAgICAgICAgZGF0YS5wdXNoKHtcXFxcbiAgICAgICAgICAgIHRpdGxlOiBpdGVtLmRpc2N1c3NfdGV4dCxcXFxcbiAgICAgICAgICAgIGRlc2M6IFJlcGx5K2l0ZW0uY3JlYXRlX2RhdGUgKyBcXFxcXFxcIsK3XFxcXFxcXCIgKyBpY29uW2l0ZW0uZGlzY3Vzc190eXBlXSxcXFxcbiAgICAgICAgICAgIGNvbF90eXBlOiBcXFxcXFxcInRleHRfMVxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgdXJsOiBcXFxcXFxcImhpa2VyOi8vcGFnZS9pbmZvXFxcXFxcXCIsXFxcXG4gICAgICAgICAgICBleHRyYToge1xcXFxuICAgICAgICAgICAgICAgIG5hbWU6IGl0ZW0ubmFtZSxcXFxcbiAgICAgICAgICAgICAgICB0eXBlOiBcXFxcXFxcImxvbmdfdGV4dFxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgICAgIHRleHQ6IGl0ZW0uZGlzY3Vzc190ZXh0XFxcXG4gICAgICAgICAgICB9LFxcXFxuICAgICAgICAgICAgcGljX3VybDogaXRlbS5hdmF0YXJfdXJsXFxcXG4gICAgICAgIH0pO1xcXFxuICAgIH1cXFxcbn1cXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgY29sX3R5cGU6IFxcXFxcXFwibGluZV9ibGFua1xcXFxcXFwiXFxcXG59KTtcXFxcbnNldFJlc3VsdChkYXRhKTtcXFwifSx7XFxcImNvbF90eXBlXFxcIjpcXFwiaWNvbl8yX3JvdW5kXFxcIixcXFwibmFtZVxcXCI6XFxcIuinhOWImeWIl+ihqFxcXCIsXFxcInBhdGhcXFwiOlxcXCJydWxlc1xcXCIsXFxcInJ1bGVcXFwiOlxcXCJqczpcXFxcbiAgICBhZGRMaXN0ZW5lcignb25DbG9zZScsJC50b1N0cmluZygoKT0+e1xcXFxuICAgICAgICBjbGVhclZhcihcXFxcXFxcIldhcmVob3VzZS5iYWNrXFxcXFxcXCIpO1xcXFxuICAgICAgICBjbGVhclZhcihcXFxcXFxcIldhcmVob3VzZS5maWx0ZXJcXFxcXFxcIik7XFxcXG4gICAgICAgIGNsZWFyVmFyKFxcXFxcXFwiV2FyZWhvdXNlLnR5cGVcXFxcXFxcIik7XFxcXG4gICAgICAgIGlmKGdldFZhcignV2FyZWhvdXNlLmNhbl91cGxvYWQnLCcnKSl7XFxcXG4gICAgICAgICAgICBsb2coJ+aTjeS9nOi/h+emgeatouS4iuS8oDonK2dldFZhcignV2FyZWhvdXNlLmNhbl91cGxvYWQnKSk7XFxcXG4gICAgICAgICAgICBjbGVhclZhcihcXFxcXFxcIldhcmVob3VzZS5jYW5fdXBsb2FkXFxcXFxcXCIpO1xcXFxuICAgICAgICAgICAgcmVmcmVzaFBhZ2UodHJ1ZSk7XFxcXG4gICAgICAgIH1cXFxcbiAgICB9KSk7XFxcXG5cXFxcbmlmIChnZXRWYXIoXFxcXFxcXCJXYXJlaG91c2UuYmFja1xcXFxcXFwiKSA9PT0gXFxcXFxcXCIxXFxcXFxcXCIpIHtcXFxcbiAgICBiYWNrKGZhbHNlKTtcXFxcbn1cXFxcblxcXFxuY29uc3Qge1xcXFxuICAgIGdldEFwaSxcXFxcbiAgICBhcGksXFxcXG4gICAgY29sb3IsXFxcXG4gICAgc21hbGwsXFxcXG4gICAgbG9jYWxSdWxlVmVyLFxcXFxuICAgIGh0bWxUYWcsXFxcXG4gICAgbWRcXFxcbn0gPSAkLnJlcXVpcmUoXFxcXFxcXCJoaWtlcjovL3BhZ2UvdXRpbGl5XFxcXFxcXCIpO1xcXFxuY29uc3QgeyBub3JtYWxTb3J0IH0gPSAkLnJlcXVpcmUoXFxcXFxcXCJoaWtlcjovL3BhZ2Uvc29ydFxcXFxcXFwiKTtcXFxcbmxldCB7XFxcXG4gICAgYXZhdGFyVXJsLFxcXFxuICAgIHFxLFxcXFxuICAgIGlkLFxcXFxuICAgIGNhbl91cGxvYWRcXFxcbn0gPSBNWV9QQVJBTVM7XFxcXG5sZXQgZGF0YVR5cGUgPSBnZXRWYXIoXFxcXFxcXCJXYXJlaG91c2UudHlwZVxcXFxcXFwiLFxcXFxcXFwiXFxcXFxcXCIpO1xcXFxubGV0IGJhY2tDb2RlID0gSlNPTi5wYXJzZShyZXF1ZXN0KGdldEFwaShcXFxcXFxcInJ1bGVzVXJsXFxcXFxcXCIpICsgXFxcXFxcXCI/bmFtZT1cXFxcXFxcIiArIHFxK1xcXFxcXFwiJmRhdGFfdHlwZT1cXFxcXFxcIitkYXRhVHlwZSkpO1xcXFxubGV0IGRldk5hbWUgPSBiYWNrQ29kZS5kZXZfbmFtZTtcXFxcbnB1dFZhcihcXFxcXFxcIldhcmVob3VzZS5maWx0ZXJcXFxcXFxcIiwgZGV2TmFtZSk7XFxcXG5sZXQgcnVsZUxpc3QgPSBiYWNrQ29kZS5yZXN1bHQ7XFxcXG5sZXQgc3ViVXJsID0gZ2V0QXBpKFxcXFxcXFwianNvbkxpc3RcXFxcXFxcIikgKyBcXFxcXFxcIj9uYW1lPVxcXFxcXFwiICsgcXE7XFxcXG5sZXQgaGFzU3ViID0gaGFzSG9tZVN1YihzdWJVcmwpO1xcXFxubGV0IGRldkluZm8gPSBcXFxcXFxcIui/meS4quS6uuW+iOaHkizku4DkuYjpg73msqHlhpnlk6Z+XFxcXFxcXCI7XFxcXG5sZXQgdG1wSnNvbiA9IEpTT04ucGFyc2UocmVxdWVzdChnZXRBcGkoXFxcXFxcXCJpbmZvR2V0VXJsXFxcXFxcXCIpICsgcXEpKTtcXFxcbmlmICh0bXBKc29uLnN0YXR1cyA9PSAwKSB7XFxcXG4gICAgZGV2SW5mbyA9IHRtcEpzb24ucmVzdWx0IHx8IGRldkluZm87XFxcXG59XFxcXG5sZXQgc3ViRmxhZyA9IGhhc1N1YiA/ICfwn4aXJyA6ICfwn5OhJztcXFxcbmxldCBkYXRhID0gW107XFxcXG5yZXF1aXJlKG1kKTtcXFxcbmRldkluZm89bWFya2VkLnBhcnNlKGRldkluZm8pO1xcXFxuZGF0YS5wdXNoKHtcXFxcbiAgICB0aXRsZTogXFxcXFxcXCLigJzigJzigJ3igJ1cXFxcXFxcIiArIGRldk5hbWUgKyBcXFxcXFxcIlxcXFxcXFxcblxcXFxcXFxcblxcXFxcXFwiICsgc21hbGwoaHRtbFRhZyhcXFxcXFxcInVcXFxcXFxcIiwgXFxcXFxcXCLngrnlh7vmn6XnnIvlrozmlbTlhazlkYpcXFxcXFxcIikpLFxcXFxuICAgIGRlc2M6IHNtYWxsKGRldkluZm8pLFxcXFxuICAgIHVybDogJ2hpa2VyOi8vcGFnZS9pbmZvJyxcXFxcbiAgICBleHRyYToge1xcXFxuICAgICAgICB0ZXh0OiBkZXZJbmZvLFxcXFxuICAgICAgICBuYW1lOiBkZXZOYW1lLFxcXFxuICAgICAgICB0eXBlOlxcXFxcXFwicmljaF90ZXh0XFxcXFxcXCJcXFxcbiAgICB9LFxcXFxuICAgIHBpY191cmw6IGF2YXRhclVybCxcXFxcbiAgICBjb2xfdHlwZTogJ21vdmllXzFfdmVydGljYWxfcGljJ1xcXFxufSk7XFxcXG5kYXRhLnB1c2goe1xcXFxuICAgIHRpdGxlOiBcXFxcXFxcIjxiaWc+6K6i6ZiF566h55CGPC9iaWc+Jm5ic3A7Jm5ic3A7PHNtYWxsPijlvZPliY1cXFxcXFxcIiArIChoYXNTdWIgPyBcXFxcXFxcIuW3suiuoumYhVxcXFxcXFwiIDogXFxcXFxcXCLmnKrorqLpmIVcXFxcXFxcIikgKyBcXFxcXFxcIik8L3NtYWxsPlxcXFxcXFwiLFxcXFxuICAgIGNvbF90eXBlOiBcXFxcXFxcInJpY2hfdGV4dFxcXFxcXFwiXFxcXG59KTtcXFxcblxcXFxubGV0IHN1Yl9jb2RlID0gJ+a1t+mYlOinhueVjOWQiOmbhuinhOWImeiuoumYhe+/pWhvbWVfc3Vi77+lJyArIGRldk5hbWUgKyBcXFxcXFxcIuWQiOmbhkBAXFxcXFxcXCIgKyBzdWJVcmw7XFxcXG5sZXQgcnVsZXNDb2RlID0gJ+a1t+mYlOinhueVjOWQiOmbhuinhOWIme+/pWhvbWVfcnVsZV91cmzvv6UnICsgc3ViVXJsO1xcXFxuZGF0YS5wdXNoKHtcXFxcbiAgICB0aXRsZTogJ+KAnOKAnOKAneKAnTxzcGFuIHN0eWxlPVxcXFxcXFwiY29sb3I6ICNmZjcwMDBcXFxcXFxcIj7kuIDplK7orqLpmIU8L3NwYW4+JyxcXFxcbiAgICBkZXNjOiAn6K6i6ZiF4oCc4oCc4oCd4oCdPHNwYW4gc3R5bGU9XFxcXFxcXCJjb2xvcjogIzVjZmYyY1xcXFxcXFwiPicgKyBkZXZOYW1lICsgJzwvc3Bhbj7nmoTmiYDmnInljZXop4TliJnvvIzlkIjpm4bpnIDljZXni6zorqLpmIUnLFxcXFxuICAgIHVybDogc3ViX2NvZGUsXFxcXG4gICAgY29sX3R5cGU6ICd0ZXh0XzInXFxcXG59KTtcXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgdGl0bGU6ICfigJzigJzigJ3igJ08c3BhbiBzdHlsZT1cXFxcXFxcImNvbG9yOiAjZmY3MDAwXFxcXFxcXCI+5a+85YWl5YWo6YOoPC9zcGFuPicsXFxcXG4gICAgdXJsOiBydWxlc0NvZGUsXFxcXG4gICAgY29sX3R5cGU6ICd0ZXh0XzInXFxcXG59KTtcXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgdGl0bGU6ICfigJzigJzigJ3igJ08c3BhbiBzdHlsZT1cXFxcXFxcImNvbG9yOiAjZmY3MDAwXFxcXFxcXCI+5a+85YWl6L275ZCI6ZuGPC9zcGFuPicsXFxcXG4gICAgdXJsOiAkKCkubGF6eVJ1bGUoKGRldk5hbWUsc3ViVXJsLGF2YXRhclVybCk9PntcXFxcbiAgICAgICAgY29uc3Qge2dlblJ1bGV9PSQucmVxdWlyZShcXFxcXFxcImhpa2VyOi8vcGFnZS9nZW5BcGlcXFxcXFxcIik7XFxcXG4gICAgICAgIGxvZyhcXFxcXFxcIui9u+WQiOmbhuWbvuagh+mTvuaOpTpcXFxcXFxcIithdmF0YXJVcmwpO1xcXFxuICAgICAgICBsZXQgaW1wb3J0X3J1bGU9Z2VuUnVsZShcXFxcXFxcIui9u+WQiOmbhi5cXFxcXFxcIitkZXZOYW1lLHN1YlVybCxhdmF0YXJVcmwpO1xcXFxuICAgICAgICAvL2NvcHkoaW1wb3J0X3J1bGUpO1xcXFxuICAgICAgICBsZXQgcnVsZUNvZGU9cGFyc2VQYXN0ZShpbXBvcnRfcnVsZS5zcGxpdChcXFxcXFxcIlxcXFxcXFxcblxcXFxcXFwiKVswXSk7XFxcXG4gICAgICAgIC8vcmV0dXJuIFxcXFxcXFwiaGlrZXI6Ly9lbXB0eVxcXFxcXFwiXFxcXG4gICAgICAgIGltcG9ydFVybCA9ICdydWxlOi8vJyArIGJhc2U2NEVuY29kZShydWxlQ29kZSk7XFxcXG4gICAgICAgIHJldHVybiBpbXBvcnRVcmxcXFxcbiAgICB9LGRldk5hbWUsc3ViVXJsLGF2YXRhclVybCksXFxcXG4gICAgY29sX3R5cGU6ICd0ZXh0XzInXFxcXG59KTtcXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgdGl0bGU6ICfigJzigJzigJ3igJ08c3BhbiBzdHlsZT1cXFxcXFxcImNvbG9yOiAjZmY3MDAwXFxcXFxcXCI+5a+85YWl6YGT5b6357uPPC9zcGFuPicsXFxcXG4gICAgdXJsOiAkKCkubGF6eVJ1bGUoKGRldk5hbWUsc3ViVXJsLGF2YXRhclVybCk9PntcXFxcbiAgICAgICAgbGV0IHRpdGxlID0gXFxcXFxcXCJILVxcXFxcXFwiK2Rldk5hbWU7XFxcXG4gICAgICAgIGxldCBzdWJPYmogPSB7XFxcXG4gICAgICAgICAgICB0aXRsZTogdGl0bGUsXFxcXG4gICAgICAgICAgICB1cmw6IHN1YlVybCxcXFxcbiAgICAgICAgICAgIGRlc2M6IFxcXFxcXFwiaGlrZXI6Ly9maWxlcy9ydWxlcy9kekhvdXNlL3J1bGVDYWNoZS9cXFxcXFxcIit0aXRsZStcXFxcXFxcIi5qc29uXFxcXFxcXCIsXFxcXG4gICAgICAgICAgICBjb2RlOiBcXFxcXFxcIlxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgYWN0aXZlOiBmYWxzZSwvL+emgeeUqOW5tuWPkeabtOaWsFxcXFxuICAgICAgICB9XFxcXG4gICAgICAgIGxldCBzaGFyZVRleHQgPSBiYXNlNjRFbmNvZGUoSlNPTi5zdHJpbmdpZnkoc3ViT2JqKSk7XFxcXG4gICAgICAgIHZhciBwYXN0ZXMgPSBnZXRQYXN0ZXMoKTtcXFxcbiAgICAgICAgdmFyIHVybCA9IHNoYXJlUGFzdGUoc2hhcmVUZXh0LHBhc3Rlcy5zbGljZSgtMSlbMF0pO1xcXFxuICAgICAgICBsZXQgaW1wb3J0X3J1bGU9IFxcXFxcXFwi6L275ZCI6ZuG6K6i6ZiF77yaXFxcXFxcXCIrdGl0bGUrJ1xcXFxcXFxcbicrdXJsO1xcXFxuICAgICAgICBjb3B5KGltcG9ydF9ydWxlKTtcXFxcbiAgICAgICAgY29uc3QgcGF0aCA9ICdoaWtlcjovL2ZpbGVzL3J1bGVzL2R6SG91c2UvcnVsZUNhY2hlL3N1Yi5qc29uJztcXFxcbiAgICAgICAgJC5yYyhjb25maWcubGliLnN1Yik7XFxcXG4gICAgICAgIHJldHVybiDorqLpmIXlr7zlhaUocGF0aClcXFxcbiAgICB9LGRldk5hbWUsc3ViVXJsLGF2YXRhclVybCksXFxcXG4gICAgY29sX3R5cGU6ICd0ZXh0XzInXFxcXG59KTtcXFxcbmxldCBjYW5fdXBsb2FkX2FwaSA9IGdldEFwaShcXFxcXFxcIm1hbkNhblVwbG9hZFxcXFxcXFwiKStpZDtcXFxcbmlmKGdldFZhcignaG91c2UuaXNfbWFuYWdlcicpKXtcXFxcbiAgICBsZXQgdGlwcyA9IGNhbl91cGxvYWQ/J+iDvSc6J+WQpic7XFxcXG4gICAgLy8gbG9nKCd0aXBzOicrdGlwcyk7XFxcXG4gICAgLy8gbG9nKCdjYW5fdXBsb2FkOicrY2FuX3VwbG9hZCk7XFxcXG4gICAgZGF0YS5wdXNoKHtcXFxcbiAgICAgICAgdGl0bGU6J+KaoOiDveWQpuS4iuS8oDonKyhnZXRWYXIoJ1dhcmVob3VzZS5jYW5fdXBsb2FkJyl8fHRpcHMpLFxcXFxuICAgICAgICBjb2xfdHlwZTonc2Nyb2xsX2J1dHRvbicsXFxcXG4gICAgICAgIHVybDonaGlrZXI6Ly9lbXB0eSdcXFxcbiAgICB9KTtcXFxcbiAgICBmdW5jdGlvbiBzZXRVcGxvYWQoZmxhZyxjYW5fdXBsb2FkX2FwaSkge1xcXFxuICAgICAgICBmbGFnID0gZmxhZyB8fCAnJztcXFxcbiAgICAgICAgdHJ5IHtcXFxcbiAgICAgICAgICAgIGxldCBjb2RlID0gZmV0Y2goY2FuX3VwbG9hZF9hcGksIHtcXFxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XFxcXFxcXCJVc2VyLUFnZW50XFxcXFxcXCI6IE1PQklMRV9VQX0sXFxcXG4gICAgICAgICAgICAgICAgYm9keToge1xcXFxuICAgICAgICAgICAgICAgICAgICBcXFxcXFxcInBhcmFtc1xcXFxcXFwiOlxcXFxuICAgICAgICAgICAgICAgICAgICAgICAge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXFxcXFwidXNlcm5hbWVcXFxcXFxcIjogZ2V0VmFyKCdob3VzZS51c2VybmFtZScpLFxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXFxcXFwicGFzc3dvcmRcXFxcXFxcIjogZ2V0VmFyKCdob3VzZS5wYXNzd29yZCcpLFxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXFxcXFwiY2FuX3VwbG9hZFxcXFxcXFwiOiAhIWZsYWdcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICB9KTtcXFxcbiAgICAgICAgICAgIGNvZGUgPSBKU09OLnBhcnNlKGNvZGUpLnJlc3VsdDtcXFxcbiAgICAgICAgICAgIGlmIChjb2RlLnN0YXR1cyA9PT0gMCkge1xcXFxuICAgICAgICAgICAgICAgIHJldHVybiBjb2RlLmRldGFpbFxcXFxuICAgICAgICAgICAgfSBlbHNlIHtcXFxcbiAgICAgICAgICAgICAgICByZXR1cm4gJ+aTjeS9nOWksei0pTonICsgY29kZS5kZXRhaWxcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgfSBjYXRjaCAoZSkge1xcXFxuICAgICAgICAgICAgcmV0dXJuICfmk43kvZzlpLHotKU6JyArIGUubWVzc2FnZVxcXFxuICAgICAgICB9XFxcXG4gICAgfVxcXFxuICAgIGRhdGEucHVzaCh7XFxcXG4gICAgICAgIHRpdGxlOifwn5qr56aB5q2i5LiK5LygJyxcXFxcbiAgICAgICAgY29sX3R5cGU6J3Njcm9sbF9idXR0b24nLFxcXFxuICAgICAgICB1cmw6JCgn56aB5q2i6K+l5byA5Y+R6ICF5LiK5Lyg6KeE5YiZP+S9oOeahOaTjeS9nOWwhuiiq+ezu+e7n+iusOW9lScpLmNvbmZpcm0oKGlkLGNhbl91cGxvYWRfYXBpLHNldFVwbG9hZCk9PntcXFxcbiAgICAgICAgICAgIGxldCByZXQgPSBzZXRVcGxvYWQoZmFsc2UsY2FuX3VwbG9hZF9hcGkpO1xcXFxuICAgICAgICAgICAgaWYoIS/mk43kvZzlpLHotKUvLnRlc3QocmV0KSl7XFxcXG4gICAgICAgICAgICAgICAgcHV0VmFyKCdXYXJlaG91c2UuY2FuX3VwbG9hZCcsJ+WQpicpO1xcXFxuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly8nK3JldFxcXFxuICAgICAgICB9LGlkLGNhbl91cGxvYWRfYXBpLHNldFVwbG9hZClcXFxcbiAgICB9KTtcXFxcbiAgICBkYXRhLnB1c2goe1xcXFxuICAgICAgICB0aXRsZTon4pyF5YWB6K645LiK5LygJyxcXFxcbiAgICAgICAgY29sX3R5cGU6J3Njcm9sbF9idXR0b24nLFxcXFxuICAgICAgICB1cmw6JCgn5YWB6K646K+l5byA5Y+R6ICF5LiK5Lyg6KeE5YiZP+S9oOeahOaTjeS9nOWwhuiiq+ezu+e7n+iusOW9lScpLmNvbmZpcm0oKGlkLGNhbl91cGxvYWRfYXBpLHNldFVwbG9hZCk9PntcXFxcbiAgICAgICAgICAgIGxldCByZXQgPSBzZXRVcGxvYWQodHJ1ZSxjYW5fdXBsb2FkX2FwaSk7XFxcXG4gICAgICAgICAgICBpZighL+aTjeS9nOWksei0pS8udGVzdChyZXQpKXtcXFxcbiAgICAgICAgICAgICAgICBwdXRWYXIoJ1dhcmVob3VzZS5jYW5fdXBsb2FkJywn5pivJyk7XFxcXG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovLycrcmV0XFxcXG4gICAgICAgIH0saWQsY2FuX3VwbG9hZF9hcGksc2V0VXBsb2FkKVxcXFxuICAgIH0pO1xcXFxufVxcXFxuZGF0YS5wdXNoKHtcXFxcbiAgICB0aXRsZTogXFxcXFxcXCI8c21hbGw+5o+Q56S677ya5byA5Y+R6ICF5Y2V54us5YiG5Lqr55qE5ZCI6ZuG5paH5Lu25Y+q6IO95Y2V54us5a+85YWl44CCPC9zbWFsbD5cXFxcXFxcIixcXFxcbiAgICBjb2xfdHlwZTogXFxcXFxcXCJyaWNoX3RleHRcXFxcXFxcIlxcXFxufSk7XFxcXG5kYXRhLnB1c2goe1xcXFxuICAgIHRpdGxlOiBcXFxcXFxcIjxiaWc+6KeE5YiZ5YiX6KGoPC9iaWc+Jm5ic3A7Jm5ic3A7PHNtYWxsPijlhbFcXFxcXFxcIiArIHJ1bGVMaXN0Lmxlbmd0aCArIFxcXFxcXFwi5p2hKTwvc21hbGw+XFxcXFxcXCIsXFxcXG4gICAgY29sX3R5cGU6IFxcXFxcXFwicmljaF90ZXh0XFxcXFxcXCJcXFxcbn0pO1xcXFxubGV0IGRhdGFUeXBlTGlzdCA9IHtcXFxcbiAgICBcXFxcXFxcIlxcXFxcXFwiOlxcXFxcXFwi5YWo6YOoXFxcXFxcXCIsXFxcXG4gICAgXFxcXFxcXCJob21lX3J1bGVfdXJsXFxcXFxcXCI6ICflsI/nqIvluo8nLFxcXFxuICAgIC8vXFxcXFxcXCJwdWJsaXNoXFxcXFxcXCI6ICfmj5DkuqTkupHku5PlupPop4TliJknLFxcXFxuICAgIFxcXFxcXFwianNfdXJsXFxcXFxcXCI6ICfnvZHpobXmj5Lku7YnLFxcXFxuICAgIFxcXFxcXFwiaHRtbFxcXFxcXFwiOiAn6Z2Z5oCB6aG16Z2iJyxcXFxcbiAgICBcXFxcXFxcImNvbmZpZ1xcXFxcXFwiOiAn5Li76aKYJ1xcXFxufTtcXFxcbmZvcihsZXQga2V5IGluIGRhdGFUeXBlTGlzdCl7XFxcXG4gICAgZGF0YS5wdXNoKHtcXFxcbiAgICAgICAgdGl0bGU6ZGF0YVR5cGU9PT1rZXk/XFxcXFxcXCLigJzigJxcXFxcXFxcIitkYXRhVHlwZUxpc3Rba2V5XStcXFxcXFxcIuKAneKAnVxcXFxcXFwiOmRhdGFUeXBlTGlzdFtrZXldLFxcXFxuICAgICAgICB1cmw6JChcXFxcXFxcIiNub0xvYWRpbmcjXFxcXFxcXCIpLmxhenlSdWxlKChrZXkpPT57XFxcXG4gICAgICAgICAgICBwdXRWYXIoXFxcXFxcXCJXYXJlaG91c2UudHlwZVxcXFxcXFwiLGtleSk7XFxcXG4gICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XFxcXG4gICAgICAgICAgICByZXR1cm4gXFxcXFxcXCJoaWtlcjovL2VtcHR5XFxcXFxcXCI7XFxcXG4gICAgICAgIH0sa2V5KSxcXFxcbiAgICAgICAgY29sX3R5cGU6XFxcXFxcXCJzY3JvbGxfYnV0dG9uXFxcXFxcXCJcXFxcbiAgICB9KTtcXFxcbn1cXFxcbmlmIChydWxlTGlzdC5sZW5ndGggPiAyMCkge1xcXFxuICAgIGRhdGEucHVzaCh7XFxcXG4gICAgICAgIHRpdGxlOiBcXFxcXFxcIuaQnOe0olxcXFxcXFwiLFxcXFxuICAgICAgICB1cmw6ICQudG9TdHJpbmcobmFtZSA9PiBcXFxcXFxcImhpa2VyOi8vc2VhcmNoP3M9XFxcXFxcXCIgKyBpbnB1dCArIFxcXFxcXFwiJnJ1bGU9XFxcXFxcXCIgKyBuYW1lLCBNWV9SVUxFLnRpdGxlKSxcXFxcbiAgICAgICAgY29sX3R5cGU6IFxcXFxcXFwiaW5wdXRcXFxcXFxcIixcXFxcbiAgICAgICAgZGVzYzogXFxcXFxcXCLmkJzntKLlvZPliY3lvIDlj5HogIXnmoTop4TliJlcXFxcXFxcIlxcXFxuICAgIH0pO1xcXFxufVxcXFxubGV0IGhvbWVMaXN0ID0gSlNPTi5wYXJzZShyZXF1ZXN0KGFwaS5ob21lKSk7XFxcXG5sZXQgbVJ1bGVMaXN0ID0gW107XFxcXG5mb3IgKHZhciBpdGVtIG9mIHJ1bGVMaXN0KSB7XFxcXG4gICAgdmFyIG5hbWUgPSBpdGVtLm5hbWU7XFxcXG4gICAgaWYgKGl0ZW0uaXNfdGFwKSB7XFxcXG4gICAgICAgIGxldCBsb2NhdGlvbiA9IEpTT04ucGFyc2UocmVxdWVzdChnZXRBcGkoXFxcXFxcXCJydWxlTGlzdEpzb25cXFxcXFxcIikgKyBcXFxcXFxcIj9pZD1cXFxcXFxcIiArIGl0ZW0uaWQpKTtcXFxcbiAgICAgICAgaXRlbS5pZCA9IGxvY2F0aW9uLmlkO1xcXFxuICAgICAgICBpdGVtLm5hbWUgPSBsb2NhdGlvbi5uYW1lO1xcXFxuICAgICAgICBpdGVtLmF1dGhvciA9IGxvY2F0aW9uLmF1dGhvcjtcXFxcbiAgICAgICAgaXRlbS5kYXRhX3R5cGUgPSBsb2NhdGlvbi5kYXRhX3R5cGU7XFxcXG4gICAgICAgIGl0ZW0udmVyID0gbG9jYXRpb24udmVyXFxcXG4gICAgfVxcXFxuICAgIGl0ZW0udmVyc2lvbiA9IGl0ZW0udmVyO1xcXFxuICAgIGxldCBsYWJlbCA9IFxcXFxcXFwiXFxcXFxcXCIsXFxcXG4gICAgICAgIGx2ZXIgPSAtMjtcXFxcbiAgICBpZiAoaXRlbS5pc19qc29uICYmIGl0ZW0uZGF0YV90eXBlID09PSBcXFxcXFxcImhvbWVfcnVsZV91cmxcXFxcXFxcIikge1xcXFxuICAgICAgICBsdmVyID0gbG9jYWxSdWxlVmVyKGhvbWVMaXN0LCBpdGVtKTtcXFxcbiAgICAgICAgaWYgKGx2ZXIgPT09IC0xKSB7XFxcXG4gICAgICAgICAgICBsYWJlbCA9IFxcXFxcXFwi8J+GlVxcXFxcXFwiO1xcXFxuICAgICAgICB9IGVsc2UgaWYgKGx2ZXIgPCBpdGVtLnZlcikge1xcXFxuICAgICAgICAgICAgbGFiZWwgPSBcXFxcXFxcIvCfhplcXFxcXFxcIjtcXFxcbiAgICAgICAgfVxcXFxuICAgIH1cXFxcbiAgICBtUnVsZUxpc3QucHVzaCh7XFxcXG4gICAgICAgIHRpdGxlOiBsYWJlbCArIG5hbWUsXFxcXG4gICAgICAgIHVybDogXFxcXFxcXCJoaWtlcjovL3BhZ2UvcnVsZURldGFpbCNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSNcXFxcXFxcIixcXFxcbiAgICAgICAgZXh0cmE6IHtcXFxcbiAgICAgICAgICAgIGx2ZXI6IGx2ZXIsXFxcXG4gICAgICAgICAgICBpZDogaXRlbS5pZFxcXFxuICAgICAgICB9LFxcXFxuICAgICAgICBwaWNfdXJsOiBpdGVtLnBpYyxcXFxcbiAgICB9KTtcXFxcbn1cXFxcbi8qIOW9kuW5tuaOkuW6jyBTdGFydCAqL1xcXFxuaWYoZ2V0SXRlbShcXFxcXFxcIuaOkuW6j1xcXFxcXFwiLFxcXFxcXFwi5pe26Ze05LyY5YWIXFxcXFxcXCIpPT09J+aWsOeJiOS8mOWFiCcpe1xcXFxuICAgIG1SdWxlTGlzdCA9IG5vcm1hbFNvcnQobVJ1bGVMaXN0KTtcXFxcbn1cXFxcbi8qIOW9kuW5tuaOkuW6jyBFbmQgKi9cXFxcbmRhdGEucHVzaC5hcHBseShkYXRhLCBtUnVsZUxpc3QpXFxcXG5zZXRSZXN1bHQoZGF0YSk7XFxcXG5cXFwifSx7XFxcImNvbF90eXBlXFxcIjpcXFwibW92aWVfM1xcXCIsXFxcIm5hbWVcXFwiOlxcXCLop4TliJnor6bnu4YtdXNlclxcXCIsXFxcInBhdGhcXFwiOlxcXCJydWxlRGV0YWlsXFxcIixcXFwicnVsZVxcXCI6XFxcImpzOlxcXFxuICAgIGNvbnN0IHtcXFxcbiAgICAgICAgZ2V0QXBpLFxcXFxuICAgICAgICBjb2xvcixcXFxcbiAgICAgICAgc21hbGwsXFxcXG4gICAgICAgIGh0bWxUYWcsXFxcXG4gICAgICAgIGFwaSxcXFxcbiAgICAgICAgbWRcXFxcbiAgICB9ID0gJC5yZXF1aXJlKFxcXFxcXFwiaGlrZXI6Ly9wYWdlL3V0aWxpeVxcXFxcXFwiKTtcXFxcbmxldCB7XFxcXG4gICAgaWQsXFxcXG4gICAgbHZlcixcXFxcbiAgICBpc0FsbFxcXFxufSA9IE1ZX1BBUkFNUztcXFxcbmlmKGdldFBhcmFtKFxcXFxcXFwiaWRcXFxcXFxcIikpe1xcXFxuICAgIGlzQWxsID0gdHJ1ZTtcXFxcbiAgICBpZCA9IGdldFBhcmFtKFxcXFxcXFwiaWRcXFxcXFxcIik7XFxcXG4gICAgbHZlciA9IGx2ZXIgfHwgXFxcXFxcXCLmnKrojrflj5bniYjmnKzlj7dcXFxcXFxcIjtcXFxcbn1cXFxcbmFkZExpc3RlbmVyKCdvbkNsb3NlJywgJC50b1N0cmluZygoaXNBbGwpID0+IHtcXFxcbiAgICBpZighaXNBbGwpe1xcXFxuICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XFxcXG4gICAgfVxcXFxufSxpc0FsbCkpO1xcXFxubGV0IGRhdGFJdGVtID0gSlNPTi5wYXJzZShyZXF1ZXN0KGdldEFwaShcXFxcXFxcImdldGJ5aWRcXFxcXFxcIikgKyBcXFxcXFxcIj9pZD1cXFxcXFxcIiArIGlkKSkucmVzdWx0O1xcXFxuc2V0UGFnZVRpdGxlKFxcXFxcXFwi44CMXFxcXFxcXCIgKyBkYXRhSXRlbS5uYW1lICsgXFxcXFxcXCLjgI1cXFxcXFxcIilcXFxcbmxldCBydWxlTGlzdEpzb24gPSBnZXRBcGkoXFxcXFxcXCJydWxlTGlzdEpzb25cXFxcXFxcIikgKyBcXFxcXFxcIj9pZD1cXFxcXFxcIjtcXFxcbmxldCBkYXRhID0gW107XFxcXG52YXIgaGFzU3ViID0gZmFsc2U7XFxcXG5cXFxcbmlmIChkYXRhSXRlbS5pc19qc29uX2xpc3QpIHtcXFxcbiAgICBoYXNTdWIgPSBoYXNIb21lU3ViKHJ1bGVMaXN0SnNvbiArIGRhdGFJdGVtLmlkKTtcXFxcbn0gZWxzZSBpZiAoIWRhdGFJdGVtLmlzX2pzb25fbGlzdCAmJiBkYXRhSXRlbS5kYXRhX3R5cGUgPT0gJ2hvbWVfcnVsZV91cmwnKSB7XFxcXG4gICAgaGFzU3ViID0gaGFzSG9tZVN1YihydWxlTGlzdEpzb24gKyBkYXRhSXRlbS5pZCArICcmZGVidWc9dHJ1ZScpO1xcXFxufVxcXFxuXFxcXG5kYXRhLnB1c2goe1xcXFxuICAgIHRpdGxlOiBodG1sVGFnKFxcXFxcXFwiYmlnXFxcXFxcXCIsIFxcXFxcXFwi54mI5pysXFxcXFxcXCIpLFxcXFxuICAgIGRlc2M6IFxcXFxcXFwi4oCc4oCc4oCd4oCd5byA5Y+R6ICF77yaXFxcXFxcXCIgKyBjb2xvcihkYXRhSXRlbS5hdXRob3IsIFxcXFxcXFwiIzIyOEJFNlxcXFxcXFwiKSArIFxcXFxcXFwiXFxcXFxcXFxu5LqR56uv54mI5pys77yaXFxcXFxcXCIgKyBjb2xvcihkYXRhSXRlbS52ZXIsIFxcXFxcXFwiIzVjZmYyY1xcXFxcXFwiKSArIFxcXFxcXFwiXFxcXFxcXFx0XFxcXFxcXFx05pys5Zyw54mI5pys77yaXFxcXFxcXCIgKyBjb2xvcihsdmVyLCBcXFxcXFxcIiM1Y2ZmMmNcXFxcXFxcIikgKyBcXFxcXFxcIlxcXFxcXFxcbuabtOaWsOS6jjogW1xcXFxcXFwiICsgY29sb3IoZGF0YUl0ZW0ubGFzdF91cGRhdGUsIFxcXFxcXFwiI2ZmNzAwMFxcXFxcXFwiKSArIFxcXFxcXFwiXVxcXFxcXFwiLFxcXFxuICAgIHVybDogJChcXFxcXFxcIjzlvIDlj5HogIU+XFxcXFxcXFxuXFxcXFxcXCIgKyBkYXRhSXRlbS5hdXRob3IgKyBcXFxcXFxcIlxcXFxcXFxcbjzlkI3np7A+XFxcXFxcXFxuXFxcXFxcXCIgKyBkYXRhSXRlbS5uYW1lICsgXFxcXFxcXCJcXFxcXFxcXG485LqR56uv54mI5pysPlxcXFxcXFxcblxcXFxcXFwiICsgZGF0YUl0ZW0udmVyICsgXFxcXFxcXCJcXFxcXFxcXG485pys5Zyw54mI5pysPlxcXFxcXFxcblxcXFxcXFwiICsgbHZlciArIFxcXFxcXFwiXFxcXFxcXFxuPOabtOaWsOaXtumXtD5cXFxcXFxcXG5bXFxcXFxcXCIgKyBkYXRhSXRlbS5sYXN0X3VwZGF0ZSArIFxcXFxcXFwiXVxcXFxcXFwiKS5jb25maXJtKCgpID0+IHt9KSxcXFxcbiAgICBjb2xfdHlwZTogJ3RleHRfMSdcXFxcbn0pO1xcXFxubGV0IGRhdGFUeXBlID0ge1xcXFxuICAgIGhvbWVfcnVsZV91cmw6ICfpppbpobXkupHop4TliJknLFxcXFxuICAgIHB1Ymxpc2g6ICfmj5DkuqTkupHku5PlupPop4TliJknLFxcXFxuICAgIGpzX3VybDogJ+e9kemhteaPkuS7tuinhOWImScsXFxcXG4gICAgaHRtbDogJ+mdmeaAgemhtemdoicsXFxcXG4gICAgY29uZmlnOiAn5Li76aG16YWN572uJ1xcXFxufTtcXFxcblxcXFxubGV0IGJhc2ljID0ge1xcXFxuICAgIGNvbF90eXBlOiBcXFxcXFxcInRleHRfMVxcXFxcXFwiLFxcXFxuICAgIHVybDogXFxcXFxcXCJoaWtlcjovL2VtcHR5XFxcXFxcXCJcXFxcbn07XFxcXG5sZXQgZGF0YVR5cGVUaXBzID0gZGF0YVR5cGVbZGF0YUl0ZW0uZGF0YV90eXBlXSB8fCAn5pyq55+l6KeE5YiZ77yaJyArIGRhdGFJdGVtLmRhdGFfdHlwZTtcXFxcblxcXFxubGV0IHNhZmVfdGlwPWRhdGFJdGVtLmlzX3NhZmU/XFxcXFxcXCLlronlhahcXFxcXFxcIjpcXFxcXFxcIuWNsemZqVxcXFxcXFwiO1xcXFxubGV0IGdvb2RfdGlwID0gZGF0YUl0ZW0uaXNfZ29vZD9zbWFsbChjb2xvcihcXFxcXFxcIuOAkOS8mOi0qOinhOWImeOAkVxcXFxcXFwiLCcjZmY3MDAwJykpOlxcXFxcXFwiXFxcXFxcXCI7XFxcXG5sZXQgbm90X3NhZmVfbm90ZT1kYXRhSXRlbS5ub3Rfc2FmZV9ub3RlO1xcXFxuYmFzaWMudGl0bGUgPSBodG1sVGFnKFxcXFxcXFwiYmlnXFxcXFxcXCIsIFxcXFxcXFwi57G75Z6LXFxcXFxcXCIpICsgXFxcXFxcXCJcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcIiArIHNtYWxsKFxcXFxcXFwiKGlkOlxcXFxcXFwiICsgZGF0YUl0ZW0uaWQgKyBcXFxcXFxcIilcXFxcXFxcIikrXFxcXFxcXCJcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcIiArIHNtYWxsKFxcXFxcXFwiKOmjjumZqeajgOa1izpcXFxcXFxcIiArc2FmZV90aXArXFxcXFxcXCIpXFxcXFxcXCIpK2dvb2RfdGlwO1xcXFxuYmFzaWMuZGVzYyA9IFxcXFxcXFwi5pWw5o2u57G75Z6L77yaXFxcXFxcXCIgKyBjb2xvcihkYXRhVHlwZVRpcHMsIFxcXFxcXFwiI2NiNTRmZlxcXFxcXFwiKSArIFxcXFxcXFwiXFxcXFxcXFxu5YiG5Lqr54q25oCB5Li677yaXFxcXFxcXCIgKyBkYXRhSXRlbS5zdGF0ZTtcXFxcbmlmIChbXFxcXFxcXCJodG1sXFxcXFxcXCIsIFxcXFxcXFwiY29uZmlnXFxcXFxcXCIsIFxcXFxcXFwianNfdXJsXFxcXFxcXCJdLmluY2x1ZGVzKGRhdGFJdGVtLmRhdGFfdHlwZSkpIHtcXFxcbiAgICBiYXNpYy5kZXNjICs9IFxcXFxcXFwiXFxcXFxcXFxu4oCc4oCc4oCd4oCdID0+XFxcXFxcXCIgKyBzbWFsbChcXFxcXFxcIueCueatpOmihOiniFxcXFxcXFwiKTtcXFxcbiAgICBiYXNpYy51cmwgPSBydWxlTGlzdEpzb24gKyBkYXRhSXRlbS5pZDtcXFxcbn1cXFxcblxcXFxuZGF0YS5wdXNoKGJhc2ljKTtcXFxcbmxldCBoYXNTdWJzID0gXFxcXFxcXCJcXFxcXFxcIjtcXFxcbmlmIChoYXNTdWIpIHtcXFxcbiAgICBoYXNTdWJzID0gXFxcXFxcXCJcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcIiArIHNtYWxsKFxcXFxcXFwi5bey6K6i6ZiFXFxcXFxcXCIpXFxcXG59XFxcXG5cXFxcbmxldCBub3RlcyA9IHJlcXVlc3QoZ2V0QXBpKFxcXFxcXFwiZ2V0X3J1bGVfbm90ZVxcXFxcXFwiKSArIGlkKTtcXFxcbm5vdGVzID0gSlNPTi5wYXJzZShub3RlcykucmVzdWx0O1xcXFxucmVxdWlyZShtZCk7XFxcXG5sZXQgbm90ZXNIdG1sPVxcXFxcXFwiXFxcXFxcXCJcXFxcbnRyeXtcXFxcbiAgICBub3Rlc0h0bWw9bWFya2VkLnBhcnNlKG5vdGVzKTtcXFxcbn1jYXRjaChlKXt9XFxcXG5cXFxcbmlmIChub3RlcyAhPT0gZmFsc2UpIHtcXFxcbiAgICBkYXRhLnB1c2goe1xcXFxuICAgICAgICB0aXRsZTogaHRtbFRhZyhcXFxcXFxcImJpZ1xcXFxcXFwiLCBcXFxcXFxcIuWkh+azqFxcXFxcXFwiKSArIFxcXFxcXFwiXFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXCIgKyBzbWFsbChodG1sVGFnKFxcXFxcXFwidVxcXFxcXFwiLCBcXFxcXFxcIuafpeeci+WujOaVtOWFrOWRiiA+XFxcXFxcXCIpKSxcXFxcbiAgICAgICAgZGVzYzogbm90ZXMsXFxcXG4gICAgICAgIGNvbF90eXBlOiBcXFxcXFxcInRleHRfMVxcXFxcXFwiLFxcXFxuICAgICAgICB1cmw6IFxcXFxcXFwiaGlrZXI6Ly9wYWdlL2luZm9cXFxcXFxcIixcXFxcbiAgICAgICAgZXh0cmE6IHtcXFxcbiAgICAgICAgICAgIHRleHQ6IG5vdGVzSHRtbCxcXFxcbiAgICAgICAgICAgIG5hbWU6IGRhdGFJdGVtLm5hbWUsXFxcXG4gICAgICAgICAgICAvLyB0eXBlOiBcXFxcXFxcImxvbmdfdGV4dFxcXFxcXFwiXFxcXG4gICAgICAgICAgICB0eXBlOiBcXFxcXFxcInJpY2hfdGV4dFxcXFxcXFwiXFxcXG4gICAgICAgIH1cXFxcbiAgICB9KTtcXFxcbn1cXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgdGl0bGU6IGh0bWxUYWcoXFxcXFxcXCJiaWdcXFxcXFxcIiwgXFxcXFxcXCLmk43kvZwo5YiG5Lqr6K+m57uG6aG1KVxcXFxcXFwiKSArIGhhc1N1YnMsXFxcXG4gICAgY29sX3R5cGU6IFxcXFxcXFwidGV4dF8xXFxcXFxcXCIsXFxcXG4gICAgdXJsOiBcXFxcXFxcImNvcHk6Ly/pgZPplb/ku5PlupPjgIxcXFxcXFxcIitkYXRhSXRlbS5uYW1lK1xcXFxcXFwi44CNXFxcXFxcXFxuXFxcXFxcXCIraWQrJ0BpbXBvcnQ9anM6JC5yZXF1aXJlKFxcXFxcXFwiaGlrZXI6Ly9wYWdlL3J1bGVEZXRhaWxJbXBvcnQ/cnVsZT3pgZPplb/ku5PlupNQcm9cXFxcXFxcIiwgaW5wdXQpJ1xcXFxufSk7XFxcXG5sZXQgaW1wb3J0VXJsLCBydWxlQ29kZSwgc2hhcmVVcmwsIGJhY2tDb2RlID0gXFxcXFxcXCJcXFxcXFxcIjtcXFxcbmlmICghZGF0YUl0ZW0uaXNfanNvbikge1xcXFxuICAgIGJhY2tDb2RlID0gcmVxdWVzdChydWxlTGlzdEpzb24gKyBkYXRhSXRlbS5pZCk7XFxcXG59XFxcXG5zd2l0Y2ggKGRhdGFJdGVtLmRhdGFfdHlwZSkge1xcXFxuICAgIGNhc2UgXFxcXFxcXCJob21lX3J1bGVfdXJsXFxcXFxcXCI6XFxcXG4gICAgICAgIHJ1bGVDb2RlID0gXFxcXFxcXCLmtbfpmJTop4bnlYzpppbpobXpopHpgZPop4TliJnjgJBcXFxcXFxcIiArIGRhdGFJdGVtLm5hbWUgKyBcXFxcXFxcIuOAke+/pWhvbWVfcnVsZV91cmzvv6VcXFxcXFxcIiArIHJ1bGVMaXN0SnNvbiArIGRhdGFJdGVtLmlkO1xcXFxuICAgICAgICBpbXBvcnRVcmwgPSBcXFxcXFxcInJ1bGU6Ly9cXFxcXFxcIiArIGJhc2U2NEVuY29kZShydWxlQ29kZSlcXFxcbiAgICAgICAgYnJlYWs7XFxcXG4gICAgY2FzZSAncHVibGlzaCc6XFxcXG4gICAgICAgIHJ1bGVDb2RlID0gJ+a1t+mYlOinhueVjOinhOWImeWIhuS6q++8jOW9k+WJjeWIhuS6q+eahOaYr++8micgKyBkYXRhSXRlbS5uYW1lICsgJ++/pXB1Ymxpc2jvv6UnICsgYmFzZTY0RW5jb2RlKGJhY2tDb2RlKTtcXFxcbiAgICAgICAgaW1wb3J0VXJsID0gJ3J1bGU6Ly8nICsgYmFzZTY0RW5jb2RlKHJ1bGVDb2RlKTtcXFxcbiAgICAgICAgYnJlYWs7XFxcXG4gICAgY2FzZSAnanNfdXJsJzpcXFxcbiAgICAgICAgcnVsZUNvZGUgPSAn5rW36ZiU6KeG55WM6KeE5YiZ5YiG5Lqr77yM5b2T5YmN5YiG5Lqr55qE5piv77ya572R6aG15o+S5Lu277+lanNfdXJs77+lJyArIGRhdGFJdGVtLm5hbWUgKyAnQGJhc2U2NDovLycgKyBiYXNlNjRFbmNvZGUoYmFja0NvZGUpO1xcXFxuICAgICAgICBpbXBvcnRVcmwgPSAncnVsZTovLycgKyBiYXNlNjRFbmNvZGUocnVsZUNvZGUpO1xcXFxuICAgICAgICBicmVhaztcXFxcbiAgICBjYXNlICdodG1sJzpcXFxcbiAgICAgICAgbGV0IGZpbGVfdG1wID0gZGF0YUl0ZW0ubmFtZS5zcGxpdCgnLicpO1xcXFxuICAgICAgICBsZXQgZmlsZV9wYXRoID0gZmlsZV90bXAubGVuZ3RoID4gMSA/IGZpbGVfdG1wW2ZpbGVfdG1wLmxlbmd0aCAtIDFdICsgXFxcXFxcXCIvXFxcXFxcXCIgKyBkYXRhSXRlbS5uYW1lIDogZGF0YUl0ZW0ubmFtZTtcXFxcbiAgICAgICAgcnVsZUNvZGUgPSBcXFxcXFxcIua1t+mYlOinhueVjOacrOWcsOaWh+S7tuWIhuS6q++/pWZpbGVfdXJs77+laGlrZXI6Ly9maWxlcy9ydWxlcy9kekhvdXNlL1xcXFxcXFwiICsgZmlsZV9wYXRoICsgXFxcXFxcXCJAXFxcXFxcXCIgKyBydWxlTGlzdEpzb24gKyBkYXRhSXRlbS5pZDtcXFxcbiAgICAgICAgaW1wb3J0VXJsID0gJ3J1bGU6Ly8nICsgYmFzZTY0RW5jb2RlKHJ1bGVDb2RlKTtcXFxcbiAgICAgICAgYnJlYWtcXFxcbiAgICBjYXNlIFxcXFxcXFwiY29uZmlnXFxcXFxcXCI6XFxcXG4gICAgICAgIGltcG9ydFVybCA9ICQoKS5ydWxlKHBhc3N3b3JkID0+IHtcXFxcbiAgICAgICAgICAgIGV2YWwoZmV0Y2goXFxcXFxcXCJoaWtlcjovL2Fzc2V0cy9ob21lLmpzXFxcXFxcXCIpKTtcXFxcbiAgICAgICAgICAgIEhpa2VySG9tZS5sb2FkKFxcXFxcXFwiaW1wb3J0XFxcXFxcXCIsIHBhc3N3b3JkKTtcXFxcbiAgICAgICAgfSwgYmFja0NvZGUpO1xcXFxuICAgICAgICBicmVhaztcXFxcbn1cXFxcbmxldCBteV9jb2xfdHlwZSA9IFxcXFxcXFwidGV4dF8yXFxcXFxcXCI7XFxcXG5sZXQgbXlfY29sX3R5cGUyID0gXFxcXFxcXCJ0ZXh0XzNcXFxcXFxcIjtcXFxcbmlmIChpbXBvcnRVcmwpIHtcXFxcbiAgICBkYXRhLnB1c2goe1xcXFxuICAgICAgICB0aXRsZTogXFxcXFxcXCLlr7zlhaXop4TliJlcXFxcXFxcIixcXFxcbiAgICAgICAgdXJsOiBkYXRhSXRlbS5pc19zYWZlP2ltcG9ydFVybDondG9hc3Q6Ly/po47pmanop4TliJnnpoHmraLlr7zlhaUhISEnLFxcXFxuICAgICAgICBjb2xfdHlwZTogbXlfY29sX3R5cGVcXFxcbiAgICB9KTtcXFxcbn1cXFxcbmlmIChydWxlQ29kZSkge1xcXFxuICAgIGRhdGEucHVzaCh7XFxcXG4gICAgICAgIHRpdGxlOiBcXFxcXFxcIuWIhuS6q+WPo+S7pFxcXFxcXFwiLFxcXFxuICAgICAgICB1cmw6IFxcXFxcXFwiY29weTovL1xcXFxcXFwiICsgcnVsZUNvZGUsXFxcXG4gICAgICAgIGNvbF90eXBlOiBteV9jb2xfdHlwZVxcXFxuICAgIH0pO1xcXFxufVxcXFxuXFxcXG5pZiAoaW1wb3J0VXJsKSB7XFxcXG4gICAgaWYgKGRhdGFJdGVtLmlzX2pzb25fbGlzdCAmJiAhaGFzU3ViKSB7XFxcXG4gICAgICAgIGxldCBzdWJfcnVsZV9jb2RlID0gJ+a1t+mYlOinhueVjOWQiOmbhuinhOWImeiuoumYhe+/pWhvbWVfc3Vi77+lJyArIGRhdGFJdGVtLm5hbWUgKyBcXFxcXFxcIkBAXFxcXFxcXCIgKyBydWxlTGlzdEpzb24gKyBkYXRhSXRlbS5pZDtcXFxcbiAgICAgICAgbGV0IHN1Yl91cmwgPSAncnVsZTovLycgKyBiYXNlNjRFbmNvZGUoc3ViX3J1bGVfY29kZSk7XFxcXG4gICAgICAgIGRhdGEucHVzaCh7XFxcXG4gICAgICAgICAgICB0aXRsZTogJ+iuoumYheWQiOmbhicsXFxcXG4gICAgICAgICAgICB1cmw6IHN1Yl91cmwsXFxcXG4gICAgICAgICAgICBjb2xfdHlwZTogbXlfY29sX3R5cGUyXFxcXG4gICAgICAgIH0pO1xcXFxuICAgICAgICBkYXRhLnB1c2goe1xcXFxuICAgICAgICAgICAgdGl0bGU6ICfigJzigJzigJ3igJ08c3BhbiBzdHlsZT1cXFxcXFxcImNvbG9yOiAjZmY3MDAwXFxcXFxcXCI+5a+85YWl6L275ZCI6ZuGPC9zcGFuPicsXFxcXG4gICAgICAgICAgICB1cmw6ICQoKS5sYXp5UnVsZSgoZGF0YUl0ZW0sc3ViVXJsKT0+e1xcXFxuICAgICAgICAgICAgICAgIGNvbnN0IHtnZW5SdWxlfT0kLnJlcXVpcmUoXFxcXFxcXCJoaWtlcjovL3BhZ2UvZ2VuQXBpXFxcXFxcXCIpO1xcXFxuICAgICAgICAgICAgICAgIGxldCBpbXBvcnRfcnVsZT1nZW5SdWxlKGRhdGFJdGVtLm5hbWUrXFxcXFxcXCIuXFxcXFxcXCIrZGF0YUl0ZW0uYXV0aG9yLHN1YlVybCk7XFxcXG4gICAgICAgICAgICAgICAgLy9jb3B5KGltcG9ydF9ydWxlKTtcXFxcbiAgICAgICAgICAgICAgICBsZXQgcnVsZUNvZGU9cGFyc2VQYXN0ZShpbXBvcnRfcnVsZS5zcGxpdChcXFxcXFxcIlxcXFxcXFxcblxcXFxcXFwiKVswXSk7XFxcXG4gICAgICAgICAgICAgICAgLy9yZXR1cm4gXFxcXFxcXCJoaWtlcjovL2VtcHR5XFxcXFxcXCJcXFxcbiAgICAgICAgICAgICAgICBpbXBvcnRVcmwgPSAncnVsZTovLycgKyBiYXNlNjRFbmNvZGUocnVsZUNvZGUpO1xcXFxuICAgICAgICAgICAgICAgIHJldHVybiBpbXBvcnRVcmxcXFxcbiAgICAgICAgICAgIH0sZGF0YUl0ZW0scnVsZUxpc3RKc29uICsgZGF0YUl0ZW0uaWQpLFxcXFxuICAgICAgICAgICAgY29sX3R5cGU6IG15X2NvbF90eXBlMlxcXFxuICAgICAgICB9KTtcXFxcbiAgICAgICAgZGF0YS5wdXNoKHtcXFxcbiAgICAgICAgICAgIHRpdGxlOiAn4oCc4oCc4oCd4oCdPHNwYW4gc3R5bGU9XFxcXFxcXCJjb2xvcjogI2ZmNzAwMFxcXFxcXFwiPuWvvOWFpemBk+W+t+e7jzwvc3Bhbj4nLFxcXFxuICAgICAgICAgICAgdXJsOiAkKCkubGF6eVJ1bGUoKGRhdGFJdGVtLHN1YlVybCk9PntcXFxcbiAgICAgICAgICAgICAgICAvLyBsZXQgdGl0bGUgPSBcXFxcXFxcIkgtXFxcXFxcXCIrZGF0YUl0ZW0ubmFtZStcXFxcXFxcIi5cXFxcXFxcIitkYXRhSXRlbS5hdXRob3I7XFxcXG4gICAgICAgICAgICAgICAgbGV0IHRpdGxlID0gXFxcXFxcXCJKLVxcXFxcXFwiK2RhdGFJdGVtLm5hbWUuc3BsaXQoJy4nKVswXTtcXFxcbiAgICAgICAgICAgICAgICBsZXQgc3ViT2JqID0ge1xcXFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUsXFxcXG4gICAgICAgICAgICAgICAgICAgIHVybDogc3ViVXJsLFxcXFxuICAgICAgICAgICAgICAgICAgICBkZXNjOiBcXFxcXFxcImhpa2VyOi8vZmlsZXMvcnVsZXMvZHpIb3VzZS9ydWxlQ2FjaGUvXFxcXFxcXCIrdGl0bGUrXFxcXFxcXCIuanNvblxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgICAgICAgICBjb2RlOiBcXFxcXFxcIlxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgICAgICAgICBhY3RpdmU6IGZhbHNlLC8v56aB55So5bm25Y+R5pu05pawXFxcXG4gICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgIGxldCBzaGFyZVRleHQgPSBiYXNlNjRFbmNvZGUoSlNPTi5zdHJpbmdpZnkoc3ViT2JqKSk7XFxcXG4gICAgICAgICAgICAgICAgdmFyIHBhc3RlcyA9IGdldFBhc3RlcygpO1xcXFxuICAgICAgICAgICAgICAgIHZhciB1cmwgPSBzaGFyZVBhc3RlKHNoYXJlVGV4dCxwYXN0ZXMuc2xpY2UoLTEpWzBdKTtcXFxcbiAgICAgICAgICAgICAgICBsZXQgaW1wb3J0X3J1bGU9IFxcXFxcXFwi6L275ZCI6ZuG6K6i6ZiF77yaXFxcXFxcXCIrdGl0bGUrJ1xcXFxcXFxcbicrdXJsO1xcXFxuICAgICAgICAgICAgICAgIGNvcHkoaW1wb3J0X3J1bGUpO1xcXFxuICAgICAgICAgICAgICAgIGNvbnN0IHBhdGggPSAnaGlrZXI6Ly9maWxlcy9ydWxlcy9kekhvdXNlL3J1bGVDYWNoZS9zdWIuanNvbic7XFxcXG4gICAgICAgICAgICAgICAgJC5yYyhjb25maWcubGliLnN1Yik7XFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuIOiuoumYheWvvOWFpShwYXRoKVxcXFxuICAgICAgICAgICAgfSxkYXRhSXRlbSxydWxlTGlzdEpzb24gKyBkYXRhSXRlbS5pZCksXFxcXG4gICAgICAgICAgICBjb2xfdHlwZTogbXlfY29sX3R5cGUyXFxcXG4gICAgICAgIH0pO1xcXFxuICAgICAgICBkYXRhLnB1c2goe1xcXFxuICAgICAgICAgICAgdGl0bGU6IFxcXFxcXFwiPHNtYWxsPuaPkOekuu+8muW8gOWPkeiAheWNleeLrOWIhuS6q+eahOWQiOmbhuaWh+S7tuWPquiDveWNleeLrOWvvOWFpeOAgjwvc21hbGw+XFxcXFxcXCIsXFxcXG4gICAgICAgICAgICBjb2xfdHlwZTogXFxcXFxcXCJyaWNoX3RleHRcXFxcXFxcIlxcXFxuICAgICAgICB9KTtcXFxcbiAgICB9IGVsc2UgaWYgKCFkYXRhSXRlbS5pc19qc29uX2xpc3QgJiYgIWhhc1N1YiAmJiBkYXRhSXRlbS5kYXRhX3R5cGUgPT0gJ2hvbWVfcnVsZV91cmwnKSB7XFxcXG4gICAgICAgIGxldCBzdWJfcnVsZV9jb2RlID0gJ+a1t+mYlOinhueVjOWNleinhOWImeiuoumYhe+/pWhvbWVfc3Vi77+lJyArIGRhdGFJdGVtLm5hbWUgKyBcXFxcXFxcIkBAXFxcXFxcXCIgKyBydWxlTGlzdEpzb24gKyBkYXRhSXRlbS5pZCArICcmZGVidWc9dHJ1ZSc7XFxcXG4gICAgICAgIGxldCBzdWJfdXJsID0gJ3J1bGU6Ly8nICsgYmFzZTY0RW5jb2RlKHN1Yl9ydWxlX2NvZGUpO1xcXFxuICAgICAgICBkYXRhLnB1c2goe1xcXFxuICAgICAgICAgICAgdGl0bGU6ICforqLpmIXop4TliJknLFxcXFxuICAgICAgICAgICAgdXJsOiBzdWJfdXJsLFxcXFxuICAgICAgICAgICAgY29sX3R5cGU6IG15X2NvbF90eXBlXFxcXG4gICAgICAgIH0pXFxcXG4gICAgfVxcXFxufVxcXFxuaWYgKGRhdGFJdGVtLmlzX2pzb24gJiYgZGF0YUl0ZW0uZGF0YV90eXBlID09PSBcXFxcXFxcImhvbWVfcnVsZV91cmxcXFxcXFxcIiAmJiAhZGF0YUl0ZW0uaXNfanNvbl9saXN0KSB7XFxcXG4gICAgZGF0YS5wdXNoKHtcXFxcbiAgICAgICAgdGl0bGU6ICfov5vlhaXpopHpgZMnLFxcXFxuICAgICAgICB1cmw6ICQoIC8qXFxcXFxcXCIjbm9Mb2FkaW5nI1xcXFxcXFwiKi8gKS5sYXp5UnVsZSgobmFtZSxob21lKSA9PiB7XFxcXG4gICAgICAgICAgICBsZXQgcnVsZUxpc3QgPSBKU09OLnBhcnNlKHJlcXVlc3QoaG9tZSkpO1xcXFxuICAgICAgICAgICAgbGV0IGhhc1J1bGUgPSBydWxlTGlzdC5zb21lKGl0ZW0gPT4gaXRlbS50aXRsZSA9PT0gbmFtZSk7XFxcXG4gICAgICAgICAgICBpZiAoaGFzUnVsZSkge1xcXFxuICAgICAgICAgICAgICAgIHB1dFZhcihcXFxcXFxcIldhcmVob3VzZS5iYWNrXFxcXFxcXCIsIFxcXFxcXFwiMVxcXFxcXFwiKTtcXFxcbiAgICAgICAgICAgICAgICBiYWNrKCk7XFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuIGhvbWUrXFxcXFxcXCJzQFxcXFxcXFwiICsgbmFtZTtcXFxcbiAgICAgICAgICAgIH0gZWxzZSB7XFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwidG9hc3Q6Ly/mnKrlronoo4VcXFxcXFxcIjtcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgfSwgZGF0YUl0ZW0ubmFtZSxhcGkuaG9tZSksXFxcXG4gICAgICAgIGNvbF90eXBlOiBteV9jb2xfdHlwZVxcXFxuICAgIH0pXFxcXG59XFxcXG5sZXQgbWFuX3J1bGVfc2FmZSA9IGdldEFwaShcXFxcXFxcIm1hblJ1bGVTYWZlXFxcXFxcXCIpK2RhdGFJdGVtLmlkO1xcXFxubGV0IG1hbl9ydWxlX2dvb2QgPSBnZXRBcGkoXFxcXFxcXCJtYW5SdWxlR29vZFxcXFxcXFwiKStkYXRhSXRlbS5pZDtcXFxcbi8vIGRhdGFJdGVtLmlzX3NhZmU7XFxcXG5pZihnZXRWYXIoJ2hvdXNlLmlzX21hbmFnZXInKSl7XFxcXG4gICAgZnVuY3Rpb24gc2V0SXNTYWZlKGZsYWcsbWFuX3J1bGVfc2FmZSkge1xcXFxuICAgICAgICBmbGFnID0gZmxhZyB8fCAnJztcXFxcbiAgICAgICAgdHJ5IHtcXFxcbiAgICAgICAgICAgIGxldCBjb2RlID0gZmV0Y2gobWFuX3J1bGVfc2FmZSwge1xcXFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcXFxcXFxcIlVzZXItQWdlbnRcXFxcXFxcIjogTU9CSUxFX1VBfSxcXFxcbiAgICAgICAgICAgICAgICBib2R5OiB7XFxcXG4gICAgICAgICAgICAgICAgICAgIFxcXFxcXFwicGFyYW1zXFxcXFxcXCI6XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICB7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxcXFxcXCJ1c2VybmFtZVxcXFxcXFwiOiBnZXRWYXIoJ2hvdXNlLnVzZXJuYW1lJyksXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxcXFxcXCJwYXNzd29yZFxcXFxcXFwiOiBnZXRWYXIoJ2hvdXNlLnBhc3N3b3JkJyksXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxcXFxcXCJpc19zYWZlXFxcXFxcXCI6ICEhZmxhZ1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIH0pO1xcXFxuICAgICAgICAgICAgY29kZSA9IEpTT04ucGFyc2UoY29kZSkucmVzdWx0O1xcXFxuICAgICAgICAgICAgaWYgKGNvZGUuc3RhdHVzID09PSAwKSB7XFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvZGUuZGV0YWlsXFxcXG4gICAgICAgICAgICB9IGVsc2Uge1xcXFxuICAgICAgICAgICAgICAgIHJldHVybiAn5pON5L2c5aSx6LSlOicgKyBjb2RlLmRldGFpbFxcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICB9IGNhdGNoIChlKSB7XFxcXG4gICAgICAgICAgICByZXR1cm4gJ+aTjeS9nOWksei0pTonICsgZS5tZXNzYWdlXFxcXG4gICAgICAgIH1cXFxcbiAgICB9XFxcXG4gICAgZnVuY3Rpb24gc2V0SXNHb29kKGZsYWcsbWFuX3J1bGVfZ29vZCkge1xcXFxuICAgICAgICBmbGFnID0gZmxhZyB8fCAnJztcXFxcbiAgICAgICAgdHJ5IHtcXFxcbiAgICAgICAgICAgIGxldCBjb2RlID0gZmV0Y2gobWFuX3J1bGVfZ29vZCwge1xcXFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcXFxcXFxcIlVzZXItQWdlbnRcXFxcXFxcIjogTU9CSUxFX1VBfSxcXFxcbiAgICAgICAgICAgICAgICBib2R5OiB7XFxcXG4gICAgICAgICAgICAgICAgICAgIFxcXFxcXFwicGFyYW1zXFxcXFxcXCI6XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICB7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxcXFxcXCJ1c2VybmFtZVxcXFxcXFwiOiBnZXRWYXIoJ2hvdXNlLnVzZXJuYW1lJyksXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxcXFxcXCJwYXNzd29yZFxcXFxcXFwiOiBnZXRWYXIoJ2hvdXNlLnBhc3N3b3JkJyksXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxcXFxcXCJpc19nb29kXFxcXFxcXCI6ICEhZmxhZ1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIH0pO1xcXFxuICAgICAgICAgICAgY29kZSA9IEpTT04ucGFyc2UoY29kZSkucmVzdWx0O1xcXFxuICAgICAgICAgICAgaWYgKGNvZGUuc3RhdHVzID09PSAwKSB7XFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvZGUuZGV0YWlsXFxcXG4gICAgICAgICAgICB9IGVsc2Uge1xcXFxuICAgICAgICAgICAgICAgIHJldHVybiAn5pON5L2c5aSx6LSlOicgKyBjb2RlLmRldGFpbFxcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICB9IGNhdGNoIChlKSB7XFxcXG4gICAgICAgICAgICByZXR1cm4gJ+aTjeS9nOWksei0pTonICsgZS5tZXNzYWdlXFxcXG4gICAgICAgIH1cXFxcbiAgICB9XFxcXG4gICAgZGF0YS5wdXNoKHtcXFxcbiAgICAgICAgdGl0bGU6J/Cfmqvpo47pmaknLFxcXFxuICAgICAgICBjb2xfdHlwZTonc2Nyb2xsX2J1dHRvbicsXFxcXG4gICAgICAgIHVybDokKCfmoIforrDor6Xop4TliJnkuLrpo47pmak/6aOO6Zmp6KeE5YiZ5peg5rOV6KKr5a+85YWlJykuY29uZmlybSgoaWQsbWFuX3J1bGVfc2FmZSxzZXRJc1NhZmUpPT57XFxcXG4gICAgICAgICAgICBsZXQgcmV0ID0gc2V0SXNTYWZlKGZhbHNlLG1hbl9ydWxlX3NhZmUpO1xcXFxuICAgICAgICAgICAgaWYoIS/mk43kvZzlpLHotKUvLnRlc3QocmV0KSl7XFxcXG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovLycrcmV0XFxcXG4gICAgICAgIH0sZGF0YUl0ZW0uaWQsbWFuX3J1bGVfc2FmZSxzZXRJc1NhZmUpXFxcXG4gICAgfSk7XFxcXG4gICAgZGF0YS5wdXNoKHtcXFxcbiAgICAgICAgdGl0bGU6J+Kcheato+W4uCcsXFxcXG4gICAgICAgIGNvbF90eXBlOidzY3JvbGxfYnV0dG9uJyxcXFxcbiAgICAgICAgdXJsOiQoJ+agh+iusOivpeinhOWImeS4uuato+W4uD8nKS5jb25maXJtKChpZCxtYW5fcnVsZV9zYWZlLHNldElzU2FmZSk9PntcXFxcbiAgICAgICAgICAgIGxldCByZXQgPSBzZXRJc1NhZmUodHJ1ZSxtYW5fcnVsZV9zYWZlKTtcXFxcbiAgICAgICAgICAgIGlmKCEv5pON5L2c5aSx6LSlLy50ZXN0KHJldCkpe1xcXFxuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly8nK3JldFxcXFxuICAgICAgICB9LGRhdGFJdGVtLmlkLG1hbl9ydWxlX3NhZmUsc2V0SXNTYWZlKVxcXFxuICAgIH0pO1xcXFxuICAgIGRhdGEucHVzaCh7XFxcXG4gICAgICAgIHRpdGxlOifimaXpnZ7kvJjotKgnLFxcXFxuICAgICAgICBjb2xfdHlwZTonc2Nyb2xsX2J1dHRvbicsXFxcXG4gICAgICAgIHVybDokKCfmoIforrDor6Xop4TliJnkuLrpnZ7kvJjotKg/JykuY29uZmlybSgoaWQsbWFuX3J1bGVfZ29vZCxzZXRJc0dvb2QpPT57XFxcXG4gICAgICAgICAgICBsZXQgcmV0ID0gc2V0SXNHb29kKGZhbHNlLG1hbl9ydWxlX2dvb2QpO1xcXFxuICAgICAgICAgICAgaWYoIS/mk43kvZzlpLHotKUvLnRlc3QocmV0KSl7XFxcXG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovLycrcmV0XFxcXG4gICAgICAgIH0sZGF0YUl0ZW0uaWQsbWFuX3J1bGVfZ29vZCxzZXRJc0dvb2QpXFxcXG4gICAgfSk7XFxcXG4gICAgZGF0YS5wdXNoKHtcXFxcbiAgICAgICAgdGl0bGU6J/CfkpbkvJjotKgnLFxcXFxuICAgICAgICBjb2xfdHlwZTonc2Nyb2xsX2J1dHRvbicsXFxcXG4gICAgICAgIHVybDokKCfmoIforrDor6Xop4TliJnkuLrkvJjotKg/JykuY29uZmlybSgoaWQsbWFuX3J1bGVfZ29vZCxzZXRJc0dvb2QpPT57XFxcXG4gICAgICAgICAgICBsZXQgcmV0ID0gc2V0SXNHb29kKHRydWUsbWFuX3J1bGVfZ29vZCk7XFxcXG4gICAgICAgICAgICBpZighL+aTjeS9nOWksei0pS8udGVzdChyZXQpKXtcXFxcbiAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8vJytyZXRcXFxcbiAgICAgICAgfSxkYXRhSXRlbS5pZCxtYW5fcnVsZV9nb29kLHNldElzR29vZClcXFxcbiAgICB9KTtcXFxcbn1cXFxcblxcXFxuZGF0YS5wdXNoKHtcXFxcbiAgICBjb2xfdHlwZTogXFxcXFxcXCJsaW5lX2JsYW5rXFxcXFxcXCJcXFxcbn0pO1xcXFxuZGF0YS5wdXNoKHtcXFxcbiAgICB0aXRsZTogZGF0YUl0ZW0uZ29vZF9udW0sXFxcXG4gICAgcGljX3VybDogXFxcXFxcXCJoaWtlcjovL2ZpbGVzL2ljb24v6LWeLnN2Z1xcXFxcXFwiLFxcXFxuICAgIGNvbF90eXBlOiBcXFxcXFxcImljb25fc21hbGxfM1xcXFxcXFwiLFxcXFxuICAgIHVybDogXFxcXFxcXCJoaWtlcjovL3BhZ2UvTWFrZUFjb21tZW50I25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5I1xcXFxcXFwiLFxcXFxuICAgIGV4dHJhOiB7XFxcXG4gICAgICAgIGlkOiBkYXRhSXRlbS5pZCxcXFxcbiAgICAgICAgbmFtZTogZGF0YUl0ZW0ubmFtZVxcXFxuICAgIH1cXFxcbn0pO1xcXFxuZGF0YS5wdXNoKHtcXFxcbiAgICB0aXRsZTogZGF0YUl0ZW0uYmFkX251bSxcXFxcbiAgICBwaWNfdXJsOiBcXFxcXFxcImhpa2VyOi8vZmlsZXMvaWNvbi/ouKkuc3ZnXFxcXFxcXCIsXFxcXG4gICAgY29sX3R5cGU6IFxcXFxcXFwiaWNvbl9zbWFsbF8zXFxcXFxcXCIsXFxcXG4gICAgdXJsOiBcXFxcXFxcImhpa2VyOi8vcGFnZS9NYWtlQWNvbW1lbnQjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjXFxcXFxcXCIsXFxcXG4gICAgZXh0cmE6IHtcXFxcbiAgICAgICAgaWQ6IGRhdGFJdGVtLmlkLFxcXFxuICAgICAgICBuYW1lOiBkYXRhSXRlbS5uYW1lLFxcXFxuICAgICAgICBkZWZhdWx0VHlwZTpcXFxcXFxcImJhZFxcXFxcXFwiXFxcXG4gICAgfVxcXFxufSk7XFxcXG5kYXRhLnB1c2goe1xcXFxuICAgIHRpdGxlOiBcXFxcXFxcIuivhOiuulxcXFxcXFwiLFxcXFxuICAgIHBpY191cmw6IFxcXFxcXFwiaGlrZXI6Ly9maWxlcy9pY29uL+ivhOiuui5zdmdcXFxcXFxcIixcXFxcbiAgICBjb2xfdHlwZTogXFxcXFxcXCJpY29uX3NtYWxsXzNcXFxcXFxcIixcXFxcbiAgICB1cmw6IFxcXFxcXFwiaGlrZXI6Ly9wYWdlL01ha2VBY29tbWVudCNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSNcXFxcXFxcIixcXFxcbiAgICBleHRyYToge1xcXFxuICAgICAgICBpZDogZGF0YUl0ZW0uaWQsXFxcXG4gICAgICAgIG5hbWU6IGRhdGFJdGVtLm5hbWVcXFxcbiAgICB9XFxcXG59KTtcXFxcbmxldCB0b3RhbFN1bSA9IGRhdGFJdGVtLmdvb2RfbnVtICsgZGF0YUl0ZW0uYmFkX251bTtcXFxcblxcXFxuZGF0YS5wdXNoKHtcXFxcbiAgICB0aXRsZTogaHRtbFRhZyhcXFxcXFxcImJpZ1xcXFxcXFwiLCBcXFxcXFxcIuivhOiuuihcXFxcXFxcIiArIHRvdGFsU3VtICsgXFxcXFxcXCIpXFxcXFxcXCIpICsgXFxcXFxcXCJcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcIiArIHNtYWxsKGh0bWxUYWcoXFxcXFxcXCJ1XFxcXFxcXCIsIFxcXFxcXFwi5p+l55yL5YWo6YOo6K+E6K66ID5cXFxcXFxcIikpLFxcXFxuICAgIGNvbF90eXBlOiBcXFxcXFxcInRleHRfMVxcXFxcXFwiLFxcXFxuICAgIHVybDogXFxcXFxcXCJoaWtlcjovL3BhZ2UvQ29tbWVudFxcXFxcXFwiLFxcXFxuICAgIGV4dHJhOiB7XFxcXG4gICAgICAgIHVybDogXFxcXFxcXCJoaWtlcjovL2VtcHR5I2Z5cGFnZSNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSNcXFxcXFxcIixcXFxcbiAgICAgICAgaWQ6IGRhdGFJdGVtLmlkLFxcXFxuICAgICAgICB0b3RhbFN1bTogdG90YWxTdW0sXFxcXG4gICAgICAgIG5vX2FjdGl2ZTogZmFsc2VcXFxcbiAgICB9XFxcXG59KTtcXFxcbi8vY29uc3QgbG9uZ2VzdFN1bT0xMjA7XFxcXG5sZXQgaWNvbiA9IHtcXFxcbiAgICBcXFxcXFxcImdvb2RcXFxcXFxcIjogXFxcXFxcXCLwn5GNXFxcXFxcXCIsXFxcXG4gICAgXFxcXFxcXCJiYWRcXFxcXFxcIjogXFxcXFxcXCLwn5GOXFxcXFxcXCIsXFxcXG4gICAgXFxcXFxcXCJyZXBseVxcXFxcXFwiOlxcXFxcXFwi5byA5Y+R6ICF8J+Xo1xcXFxcXFwiXFxcXG59XFxcXG5pZiAodG90YWxTdW0gPT09IDApIHtcXFxcbiAgICBkYXRhLnB1c2goe1xcXFxuICAgICAgICB0aXRsZTogXFxcXFxcXCI8aDUgc3R5bGU9J3RleHQtYWxpZ246Y2VudGVyJz7kuIDmnaHor4TorrrkuZ/msqHmnInvvIzlv6vmnaXmiqLmspnlj5HlkKfvvIE8L2g1PlxcXFxcXFwiLFxcXFxuICAgICAgICBjb2xfdHlwZTogXFxcXFxcXCJyaWNoX3RleHRcXFxcXFxcIlxcXFxuICAgIH0pO1xcXFxufSBlbHNlIHtcXFxcbiAgICBsZXQgY29tbWVudExpc3QgPSBKU09OLnBhcnNlKHJlcXVlc3QoYXBpLmRpc19nZXQgKyBkYXRhSXRlbS5pZCArIFxcXFxcXFwiP2xpbWl0PTVcXFxcXFxcIikpLnJlc3VsdDtcXFxcbiAgICBmb3IgKGxldCBpdGVtIG9mIGNvbW1lbnRMaXN0KSB7XFxcXG4gICAgICAgIGxldCBSZXBseSA9IGl0ZW0uZGlzY3Vzc190eXBlPT09XFxcXFxcXCJyZXBseVxcXFxcXFwiJiZpdGVtLnJlcGx5X3RvX25hbWUhPT1mYWxzZSYmaXRlbS5yZXBseV90b19pZCE9PWZhbHNlP1xcXFxcXFwi4oCY4oCY5Zue5aSNQFxcXFxcXFwiK2l0ZW0ucmVwbHlfdG9fbmFtZStcXFxcXFxcIiAjXFxcXFxcXCIraXRlbS5kaXNjdXNzX2lkK1xcXFxcXFwi4oCZ4oCZXFxcXFxcXFxuXFxcXFxcXCI6XFxcXFxcXCJcXFxcXFxcIjtcXFxcbiAgICAgICAgZGF0YS5wdXNoKHtcXFxcbiAgICAgICAgICAgIHRpdGxlOiBpdGVtLm5hbWUgKyBcXFxcXFxcIiZuYnNwOyZuYnNwOzxmb250IGNvbG9yPSdncmF5Jz48c21hbGw+I1xcXFxcXFwiICsgaXRlbS5pZCArIFxcXFxcXFwiPC9zbWFsbD48Zm9udD5cXFxcXFxcIixcXFxcbiAgICAgICAgICAgIGNvbF90eXBlOiBcXFxcXFxcImF2YXRhclxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgLy91cmw6IFxcXFxcXFwidG9hc3Q6Ly9cXFxcXFxcIiArIGl0ZW0ucXEsXFxcXG4gICAgICAgICAgICB1cmw6XFxcXFxcXCJtcXF3cGE6Ly9pbS9jaGF0P2NoYXRfdHlwZT13cGEmdWluPVxcXFxcXFwiK2l0ZW0ucXEsXFxcXG4gICAgICAgICAgICBwaWNfdXJsOiBpdGVtLmF2YXRhcl91cmxcXFxcbiAgICAgICAgfSk7XFxcXG4gICAgICAgIGRhdGEucHVzaCh7XFxcXG4gICAgICAgICAgICB0aXRsZTogaXRlbS5kaXNjdXNzX3RleHQsXFxcXG4gICAgICAgICAgICBkZXNjOiBSZXBseStpdGVtLmNyZWF0ZV9kYXRlICsgXFxcXFxcXCLCt1xcXFxcXFwiICsgaWNvbltpdGVtLmRpc2N1c3NfdHlwZV0sXFxcXG4gICAgICAgICAgICBjb2xfdHlwZTogXFxcXFxcXCJ0ZXh0XzFcXFxcXFxcIixcXFxcbiAgICAgICAgICAgIHVybDogXFxcXFxcXCJoaWtlcjovL3BhZ2UvaW5mb1xcXFxcXFwiLFxcXFxuICAgICAgICAgICAgZXh0cmE6e1xcXFxuICAgICAgICAgICAgICAgIG5hbWU6aXRlbS5uYW1lLFxcXFxuICAgICAgICAgICAgICAgIHR5cGU6XFxcXFxcXCJsb25nX3RleHRcXFxcXFxcIixcXFxcbiAgICAgICAgICAgICAgICB0ZXh0Oml0ZW0uZGlzY3Vzc190ZXh0XFxcXG4gICAgICAgICAgICB9LFxcXFxuICAgICAgICAgICAgcGljX3VybDogaXRlbS5hdmF0YXJfdXJsXFxcXG4gICAgICAgIH0pO1xcXFxuICAgIH1cXFxcbiAgICBkYXRhLnB1c2goe1xcXFxuICAgICAgICBjb2xfdHlwZTogXFxcXFxcXCJsaW5lX2JsYW5rXFxcXFxcXCJcXFxcbiAgICB9KTtcXFxcbn1cXFxcblxcXFxuc2V0UmVzdWx0KGRhdGEpO1xcXCJ9LHtcXFwiY29sX3R5cGVcXFwiOlxcXCJyaWNoX3RleHRcXFwiLFxcXCJuYW1lXFxcIjpcXFwi5p+l55yLXFxcIixcXFwicGF0aFxcXCI6XFxcImluZm9cXFwiLFxcXCJydWxlXFxcIjpcXFwianM6XFxcXG5zZXRQYWdlVGl0bGUoXFxcXFxcXCLmn6XnnIvjgIxcXFxcXFxcIitNWV9QQVJBTVMubmFtZStcXFxcXFxcIuOAjVxcXFxcXFwiKVxcXFxuc2V0UmVzdWx0KFt7XFxcXG4gICAgdGl0bGU6IE1ZX1BBUkFNUy50ZXh0LFxcXFxuICAgIGNvbF90eXBlOk1ZX1BBUkFNUy50eXBlXFxcXG59XSk7XFxcIn0se1xcXCJjb2xfdHlwZVxcXCI6XFxcIm1vdmllXzNcXFwiLFxcXCJuYW1lXFxcIjpcXFwi5byA5Y+R6ICF5rOo5YaMXFxcIixcXFwicGF0aFxcXCI6XFxcIlJlZ2lzdGVyXFxcIixcXFwicnVsZVxcXCI6XFxcImpzOlxcXFxuc2V0UGFnZVRpdGxlKFxcXFxcXFwi5byA5Y+R6ICF5rOo5YaMXFxcXFxcXCIpO1xcXFxuY29uc3Qge1xcXFxuICAgIGdldEFwaSxcXFxcbiAgICBodG1sVGFnLFxcXFxuICAgIG1hcENvbFR5cGUsXFxcXG4gICAgc21hbGxcXFxcbn0gPSAkLnJlcXVpcmUoXFxcXFxcXCJoaWtlcjovL3BhZ2UvdXRpbGl5XFxcXFxcXCIpO1xcXFxudmFyIGRhdGEgPSBbXTtcXFxcbmFkZExpc3RlbmVyKCdvbkNsb3NlJywgJC50b1N0cmluZygoKSA9PiB7XFxcXG4gICAgY2xlYXJWYXIoXFxcXFxcXCJXYXJlaG91c2UuUGFzc3dvcmRcXFxcXFxcIik7XFxcXG4gICAgY2xlYXJWYXIoXFxcXFxcXCJXYXJlaG91c2UuVXNlcm5hbWVcXFxcXFxcIik7XFxcXG4gICAgY2xlYXJWYXIoXFxcXFxcXCJXYXJlaG91c2UuRGVzY3JpcHRpb25cXFxcXFxcIik7XFxcXG4gICAgY2xlYXJWYXIoXFxcXFxcXCJXYXJlaG91c2UuVXNlckFkZHJlc3NcXFxcXFxcIik7XFxcXG59KSk7XFxcXG5hZGRMaXN0ZW5lcignb25SZWZyZXNoJywgJC50b1N0cmluZygoKT0+e1xcXFxuICAgIHB1dFZhcihcXFxcXFxcIldhcmVob3VzZS5XYWl0XFxcXFxcXCIsIFxcXFxcXFwiXFxcXFxcXCIpO1xcXFxufSkpO1xcXFxuZGF0YS5wdXNoKHtcXFxcbiAgICB0aXRsZTogJ+i0puWPtycsXFxcXG4gICAgZGVzYzogXFxcXFxcXCLor7fovpPlhaXotKblj7co5b+F5aGrKVxcXFxcXFwiLFxcXFxuICAgIGNvbF90eXBlOiAnaW5wdXQnLFxcXFxuICAgIGV4dHJhOiB7XFxcXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogZ2V0VmFyKCdXYXJlaG91c2UuVXNlcm5hbWUnLCAnJyksXFxcXG4gICAgICAgIHR5cGU6IFxcXFxcXFwibnVtYmVyXFxcXFxcXCIsXFxcXG4gICAgICAgIG9uQ2hhbmdlOiAncHV0VmFyKFxcXFxcXFwiV2FyZWhvdXNlLlVzZXJuYW1lXFxcXFxcXCIsaW5wdXQpJ1xcXFxuICAgIH1cXFxcbn0sIHtcXFxcbiAgICB0aXRsZTogJ+WvhueggScsXFxcXG4gICAgZGVzYzogXFxcXFxcXCLor7fovpPlhaXlr4bnoIEo5b+F5aGrKVxcXFxcXFwiLFxcXFxuICAgIGNvbF90eXBlOiAnaW5wdXQnLFxcXFxuICAgIGV4dHJhOiB7XFxcXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogZ2V0VmFyKCdXYXJlaG91c2UuUGFzc3dvcmQnLCAnJyksXFxcXG4gICAgICAgIHR5cGU6IFxcXFxcXFwicGFzc3dvcmRcXFxcXFxcIixcXFxcbiAgICAgICAgb25DaGFuZ2U6ICdwdXRWYXIoXFxcXFxcXCJXYXJlaG91c2UuUGFzc3dvcmRcXFxcXFxcIixpbnB1dCknXFxcXG4gICAgfVxcXFxufSk7XFxcXG5tYXBDb2xUeXBlKGRhdGEsIFxcXFxcXFwibGluZV9ibGFua1xcXFxcXFwiLCAxKTtcXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgdGl0bGU6ICfmmLXnp7AnLFxcXFxuICAgIGRlc2M6IFxcXFxcXFwi6K+36L6T5YWl5pi156ewKOW/heWhqylcXFxcXFxcIixcXFxcbiAgICBjb2xfdHlwZTogJ2lucHV0JyxcXFxcbiAgICBleHRyYToge1xcXFxuICAgICAgICBkZWZhdWx0VmFsdWU6IGdldFZhcignV2FyZWhvdXNlLlVzZXJBZGRyZXNzJywgJycpLFxcXFxuICAgICAgICBvbkNoYW5nZTogJ3B1dFZhcihcXFxcXFxcIldhcmVob3VzZS5Vc2VyQWRkcmVzc1xcXFxcXFwiLGlucHV0KSdcXFxcbiAgICB9XFxcXG59LCB7XFxcXG4gICAgdGl0bGU6ICfmj4/ov7AnLFxcXFxuICAgIGRlc2M6IFxcXFxcXFwi6K+06K+05Li65LuA5LmI6KaB5rOo5YaM5ZCnXFxcXFxcXFxuKOWPr+S7peWinuWKoOmAmui/h+amgueOhyzpgInloaspXFxcXFxcXCIsXFxcXG4gICAgY29sX3R5cGU6ICdpbnB1dCcsXFxcXG4gICAgZXh0cmE6IHtcXFxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBnZXRWYXIoJ1dhcmVob3VzZS5EZXNjcmlwdGlvbicsICcnKSxcXFxcbiAgICAgICAgdHlwZTogXFxcXFxcXCJ0ZXh0YXJlYVxcXFxcXFwiLFxcXFxuICAgICAgICBvbkNoYW5nZTogJ3B1dFZhcihcXFxcXFxcIldhcmVob3VzZS5EZXNjcmlwdGlvblxcXFxcXFwiLGlucHV0KSdcXFxcbiAgICB9XFxcXG59KVxcXFxuXFxcXG5tYXBDb2xUeXBlKGRhdGEsIFxcXFxcXFwibGluZV9ibGFua1xcXFxcXFwiLCAxKTtcXFxcblxcXFxuZGF0YS5wdXNoKHtcXFxcbiAgICB0aXRsZTogaHRtbFRhZyhcXFxcXFxcImJcXFxcXFxcIiwgXFxcXFxcXCLms6jlhoxcXFxcXFxcIiksXFxcXG4gICAgdXJsOiAkKGdldEFwaShcXFxcXFxcIm5ld19kZXZcXFxcXFxcIikrXFxcXFxcXCIjbm9Mb2FkaW5nI1xcXFxcXFwiKS5sYXp5UnVsZSgoZ2V0SWQsIGNvbmZpcm0pID0+IHtcXFxcbiAgICAgICAgbGV0IHVzZXJuYW1lID0gZ2V0VmFyKCdXYXJlaG91c2UuVXNlcm5hbWUnLCBcXFxcXFxcIlxcXFxcXFwiKSxcXFxcbiAgICAgICAgICAgIHBhc3N3b3JkID0gZ2V0VmFyKCdXYXJlaG91c2UuUGFzc3dvcmQnLCBcXFxcXFxcIlxcXFxcXFwiKSxcXFxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uID0gZ2V0VmFyKCdXYXJlaG91c2UuRGVzY3JpcHRpb24nLCBcXFxcXFxcIlxcXFxcXFwiKSxcXFxcbiAgICAgICAgICAgIG5hbWUgPSBnZXRWYXIoXFxcXFxcXCJXYXJlaG91c2UuVXNlckFkZHJlc3NcXFxcXFxcIiwgXFxcXFxcXCJcXFxcXFxcIik7XFxcXG4gICAgICAgIGlmIChbdXNlcm5hbWUsIHBhc3N3b3JkLCBuYW1lXS5pbmNsdWRlcyhcXFxcXFxcIlxcXFxcXFwiKSkge1xcXFxuICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwidG9hc3Q6Ly/otKblj7cs5a+G56CB5ZKM5pi156ew5LiN6IO95Li656m6XFxcXFxcXCI7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgc2hvd0xvYWRpbmcoXFxcXFxcXCLmraPlnKjmj5DkuqTnlLPor7fooahcXFxcXFxcIik7XFxcXG4gICAgICAgIGxldCByZXN1bHQgPSByZXF1ZXN0KGlucHV0LCB7XFxcXG4gICAgICAgICAgICBoZWFkZXJzOiB7XFxcXG4gICAgICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xcXFxuICAgICAgICAgICAgfSxcXFxcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcXFxcbiAgICAgICAgICAgICAgICBcXFxcXFxcInBhcmFtc1xcXFxcXFwiOiB7XFxcXG4gICAgICAgICAgICAgICAgICAgIFxcXFxcXFwicmVhc29uXFxcXFxcXCI6IGRlc2NyaXB0aW9uLFxcXFxuICAgICAgICAgICAgICAgICAgICBcXFxcXFxcIm5hbWVcXFxcXFxcIjogbmFtZSxcXFxcbiAgICAgICAgICAgICAgICAgICAgXFxcXFxcXCJwYXNzd29yZFxcXFxcXFwiOiBwYXNzd29yZCxcXFxcbiAgICAgICAgICAgICAgICAgICAgXFxcXFxcXCJxcVxcXFxcXFwiOiB1c2VybmFtZVxcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIH0pLFxcXFxuICAgICAgICAgICAgbWV0aG9kOiAncG9zdCdcXFxcbiAgICAgICAgfSk7XFxcXG4gICAgICAgIHJlc3VsdCA9IEpTT04ucGFyc2UocmVzdWx0KS5yZXN1bHQ7XFxcXG4gICAgICAgIGhpZGVMb2FkaW5nKCk7XFxcXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzICE9PSAwKSB7XFxcXG4gICAgICAgICAgICByZXR1cm4gXFxcXFxcXCJ0b2FzdDovL1xcXFxcXFwiICsgcmVzdWx0LmRldGFpbDtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBsZXQgaWRyZXN1bHQgPSBKU09OLnBhcnNlKHJlcXVlc3QoZ2V0SWQgKyBcXFxcXFxcIj9xcT1cXFxcXFxcIiArIHVzZXJuYW1lKSk7XFxcXG4gICAgICAgIGlmIChpZHJlc3VsdC5zdGF0dXMgIT09IDApIHtcXFxcbiAgICAgICAgICAgIHJldHVybiBcXFxcXFxcInRvYXN0Oi8vXFxcXFxcXCIgKyBpZHJlc3VsdC5kZXRhaWw7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgXFxcXG4gICAgICAgIHJldHVybiAkKFxcXFxcXFwiXFxcXFxcXCIsIFxcXFxcXFwi6L6T5YWl6YKu566x6aqM6K+B56CBXFxcXFxcXFxuXFxcXFxcXCIgKyByZXN1bHQuZGV0YWlsKS5pbnB1dCgoY29uZmlybSwgaWQsIGFjY291bnQpID0+IHtcXFxcbiAgICAgICAgICAgIHNob3dMb2FkaW5nKFxcXFxcXFwi6K+36ICQ5b+D562J5b6FXFxcXFxcXCIpO1xcXFxuICAgICAgICAgICAgdHJ5IHtcXFxcbiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gcmVxdWVzdChjb25maXJtLCB7XFxcXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcXFxcbiAgICAgICAgICAgICAgICAgICAgfSxcXFxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgXFxcXFxcXCJwYXJhbXNcXFxcXFxcIjoge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXFxcXFwicmVnaXN0X2lkXFxcXFxcXCI6IGlkLFxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxcXFxcXFwieXptXFxcXFxcXCI6IGlucHV0XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICAgICAgICAgIH0pLFxcXFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJ1xcXFxuICAgICAgICAgICAgICAgIH0pO1xcXFxuICAgICAgICAgICAgICAgIHJlc3VsdCA9IEpTT04ucGFyc2UocmVzdWx0KS5yZXN1bHQ7XFxcXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgIT09IDApIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwidG9hc3Q6Ly9cXFxcXFxcIiArIHJlc3VsdC5kZXRhaWw7XFxcXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgcHV0VmFyKFxcXFxcXFwiV2FyZWhvdXNlVXNlcm5hbWVcXFxcXFxcIiwgYWNjb3VudFswXSk7XFxcXG4gICAgICAgICAgICAgICAgICAgIHB1dFZhcihcXFxcXFxcIldhcmVob3VzZVBhc3N3b3JkXFxcXFxcXCIsIGFjY291bnRbMV0pO1xcXFxuICAgICAgICAgICAgICAgICAgICBoaWRlTG9hZGluZygpO1xcXFxuICAgICAgICAgICAgICAgICAgICBiYWNrKCk7XFxcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcXFxcXFxcInRvYXN0Oi8v5oiQ5Yqf5o+Q5Lqk5rOo5YaM5rOo5YaMXFxcXFxcXFxuXFxcXFxcXCIrcmVzdWx0LmRldGFpbDtcXFxcbiAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XFxcXG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcXFxcbiAgICAgICAgICAgICAgICByZXR1cm4gXFxcXFxcXCJ0b2FzdDovL+WHuumUmeS6huWRkFxcXFxcXFwiO1xcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICB9LCBjb25maXJtLCBpZHJlc3VsdC5yZXN1bHQsIFt1c2VybmFtZSwgcGFzc3dvcmRdKTtcXFxcbiAgICB9LCBnZXRBcGkoXFxcXFxcXCJuZXdfZ2V0SWRcXFxcXFxcIiksIGdldEFwaShcXFxcXFxcIm5ld19jb25maXJtXFxcXFxcXCIpKSxcXFxcbiAgICBjb2xfdHlwZTogJ3RleHRfY2VudGVyXzEnXFxcXG59KTtcXFxcbnNldFJlc3VsdChkYXRhKTtcXFwifSx7XFxcImNvbF90eXBlXFxcIjpcXFwidGV4dF8xXFxcIixcXFwibmFtZVxcXCI6XFxcIuS4quS6uui1hOaWmVxcXCIsXFxcInBhdGhcXFwiOlxcXCJQZXJzb25hbERhdGFcXFwiLFxcXCJydWxlXFxcIjpcXFwianM6XFxcXG5zZXRQYWdlVGl0bGUoXFxcXFxcXCLkuKrkurrotYTmlplcXFxcXFxcIik7XFxcXG52YXIgZGF0YT1bXTtcXFxcbmNvbnN0IHtcXFxcbiAgICBnZXRBcGksXFxcXG4gICAgZ2V0RmlsZSxcXFxcbiAgICBhcGlcXFxcbn0gPSAkLnJlcXVpcmUoXFxcXFxcXCJoaWtlcjovL3BhZ2UvdXRpbGl5XFxcXFxcXCIpO1xcXFxuXFxcXG5kYXRhLnB1c2goe1xcXFxuICAgIGNvbF90eXBlOlxcXFxcXFwibGluZV9ibGFua1xcXFxcXFwiXFxcXG59KTtcXFxcblxcXFxubGV0IHt1c2VybmFtZSxwYXNzd29yZH0gPSBnZXRGaWxlKCk7XFxcXG5sZXQgZGV2ID0gSlNPTi5wYXJzZShyZXF1ZXN0KGdldEFwaShcXFxcXFxcInVzZXJcXFxcXFxcIikrTVlfUEFSQU1TLmlkKSkucmVzdWx0O1xcXFxuZGF0YS5wdXNoKHtcXFxcbiAgICB0aXRsZTpcXFxcXFxcIuWktOWDj1xcXFxcXFwiLFxcXFxuICAgIGRlc2M6ZGV2LmF2YXRhcixcXFxcbiAgICB1cmw6XFxcXFxcXCJoaWtlcjovL3BhZ2UvbW9kaWZ5X1BlcnNvbmFsRGF0YSNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSNcXFxcXFxcIixcXFxcbiAgICBleHRyYTp7XFxcXG4gICAgICAgIGRldjpkZXYsXFxcXG4gICAgICAgIHVzZXJuYW1lOnVzZXJuYW1lLFxcXFxuICAgICAgICBwYXNzd29yZDpwYXNzd29yZCxcXFxcbiAgICAgICAgUGF0dGVybjowXFxcXG4gICAgfSxcXFxcbiAgICBjb2xfdHlwZTpcXFxcXFxcInRleHRfMVxcXFxcXFwiXFxcXG59KTtcXFxcblxcXFxuXFxcXG5kYXRhLnB1c2goe1xcXFxuICAgIHRpdGxlOlxcXFxcXFwi5pi156ewXFxcXFxcXCIsXFxcXG4gICAgZGVzYzpkZXYubmFtZSxcXFxcbiAgICB1cmw6XFxcXFxcXCJoaWtlcjovL3BhZ2UvbW9kaWZ5X1BlcnNvbmFsRGF0YSNub0hpc3RvcnkjI25vUmVjb3JkSGlzdG9yeSNcXFxcXFxcIixcXFxcbiAgICBleHRyYTp7XFxcXG4gICAgICAgIGRldjpkZXYsXFxcXG4gICAgICAgIHVzZXJuYW1lOnVzZXJuYW1lLFxcXFxuICAgICAgICBwYXNzd29yZDpwYXNzd29yZCxcXFxcbiAgICAgICAgUGF0dGVybjoxXFxcXG4gICAgfSxcXFxcbiAgICBjb2xfdHlwZTpcXFxcXFxcInRleHRfMVxcXFxcXFwiXFxcXG59KTtcXFxcblxcXFxuZGF0YS5wdXNoKHtcXFxcbiAgICB0aXRsZTpcXFxcXFxcIuWvhueggVxcXFxcXFwiLFxcXFxuICAgIHVybDpcXFxcXFxcImhpa2VyOi8vcGFnZS9tb2RpZnlfUGVyc29uYWxEYXRhI25vSGlzdG9yeSMjbm9SZWNvcmRIaXN0b3J5I1xcXFxcXFwiLFxcXFxuICAgIGV4dHJhOntcXFxcbiAgICAgICAgZGV2OmRldixcXFxcbiAgICAgICAgdXNlcm5hbWU6dXNlcm5hbWUsXFxcXG4gICAgICAgIHBhc3N3b3JkOnBhc3N3b3JkLFxcXFxuICAgICAgICBQYXR0ZXJuOjJcXFxcbiAgICB9LFxcXFxuICAgIGNvbF90eXBlOlxcXFxcXFwidGV4dF8xXFxcXFxcXCJcXFxcbn0pO1xcXFxuZGF0YS5wdXNoKHtcXFxcbiAgICBjb2xfdHlwZTpcXFxcXFxcImxpbmVfYmxhbmtcXFxcXFxcIlxcXFxufSk7XFxcXG5kYXRhLnB1c2goe1xcXFxuICAgIHRpdGxlOlxcXFxcXFwi6LSm5Y+377yaXFxcXFxcXCIrdXNlcm5hbWUsXFxcXG4gICAgdXJsOlxcXFxcXFwiY29weTovL1xcXFxcXFwiK3VzZXJuYW1lLFxcXFxuICAgIGNvbF90eXBlOlxcXFxcXFwidGV4dF8xXFxcXFxcXCJcXFxcbn0pO1xcXFxuZGF0YS5wdXNoKHtcXFxcbiAgICB0aXRsZTpcXFxcXFxcIlVJRO+8mlxcXFxcXFwiK2Rldi5pZCxcXFxcbiAgICB1cmw6XFxcXFxcXCJjb3B5Oi8vXFxcXFxcXCIrZGV2LmlkLFxcXFxuICAgIGNvbF90eXBlOlxcXFxcXFwidGV4dF8xXFxcXFxcXCJcXFxcbn0pO1xcXFxuZGF0YS5wdXNoKHtcXFxcbiAgICBjb2xfdHlwZTpcXFxcXFxcImxpbmVfYmxhbmtcXFxcXFxcIlxcXFxufSk7XFxcXG5kYXRhLnB1c2goe1xcXFxuICAgIHRpdGxlOlxcXFxcXFwi5o+Q5Lqk5LqR5LuT5bqT6KeE5YiZXFxcXFxcXCIsXFxcXG4gICAgdXJsOiQoXFxcXFxcXCIjbm9Mb2FkaW5nI1xcXFxcXFwiKS5sYXp5UnVsZSgoaG9zdCk9PntcXFxcbiAgICAgICAgbGV0IGNvZGU9cmVxdWVzdChob3N0K1xcXFxcXFwiL2hpa2VydWxlL3J1bGVsaXN0Lmpzb24/aWQ9MTQ1XFxcXFxcXCIpO1xcXFxuICAgICAgICBsZXQgd29yZD1cXFxcXFxcIu+/pXB1Ymxpc2jvv6VcXFxcXFxcIitiYXNlNjRFbmNvZGUoY29kZSk7XFxcXG4gICAgICAgIHJldHVybiBcXFxcXFxcInJ1bGU6Ly9cXFxcXFxcIitiYXNlNjRFbmNvZGUod29yZCk7XFxcXG4gICAgfSxhcGkuaG9zdCksXFxcXG4gICAgY29sX3R5cGU6XFxcXFxcXCJ0ZXh0XzFcXFxcXFxcIlxcXFxufSk7XFxcXG5kYXRhLnB1c2goe1xcXFxuICAgIHRpdGxlOlxcXFxcXFwi5ZCM5q2l5o+Q5Lqk5LqR5LuT5bqT6LSm5Y+35a+G56CBXFxcXFxcXCIsXFxcXG4gICAgdXJsOlxcXFxcXFwicnVsZTovL1xcXFxcXFwiK2Jhc2U2NEVuY29kZShcXFxcXFxcIu+/pXB1Ymxpc2hfYWNjb3VudO+/pVxcXFxcXFwiK3VzZXJuYW1lK1xcXFxcXFwiQFxcXFxcXFwiK3Bhc3N3b3JkKSxcXFxcbiAgICBjb2xfdHlwZTpcXFxcXFxcInRleHRfMVxcXFxcXFwiXFxcXG59KTtcXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgY29sX3R5cGU6XFxcXFxcXCJsaW5lX2JsYW5rXFxcXFxcXCJcXFxcbn0pO1xcXFxuZGF0YS5wdXNoKHtcXFxcbiAgICB0aXRsZTpcXFxcXFxcIuS9oOS4gOWFseWPkeW4g+S6huOAjFxcXFxcXFwiK2Rldi5ydWxlX251bStcXFxcXFxcIuOAjeadoeinhOWImVxcXFxcXFwiLFxcXFxuICAgIHVybDpcXFxcXFxcImhpa2VyOi8vZW1wdHlcXFxcXFxcIixcXFxcbiAgICBjb2xfdHlwZTpcXFxcXFxcInRleHRfMVxcXFxcXFwiXFxcXG59KTtcXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgY29sX3R5cGU6XFxcXFxcXCJsaW5lX2JsYW5rXFxcXFxcXCJcXFxcbn0pO1xcXFxubGV0IHVzZXIgPSBnZXRGaWxlKCk7XFxcXG5kYXRhLnB1c2goe1xcXFxuICAgIHRpdGxlOlxcXFxcXFwi5rOo6ZSA55m75b2VXFxcXFxcXCIsXFxcXG4gICAgdXJsOiQoXFxcXFxcXCLnoa7orqTms6jplIDnmbvlvZU/XFxcXFxcXCIpLmNvbmZpcm0oZiA9PiB7XFxcXG4gICAgICAgIGYudXNlcm5hbWU9XFxcXFxcXCJcXFxcXFxcIjtcXFxcbiAgICAgICAgZi5wYXNzd29yZD1cXFxcXFxcIlxcXFxcXFwiO1xcXFxuICAgICAgICB3cml0ZUZpbGUoJ2hpa2VyOi8vZmlsZXMvV2FyZWhvdXNlVVNFUi5qc29uJywgSlNPTi5zdHJpbmdpZnkoZikpO1xcXFxuICAgICAgICBwdXRWYXIoXFxcXFxcXCJXYXJlaG91c2UuYmFja1xcXFxcXFwiLFxcXFxcXFwiMVxcXFxcXFwiKTtcXFxcbiAgICAgICAgYmFjaygpO1xcXFxuICAgICAgICByZXR1cm4gXFxcXFxcXCJ0b2FzdDovL+W3suazqOmUgFxcXFxcXFwiO1xcXFxuICAgIH0sdXNlciksXFxcXG4gICAgY29sX3R5cGU6XFxcXFxcXCJ0ZXh0X2NlbnRlcl8xXFxcXFxcXCJcXFxcbn0pO1xcXFxuc2V0UmVzdWx0KGRhdGEpO1xcXCJ9LHtcXFwiY29sX3R5cGVcXFwiOlxcXCJtb3ZpZV8zXFxcIixcXFwibmFtZVxcXCI6XFxcIuabtOaUueS4quS6uui1hOaWmVxcXCIsXFxcInBhdGhcXFwiOlxcXCJtb2RpZnlfUGVyc29uYWxEYXRhXFxcIixcXFwicnVsZVxcXCI6XFxcImpzOlxcXFxuY29uc3Qge1xcXFxuICAgIGdldEFwaSxcXFxcbiAgICBjb2xvcixcXFxcbiAgICBzbWFsbCxcXFxcbiAgICBnZXRGaWxlLFxcXFxuICAgIGh0bWxUYWdcXFxcbn0gPSAkLnJlcXVpcmUoXFxcXFxcXCJoaWtlcjovL3BhZ2UvdXRpbGl5XFxcXFxcXCIpO1xcXFxubGV0IHtcXFxcbiAgICBkZXYsXFxcXG4gICAgdXNlcm5hbWUsXFxcXG4gICAgcGFzc3dvcmQsXFxcXG4gICAgUGF0dGVyblxcXFxufSA9IE1ZX1BBUkFNUztcXFxcbnZhciBkYXRhID0gW107XFxcXG5sZXQgcGF0aCA9IFxcXFxcXFwiP3FxPVxcXFxcXFwiICsgdXNlcm5hbWUgKyBcXFxcXFxcIiZwYXNzd29yZD1cXFxcXFxcIiArIHBhc3N3b3JkO1xcXFxuYWRkTGlzdGVuZXIoJ29uQ2xvc2UnLCAkLnRvU3RyaW5nKCgpID0+IHtcXFxcbiAgICBjbGVhclZhcihcXFxcXFxcIldhcmVob3VzZS5tLnBldE5hbWVcXFxcXFxcIik7XFxcXG4gICAgY2xlYXJWYXIoXFxcXFxcXCJXYXJlaG91c2UubS5hdmF0YXJcXFxcXFxcIik7XFxcXG4gICAgY2xlYXJWYXIoXFxcXFxcXCJXYXJlaG91c2UubS5QYXNzd29yZC5jXFxcXFxcXCIpO1xcXFxuICAgIGNsZWFyVmFyKFxcXFxcXFwiV2FyZWhvdXNlLm0uUGFzc3dvcmQueFxcXFxcXFwiKTtcXFxcbiAgICBjbGVhclZhcihcXFxcXFxcIldhcmVob3VzZS5tLlBhc3N3b3JkLnlcXFxcXFxcIik7XFxcXG59KSk7XFxcXG5mdW5jdGlvbiBtX3BldE5hbWUoKSB7XFxcXG4gICAgZGF0YS5wdXNoKHtcXFxcbiAgICAgICAgY29sX3R5cGU6IFxcXFxcXFwibGluZV9ibGFua1xcXFxcXFwiXFxcXG4gICAgfSk7XFxcXG4gICAgZGF0YS5wdXNoKHtcXFxcbiAgICAgICAgY29sX3R5cGU6ICdpbnB1dCcsXFxcXG4gICAgICAgIGRlc2M6IFxcXFxcXFwi6K+36L6T5YWl5paw5pi156ewXFxcXFxcXCIsXFxcXG4gICAgICAgIGV4dHJhOiB7XFxcXG4gICAgICAgICAgICB0aXRsZVZpc2libGU6IGZhbHNlLFxcXFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBnZXRWYXIoJ1dhcmVob3VzZS5tLnBldE5hbWUnLCAnJyl8fGRldi5uYW1lLFxcXFxuICAgICAgICAgICAgb25DaGFuZ2U6ICdwdXRWYXIoXFxcXFxcXCJXYXJlaG91c2UubS5wZXROYW1lXFxcXFxcXCIsaW5wdXQpJ1xcXFxuICAgICAgICB9XFxcXG4gICAgfSk7XFxcXG4gICAgZGF0YS5wdXNoKHtcXFxcbiAgICAgICAgY29sX3R5cGU6IFxcXFxcXFwibGluZV9ibGFua1xcXFxcXFwiXFxcXG4gICAgfSk7XFxcXG4gICAgZGF0YS5wdXNoKHtcXFxcbiAgICAgICAgdGl0bGU6IFxcXFxcXFwi5L+d5a2YXFxcXFxcXCIsXFxcXG4gICAgICAgIHVybDogJChnZXRBcGkoXFxcXFxcXCJtb2RpZnlfbmFtZVxcXFxcXFwiKSArIHBhdGgpLmxhenlSdWxlKCgpID0+IHtcXFxcbiAgICAgICAgICAgIGxldCBuZXdQZXROYW1lID0gZ2V0VmFyKCdXYXJlaG91c2UubS5wZXROYW1lJywgJycpO1xcXFxuICAgICAgICAgICAgaWYgKG5ld1BldE5hbWUgPT0gXFxcXFxcXCJcXFxcXFxcIikge1xcXFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFxcXFxcInRvYXN0Oi8v5L2g6L+Y5LuA5LmI6YO95rKh5aGr5ZWKIVxcXFxcXFwiO1xcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHJlcXVlc3QoaW5wdXQgKyBcXFxcXFxcIiZuYW1lPVxcXFxcXFwiICsgZW5jb2RlVVJJQ29tcG9uZW50KG5ld1BldE5hbWUpKTtcXFxcbiAgICAgICAgICAgIHJlc3VsdCA9IEpTT04ucGFyc2UocmVzdWx0KTtcXFxcbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAwKSB7XFxcXG4gICAgICAgICAgICAgICAgYmFjaygpO1xcXFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFxcXFxcInRvYXN0Oi8v5L+u5pS55oiQ5YqfXFxcXFxcXCI7XFxcXG4gICAgICAgICAgICB9IGVsc2Uge1xcXFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFxcXFxcInRvYXN0Oi8vXFxcXFxcXCIgKyByZXN1bHQuZGV0YWlsO1xcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICB9KSxcXFxcbiAgICAgICAgY29sX3R5cGU6ICd0ZXh0X2NlbnRlcl8xJ1xcXFxuICAgIH0pO1xcXFxufVxcXFxuXFxcXG5mdW5jdGlvbiBtX2F2YXRhcigpIHtcXFxcbiAgICBkYXRhLnB1c2goe1xcXFxuICAgICAgICBjb2xfdHlwZTogXFxcXFxcXCJsaW5lX2JsYW5rXFxcXFxcXCJcXFxcbiAgICB9KTtcXFxcbiAgICBkYXRhLnB1c2goe1xcXFxuICAgICAgICBjb2xfdHlwZTogJ2lucHV0JyxcXFxcbiAgICAgICAgZGVzYzogXFxcXFxcXCLor7fovpPlhaXmlrDnmoTlpLTlg4/pk77mjqVcXFxcXFxcIixcXFxcbiAgICAgICAgZXh0cmE6IHtcXFxcbiAgICAgICAgICAgIHRpdGxlVmlzaWJsZTogZmFsc2UsXFxcXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IGdldFZhcignV2FyZWhvdXNlLm0uYXZhdGFyJywgJycpIHx8IGRldi5hdmF0YXIsXFxcXG4gICAgICAgICAgICBvbkNoYW5nZTogJ3B1dFZhcihcXFxcXFxcIldhcmVob3VzZS5tLmF2YXRhclxcXFxcXFwiLGlucHV0KSdcXFxcbiAgICAgICAgfVxcXFxuICAgIH0pO1xcXFxuICAgIGRhdGEucHVzaCh7XFxcXG4gICAgICAgIGNvbF90eXBlOiBcXFxcXFxcImxpbmVfYmxhbmtcXFxcXFxcIlxcXFxuICAgIH0pO1xcXFxuICAgIGRhdGEucHVzaCh7XFxcXG4gICAgICAgIHRpdGxlOiBcXFxcXFxcIuS/neWtmFxcXFxcXFwiLFxcXFxuICAgICAgICB1cmw6ICQoZ2V0QXBpKFxcXFxcXFwibW9kaWZ5X2F2YVxcXFxcXFwiKSArIHBhdGgpLmxhenlSdWxlKCgpID0+IHtcXFxcbiAgICAgICAgICAgIGxldCBuZXdBdmF0YXIgPSBnZXRWYXIoJ1dhcmVob3VzZS5tLmF2YXRhcicsICcnKTtcXFxcbiAgICAgICAgICAgIFxcXFxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHJlcXVlc3QoaW5wdXQgKyBcXFxcXFxcIiZhdmF0YXJfdXJsPVxcXFxcXFwiICsgZW5jb2RlVVJJQ29tcG9uZW50KG5ld0F2YXRhcikpO1xcXFxuICAgICAgICAgICAgcmVzdWx0ID0gSlNPTi5wYXJzZShyZXN1bHQpO1xcXFxuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IDApIHtcXFxcbiAgICAgICAgICAgICAgICBiYWNrKCk7XFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwidG9hc3Q6Ly/kv67mlLnmiJDlip9cXFxcXFxcIjtcXFxcbiAgICAgICAgICAgIH0gZWxzZSB7XFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwidG9hc3Q6Ly9cXFxcXFxcIiArIHJlc3VsdC5kZXRhaWw7XFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgIH0pLFxcXFxuICAgICAgICBjb2xfdHlwZTogJ3RleHRfY2VudGVyXzEnXFxcXG4gICAgfSk7XFxcXG59XFxcXG5cXFxcbmZ1bmN0aW9uIG1fcHdkKCkge1xcXFxuICAgIGRhdGEucHVzaCh7XFxcXG4gICAgICAgIGNvbF90eXBlOiBcXFxcXFxcImxpbmVfYmxhbmtcXFxcXFxcIlxcXFxuICAgIH0pO1xcXFxuICAgIGRhdGEucHVzaCh7XFxcXG4gICAgICAgIHRpdGxlOlxcXFxcXFwi5Y6f5a+G56CBXFxcXFxcXCIsXFxcXG4gICAgICAgIGNvbF90eXBlOiAnaW5wdXQnLFxcXFxuICAgICAgICBkZXNjOiBcXFxcXFxcIuivt+i+k+WFpeWOn+WvhueggVxcXFxcXFwiLFxcXFxuICAgICAgICBleHRyYToge1xcXFxuICAgICAgICAgICAgdHlwZTpcXFxcXFxcInBhc3N3b3JkXFxcXFxcXCIsXFxcXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IGdldFZhcignV2FyZWhvdXNlLm0uUGFzc3dvcmQueScsICcnKSxcXFxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiAncHV0VmFyKFxcXFxcXFwiV2FyZWhvdXNlLm0uUGFzc3dvcmQueVxcXFxcXFwiLGlucHV0KSdcXFxcbiAgICAgICAgfVxcXFxuICAgIH0pO1xcXFxuICAgIGRhdGEucHVzaCh7XFxcXG4gICAgICAgIGNvbF90eXBlOiBcXFxcXFxcImxpbmVfYmxhbmtcXFxcXFxcIlxcXFxuICAgIH0pO1xcXFxuICAgIGRhdGEucHVzaCh7XFxcXG4gICAgICAgIHRpdGxlOlxcXFxcXFwi5paw5a+G56CBXFxcXFxcXCIsXFxcXG4gICAgICAgIGNvbF90eXBlOiAnaW5wdXQnLFxcXFxuICAgICAgICBkZXNjOiBcXFxcXFxcIuivt+i+k+WFpeaWsOWvhueggVxcXFxcXFwiLFxcXFxuICAgICAgICBleHRyYToge1xcXFxuICAgICAgICAgICAgdHlwZTpcXFxcXFxcInBhc3N3b3JkXFxcXFxcXCIsXFxcXG4gICAgICAgICAgICBkZWZhdWx0VmFsdWU6IGdldFZhcignV2FyZWhvdXNlLm0uUGFzc3dvcmQueCcsICcnKSxcXFxcbiAgICAgICAgICAgIG9uQ2hhbmdlOiAncHV0VmFyKFxcXFxcXFwiV2FyZWhvdXNlLm0uUGFzc3dvcmQueFxcXFxcXFwiLGlucHV0KSdcXFxcbiAgICAgICAgfVxcXFxuICAgIH0pO1xcXFxuICAgIGRhdGEucHVzaCh7XFxcXG4gICAgICAgIHRpdGxlOlxcXFxcXFwi6YeN5aSN5paw5a+G56CBXFxcXFxcXCIsXFxcXG4gICAgICAgIGNvbF90eXBlOiAnaW5wdXQnLFxcXFxuICAgICAgICBkZXNjOiBcXFxcXFxcIuivt+mHjeWkjeaWsOWvhueggVxcXFxcXFwiLFxcXFxuICAgICAgICBleHRyYToge1xcXFxuICAgICAgICAgICAgdHlwZTpcXFxcXFxcInBhc3N3b3JkXFxcXFxcXCIsXFxcXG4gICAgICAgICAgICB0aXRsZVZpc2libGU6IGZhbHNlLFxcXFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBnZXRWYXIoJ1dhcmVob3VzZS5tLlBhc3N3b3JkLmMnLCAnJyksXFxcXG4gICAgICAgICAgICBvbkNoYW5nZTogJ3B1dFZhcihcXFxcXFxcIldhcmVob3VzZS5tLlBhc3N3b3JkLmNcXFxcXFxcIixpbnB1dCknXFxcXG4gICAgICAgIH1cXFxcbiAgICB9KTtcXFxcbiAgICBkYXRhLnB1c2goe1xcXFxuICAgICAgICBjb2xfdHlwZTogXFxcXFxcXCJsaW5lX2JsYW5rXFxcXFxcXCJcXFxcbiAgICB9KTtcXFxcbiAgICBkYXRhLnB1c2goe1xcXFxuICAgICAgICB0aXRsZTogXFxcXFxcXCLkv53lrZhcXFxcXFxcIixcXFxcbiAgICAgICAgdXJsOiAkKGdldEFwaShcXFxcXFxcIm1vZGlmeV9wd2RcXFxcXFxcIikrcGF0aCkubGF6eVJ1bGUoKHBhc3N3b3JkLHVzZXJuYW1lKSA9PiB7XFxcXG4gICAgICAgICAgICBsZXQgb2xkX3Bhc3N3b3JkID0gZ2V0VmFyKCdXYXJlaG91c2UubS5QYXNzd29yZC55JywgJycpO1xcXFxuICAgICAgICAgICAgbGV0IG5ld19wYXNzd29yZCA9IGdldFZhcignV2FyZWhvdXNlLm0uUGFzc3dvcmQueCcsICcnKTtcXFxcbiAgICAgICAgICAgIGxldCBuZXdfcGFzc3dvcmRfYWdhaW4gPSBnZXRWYXIoJ1dhcmVob3VzZS5tLlBhc3N3b3JkLmMnLCAnJyk7XFxcXG4gICAgICAgICAgICBpZiAob2xkX3Bhc3N3b3JkIT09cGFzc3dvcmQpIHtcXFxcbiAgICAgICAgICAgICAgICByZXR1cm4gXFxcXFxcXCJ0b2FzdDovL+WOn+WvhueggemUmeivr1xcXFxcXFwiO1xcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgaWYobmV3X3Bhc3N3b3JkPT09XFxcXFxcXCJcXFxcXFxcIil7XFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwidG9hc3Q6Ly/or7fovpPlhaXmlrDlr4bnoIFcXFxcXFxcIjtcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIGlmKG5ld19wYXNzd29yZCE9PW5ld19wYXNzd29yZF9hZ2Fpbil7XFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwidG9hc3Q6Ly/kuKTmrKHlr4bnoIHkuI3lkIxcXFxcXFxcIlxcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHJlcXVlc3QoaW5wdXQgKyBcXFxcXFxcIiZuZXdfcGFzc3dvcmQ9XFxcXFxcXCIgKyBuZXdfcGFzc3dvcmQrXFxcXFxcXCImbmV3X3Bhc3N3b3JkX3JlPVxcXFxcXFwiK25ld19wYXNzd29yZF9hZ2Fpbik7XFxcXG4gICAgICAgICAgICByZXN1bHQgPSBKU09OLnBhcnNlKHJlc3VsdCk7XFxcXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMCkge1xcXFxuICAgICAgICAgICAgICAgIHdyaXRlRmlsZShcXFxcXFxcImhpa2VyOi8vZmlsZXMvV2FyZWhvdXNlVVNFUi5qc29uXFxcXFxcXCIsSlNPTi5zdHJpbmdpZnkoe1xcXFxuICAgICAgICAgICAgICAgICAgICB1c2VybmFtZTp1c2VybmFtZSxcXFxcbiAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6bmV3X3Bhc3N3b3JkXFxcXG4gICAgICAgICAgICAgICAgfSkpO1xcXFxuICAgICAgICAgICAgICAgIGJhY2soKTtcXFxcbiAgICAgICAgICAgICAgICByZXR1cm4gXFxcXFxcXCJ0b2FzdDovL+S/ruaUueaIkOWKn1xcXFxcXFwiO1xcXFxuICAgICAgICAgICAgfSBlbHNlIHtcXFxcbiAgICAgICAgICAgICAgICByZXR1cm4gXFxcXFxcXCJ0b2FzdDovL1xcXFxcXFwiICsgcmVzdWx0LmRldGFpbDtcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgfSxwYXNzd29yZCx1c2VybmFtZSksXFxcXG4gICAgICAgIGNvbF90eXBlOiAndGV4dF9jZW50ZXJfMSdcXFxcbiAgICB9KTtcXFxcbn1cXFxcblxcXFxuc3dpdGNoIChQYXR0ZXJuKSB7XFxcXG4gICAgY2FzZSAwOlxcXFxuICAgICAgICBzZXRQYWdlVGl0bGUoXFxcXFxcXCLkv67mlLnlpLTlg49cXFxcXFxcIik7XFxcXG4gICAgICAgIG1fYXZhdGFyKCk7XFxcXG4gICAgICAgIGJyZWFrO1xcXFxuICAgIGNhc2UgMTpcXFxcbiAgICAgICAgc2V0UGFnZVRpdGxlKFxcXFxcXFwi5L+u5pS55pi156ewXFxcXFxcXCIpO1xcXFxuICAgICAgICBtX3BldE5hbWUoKTtcXFxcbiAgICAgICAgYnJlYWs7XFxcXG4gICAgY2FzZSAyOlxcXFxuICAgICAgICBzZXRQYWdlVGl0bGUoXFxcXFxcXCLkv67mlLnlr4bnoIFcXFxcXFxcIik7XFxcXG4gICAgICAgIG1fcHdkKCk7XFxcXG4gICAgICAgIGJyZWFrO1xcXFxufVxcXFxuc2V0UmVzdWx0KGRhdGEpO1xcXCJ9LHtcXFwiY29sX3R5cGVcXFwiOlxcXCJtb3ZpZV8zXFxcIixcXFwibmFtZVxcXCI6XFxcIue8lui+keinhOWImeWkh+azqFxcXCIsXFxcInBhdGhcXFwiOlxcXCJzZXRfcnVsZV9ub3Rlc1xcXCIsXFxcInJ1bGVcXFwiOlxcXCJqczpcXFxcbmxldCBkYXRhID0gW107XFxcXG5jb25zdCB7XFxcXG4gICAgZ2V0QXBpXFxcXG59ID0gJC5yZXF1aXJlKFxcXFxcXFwiaGlrZXI6Ly9wYWdlL3V0aWxpeVxcXFxcXFwiKTtcXFxcbmxldCB7XFxcXG4gICAgaWQsXFxcXG4gICAgdXNlcm5hbWUsXFxcXG4gICAgcGFzc3dvcmQsXFxcXG4gICAgbmFtZVxcXFxufSA9IE1ZX1BBUkFNUztcXFxcbnNldFBhZ2VUaXRsZShcXFxcXFxcIuWkh+azqOOAjFxcXFxcXFwiK25hbWUrXFxcXFxcXCLjgI1cXFxcXFxcIik7XFxcXG5hZGRMaXN0ZW5lcignb25DbG9zZScsXFxcXFxcXCJjbGVhclZhcignV2FyZWhvdXNlLnJ1bGUubm90ZXMnLCAnJylcXFxcXFxcIik7XFxcXG5sZXQgbm90ZXM9cmVxdWVzdChnZXRBcGkoXFxcXFxcXCJnZXRfcnVsZV9ub3RlXFxcXFxcXCIpK2lkKTtcXFxcbm5vdGVzPUpTT04ucGFyc2Uobm90ZXMpLnJlc3VsdDtcXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgZGVzYzogXFxcXFxcXCLop4TliJnlpIfms6guLi4uLi5cXFxcXFxcIixcXFxcbiAgICBjb2xfdHlwZTogJ2lucHV0JyxcXFxcbiAgICBleHRyYToge1xcXFxuICAgICAgICB0aXRsZVZpc2libGU6IGZhbHNlLFxcXFxuICAgICAgICBkZWZhdWx0VmFsdWU6IGdldFZhcignV2FyZWhvdXNlLnJ1bGUubm90ZXMnLCAnJyl8fG5vdGVzfHxcXFxcXFxcIlxcXFxcXFwiLFxcXFxuICAgICAgICB0eXBlOiBcXFxcXFxcInRleHRhcmVhXFxcXFxcXCIsXFxcXG4gICAgICAgIGhlaWdodDotMSxcXFxcbiAgICAgICAgb25DaGFuZ2U6ICdwdXRWYXIoXFxcXFxcXCJXYXJlaG91c2UucnVsZS5ub3Rlc1xcXFxcXFwiLGlucHV0KSdcXFxcbiAgICB9XFxcXG59KTtcXFxcblxcXFxuZGF0YS5wdXNoKHtcXFxcbiAgICB0aXRsZTogXFxcXFxcXCLkv53lrZhcXFxcXFxcIixcXFxcbiAgICBjb2xfdHlwZTogXFxcXFxcXCJ0ZXh0X2NlbnRlcl8xXFxcXFxcXCIsXFxcXG4gICAgdXJsOiAkKGdldEFwaShcXFxcXFxcInNldF9ydWxlX25vdGVcXFxcXFxcIikgKyBpZCkubGF6eVJ1bGUoKHVzZXJuYW1lLCBwYXNzd29yZCkgPT4ge1xcXFxuICAgICAgICBsZXQgbm90ZXMgPSBnZXRWYXIoJ1dhcmVob3VzZS5ydWxlLm5vdGVzJywgJycpO1xcXFxuICAgICAgICBsZXQgcmVzdWx0ID0gcmVxdWVzdChpbnB1dCwge1xcXFxuICAgICAgICAgICAgaGVhZGVyczoge1xcXFxuICAgICAgICAgICAgICAgICdjb250ZW50LXR5cGUnOiAnYXBwbGljYXRpb24vanNvbidcXFxcbiAgICAgICAgICAgIH0sXFxcXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XFxcXG4gICAgICAgICAgICAgICAgXFxcXFxcXCJwYXJhbXNcXFxcXFxcIjoge1xcXFxuICAgICAgICAgICAgICAgICAgICBcXFxcXFxcInFxXFxcXFxcXCI6IHVzZXJuYW1lLFxcXFxuICAgICAgICAgICAgICAgICAgICBcXFxcXFxcInBhc3N3b3JkXFxcXFxcXCI6IHBhc3N3b3JkLFxcXFxuICAgICAgICAgICAgICAgICAgICBcXFxcXFxcIm5vdGVcXFxcXFxcIjpub3Rlc1xcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIH0pLFxcXFxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCdcXFxcbiAgICAgICAgfSk7XFxcXG4gICAgICAgIHJlc3VsdCA9IEpTT04ucGFyc2UocmVzdWx0KS5yZXN1bHQ7XFxcXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzICE9PSAwKSB7XFxcXG4gICAgICAgICAgICByZXR1cm4gXFxcXFxcXCJ0b2FzdDovL1xcXFxcXFwiICsgcmVzdWx0LmRldGFpbDtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBiYWNrKGZhbHNlKTtcXFxcbiAgICAgICAgcmV0dXJuIFxcXFxcXFwidG9hc3Q6Ly/kv67mlLnmiJDlip9cXFxcXFxcIjtcXFxcbiAgICB9LCB1c2VybmFtZSwgcGFzc3dvcmQpXFxcXG59KTtcXFxcbnNldFJlc3VsdChkYXRhKTtcXFwifSx7XFxcImNvbF90eXBlXFxcIjpcXFwibGluZVxcXCIsXFxcIm5hbWVcXFwiOlxcXCLor4TorrrliJfooahcXFwiLFxcXCJwYXRoXFxcIjpcXFwiQ29tbWVudFxcXCIsXFxcInJ1bGVcXFwiOlxcXCJqczpcXFxcbnNldFBhZ2VUaXRsZShcXFxcXFxcIuivhOiuuuWIl+ihqFxcXFxcXFwiKTtcXFxcbmNvbnN0IHtcXFxcbiAgICBhcGlcXFxcbn0gPSAkLnJlcXVpcmUoXFxcXFxcXCJoaWtlcjovL3BhZ2UvdXRpbGl5XFxcXFxcXCIpO1xcXFxubGV0IGRhdGEgPSBbXTtcXFxcbmxldCB7XFxcXG4gICAgdG90YWxTdW0sXFxcXG4gICAgaWQsXFxcXG4gICAgbm9fYWN0aXZlLFxcXFxuICAgIHVzZXJuYW1lLFxcXFxuICAgIHBhc3N3b3JkXFxcXG59ID0gTVlfUEFSQU1TO1xcXFxubGV0IHBhZ2UgPSBwYXJzZUludChNWV9VUkwuc3BsaXQoXFxcXFxcXCIjXFxcXFxcXCIpWzFdKTtcXFxcbmxldCBkaXNjdXNzX3R5cGUgPSBnZXRWYXIoXFxcXFxcXCJXYXJlaG91c2UuY29tbWVudC5kaXNjdXNzX3R5cGVcXFxcXFxcIiwgXFxcXFxcXCJcXFxcXFxcIik7XFxcXG5pZiAocGFnZSA9PT0gMSkge1xcXFxuICAgIGRhdGEucHVzaCh7XFxcXG4gICAgICAgIGNvbF90eXBlOiBcXFxcXFxcImxpbmVfYmxhbmtcXFxcXFxcIlxcXFxuICAgIH0pO1xcXFxuICAgIGFkZExpc3RlbmVyKCdvbkNsb3NlJywgJC50b1N0cmluZygoKSA9PiB7XFxcXG4gICAgICAgIHB1dFZhcihcXFxcXFxcIldhcmVob3VzZS5jb21tZW50LmRpc2N1c3NfdHlwZVxcXFxcXFwiLCBcXFxcXFxcIlxcXFxcXFwiKTtcXFxcbiAgICB9KSk7XFxcXG4gICAgZGF0YS5wdXNoKHtcXFxcbiAgICAgICAgdGl0bGU6IFxcXFxcXFwi5YWo6YOoXFxcXFxcXCIgKyAoZGlzY3Vzc190eXBlID09PSBcXFxcXFxcIlxcXFxcXFwiID8gXFxcXFxcXCLil4lcXFxcXFxcIiA6IFxcXFxcXFwi4peLXFxcXFxcXCIpLFxcXFxuICAgICAgICB1cmw6ICQoXFxcXFxcXCIjbm9Mb2FkaW5nI1xcXFxcXFwiKS5sYXp5UnVsZSgoKSA9PiB7XFxcXG4gICAgICAgICAgICBwdXRWYXIoXFxcXFxcXCJXYXJlaG91c2UuY29tbWVudC5kaXNjdXNzX3R5cGVcXFxcXFxcIiwgXFxcXFxcXCJcXFxcXFxcIik7XFxcXG4gICAgICAgICAgICByZWZyZXNoUGFnZSgpO1xcXFxuICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwiaGlrZXI6Ly9lbXB0eVxcXFxcXFwiO1xcXFxuICAgICAgICB9KSxcXFxcbiAgICAgICAgY29sX3R5cGU6ICd0ZXh0XzQnXFxcXG5cXFxcbiAgICB9KTtcXFxcbiAgICBkYXRhLnB1c2goe1xcXFxuICAgICAgICB0aXRsZTogXFxcXFxcXCLwn5GN6LWeXFxcXFxcXCIgKyAoZGlzY3Vzc190eXBlID09PSBcXFxcXFxcImdvb2RcXFxcXFxcIiA/IFxcXFxcXFwi4peJXFxcXFxcXCIgOiBcXFxcXFxcIuKXi1xcXFxcXFwiKSxcXFxcbiAgICAgICAgdXJsOiAkKFxcXFxcXFwiI25vTG9hZGluZyNcXFxcXFxcIikubGF6eVJ1bGUoKCkgPT4ge1xcXFxuICAgICAgICAgICAgcHV0VmFyKFxcXFxcXFwiV2FyZWhvdXNlLmNvbW1lbnQuZGlzY3Vzc190eXBlXFxcXFxcXCIsIFxcXFxcXFwiZ29vZFxcXFxcXFwiKTtcXFxcbiAgICAgICAgICAgIHJlZnJlc2hQYWdlKCk7XFxcXG4gICAgICAgICAgICByZXR1cm4gXFxcXFxcXCJoaWtlcjovL2VtcHR5XFxcXFxcXCI7XFxcXG4gICAgICAgIH0pLFxcXFxuICAgICAgICBjb2xfdHlwZTogJ3RleHRfNCdcXFxcblxcXFxuICAgIH0pO1xcXFxuICAgIGRhdGEucHVzaCh7XFxcXG4gICAgICAgIHRpdGxlOiBcXFxcXFxcIvCfkY7ouKlcXFxcXFxcIiArIChkaXNjdXNzX3R5cGUgPT09IFxcXFxcXFwiYmFkXFxcXFxcXCIgPyBcXFxcXFxcIuKXiVxcXFxcXFwiIDogXFxcXFxcXCLil4tcXFxcXFxcIiksXFxcXG4gICAgICAgIHVybDogJChcXFxcXFxcIiNub0xvYWRpbmcjXFxcXFxcXCIpLmxhenlSdWxlKCgpID0+IHtcXFxcbiAgICAgICAgICAgIHB1dFZhcihcXFxcXFxcIldhcmVob3VzZS5jb21tZW50LmRpc2N1c3NfdHlwZVxcXFxcXFwiLCBcXFxcXFxcImJhZFxcXFxcXFwiKTtcXFxcbiAgICAgICAgICAgIHJlZnJlc2hQYWdlKCk7XFxcXG4gICAgICAgICAgICByZXR1cm4gXFxcXFxcXCJoaWtlcjovL2VtcHR5XFxcXFxcXCI7XFxcXG4gICAgICAgIH0pLFxcXFxuICAgICAgICBjb2xfdHlwZTogJ3RleHRfNCdcXFxcbiAgICB9KTtcXFxcbiAgICBkYXRhLnB1c2goe1xcXFxuICAgICAgICB0aXRsZTogXFxcXFxcXCLlm57lpI1cXFxcXFxcIiArIChkaXNjdXNzX3R5cGUgPT09IFxcXFxcXFwicmVwbHlcXFxcXFxcIiA/IFxcXFxcXFwi4peJXFxcXFxcXCIgOiBcXFxcXFxcIuKXi1xcXFxcXFwiKSxcXFxcbiAgICAgICAgdXJsOiAkKFxcXFxcXFwiI25vTG9hZGluZyNcXFxcXFxcIikubGF6eVJ1bGUoKCkgPT4ge1xcXFxuICAgICAgICAgICAgcHV0VmFyKFxcXFxcXFwiV2FyZWhvdXNlLmNvbW1lbnQuZGlzY3Vzc190eXBlXFxcXFxcXCIsIFxcXFxcXFwicmVwbHlcXFxcXFxcIik7XFxcXG4gICAgICAgICAgICByZWZyZXNoUGFnZSgpO1xcXFxuICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwiaGlrZXI6Ly9lbXB0eVxcXFxcXFwiO1xcXFxuICAgICAgICB9KSxcXFxcbiAgICAgICAgY29sX3R5cGU6ICd0ZXh0XzQnXFxcXG4gICAgfSk7XFxcXG59XFxcXG5cXFxcblxcXFxubGV0IGljb24gPSB7XFxcXG4gICAgXFxcXFxcXCJnb29kXFxcXFxcXCI6IFxcXFxcXFwi8J+RjVxcXFxcXFwiLFxcXFxuICAgIFxcXFxcXFwiYmFkXFxcXFxcXCI6IFxcXFxcXFwi8J+RjlxcXFxcXFwiLFxcXFxuICAgIFxcXFxcXFwicmVwbHlcXFxcXFxcIjpcXFxcXFxcIuW8gOWPkeiAhfCfl6NcXFxcXFxcIlxcXFxufVxcXFxubGV0IGNvbnRyb2w9KHBpZCxhY3RpdmUpPT52b2lkIDA7XFxcXG5pZihub19hY3RpdmUpe1xcXFxuICAgIGNvbnRyb2w9ZnVuY3Rpb24ocGlkLGFjdGl2ZSl7XFxcXG4gICAgICAgIGRhdGEucHVzaCh7XFxcXG4gICAgICAgICAgICB0aXRsZTphY3RpdmU/XFxcXFxcXCLpmpDol4/or4TorrpcXFxcXFxcIjpcXFxcXFxcIuWxleekuuivhOiuulxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgdXJsOiQoYXBpLmRpc19kZXZfY29udHJvbCtwaWQrXFxcXFxcXCI/cXE9XFxcXFxcXCIgKyB1c2VybmFtZSArIFxcXFxcXFwiJnBhc3N3b3JkPVxcXFxcXFwiICsgcGFzc3dvcmQrXFxcXFxcXCIjbm9Mb2FkaW5nI1xcXFxcXFwiKS5sYXp5UnVsZSgoKT0+e1xcXFxuICAgICAgICAgICAgICAgIGxldCByZXN1bHQ9SlNPTi5wYXJzZShyZXF1ZXN0KGlucHV0KSk7XFxcXG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpXFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwidG9hc3Q6Ly9cXFxcXFxcIityZXN1bHQuZGV0YWlsO1xcXFxuICAgICAgICAgICAgfSksXFxcXG4gICAgICAgICAgICBjb2xfdHlwZTpcXFxcXFxcInRleHRfMlxcXFxcXFwiXFxcXG4gICAgICAgIH0pO1xcXFxuICAgICAgICBkYXRhLnB1c2goe1xcXFxuICAgICAgICAgICAgdGl0bGU6XFxcXFxcXCLliKDpmaTor4TorrpcXFxcXFxcIixcXFxcbiAgICAgICAgICAgIHVybDokKFxcXFxcXFwi56Gu6K6k5Yig6Zmk6K+l6K+E6K66P1xcXFxcXFwiKS5jb25maXJtKChpbnB1dCk9PntcXFxcbiAgICAgICAgICAgICAgICBsZXQgcmVzdWx0PUpTT04ucGFyc2UocmVxdWVzdChpbnB1dCkpO1xcXFxuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKVxcXFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFxcXFxcInRvYXN0Oi8vXFxcXFxcXCIrcmVzdWx0LmRldGFpbDtcXFxcbiAgICAgICAgICAgIH0sYXBpLmRpc19kZXZfY29udHJvbCtwaWQrXFxcXFxcXCI/cXE9XFxcXFxcXCIgKyB1c2VybmFtZSArIFxcXFxcXFwiJnBhc3N3b3JkPVxcXFxcXFwiICsgcGFzc3dvcmQrXFxcXFxcXCImZGVsZXRlPTFcXFxcXFxcIiksXFxcXG4gICAgICAgICAgICBjb2xfdHlwZTpcXFxcXFxcInRleHRfMlxcXFxcXFwiXFxcXG4gICAgICAgIH0pO1xcXFxuICAgICAgICBkYXRhLnB1c2goe1xcXFxuICAgICAgICAgICAgY29sX3R5cGU6XFxcXFxcXCJsaW5lXFxcXFxcXCJcXFxcbiAgICAgICAgfSk7XFxcXG4gICAgICAgIGRhdGEucHVzaCh7XFxcXG4gICAgICAgICAgICBjb2xfdHlwZTpcXFxcXFxcImxpbmVcXFxcXFxcIlxcXFxuICAgICAgICB9KTtcXFxcbiAgICB9XFxcXG59XFxcXG5pZiAodG90YWxTdW0gPT09IDApIHtcXFxcbiAgICBkYXRhLnB1c2goe1xcXFxuICAgICAgICB0aXRsZTogXFxcXFxcXCI8aDUgc3R5bGU9J3RleHQtYWxpZ246Y2VudGVyJz7kuIDmnaHor4TorrrkuZ/msqHmnInvvIzlv6vmnaXmiqLmspnlj5HlkKfvvIE8L2g1PlxcXFxcXFwiLFxcXFxuICAgICAgICBjb2xfdHlwZTogXFxcXFxcXCJyaWNoX3RleHRcXFxcXFxcIlxcXFxuICAgIH0pO1xcXFxufSBlbHNlIHtcXFxcbiAgICBsZXQgY29tbWVudExpc3QgPSBKU09OLnBhcnNlKHJlcXVlc3QoYXBpLmRpc19nZXQgKyBpZCArIFxcXFxcXFwiP2xpbWl0PTUmcGFnZT1cXFxcXFxcIiArIHBhZ2UgKyBcXFxcXFxcIiZub19hY3RpdmU9XFxcXFxcXCIgKyBub19hY3RpdmUgKyBcXFxcXFxcIiZkaXNjdXNzX3R5cGU9XFxcXFxcXCIgKyBkaXNjdXNzX3R5cGUpKS5yZXN1bHQ7XFxcXG4gICAgZm9yIChsZXQgaXRlbSBvZiBjb21tZW50TGlzdCkge1xcXFxuICAgICAgICBsZXQgUmVwbHkgPSBpdGVtLmRpc2N1c3NfdHlwZT09PVxcXFxcXFwicmVwbHlcXFxcXFxcIiYmaXRlbS5yZXBseV90b19uYW1lIT09ZmFsc2UmJml0ZW0ucmVwbHlfdG9faWQhPT1mYWxzZT9cXFxcXFxcIuKAmOKAmOWbnuWkjUBcXFxcXFxcIitpdGVtLnJlcGx5X3RvX25hbWUrXFxcXFxcXCIgI1xcXFxcXFwiK2l0ZW0uZGlzY3Vzc19pZCtcXFxcXFxcIuKAmeKAmVxcXFxcXFxcblxcXFxcXFwiOlxcXFxcXFwiXFxcXFxcXCI7XFxcXG4gICAgICAgIGRhdGEucHVzaCh7XFxcXG4gICAgICAgICAgICB0aXRsZTogaXRlbS5uYW1lICsgXFxcXFxcXCImbmJzcDsmbmJzcDs8Zm9udCBjb2xvcj0nZ3JheSc+PHNtYWxsPiNcXFxcXFxcIiArIGl0ZW0uaWQgKyBcXFxcXFxcIjwvc21hbGw+PGZvbnQ+XFxcXFxcXCIsXFxcXG4gICAgICAgICAgICBjb2xfdHlwZTogXFxcXFxcXCJhdmF0YXJcXFxcXFxcIixcXFxcbiAgICAgICAgICAgIC8vdXJsOiBub19hY3RpdmU/XFxcXFxcXCJoaWtlcjovL3BhZ2UvUmVwbHlcXFxcXFxcIjpcXFxcXFxcInRvYXN0Oi8vXFxcXFxcXCIgKyBpdGVtLnFxLFxcXFxuXFxcXHRcXFxcdCAgICAgICB1cmw6bm9fYWN0aXZlP1xcXFxcXFwiaGlrZXI6Ly9wYWdlL1JlcGx5XFxcXFxcXCI6XFxcXFxcXCJtcXF3cGE6Ly9pbS9jaGF0P2NoYXRfdHlwZT13cGEmdWluPVxcXFxcXFwiK2l0ZW0ucXEsXFxcXG4gICAgICAgICAgICBleHRyYTp7XFxcXG4gICAgICAgICAgICAgICAgcnVsZUlkOiBpZCxcXFxcbiAgICAgICAgICAgICAgICBuYW1lOiBpdGVtLm5hbWUsXFxcXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkLFxcXFxuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZSxcXFxcbiAgICAgICAgICAgICAgICByZXBseUlkOml0ZW0uaWRcXFxcbiAgICAgICAgICAgIH0sXFxcXG4gICAgICAgICAgICBwaWNfdXJsOiBpdGVtLmF2YXRhcl91cmxcXFxcbiAgICAgICAgfSk7XFxcXG4gICAgICAgIGRhdGEucHVzaCh7XFxcXG4gICAgICAgICAgICB0aXRsZTogaXRlbS5kaXNjdXNzX3RleHQsXFxcXG4gICAgICAgICAgICBkZXNjOiBSZXBseStpdGVtLmNyZWF0ZV9kYXRlICsgXFxcXFxcXCLCt1xcXFxcXFwiICsgaWNvbltpdGVtLmRpc2N1c3NfdHlwZV0sXFxcXG4gICAgICAgICAgICBjb2xfdHlwZTogXFxcXFxcXCJ0ZXh0XzFcXFxcXFxcIixcXFxcbiAgICAgICAgICAgIHVybDogXFxcXFxcXCJoaWtlcjovL3BhZ2UvaW5mb1xcXFxcXFwiLFxcXFxuICAgICAgICAgICAgZXh0cmE6e1xcXFxuICAgICAgICAgICAgICAgIG5hbWU6aXRlbS5uYW1lLFxcXFxuICAgICAgICAgICAgICAgIHR5cGU6XFxcXFxcXCJsb25nX3RleHRcXFxcXFxcIixcXFxcbiAgICAgICAgICAgICAgICB0ZXh0Oml0ZW0uZGlzY3Vzc190ZXh0XFxcXG4gICAgICAgICAgICB9LFxcXFxuICAgICAgICAgICAgcGljX3VybDogaXRlbS5hdmF0YXJfdXJsXFxcXG4gICAgICAgIH0pO1xcXFxuICAgICAgICBjb250cm9sKGl0ZW0uaWQsaXRlbS5hY3RpdmUpO1xcXFxuICAgIH1cXFxcbiAgICBpZiAoY29tbWVudExpc3QubGVuZ3RoID09PSAwKSB7XFxcXG4gICAgICAgIGRhdGEucHVzaCh7XFxcXG4gICAgICAgICAgICBjb2xfdHlwZTogXFxcXFxcXCJsaW5lX2JsYW5rXFxcXFxcXCJcXFxcbiAgICAgICAgfSk7XFxcXG4gICAgfVxcXFxufVxcXFxuXFxcXG5zZXRSZXN1bHQoZGF0YSlcXFwifSx7XFxcImNvbF90eXBlXFxcIjpcXFwibW92aWVfM1xcXCIsXFxcIm5hbWVcXFwiOlxcXCLlj5Hooajor4TorrpcXFwiLFxcXCJwYXRoXFxcIjpcXFwiTWFrZUFjb21tZW50XFxcIixcXFwicnVsZVxcXCI6XFxcImpzOlxcXFxubGV0IGRhdGEgPSBbXTtcXFxcbmNvbnN0IHtcXFxcbiAgICBhcGksXFxcXG4gICAgZ2V0RmlsZVxcXFxufSA9ICQucmVxdWlyZShcXFxcXFxcImhpa2VyOi8vcGFnZS91dGlsaXlcXFxcXFxcIik7XFxcXG5sZXQge1xcXFxuICAgIGlkLFxcXFxuICAgIG5hbWUsXFxcXG4gICAgZGVmYXVsdFR5cGVcXFxcbn0gPSBNWV9QQVJBTVM7XFxcXG5sZXQgdXNlcj1nZXRGaWxlKCkudXNlcnx8W1xcXFxcXFwiXFxcXFxcXCIsXFxcXFxcXCJcXFxcXFxcIl07XFxcXG5cXFxcbnNldFBhZ2VUaXRsZShcXFxcXFxcIuivhOiuuihcXFxcXFxcIiArIG5hbWUgKyBcXFxcXFxcIilcXFxcXFxcIik7XFxcXG5hZGRMaXN0ZW5lcignb25DbG9zZScsICQudG9TdHJpbmcoKCkgPT4ge1xcXFxuICAgIGNsZWFyVmFyKFxcXFxcXFwiV2FyZWhvdXNlLmNvbW1lbnQudHlwZVxcXFxcXFwiKTtcXFxcbiAgICBjbGVhclZhcihcXFxcXFxcIldhcmVob3VzZS5jb21tZW50LnRleHRcXFxcXFxcIik7XFxcXG4gICAgY2xlYXJWYXIoXFxcXFxcXCJXYXJlaG91c2UuY29tbWVudC5xcVxcXFxcXFwiKTtcXFxcbiAgICByZWZyZXNoUGFnZShmYWxzZSk7XFxcXG59KSk7XFxcXG5sZXQgdHlwZSA9IGdldFZhcihcXFxcXFxcIldhcmVob3VzZS5jb21tZW50LnR5cGVcXFxcXFxcIikgfHwgZGVmYXVsdFR5cGV8fFxcXFxcXFwiZ29vZFxcXFxcXFwiO1xcXFxuZGF0YS5wdXNoKHtcXFxcbiAgICBkZXNjOiBcXFxcXFxcIuivhOiuui4uLi4uLlxcXFxcXFwiLFxcXFxuICAgIGNvbF90eXBlOiAnaW5wdXQnLFxcXFxuICAgIGV4dHJhOiB7XFxcXG4gICAgICAgIHRpdGxlVmlzaWJsZTogZmFsc2UsXFxcXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogZ2V0VmFyKCdXYXJlaG91c2UuY29tbWVudC50ZXh0JywgJycpLFxcXFxuICAgICAgICB0eXBlOiBcXFxcXFxcInRleHRhcmVhXFxcXFxcXCIsXFxcXG4gICAgICAgIGhlaWdodDo3LFxcXFxuICAgICAgICBvbkNoYW5nZTogJ3B1dFZhcihcXFxcXFxcIldhcmVob3VzZS5jb21tZW50LnRleHRcXFxcXFxcIixpbnB1dCknXFxcXG4gICAgfVxcXFxufSk7XFxcXG5kYXRhLnB1c2goe1xcXFxuICAgIHRpdGxlOlxcXFxcXFwi6LSm5Y+377yaXFxcXFxcXCIrKHVzZXJbMF18fFxcXFxcXFwiXFxcXFxcXCIpLFxcXFxuICAgIGRlc2M6XFxcXFxcXCLpqozor4HnoIHvvJpcXFxcXFxcIisodXNlclsxXXx8XFxcXFxcXCJcXFxcXFxcIiksXFxcXG4gICAgdXJsOlxcXFxcXFwiaGlrZXI6Ly9wYWdlL1VzZXJyZWdpc3RyYXRpb25cXFxcXFxcIixcXFxcbiAgICBjb2xfdHlwZTogJ3RleHRfMScsXFxcXG4gICAgXFxcXG59KTtcXFxcblxcXFxuZGF0YS5wdXNoKHtcXFxcbiAgICB0aXRsZTogICh0eXBlID09PSBcXFxcXFxcImdvb2RcXFxcXFxcIiA/IFxcXFxcXFwi4peJXFxcXFxcXCIgOiBcXFxcXFxcIuKXi1xcXFxcXFwiKStcXFxcXFxcIiDwn5GNXFxcXFxcXCIsXFxcXG4gICAgdXJsOiAkKFxcXFxcXFwiI25vTG9hZGluZyNcXFxcXFxcIikubGF6eVJ1bGUoKCkgPT4ge1xcXFxuICAgICAgICBwdXRWYXIoXFxcXFxcXCJXYXJlaG91c2UuY29tbWVudC50eXBlXFxcXFxcXCIsIFxcXFxcXFwiZ29vZFxcXFxcXFwiKTtcXFxcbiAgICAgICAgcmVmcmVzaFBhZ2UoKTtcXFxcbiAgICAgICAgcmV0dXJuIFxcXFxcXFwiaGlrZXI6Ly9lbXB0eVxcXFxcXFwiO1xcXFxuICAgIH0pLFxcXFxuICAgIGNvbF90eXBlOiAndGV4dF8yJ1xcXFxuXFxcXG59KTtcXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgdGl0bGU6ICAodHlwZSA9PT0gXFxcXFxcXCJiYWRcXFxcXFxcIiA/IFxcXFxcXFwi4peJXFxcXFxcXCIgOiBcXFxcXFxcIuKXi1xcXFxcXFwiKStcXFxcXFxcIiDwn5GOXFxcXFxcXCIsXFxcXG4gICAgdXJsOiAkKFxcXFxcXFwiI25vTG9hZGluZyNcXFxcXFxcIikubGF6eVJ1bGUoKCkgPT4ge1xcXFxuICAgICAgICBwdXRWYXIoXFxcXFxcXCJXYXJlaG91c2UuY29tbWVudC50eXBlXFxcXFxcXCIsIFxcXFxcXFwiYmFkXFxcXFxcXCIpO1xcXFxuICAgICAgICByZWZyZXNoUGFnZSgpO1xcXFxuICAgICAgICByZXR1cm4gXFxcXFxcXCJoaWtlcjovL2VtcHR5XFxcXFxcXCI7XFxcXG4gICAgfSksXFxcXG4gICAgY29sX3R5cGU6ICd0ZXh0XzInXFxcXG59KTtcXFxcblxcXFxuZGF0YS5wdXNoKHtcXFxcbiAgICB0aXRsZTogXFxcXFxcXCLmj5DkuqRcXFxcXFxcIixcXFxcbiAgICBjb2xfdHlwZTogXFxcXFxcXCJ0ZXh0X2NlbnRlcl8xXFxcXFxcXCIsXFxcXG4gICAgdXJsOiAkKGFwaS5kaXNfbmV3ICsgaWQpLmxhenlSdWxlKChBY2NvdW50KSA9PiB7XFxcXG4gICAgICAgIGxldCB0ZXh0ID0gZ2V0VmFyKCdXYXJlaG91c2UuY29tbWVudC50ZXh0JywgJycpO1xcXFxuICAgICAgICBsZXQgW3FxLGF1dGhfY29kZV0gPSBBY2NvdW50O1xcXFxuICAgICAgICBsZXQgdHlwZSA9IGdldFZhcignV2FyZWhvdXNlLmNvbW1lbnQudHlwZScpIHx8ICdnb29kJztcXFxcbiAgICAgICAgcXE9cXF8fFxcXFxcXFwiXFxcXFxcXCI7XFxcXG4gICAgICAgIGF1dGhfY29kZT1hdXRoX2NvZGV8fFxcXFxcXFwiXFxcXFxcXCI7XFxcXG4gICAgICAgIGlmKHFxPT1cXFxcXFxcIlxcXFxcXFwifHxhdXRoX2NvZGU9PVxcXFxcXFwiXFxcXFxcXCIpe1xcXFxuICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwidG9hc3Q6Ly/mnKrnmbvlvZXotKblj7dcXFxcXFxcIjtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBpZih0ZXh0PT1cXFxcXFxcIlxcXFxcXFwiKXtcXFxcbiAgICAgICAgICAgIHJldHVybiBcXFxcXFxcInRvYXN0Oi8v5L2g6L+Y5LuA5LmI6YO95rKh5YaZ5ZWKXFxcXFxcXCI7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgZnVuY3Rpb24gcihwKSB7XFxcXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gcmVxdWVzdChpbnB1dCwge1xcXFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xcXFxuICAgICAgICAgICAgICAgIH0sXFxcXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocCksXFxcXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCdcXFxcbiAgICAgICAgICAgIH0pO1xcXFxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UocmVzdWx0KS5yZXN1bHQ7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgbGV0IHAgPSB7XFxcXG4gICAgICAgICAgICBcXFxcXFxcInBhcmFtc1xcXFxcXFwiOiB7XFxcXG4gICAgICAgICAgICAgICAgXFxcXFxcXCJkaXNjdXNzX3RleHRcXFxcXFxcIjogdGV4dCxcXFxcbiAgICAgICAgICAgICAgICBcXFxcXFxcInFxXFxcXFxcXCI6IHFxLFxcXFxuICAgICAgICAgICAgICAgIFxcXFxcXFwiZGlzY3Vzc190eXBlXFxcXFxcXCI6IHR5cGUsXFxcXG4gICAgICAgICAgICAgICAgXFxcXFxcXCJhdXRoX2NvZGVcXFxcXFxcIjogYXV0aF9jb2RlXFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgbGV0IHJlc3VsdCA9IHIocCk7XFxcXG4gICAgICAgIGlmKHJlc3VsdC5zdGF0dXM9PT0wKXtcXFxcbiAgICAgICAgICAgIGJhY2soZmFsc2UpO1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIHJldHVybiBcXFxcXFxcInRvYXN0Oi8vXFxcXFxcXCIrcmVzdWx0LmRldGFpbDtcXFxcblxcXFxuICAgIH0sdXNlcilcXFxcbn0pO1xcXFxuXFxcXG5zZXRSZXN1bHQoZGF0YSk7XFxcIn0se1xcXCJjb2xfdHlwZVxcXCI6XFxcIm1vdmllXzNcXFwiLFxcXCJuYW1lXFxcIjpcXFwi5Lyq55So5oi35rOo5YaMXFxcIixcXFwicGF0aFxcXCI6XFxcIlVzZXJyZWdpc3RyYXRpb25cXFwiLFxcXCJydWxlXFxcIjpcXFwianM6XFxcXG5jb25zdCB7XFxcXG4gICAgYXBpLFxcXFxuICAgIGdldEZpbGUsXFxcXG4gICAgZ2V0VXNlckRhdGVcXFxcbn0gPSAkLnJlcXVpcmUoXFxcXFxcXCJoaWtlcjovL3BhZ2UvdXRpbGl5XFxcXFxcXCIpO1xcXFxubGV0IGRhdGEgPSBbXTtcXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgY29sX3R5cGU6IFxcXFxcXFwibGluZV9ibGFua1xcXFxcXFwiXFxcXG59KTtcXFxcbnNldFBhZ2VUaXRsZShcXFxcXFxcIueUqOaIt+WIl+ihqOeuoeeQhlxcXFxcXFwiKTtcXFxcbmFkZExpc3RlbmVyKCdvbkNsb3NlJywgJC50b1N0cmluZygoKSA9PiB7XFxcXG4gICAgY2xlYXJWYXIoXFxcXFxcXCJXYXJlaG91c2UubS5xcVxcXFxcXFwiKTtcXFxcbiAgICBjbGVhclZhcihcXFxcXFxcIldhcmVob3VzZS5tLnl6bVxcXFxcXFwiKTtcXFxcbn0pKTtcXFxcbmxldCB1c2VyID0gZ2V0RmlsZSgpO1xcXFxubGV0IHVzZXJOYW1lID0gdXNlci51c2VyIHx8IFtcXFxcXFxcIlxcXFxcXFwiXTtcXFxcbnVzZXJOYW1lID0gdXNlck5hbWVbMF07XFxcXG5kYXRhLnB1c2goe1xcXFxuICAgIHRpdGxlOiBcXFxcXFxcIuKAnOKAnOKAneKAnTxiaWc+KOa3u+WKoC/pqozor4Ep6LSm5Y+3PC9iaWc+XFxcXFxcXCIsXFxcXG4gICAgY29sX3R5cGU6IFxcXFxcXFwidGV4dF8xXFxcXFxcXCIsXFxcXG4gICAgdXJsOiBcXFxcXFxcImhpa2VyOi8vZW1wdHlcXFxcXFxcIlxcXFxufSk7XFxcXG5cXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgdGl0bGU6IFxcXFxcXFwi6I635Y+WXFxcXFxcXCIsXFxcXG4gICAgY29sX3R5cGU6ICdpbnB1dCcsXFxcXG4gICAgZGVzYzogXFxcXFxcXCLor7fovpPlhaVxcVxcXFxcXFwiLFxcXFxuICAgIHVybDogJC50b1N0cmluZygoYSwgYikgPT4ge1xcXFxuICAgICAgICBsZXQgcXEgPSBpbnB1dDtcXFxcbiAgICAgICAgaWYgKHFxID09IFxcXFxcXFwiXFxcXFxcXCIpIHtcXFxcbiAgICAgICAgICAgIHJldHVybiBcXFxcXFxcInRvYXN0Oi8v5L2g6L+Y5LuA5LmI6YO95rKh5aGr5ZWKIVxcXFxcXFwiO1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIHNob3dMb2FkaW5nKFxcXFxcXFwi6I635Y+W5LitLi4uXFxcXFxcXCIpXFxcXG4gICAgICAgIHJldHVybiAkKFxcXFxcXFwiI25vTG9hZGluZyNcXFxcXFxcIikubGF6eVJ1bGUoKHFxLCBhLCBiKSA9PiB7XFxcXG4gICAgICAgIHRyeSB7XFxcXG4gICAgICAgICAgICBsZXQgcmVzdWx0ID0gcmVxdWVzdChhLCB7XFxcXG4gICAgICAgICAgICAgICAgaGVhZGVyczoge1xcXFxuICAgICAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXFxcXG4gICAgICAgICAgICAgICAgfSxcXFxcbiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XFxcXG4gICAgICAgICAgICAgICAgICAgIFxcXFxcXFwicGFyYW1zXFxcXFxcXCI6IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIFxcXFxcXFwicXFcXFxcXFxcIjogcXFcXFxcbiAgICAgICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgIH0pLFxcXFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnXFxcXG4gICAgICAgICAgICB9KTtcXFxcbiAgICAgICAgICAgIHJlc3VsdCA9IEpTT04ucGFyc2UocmVzdWx0KS5yZXN1bHQ7XFxcXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gMCkge1xcXFxuICAgICAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwidG9hc3Q6Ly9cXFxcXFxcIiArIHJlc3VsdC5kZXRhaWw7XFxcXG4gICAgICAgICAgICB9IGVsc2Uge1xcXFxuICAgICAgICAgICAgICAgIGxldCByZXN1bHQyID0gSlNPTi5wYXJzZShyZXF1ZXN0KGIgKyBcXFxcXFxcIj9xcT1cXFxcXFxcIiArIHFxKSk7XFxcXG4gICAgICAgICAgICAgICAgaGlkZUxvYWRpbmcoKTtcXFxcbiAgICAgICAgICAgICAgICByZXR1cm4gXFxcXFxcXCJ0b2FzdDovL1xcXFxcXFwiICsgcmVzdWx0Mi5kZXRhaWw7XFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcXFxcbiAgICAgICAgICAgIGhpZGVMb2FkaW5nKCk7XFxcXG4gICAgICAgICAgICB0aHJvdyBlO1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIH0sIHFxLCBhLCBiKTtcXFxcblxcXFxuICAgIH0sIGFwaS5kaXNfbmV3X3VzZXIsIGFwaS5kaXNfdmVyaWZ5KSxcXFxcbiAgICBleHRyYToge1xcXFxuICAgICAgICB0eXBlOiBcXFxcXFxcIm51bWJlclxcXFxcXFwiLFxcXFxuICAgICAgICBkZWZhdWx0VmFsdWU6IGdldFZhcignV2FyZWhvdXNlLm0ucXEnLCAnJykgfHwgdXNlck5hbWUsXFxcXG4gICAgICAgIG9uQ2hhbmdlOiAncHV0VmFyKFxcXFxcXFwiV2FyZWhvdXNlLm0ucXFcXFxcXFxcIixpbnB1dCknXFxcXG4gICAgfVxcXFxufSk7XFxcXG5cXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgY29sX3R5cGU6ICdpbnB1dCcsXFxcXG4gICAgZGVzYzogXFxcXFxcXCLor7fovpPlhaXpqozor4HnoIFcXFxcXFxcIixcXFxcbiAgICBleHRyYToge1xcXFxuICAgICAgICB0aXRsZVZpc2libGU6IGZhbHNlLFxcXFxuICAgICAgICBkZWZhdWx0VmFsdWU6IGdldFZhcignV2FyZWhvdXNlLm0ueXptJywgJycpLFxcXFxuICAgICAgICBvbkNoYW5nZTogJ3B1dFZhcihcXFxcXFxcIldhcmVob3VzZS5tLnl6bVxcXFxcXFwiLGlucHV0KSdcXFxcbiAgICB9XFxcXG59KTtcXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgY29sX3R5cGU6ICdyaWNoX3RleHQnLFxcXFxuICAgIHRpdGxlOiBcXFxcXFxcIjxzbWFsbD7mj5DnpLrvvJoxLuavj+WkqeWPquiDveiOt+WPljXmrKHpqozor4HnoIEuPGJyPiZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOzIuPHM+6aqM6K+B56CB5pyJ5pWI5pyf5oyB57ut5LiA5ZGo5bem5Y+zPC9zPijmmoLml7bkuI3kvJrvvIzlv5jorrDpqozor4HnoIHlj6/pgJrov4dRUeWPt+iOt+WPlik8L3NtYWxsPlxcXFxcXFwiXFxcXG59KTtcXFxcblxcXFxubGV0IHVzZXJMaXN0ID0gZ2V0VXNlckRhdGUoKTtcXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgdGl0bGU6IFxcXFxcXFwi6aqM6K+BL+eZu+W9lVxcXFxcXFwiLFxcXFxuICAgIHVybDogJChcXFxcXFxcIuehruWumuS/neWtmO+8jOmqjOivgeeggeWhq+mUme+8jOaXoOazleivhOiuuuWTplxcXFxcXFwiKS5jb25maXJtKChmLCBsLCBsb2dpbikgPT4ge1xcXFxuICAgICAgICBsZXQgcXEgPSBnZXRWYXIoJ1dhcmVob3VzZS5tLnFxJywgJycpO1xcXFxuICAgICAgICBsZXQgeXptID0gZ2V0VmFyKCdXYXJlaG91c2UubS55em0nLCAnJyk7XFxcXG4gICAgICAgIGlmIChxcSA9PSBcXFxcXFxcIlxcXFxcXFwiIHx8IHl6bSA9PSBcXFxcXFxcIlxcXFxcXFwiKSB7XFxcXG4gICAgICAgICAgICByZXR1cm4gXFxcXFxcXCJ0b2FzdDovL3Fx5oiW6aqM6K+B56CB5Li656m6XFxcXFxcXCI7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlcXVlc3QobG9naW4sIHtcXFxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcXFxcbiAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXFxcXG4gICAgICAgICAgICB9LFxcXFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xcXFxuICAgICAgICAgICAgICAgIFxcXFxcXFwicGFyYW1zXFxcXFxcXCI6IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgXFxcXFxcXCJxcVxcXFxcXFwiOiBxcSxcXFxcbiAgICAgICAgICAgICAgICAgICAgXFxcXFxcXCJhdXRoX2NvZGVcXFxcXFxcIjogeXptXFxcXG4gICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgfSksXFxcXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJ1xcXFxuICAgICAgICB9KTtcXFxcbiAgICAgICAgcmVzdWx0ID0gSlNPTi5wYXJzZShyZXN1bHQpLnJlc3VsdDtcXFxcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IDApIHtcXFxcbiAgICAgICAgICAgIGYudXNlciA9IFtxcSwgeXptXTtcXFxcbiAgICAgICAgICAgIHdyaXRlRmlsZShcXFxcXFxcImhpa2VyOi8vZmlsZXMvV2FyZWhvdXNlVVNFUi5qc29uXFxcXFxcXCIsIEpTT04uc3RyaW5naWZ5KGYpKTtcXFxcbiAgICAgICAgICAgIGxldCBpbmRleCA9IGwuZmluZEluZGV4KGl0ZW0gPT4gaXRlbVswXSA9PT0gcXEpO1xcXFxuICAgICAgICAgICAgaWYgKGluZGV4ID4gLTEpIHtcXFxcbiAgICAgICAgICAgICAgICBsLnNwbGljZShpbmRleCwgMSwgW3FxLCB5em1dKTtcXFxcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobC5sZW5ndGggPCA2KSB7XFxcXG4gICAgICAgICAgICAgICAgbC5wdXNoKFtxcSwgeXptXSk7XFxcXG4gICAgICAgICAgICB9IGVsc2Uge1xcXFxuICAgICAgICAgICAgICAgIGwuc3BsaWNlKDAsIDEpO1xcXFxuICAgICAgICAgICAgICAgIGwucHVzaChbcXEsIHl6bV0pO1xcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgd3JpdGVGaWxlKFxcXFxcXFwiaGlrZXI6Ly9maWxlcy9XYXJlaG91c2VVU0VSQS5qc29uXFxcXFxcXCIsIEpTT04uc3RyaW5naWZ5KGwpKTtcXFxcbiAgICAgICAgICAgIGJhY2soKTtcXFxcbiAgICAgICAgICAgIHJldHVybiBcXFxcXFxcInRvYXN0Oi8v6aqM6K+B5oiQ5YqfXFxcXFxcXCI7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgcmV0dXJuIFxcXFxcXFwidG9hc3Q6Ly9cXFxcXFxcIiArIHJlc3VsdC5kZXRhaWw7XFxcXG4gICAgfSwgdXNlciwgdXNlckxpc3QsIGFwaS5kaXNfbG9naW4pLFxcXFxuICAgIGNvbF90eXBlOiAndGV4dF9jZW50ZXJfMSdcXFxcbn0pO1xcXFxuZGF0YS5wdXNoKHtcXFxcbiAgICBjb2xfdHlwZTogXFxcXFxcXCJsaW5lX2JsYW5rXFxcXFxcXCJcXFxcbn0pO1xcXFxuZGF0YS5wdXNoKHtcXFxcbiAgICB0aXRsZTogXFxcXFxcXCLigJzigJzigJ3igJ08YmlnPui0puWPt+WIl+ihqDwvYmlnPlxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdDxzbWFsbD4o5L+d55WZNeadoeiusOW9lSk8L3NtYWxsPlxcXFxcXFwiLFxcXFxuICAgIGNvbF90eXBlOiBcXFxcXFxcInRleHRfMVxcXFxcXFwiLFxcXFxuICAgIHVybDogXFxcXFxcXCJoaWtlcjovL2VtcHR5XFxcXFxcXCJcXFxcbn0pO1xcXFxudXNlckxpc3QucmV2ZXJzZSgpO1xcXFxuXFxcXG5mb3IgKGxldCBpdGVtIG9mIHVzZXJMaXN0KSB7XFxcXG4gICAgZGF0YS5wdXNoKHtcXFxcbiAgICAgICAgdGl0bGU6IFxcXFxcXFwi6LSm5Y+377yaXFxcXFxcXCIgKyBpdGVtWzBdICsgKHVzZXJOYW1lID09PSBpdGVtWzBdID8gXFxcXFxcXCJcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHTigJzigJxb5b2T5YmN6LSm5Y+3XeKAneKAnVxcXFxcXFwiIDogXFxcXFxcXCJcXFxcXFxcIiksXFxcXG4gICAgICAgIGRlc2M6IFxcXFxcXFwi6aqM6K+B56CB77yaXFxcXFxcXCIgKyBpdGVtWzFdLFxcXFxuICAgICAgICB1cmw6ICQoXFxcXFxcXCLmmK/lkKbliIfmjaLkuLror6VbXFxcXFxcXCIgKyBpdGVtWzBdICsgXFxcXFxcXCJd6LSm5Y+3XFxcXFxcXCIpLmNvbmZpcm0oKGYsIGl0ZW0pID0+IHtcXFxcbiAgICAgICAgICAgIGYudXNlciA9IGl0ZW07XFxcXG4gICAgICAgICAgICB3cml0ZUZpbGUoXFxcXFxcXCJoaWtlcjovL2ZpbGVzL1dhcmVob3VzZVVTRVIuanNvblxcXFxcXFwiLCBKU09OLnN0cmluZ2lmeShmKSk7XFxcXG4gICAgICAgICAgICBiYWNrKCk7XFxcXG4gICAgICAgICAgICByZXR1cm4gXFxcXFxcXCJ0b2FzdDovL+WIh+aNouaIkOWKn1xcXFxcXFwiO1xcXFxuICAgICAgICB9LCB1c2VyLCBpdGVtKSxcXFxcbiAgICAgICAgY29sX3R5cGU6IFxcXFxcXFwidGV4dF8xXFxcXFxcXCJcXFxcbiAgICB9KTtcXFxcbn1cXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgY29sX3R5cGU6IFxcXFxcXFwibGluZV9ibGFua1xcXFxcXFwiXFxcXG59KTtcXFxcbmRhdGEucHVzaCh7XFxcXG4gICAgdGl0bGU6IFxcXFxcXFwi6YCA5Ye66LSm5Y+3XFxcXFxcXCIsXFxcXG4gICAgdXJsOiAkKFxcXFxcXFwi56Gu6K6k6YCA5Ye655m75b2V54q25oCBXFxcXFxcXCIpLmNvbmZpcm0oKGYpID0+IHtcXFxcbiAgICAgICAgZi51c2VyID0gW107XFxcXG4gICAgICAgIHdyaXRlRmlsZShcXFxcXFxcImhpa2VyOi8vZmlsZXMvV2FyZWhvdXNlVVNFUi5qc29uXFxcXFxcXCIsIEpTT04uc3RyaW5naWZ5KGYpKTtcXFxcbiAgICAgICAgYmFjaygpO1xcXFxuICAgICAgICByZXR1cm4gXFxcXFxcXCJ0b2FzdDovL+mAgOWHuuaIkOWKn1xcXFxcXFwiO1xcXFxuICAgIH0sIHVzZXIpLFxcXFxuICAgIGNvbF90eXBlOiAndGV4dF9jZW50ZXJfMSdcXFxcbn0pO1xcXFxuc2V0UmVzdWx0KGRhdGEpO1xcXCJ9LHtcXFwiY29sX3R5cGVcXFwiOlxcXCJtb3ZpZV8zXFxcIixcXFwibmFtZVxcXCI6XFxcIuWIl+ihqOaOkuW6j+eul+azlVxcXCIsXFxcInBhdGhcXFwiOlxcXCJzb3J0XFxcIixcXFwicnVsZVxcXCI6XFxcImpzOlxcXFxuLyog6KeE5YiZ5YiX6KGo5o6S5bqPIFsgVVDjgIFORVfjgIHml6Dmm7TmlrAgXSDpobrluo8gKi9cXFxcbi8qIOW9kuW5tuaOkuW6jyBTdGFydCAqL1xcXFxuLypcXFxcbmZ1bmN0aW9uIG1lcmdlU29ydChhcnIpIHtcXFxcbiAgICB2YXIgbGVuID0gYXJyLmxlbmd0aDtcXFxcbiAgICBpZiAobGVuIDwgMikge1xcXFxuICAgICAgICByZXR1cm4gYXJyO1xcXFxuICAgIH1cXFxcbiAgICB2YXIgbWlkZGxlID0gTWF0aC5mbG9vcihsZW4gLyAyKSxcXFxcbiAgICAgICAgbGVmdCA9IGFyci5zbGljZSgwLCBtaWRkbGUpLFxcXFxuICAgICAgICByaWdodCA9IGFyci5zbGljZShtaWRkbGUpO1xcXFxuICAgIHJldHVybiBtZXJnZShtZXJnZVNvcnQobGVmdCksIG1lcmdlU29ydChyaWdodCkpO1xcXFxufVxcXFxuZnVuY3Rpb24gbWVyZ2UobGVmdCwgcmlnaHQpIHtcXFxcbiAgICB2YXIgcmVzdWx0ID0gW107XFxcXG4gICAgdmFyIGlzVGhpc1ZlcnNpb25MaXN0ID0gW107XFxcXG5cXFxcbiAgICB3aGlsZSAobGVmdC5sZW5ndGggPiAwICYmIHJpZ2h0Lmxlbmd0aCA+IDApIHtcXFxcbiAgICAgICAgaWYgKGxlZnRbMF0udGl0bGUuaW5jbHVkZXMoXFxcXFxcXCLwn4aZXFxcXFxcXCIpKSB7XFxcXG4gICAgICAgICAgICByZXN1bHQucHVzaChsZWZ0LnNoaWZ0KCkpO1xcXFxuICAgICAgICB9IGVsc2UgaWYgKHJpZ2h0WzBdLnRpdGxlLmluY2x1ZGVzKFxcXFxcXFwi8J+GmVxcXFxcXFwiKSkge1xcXFxuICAgICAgICAgICAgcmVzdWx0LnB1c2gocmlnaHQuc2hpZnQoKSk7XFxcXG4gICAgICAgIH0gZWxzZSBpZiAobGVmdFswXS50aXRsZS5pbmNsdWRlcyhcXFxcXFxcIvCfhpVcXFxcXFxcIikpIHtcXFxcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGxlZnQuc2hpZnQoKSk7XFxcXG4gICAgICAgIH0gZWxzZSBpZiAocmlnaHRbMF0udGl0bGUuaW5jbHVkZXMoXFxcXFxcXCLwn4aVXFxcXFxcXCIpKSB7XFxcXG4gICAgICAgICAgICByZXN1bHQucHVzaChyaWdodC5zaGlmdCgpKTtcXFxcbiAgICAgICAgfSBlbHNlIHtcXFxcbiAgICAgICAgICAgIGlzVGhpc1ZlcnNpb25MaXN0LnB1c2gobGVmdC5zaGlmdCgpKTtcXFxcbiAgICAgICAgICAgIGlzVGhpc1ZlcnNpb25MaXN0LnB1c2gocmlnaHQuc2hpZnQoKSk7XFxcXG4gICAgICAgIH1cXFxcbiAgICB9XFxcXG5cXFxcbiAgICB3aGlsZSAoaXNUaGlzVmVyc2lvbkxpc3QubGVuZ3RoKSByZXN1bHQucHVzaChpc1RoaXNWZXJzaW9uTGlzdC5zaGlmdCgpKTtcXFxcblxcXFxuICAgIHdoaWxlIChsZWZ0Lmxlbmd0aClcXFxcbiAgICAgICAgcmVzdWx0LnB1c2gobGVmdC5zaGlmdCgpKTtcXFxcblxcXFxuICAgIHdoaWxlIChyaWdodC5sZW5ndGgpXFxcXG4gICAgICAgIHJlc3VsdC5wdXNoKHJpZ2h0LnNoaWZ0KCkpO1xcXFxuXFxcXG4gICAgcmV0dXJuIHJlc3VsdDtcXFxcbn1cXFxcbiQuZXhwb3J0cy5tZXJnZVNvcnQgPSBtZXJnZVNvcnQ7XFxcXG4qL1xcXFxuLyog5b2S5bm25o6S5bqPIEVuZCAqL1xcXFxuLyog5pmu6YCa5YiG57G75o6S5bqPIFN0YXJ0ICovXFxcXG5mdW5jdGlvbiBub3JtYWxTb3J0KGFycikge1xcXFxuICAgIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xcXFxuICAgIGlmIChsZW4gPCAyKSB7XFxcXG4gICAgICAgIHJldHVybiBhcnI7XFxcXG4gICAgfVxcXFxuICAgIGxldCB1cFJlc3VsdCA9IFtdO1xcXFxuICAgIGxldCBvdGhlclJlc3VsdCA9IFtdO1xcXFxuICAgIHdoaWxlKGFyci5sZW5ndGgpIHtcXFxcbiAgICAgICAgbGV0IGl0ZW0gPSBhcnIuc2hpZnQoKTtcXFxcbiAgICAgICAgaWYoaXRlbS50aXRsZS5pbmNsdWRlcyhcXFxcXFxcIvCfhplcXFxcXFxcIikpIHtcXFxcbiAgICAgICAgICAgIHVwUmVzdWx0LnB1c2goaXRlbSlcXFxcbiAgICAgICAgfSBlbHNlIHtcXFxcbiAgICAgICAgICAgIG90aGVyUmVzdWx0LnB1c2goaXRlbSlcXFxcbiAgICAgICAgfVxcXFxuICAgIH1cXFxcbiAgICByZXR1cm4gdXBSZXN1bHQuY29uY2F0KG90aGVyUmVzdWx0KTtcXFxcbn1cXFxcbiQuZXhwb3J0cy5ub3JtYWxTb3J0ID0gbm9ybWFsU29ydDtcXFxcbi8qIOaZrumAmuWIhuexu+aOkuW6jyBFbmQgKi9cXFwifSx7XFxcImNvbF90eXBlXFxcIjpcXFwiaWNvbl8yX3JvdW5kXFxcIixcXFwibmFtZVxcXCI6XFxcIuWFqOmDqOWFrOW8gOinhOWImVxcXCIsXFxcInBhdGhcXFwiOlxcXCJBbGxQdWJsaWNSdWxlXFxcIixcXFwicnVsZVxcXCI6XFxcImpzOlxcXFxuICAgIGNvbnN0IHtcXFxcbiAgICAgICAgYXBpLFxcXFxuICAgICAgICBsb2NhbFJ1bGVWZXIsXFxcXG4gICAgICAgIGdldEFwaVxcXFxuICAgIH0gPSAkLnJlcXVpcmUoXFxcXFxcXCJoaWtlcjovL3BhZ2UvdXRpbGl5XFxcXFxcXCIpO1xcXFxuY29uc3Qge1xcXFxuICAgIG1lcmdlU29ydFxcXFxufSA9ICQucmVxdWlyZShcXFxcXFxcImhpa2VyOi8vcGFnZS9zb3J0XFxcXFxcXCIpO1xcXFxubGV0IGRhdGFUeXBlID0gZ2V0VmFyKFxcXFxcXFwiV2FyZWhvdXNlLnR5cGVcXFxcXFxcIiwgXFxcXFxcXCJcXFxcXFxcIik7XFxcXG5sZXQgb3JkZXIgPSBnZXRWYXIoXFxcXFxcXCJXYXJlaG91c2Uub3JkZXJcXFxcXFxcIiwgXFxcXFxcXCIwXFxcXFxcXCIpO1xcXFxubGV0IHNvcnQgPSBnZXRWYXIoXFxcXFxcXCJXYXJlaG91c2Uuc29ydFxcXFxcXFwiLCBcXFxcXFxcIjBcXFxcXFxcIik7XFxcXG5sZXQgZ29vZCA9IGdldFZhcihcXFxcXFxcIldhcmVob3VzZS5nb29kXFxcXFxcXCIsIFxcXFxcXFwiXFxcXFxcXCIpO1xcXFxubGV0IHBhZ2UgPSBNWV9VUkwuc3BsaXQoXFxcXFxcXCIjXFxcXFxcXCIpWzFdIHx8IDE7XFxcXG5sZXQgcnVsZUxpc3QgPSBKU09OLnBhcnNlKHJlcXVlc3QoYXBpLmFsbF9ydWxlICsgXFxcXFxcXCI/ZGF0YV90eXBlPVxcXFxcXFwiICsgZGF0YVR5cGUgKyBcXFxcXFxcIiZwYWdlPVxcXFxcXFwiICsgcGFnZSArIFxcXFxcXFwiJmxpbWl0PTIwJm9yZGVyPVxcXFxcXFwiICsgb3JkZXIgKyBcXFxcXFxcIiZzb3J0PVxcXFxcXFwiICsgc29ydCsgXFxcXFxcXCImaXNfZ29vZD1cXFxcXFxcIiArIGdvb2QpKS5yZXN1bHQ7XFxcXG5hZGRMaXN0ZW5lcignb25DbG9zZScsICQudG9TdHJpbmcoKCkgPT4ge1xcXFxuICAgIGNsZWFyVmFyKFxcXFxcXFwiV2FyZWhvdXNlLnR5cGVcXFxcXFxcIik7XFxcXG4gICAgY2xlYXJWYXIoXFxcXFxcXCJXYXJlaG91c2Uub3JkZXJcXFxcXFxcIik7XFxcXG4gICAgY2xlYXJWYXIoXFxcXFxcXCJXYXJlaG91c2Uuc29ydFxcXFxcXFwiKTtcXFxcbiAgICBjbGVhclZhcihcXFxcXFxcIldhcmVob3VzZS5nb29kXFxcXFxcXCIpO1xcXFxuICAgIGNsZWFyVmFyKFxcXFxcXFwiV2FyZWhvdXNlLmJhY2tcXFxcXFxcIik7XFxcXG59KSk7XFxcXG5sZXQgZGF0YSA9IFtdO1xcXFxuaWYgKGdldFZhcihcXFxcXFxcIldhcmVob3VzZS5iYWNrXFxcXFxcXCIpID09PSBcXFxcXFxcIjFcXFxcXFxcIikge1xcXFxuICAgIGJhY2soKTtcXFxcbn1cXFxcbmZ1bmN0aW9uIHRhYihhcnIsIHR5cGUsIGNvbnRyYXN0KSB7XFxcXG4gICAgZm9yIChsZXQgaXRlbSBvZiBhcnIpIHtcXFxcbiAgICAgICAgZGF0YS5wdXNoKHtcXFxcbiAgICAgICAgICAgIHRpdGxlOiBpdGVtWzFdID09PSBjb250cmFzdCA/IFxcXFxcXFwi4oCc4oCcXFxcXFxcXCIgKyBpdGVtWzBdICsgXFxcXFxcXCLigJ3igJ1cXFxcXFxcIiA6IGl0ZW1bMF0sXFxcXG4gICAgICAgICAgICB1cmw6ICQoXFxcXFxcXCIjbm9Mb2FkaW5nI1xcXFxcXFwiKS5sYXp5UnVsZSgoa2V5LCB0eXBlKSA9PiB7XFxcXG4gICAgICAgICAgICAgICAgcHV0VmFyKHR5cGUsIGtleSk7XFxcXG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xcXFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFxcXFxcImhpa2VyOi8vZW1wdHlcXFxcXFxcIjtcXFxcbiAgICAgICAgICAgIH0sIGl0ZW1bMV0sIHR5cGUpLFxcXFxuICAgICAgICAgICAgY29sX3R5cGU6IFxcXFxcXFwic2Nyb2xsX2J1dHRvblxcXFxcXFwiXFxcXG4gICAgICAgIH0pO1xcXFxuICAgIH1cXFxcbiAgICBkYXRhLnB1c2goe1xcXFxuICAgICAgICBjb2xfdHlwZTogXFxcXFxcXCJibGFua19ibG9ja1xcXFxcXFwiXFxcXG4gICAgfSk7XFxcXG59XFxcXG5pZiAocGFnZSA9PT0gXFxcXFxcXCIxXFxcXFxcXCIpIHtcXFxcbiAgICB0YWIoW1xcXFxuICAgICAgICBbXFxcXFxcXCLlhajpg6hcXFxcXFxcIiwgXFxcXFxcXCJcXFxcXFxcIl0sXFxcXG4gICAgICAgIFtcXFxcXFxcIuWwj+eoi+W6j1xcXFxcXFwiLCBcXFxcXFxcImhvbWVfcnVsZV91cmxcXFxcXFxcIl0sXFxcXG4gICAgICAgIFtcXFxcXFxcIuaPkOS6pOS6keS7k+W6k+inhOWImVxcXFxcXFwiLCBcXFxcXFxcInB1Ymxpc2hcXFxcXFxcIl0sXFxcXG4gICAgICAgIFtcXFxcXFxcIue9kemhteaPkuS7tlxcXFxcXFwiLCBcXFxcXFxcImpzX3VybFxcXFxcXFwiXSxcXFxcbiAgICAgICAgW1xcXFxcXFwi6Z2Z5oCB6aG16Z2iXFxcXFxcXCIsIFxcXFxcXFwiaHRtbFxcXFxcXFwiXSxcXFxcbiAgICAgICAgW1xcXFxcXFwi5Li76aKYXFxcXFxcXCIsIFxcXFxcXFwiY29uZmlnXFxcXFxcXCJdXFxcXG4gICAgXSwgXFxcXFxcXCJXYXJlaG91c2UudHlwZVxcXFxcXFwiLCBkYXRhVHlwZSk7XFxcXG4gICAgdGFiKFtcXFxcbiAgICAgICAgW1xcXFxcXFwi5pe26Ze0XFxcXFxcXCIsIFxcXFxcXFwiMFxcXFxcXFwiXSxcXFxcbiAgICAgICAgW1xcXFxcXFwiSURcXFxcXFxcIiwgXFxcXFxcXCIxXFxcXFxcXCJdLFxcXFxuICAgICAgICBbXFxcXFxcXCLlpb3or4TluqZcXFxcXFxcIiwgXFxcXFxcXCIyXFxcXFxcXCJdLFxcXFxuICAgICAgICBbXFxcXFxcXCLlt67or4TluqZcXFxcXFxcIiwgXFxcXFxcXCIzXFxcXFxcXCJdLFxcXFxuICAgICAgICBbXFxcXFxcXCLlm57lpI3mlbBcXFxcXFxcIiwgXFxcXFxcXCI0XFxcXFxcXCJdXFxcXG4gICAgXSwgXFxcXFxcXCJXYXJlaG91c2Uub3JkZXJcXFxcXFxcIiwgb3JkZXIpO1xcXFxuICAgIHRhYihbXFxcXG4gICAgICAgIFtcXFxcXFxcIuWAkuW6j1xcXFxcXFwiLCBcXFxcXFxcIjBcXFxcXFxcIl0sXFxcXG4gICAgICAgIFtcXFxcXFxcIuato+W6j1xcXFxcXFwiLCBcXFxcXFxcIjFcXFxcXFxcIl1cXFxcbiAgICBdLCBcXFxcXFxcIldhcmVob3VzZS5zb3J0XFxcXFxcXCIsIHNvcnQpO1xcXFxuICAgIHRhYihbXFxcXG4gICAgICAgIFtcXFxcXFxcIuS4jeiuulxcXFxcXFwiLCBcXFxcXFxcIlxcXFxcXFwiXSxcXFxcbiAgICAgICAgW1xcXFxcXFwi5LyY6LSoXFxcXFxcXCIsIFxcXFxcXFwiMVxcXFxcXFwiXVxcXFxuICAgIF0sIFxcXFxcXFwiV2FyZWhvdXNlLmdvb2RcXFxcXFxcIiwgZ29vZCk7XFxcXG4gICAgZGF0YS5wdXNoKHtcXFxcbiAgICAgICAgdGl0bGU6IFxcXFxcXFwi5pCc57SiXFxcXFxcXCIsXFxcXG4gICAgICAgIHVybDogJC50b1N0cmluZyhuYW1lID0+IFxcXFxcXFwiaGlrZXI6Ly9zZWFyY2g/cz1cXFxcXFxcIiArIGlucHV0ICsgXFxcXFxcXCImcnVsZT1cXFxcXFxcIiArIG5hbWUsIE1ZX1JVTEUudGl0bGUpLFxcXFxuICAgICAgICBjb2xfdHlwZTogXFxcXFxcXCJpbnB1dFxcXFxcXFwiLFxcXFxuICAgICAgICBkZXNjOiBcXFxcXFxcIuaQnOe0ouWFqOmDqOinhOWImVxcXFxcXFwiXFxcXG4gICAgfSk7XFxcXG59XFxcXG5cXFxcbmxldCBob21lTGlzdCA9IEpTT04ucGFyc2UocmVxdWVzdChhcGkuaG9tZSkpO1xcXFxubGV0IG1SdWxlTGlzdCA9IFtdO1xcXFxuZm9yICh2YXIgaXRlbSBvZiBydWxlTGlzdCkge1xcXFxuICAgIHZhciBuYW1lID0gaXRlbS5uYW1lO1xcXFxuICAgIGlmIChpdGVtLmlzX3RhcCkge1xcXFxuICAgICAgICBsZXQgbG9jYXRpb24gPSBKU09OLnBhcnNlKHJlcXVlc3QoZ2V0QXBpKFxcXFxcXFwicnVsZUxpc3RKc29uXFxcXFxcXCIpICsgXFxcXFxcXCI/aWQ9XFxcXFxcXCIgKyBpdGVtLmlkKSk7XFxcXG4gICAgICAgIGl0ZW0uaWQgPSBsb2NhdGlvbi5pZDtcXFxcbiAgICAgICAgaXRlbS5uYW1lID0gbG9jYXRpb24ubmFtZTtcXFxcbiAgICAgICAgaXRlbS5hdXRob3IgPSBsb2NhdGlvbi5hdXRob3I7XFxcXG4gICAgICAgIGl0ZW0uZGF0YV90eXBlID0gbG9jYXRpb24uZGF0YV90eXBlO1xcXFxuICAgICAgICBpdGVtLnZlciA9IGxvY2F0aW9uLnZlclxcXFxuICAgIH1cXFxcbiAgICBpdGVtLnZlcnNpb24gPSBpdGVtLnZlcjtcXFxcbiAgICBsZXQgbGFiZWwgPSBcXFxcXFxcIlxcXFxcXFwiLFxcXFxuICAgICAgICBsdmVyID0gLTI7XFxcXG4gICAgaWYgKGl0ZW0uaXNfanNvbiAmJiBpdGVtLmRhdGFfdHlwZSA9PT0gXFxcXFxcXCJob21lX3J1bGVfdXJsXFxcXFxcXCIpIHtcXFxcbiAgICAgICAgbHZlciA9IGxvY2FsUnVsZVZlcihob21lTGlzdCwgaXRlbSk7XFxcXG4gICAgICAgIGlmIChsdmVyID09PSAtMSkge1xcXFxuICAgICAgICAgICAgbGFiZWwgPSBcXFxcXFxcIvCfhpVcXFxcXFxcIjtcXFxcbiAgICAgICAgfSBlbHNlIGlmIChsdmVyIDwgaXRlbS52ZXIpIHtcXFxcbiAgICAgICAgICAgIGxhYmVsID0gXFxcXFxcXCLwn4aZXFxcXFxcXCI7XFxcXG4gICAgICAgIH1cXFxcbiAgICB9XFxcXG4gICAgbVJ1bGVMaXN0LnB1c2goe1xcXFxuICAgICAgICB0aXRsZTogbGFiZWwgKyBuYW1lLFxcXFxuICAgICAgICB1cmw6IFxcXFxcXFwiaGlrZXI6Ly9wYWdlL3J1bGVEZXRhaWwjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjXFxcXFxcXCIsXFxcXG4gICAgICAgIGV4dHJhOiB7XFxcXG4gICAgICAgICAgICBsdmVyOiBsdmVyLFxcXFxuICAgICAgICAgICAgaWQ6IGl0ZW0uaWQsXFxcXG4gICAgICAgICAgICBpc0FsbDp0cnVlXFxcXG4gICAgICAgIH0sXFxcXG4gICAgICAgIHBpY191cmw6IGl0ZW0ucGljLFxcXFxuICAgIH0pXFxcXG59XFxcXG4vKiDlvZLlubbmjpLluo8gU3RhcnQgKi9cXFxcbi8vbVJ1bGVMaXN0ID0gbWVyZ2VTb3J0KG1SdWxlTGlzdCk7XFxcXG4vKiDlvZLlubbmjpLluo8gRW5kICovXFxcXG5kYXRhLnB1c2guYXBwbHkoZGF0YSwgbVJ1bGVMaXN0KVxcXFxuc2V0UmVzdWx0KGRhdGEpO1xcXCJ9LHtcXFwiY29sX3R5cGVcXFwiOlxcXCJtb3ZpZV8zXFxcIixcXFwibmFtZVxcXCI6XFxcIuWbnuWkjVxcXCIsXFxcInBhdGhcXFwiOlxcXCJSZXBseVxcXCIsXFxcInJ1bGVcXFwiOlxcXCJqczpcXFxcbmxldCBkYXRhID0gW107XFxcXG5jb25zdCB7XFxcXG4gICAgYXBpXFxcXG59ID0gJC5yZXF1aXJlKFxcXFxcXFwiaGlrZXI6Ly9wYWdlL3V0aWxpeVxcXFxcXFwiKTtcXFxcbmxldCB7XFxcXG4gICAgcmVwbHlJZCxcXFxcbiAgICBydWxlSWQsXFxcXG4gICAgbmFtZSxcXFxcbiAgICBwYXNzd29yZCxcXFxcbiAgICB1c2VybmFtZVxcXFxufSA9IE1ZX1BBUkFNUztcXFxcblxcXFxuXFxcXG5zZXRQYWdlVGl0bGUoXFxcXFxcXCLlm57lpI0oXFxcXFxcXCIgKyBuYW1lICsgXFxcXFxcXCIpXFxcXFxcXCIpO1xcXFxuYWRkTGlzdGVuZXIoJ29uQ2xvc2UnLCAkLnRvU3RyaW5nKCgpID0+IHtcXFxcbiAgICBjbGVhclZhcihcXFxcXFxcIldhcmVob3VzZS5jb21tZW50LnRleHRcXFxcXFxcIik7XFxcXG4gICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xcXFxufSkpO1xcXFxuXFxcXG5kYXRhLnB1c2goe1xcXFxuICAgIGRlc2M6IFxcXFxcXFwi5Zue5aSNLi4uLi4uXFxcXFxcXCIsXFxcXG4gICAgY29sX3R5cGU6ICdpbnB1dCcsXFxcXG4gICAgZXh0cmE6IHtcXFxcbiAgICAgICAgdGl0bGVWaXNpYmxlOiBmYWxzZSxcXFxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBnZXRWYXIoJ1dhcmVob3VzZS5jb21tZW50LnRleHQnLCAnJyksXFxcXG4gICAgICAgIHR5cGU6IFxcXFxcXFwidGV4dGFyZWFcXFxcXFxcIixcXFxcbiAgICAgICAgaGVpZ2h0OjcsXFxcXG4gICAgICAgIG9uQ2hhbmdlOiAncHV0VmFyKFxcXFxcXFwiV2FyZWhvdXNlLmNvbW1lbnQudGV4dFxcXFxcXFwiLGlucHV0KSdcXFxcbiAgICB9XFxcXG59KTtcXFxcblxcXFxuXFxcXG5kYXRhLnB1c2goe1xcXFxuICAgIHRpdGxlOiBcXFxcXFxcIuaPkOS6pFxcXFxcXFwiLFxcXFxuICAgIGNvbF90eXBlOiBcXFxcXFxcInRleHRfY2VudGVyXzFcXFxcXFxcIixcXFxcbiAgICB1cmw6ICQoYXBpLmRpc19yZXBseSArIHJ1bGVJZCkubGF6eVJ1bGUoKHBhc3N3b3JkLCB1c2VybmFtZSwgcnVsZUlkKSA9PiB7XFxcXG4gICAgICAgIGxldCB0ZXh0ID0gZ2V0VmFyKCdXYXJlaG91c2UuY29tbWVudC50ZXh0JywgJycpO1xcXFxuICAgICAgICBpZiAocGFzc3dvcmQgPT0gXFxcXFxcXCJcXFxcXFxcIiB8fCB1c2VybmFtZSA9PSBcXFxcXFxcIlxcXFxcXFwiKSB7XFxcXG4gICAgICAgICAgICByZXR1cm4gXFxcXFxcXCJ0b2FzdDovL+acqueZu+W9lei0puWPt1xcXFxcXFwiO1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIGlmICh0ZXh0ID09IFxcXFxcXFwiXFxcXFxcXCIpIHtcXFxcbiAgICAgICAgICAgIHJldHVybiBcXFxcXFxcInRvYXN0Oi8v5L2g6L+Y5LuA5LmI6YO95rKh5YaZ5ZWKXFxcXFxcXCI7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgbGV0IHJlc3VsdCA9IHJlcXVlc3QoaW5wdXQsIHtcXFxcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcXFxcbiAgICAgICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXFxcXG4gICAgICAgICAgICB9LFxcXFxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xcXFxuICAgICAgICAgICAgICAgIFxcXFxcXFwicGFyYW1zXFxcXFxcXCI6IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgXFxcXFxcXCJkaXNjdXNzX3RleHRcXFxcXFxcIjogdGV4dCxcXFxcbiAgICAgICAgICAgICAgICAgICAgXFxcXFxcXCJxcVxcXFxcXFwiOiB1c2VybmFtZSxcXFxcbiAgICAgICAgICAgICAgICAgICAgXFxcXFxcXCJwYXNzd29yZFxcXFxcXFwiOiBwYXNzd29yZCxcXFxcbiAgICAgICAgICAgICAgICAgICAgXFxcXFxcXCJkaXNjdXNzX2lkXFxcXFxcXCI6IHJ1bGVJZFxcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIH0pLFxcXFxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCdcXFxcbiAgICAgICAgfSk7XFxcXG4gICAgICAgIHJlc3VsdCA9IEpTT04ucGFyc2UocmVzdWx0KS5yZXN1bHQ7XFxcXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSAwKSB7XFxcXG4gICAgICAgICAgICBiYWNrKGZhbHNlKTtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICByZXR1cm4gXFxcXFxcXCJ0b2FzdDovL1xcXFxcXFwiICsgcmVzdWx0LmRldGFpbDtcXFxcblxcXFxuICAgIH0sIHBhc3N3b3JkLCB1c2VybmFtZSwgcmVwbHlJZClcXFxcbn0pO1xcXFxuXFxcXG5zZXRSZXN1bHQoZGF0YSk7XFxcIn0se1xcXCJjb2xfdHlwZVxcXCI6XFxcIm1vdmllXzNcXFwiLFxcXCJuYW1lXFxcIjpcXFwi5oiR55qE5Zue5aSNXFxcIixcXFwicGF0aFxcXCI6XFxcIk15UmVwbHlcXFwiLFxcXCJydWxlXFxcIjpcXFwianM6XFxcXG5jb25zdCB7XFxcXG4gICAgYXBpXFxcXG59ID0gJC5yZXF1aXJlKFxcXFxcXFwiaGlrZXI6Ly9wYWdlL3V0aWxpeVxcXFxcXFwiKTtcXFxcbmxldCB7XFxcXG4gICAgYXV0aF9jb2RlLFxcXFxuICAgIHFxXFxcXG59ID0gTVlfUEFSQU1TO1xcXFxubGV0IHBhZ2UgPSBwYXJzZUludChNWV9VUkwuc3BsaXQoXFxcXFxcXCIjXFxcXFxcXCIpWzFdKTtcXFxcbmxldCBkYXRhPVtdO1xcXFxubGV0IGNvbW1lbnRMaXN0ID0gSlNPTi5wYXJzZShyZXF1ZXN0KGFwaS5kaXNfZ2V0X3JlcGx5ICsgXFxcXFxcXCI/bGltaXQ9NSZwYWdlPVxcXFxcXFwiICsgcGFnZSArIFxcXFxcXFwiJnFxPVxcXFxcXFwiICsgcXEgKyBcXFxcXFxcIiZhdXRoX2NvZGU9XFxcXFxcXCIgKyBhdXRoX2NvZGUpKS5yZXN1bHQ7XFxcXG5pZiAoY29tbWVudExpc3QubGVuZ3RoID09PSAwKSB7XFxcXG4gICAgZGF0YS5wdXNoKHtcXFxcbiAgICAgICAgdGl0bGU6IFxcXFxcXFwiPGg1IHN0eWxlPSd0ZXh0LWFsaWduOmNlbnRlcic+5Yir5ouJ5LqG5LiA5p2h5Lmf5LiN5Ymp5LqGPC9oNT5cXFxcXFxcIixcXFxcbiAgICAgICAgY29sX3R5cGU6IFxcXFxcXFwicmljaF90ZXh0XFxcXFxcXCJcXFxcbiAgICB9KTtcXFxcbn0gZWxzZSB7XFxcXG4gICAgZm9yIChsZXQgaXRlbSBvZiBjb21tZW50TGlzdCkge1xcXFxuICAgICAgICBkYXRhLnB1c2goe1xcXFxuICAgICAgICAgICAgdGl0bGU6IGl0ZW0ubmFtZSArIFxcXFxcXFwiJm5ic3A7Jm5ic3A7PGZvbnQgY29sb3I9J2dyYXknPjxzbWFsbD4jXFxcXFxcXCIgKyBpdGVtLmlkICsgXFxcXFxcXCI8L3NtYWxsPjxmb250PlxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgY29sX3R5cGU6IFxcXFxcXFwiYXZhdGFyXFxcXFxcXCIsXFxcXG4gICAgICAgICAgICB1cmw6IFxcXFxcXFwiaGlrZXI6Ly9wYWdlL3J1bGVEZXRhaWwjbm9IaXN0b3J5IyNub1JlY29yZEhpc3RvcnkjXFxcXFxcXCIsXFxcXG4gICAgICAgICAgICBleHRyYToge1xcXFxuICAgICAgICAgICAgICAgIGx2ZXI6IFxcXFxcXFwi5Zue5aSN6L+b5YWl5LiN5pSv5oyB5p+l55yLXFxcXFxcXCIsXFxcXG4gICAgICAgICAgICAgICAgaWQ6IGl0ZW0ucnVsZV9pZFswXVxcXFxuICAgICAgICAgICAgfSxcXFxcbiAgICAgICAgICAgIHBpY191cmw6IGl0ZW0uYXZhdGFyX3VybFxcXFxuICAgICAgICB9KTtcXFxcbiAgICAgICAgZGF0YS5wdXNoKHtcXFxcbiAgICAgICAgICAgIHRpdGxlOiBpdGVtLmRpc2N1c3NfdGV4dCxcXFxcbiAgICAgICAgICAgIGRlc2M6IGl0ZW0uY3JlYXRlX2RhdGUgKyBcXFxcXFxcIsK3XFxcXFxcXCIraXRlbS5ydWxlX2lkWzFdK1xcXFxcXFwiwrdcXFxcXFxcIitcXFxcXFxcIuW8gOWPkeiAhfCfl6NcXFxcXFxcIixcXFxcbiAgICAgICAgICAgIGNvbF90eXBlOiBcXFxcXFxcInRleHRfMVxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgdXJsOiBcXFxcXFxcImhpa2VyOi8vcGFnZS9pbmZvXFxcXFxcXCIsXFxcXG4gICAgICAgICAgICBleHRyYTp7XFxcXG4gICAgICAgICAgICAgICAgbmFtZTppdGVtLm5hbWUsXFxcXG4gICAgICAgICAgICAgICAgdHlwZTpcXFxcXFxcImxvbmdfdGV4dFxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgICAgIHRleHQ6aXRlbS5kaXNjdXNzX3RleHRcXFxcbiAgICAgICAgICAgIH0sXFxcXG4gICAgICAgICAgICBwaWNfdXJsOiBpdGVtLmF2YXRhcl91cmxcXFxcbiAgICAgICAgfSk7XFxcXG4gICAgfVxcXFxuICAgIFxcXFxufVxcXFxuc2V0UmVzdWx0KGRhdGEpO1xcXFxuXFxcIn0se1xcXCJjb2xfdHlwZVxcXCI6XFxcIm1vdmllXzNcXFwiLFxcXCJuYW1lXFxcIjpcXFwi5pu05aSa5YiG5LqrXFxcIixcXFwicGF0aFxcXCI6XFxcIm1vcmVTaGFyZVxcXCIsXFxcInJ1bGVcXFwiOlxcXCJqczpcXFxcbiAgICBhZGRMaXN0ZW5lcignb25DbG9zZScsICQudG9TdHJpbmcoKCk9PntcXFxcbiAgICAgICAgY2xlYXJWYXIoXFxcXFxcXCJob3VzZS51cGxvYWRfY29kZVxcXFxcXFwiKTtcXFxcbiAgICB9KSk7XFxcXG5jb25zdCB7Y29sb3Isc21hbGwsYXBpLCBnZXRGaWxlfSA9ICQucmVxdWlyZShcXFxcXFxcImhpa2VyOi8vcGFnZS91dGlsaXlcXFxcXFxcIik7XFxcXG5sZXQgaG91c2VGaWxlID0gZ2V0RmlsZXx8ZmFsc2U7XFxcXG5sZXQgcHV0X3VybCA9IGFwaS5ob3N0KycvaGlrZXJ1bGUvZGV2L3B1dCc7XFxcXG5pZighaG91c2VGaWxlKXtcXFxcbiAgICBzZXRJdGVtKCdpc19ob3VzZV92aXAnLCAnZmFsc2UnKTtcXFxcbn1cXFxcbmxldCBob3VzZV9kYXRhID0gaG91c2VGaWxlKCk7XFxcXG4vLyBsb2coaG91c2VfZGF0YS51c2VybmFtZSsnLScraG91c2VfZGF0YS5wYXNzd29yZCk7XFxcXG52YXIgY2FudXAgPSBob3VzZV9kYXRhLnVzZXJuYW1lLmxlbmd0aCA+PSA2ICYmIGhvdXNlX2RhdGEucGFzc3dvcmQubGVuZ3RoID4gMjtcXFxcbmxvZygn5Y+v5Lul5LiK5LygPycrY2FudXApO1xcXFxubGV0IGQgPSBbXTtcXFxcbmxldCBmaWxlX3R5cGUgPSBbe25hbWU6J+mdmeaAgeaWh+S7ticsdmFsdWU6J2h0bWwnfSx7bmFtZTon572R6aG15o+S5Lu2Jyx2YWx1ZTonanNfdXJsJ30se25hbWU6J+S4u+mhtemFjee9ricsdmFsdWU6J2NvbmZpZyd9XTsgLy/kuIrkvKDnsbvlnotcXFxcbmxldCBmaWxlX3JlZGlyZWN0ID0gW3tuYW1lOifmnKzlnLAnLHZhbHVlOidmYWxzZSd9LHtuYW1lOifnm7Tpk74zMDInLHZhbHVlOid0cnVlJ31dOyAvL+aYr+WQpumHjeWumuWQkVxcXFxubGV0IGZpbGVfdWEgPSBbe25hbWU6J+eUteiEkScsdmFsdWU6J3BjJ30se25hbWU6J+aJi+acuicsdmFsdWU6J21vYmlsZSd9XTtcXFxcbmxldCBmaWxlX3R5cGVfdGl0bGUgPSBmaWxlX3R5cGUubWFwKChpdGVtKSA9PiB7XFxcXG4gICAgbGV0IG5hbWUgPSBnZXRJdGVtKCdob3VzZS5maWxlX3R5cGUnLCfpnZnmgIHmlofku7YnKTtcXFxcbiAgICBpZihpdGVtLm5hbWU9PT1uYW1lKXtcXFxcbiAgICAgICAgcmV0dXJuICfwn5GJJytpdGVtLm5hbWU7XFxcXG4gICAgfWVsc2V7XFxcXG4gICAgICAgIHJldHVybiBpdGVtLm5hbWU7XFxcXG4gICAgfVxcXFxufSk7XFxcXG5sZXQgZmlsZV9yZWRpcmVjdF90aXRsZSA9IGZpbGVfcmVkaXJlY3QubWFwKChpdGVtKSA9PiB7XFxcXG4gICAgbGV0IG5hbWUgPSBnZXRJdGVtKCdob3VzZS5maWxlX3JlZGlyZWN0Jywn5pys5ZywJyk7XFxcXG4gICAgaWYoaXRlbS5uYW1lPT09bmFtZSl7XFxcXG4gICAgICAgIHJldHVybiAn8J+RiScraXRlbS5uYW1lO1xcXFxuICAgIH1lbHNle1xcXFxuICAgICAgICByZXR1cm4gaXRlbS5uYW1lO1xcXFxuICAgIH1cXFxcbn0pO1xcXFxubGV0IGZpbGVfdWFfdGl0bGUgPSBmaWxlX3VhLm1hcCgoaXRlbSkgPT4ge1xcXFxuICAgIGxldCBuYW1lID0gZ2V0SXRlbSgnaG91c2UuZmlsZV91YScsJ+eUteiEkScpO1xcXFxuICAgIGlmKGl0ZW0ubmFtZT09PW5hbWUpe1xcXFxuICAgICAgICByZXR1cm4gJ/CfkYknK2l0ZW0ubmFtZTtcXFxcbiAgICB9ZWxzZXtcXFxcbiAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZTtcXFxcbiAgICB9XFxcXG59KTtcXFxcbmQucHVzaCh7Y29sX3R5cGU6ICd4NV93ZWJ2aWV3X3NpbmdsZScsIGV4dHJhOiB7anM6ICdjb25zb2xlLmxvZyhcXFxcXFxcIuaIkeWKoOi9veS6hlxcXFxcXFwiKSd9fSk7XFxcXG5kLnB1c2goe1xcXFxuICAgIHRpdGxlOiAn6I635Y+WJyxcXFxcbiAgICBkZXNjOiBcXFxcXFxcIuaWh+S7tui3r+W+hCzmlK/mjIFoaWtlcixmaWxlLGh0dHAs5Li76aKYXFxcXFxcXCIsXFxcXG4gICAgZXh0cmE6IHtcXFxcbiAgICAgICAgb25DaGFuZ2U6IFxcXFxcXFwicHV0VmFyKCdob3VzZS53ZWJfdXJsJyxpbnB1dClcXFxcXFxcIixcXFxcbiAgICAgICAgdGl0bGVWaXNpYmxlOiB0cnVlLFxcXFxuICAgICAgICBpZDonZmlsZVBhdGgnLFxcXFxuICAgICAgICBkZWZhdWx0VmFsdWU6Z2V0VmFyKCdob3VzZS53ZWJfdXJsJylcXFxcbiAgICB9LFxcXFxuICAgIHVybDokLnRvU3RyaW5nKCgpID0+IHtcXFxcbiAgICAgICAgbGV0IGlucHV0ID0gZ2V0VmFyKCdob3VzZS53ZWJfdXJsJywnJyk7XFxcXG4gICAgICAgIGlmKGlucHV0Lmxlbmd0aDwyKXtcXFxcbiAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/pk77mjqXkuI3lj6/ku6XkuLrnqbonXFxcXG4gICAgICAgIH0gZWxzZSBpZigvXmhpa2VyOnxeZmlsZTp8Xmh0dHA6fF5odHRwczp8XlxcXFxcXFxcL3N0b3JhZ2VcXFxcXFxcXC98XlxcXFxcXFxcL3NkY2FyZFxcXFxcXFxcLy8udGVzdChpbnB1dCkpe1xcXFxuICAgICAgICAgICAgaWYoL15cXFxcXFxcXC9zdG9yYWdlXFxcXFxcXFwvfF5cXFxcXFxcXC9zZGNhcmRcXFxcXFxcXC8vLnRlc3QoaW5wdXQpKXtcXFxcbiAgICAgICAgICAgICAgICBpbnB1dCA9ICdmaWxlOi8vJytpbnB1dDtcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIGxvZygn5q2j5bi46ZO+5o6lOicraW5wdXQpO1xcXFxuICAgICAgICAgICAgbGV0IHVhID0gZ2V0SXRlbSgnaG91c2UuZmlsZV91YScpPT09J+eUteiEkSc/J01vemlsbGEvNS4wIChXaW5kb3dzIE5UIDEwLjA7IFdpbjY0OyB4NjQpIEFwcGxlV2ViS2l0LzUzNy4zNiAoS0hUTUwsIGxpa2UgR2Vja28pIENocm9tZS84OC4wLjQzMjQuMTQ2IFNhZmFyaS81MzcuMzYnOidNb3ppbGxhLzUuMCAoTGludXg7IEFuZHJvaWQgOTsgTUkgNikgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzg5LjAuNDM4OS45MCBNb2JpbGUgU2FmYXJpLzUzNy4zNic7XFxcXG4gICAgICAgICAgICBsZXQgd2ViX3VybF9hcnIgPSBpbnB1dC5zcGxpdCgnOycpO1xcXFxuICAgICAgICAgICAgbGV0IHdlYl91cmwgPSB3ZWJfdXJsX2FyclswXTtcXFxcbiAgICAgICAgICAgIGxldCBoZWFkZXJzID0ge1xcXFxuICAgICAgICAgICAgICAgICdSZWZlcmVyJzonaHR0cHM6Ly9ibG9nLmNzZG4ubmV0JyxcXFxcbiAgICAgICAgICAgICAgICAnVXNlci1BZ2VudCc6dWEsXFxcXG4gICAgICAgICAgICAgICAgJ0FjY2VwdCc6J2FwcGxpY2F0aW9uL2pzb24sIHRleHQvamF2YXNjcmlwdCwgKi8qOyBxPTAuMDEnLFxcXFxuICAgICAgICAgICAgICAgICdBY2NlcHQtTGFuZ3VhZ2UnOid6aC1DTicsXFxcXG4gICAgICAgICAgICB9O1xcXFxuICAgICAgICAgICAgaWYod2ViX3VybF9hcnIubGVuZ3RoPj0zJiZ3ZWJfdXJsX2FyclsyXS5sZW5ndGg+Mil7IC8v6K6+572u57yW56CBXFxcXG4gICAgICAgICAgICAgICAgaGVhZGVyc1snY29udGVudC10eXBlJ10gPSAnY2hhcnNldD0nK3dlYl91cmxfYXJyWzJdLnRvVXBwZXJDYXNlKCk7XFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICBsZXQgcGFyYW1zID0ge2hlYWRlcnM6aGVhZGVycyx3aXRoSGVhZGVyczpmYWxzZSxyZWRpcmVjdDpmYWxzZX07XFxcXG4gICAgICAgICAgICBpZih3ZWJfdXJsX2Fyci5sZW5ndGg+PTImJndlYl91cmxfYXJyWzFdLmxlbmd0aD4yKXsgLy8g6K6+572u6K+35rGC5pa55rOVXFxcXG4gICAgICAgICAgICAgICAgcGFyYW1zWydtZXRob2QnXSA9IHdlYl91cmxfYXJyWzFdLnRvVXBwZXJDYXNlKCk7XFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICBsb2coJ+W8gOWni+iOt+WPlua6kOeggScpO1xcXFxuICAgICAgICAgICAgdHJ5IHtcXFxcbiAgICAgICAgICAgICAgICAvKlxcXFxuICAgICAgICAgICAgICAgIHJlcXVlc3RBc3luYyh3ZWJfdXJsLHBhcmFtcyxmdW5jdGlvbiAoa2V5LGNvZGUpIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJhY2tfY29kZSA9IGNvZGU7XFxcXG4gICAgICAgICAgICAgICAgICAgIGlmKGJhY2tfY29kZS5sZW5ndGg+MjApe1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgcHV0VmFyKCdob3VzZS51cGxvYWRfY29kZScsYmFja19jb2RlKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKHRydWUpO1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+a6kOeggeW3suiOt+WPlizlubbpg6jliIbmj5LlhaXliLDmlofmnKzljLrln58nXFxcXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+mUmeivr++8jOacrOasoeiOt+WPluWIsOepuuaWh+acrO+8jOeWkeS8vOS9oOayoeacieatpOaWh+S7tiEnO1xcXFxuICAgICAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICAgICAgfSk7XFxcXG4gICAgICAgICAgICAgICAgKi9cXFxcbiAgICAgICAgICAgICAgICBsZXQgYmFja19jb2RlID0gZ2V0SXRlbSgnaG91c2UuZmlsZV91YScpPT09J+eUteiEkSc/ZmV0Y2god2ViX3VybCxwYXJhbXMpOnJlcXVlc3Qod2ViX3VybCxwYXJhbXMpO1xcXFxuICAgICAgICAgICAgICAgIGlmKGJhY2tfY29kZS5sZW5ndGg+MjApe1xcXFxuICAgICAgICAgICAgICAgICAgICBwdXRWYXIoJ2hvdXNlLnVwbG9hZF9jb2RlJyxiYWNrX2NvZGUpO1xcXFxuICAgICAgICAgICAgICAgICAgICByZWZyZXNoUGFnZSh0cnVlKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+a6kOeggeW3suiOt+WPlizlubbpg6jliIbmj5LlhaXliLDmlofmnKzljLrln58nXFxcXG4gICAgICAgICAgICAgICAgfWVsc2V7XFxcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/plJnor6/vvIzmnKzmrKHojrflj5bliLDnqbrmlofmnKzvvIznlpHkvLzkvaDmsqHmnInmraTmlofku7YhJztcXFxcbiAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICB9Y2F0Y2ggKGUpIHtcXFxcbiAgICAgICAgICAgICAgICBsb2coZS5tZXNzYWdlKTtcXFxcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5Y+R55Sf5LqG6ZSZ6K+vOlxcXFxcXFxcbicrZS5tZXNzYWdlO1xcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICB9ZWxzZSBpZigv5Li76aKY77+lfOWFg+e0oO+/pS8udGVzdChpbnB1dCkpe1xcXFxuICAgICAgICAgICAgbG9nKCfkuLvpopjpk77mjqUnKTtcXFxcbiAgICAgICAgICAgIGxldCB3ZWJfdXJsX2FyciA9IGlucHV0LnNwbGl0KCfvv6UnKTtcXFxcbiAgICAgICAgICAgIGxldCB3ZWJfdXJsID0gd2ViX3VybF9hcnJbd2ViX3VybF9hcnIubGVuZ3RoLTFdO1xcXFxuICAgICAgICAgICAgbGV0IGJhY2tfY29kZSA9IHBhcnNlUGFzdGUod2ViX3VybCk7XFxcXG4gICAgICAgICAgICBpZihiYWNrX2NvZGUubGVuZ3RoPjIwKSB7XFxcXG4gICAgICAgICAgICAgICAgcHV0VmFyKCdob3VzZS51cGxvYWRfY29kZScsYmFja19jb2RlKTtcXFxcbiAgICAgICAgICAgICAgICByZWZyZXNoUGFnZSh0cnVlKTtcXFxcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5rqQ56CB5bey6I635Y+WLOW5tumDqOWIhuaPkuWFpeWIsOaWh+acrOWMuuWfnydcXFxcbiAgICAgICAgICAgIH1lbHNle1xcXFxuICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/plJnor6/vvIzmnKzmrKHojrflj5bov5Tlm57kuLo6XFxcXFxcXFxuJytiYWNrX2NvZGU7XFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgIH1lbHNle1xcXFxuICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+mdnuazlemTvuaOpTpcXFxcXFxcXG4nK2dldFZhcignaG91c2Uud2ViX3VybCcpO1xcXFxuICAgICAgICB9XFxcXG4gICAgfSksXFxcXG4gICAgY29sX3R5cGU6IFxcXFxcXFwiaW5wdXRcXFxcXFxcIlxcXFxufSk7XFxcXG5kLnB1c2goe1xcXFxuICAgIHRpdGxlOiBcXFxcXFxcIumAieaLqeaWh+S7tui3r+W+hFxcXFxcXFwiLFxcXFxuICAgIHVybDokKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKCgpPT57XFxcXG4gICAgICAgIC8qXFxcXG4gICAgICAgIGxldCBmcCA9ICdodHRwczovL2dpdGNvZGUubmV0L3FxXzMyMzk0MzUxL2RyLy0vcmF3L21hc3Rlci9qcy9maWxlU2VsZWN0LmpzJztcXFxcbiAgICAgICAgbGV0IGYgPSByZXF1aXJlKGZwKTtcXFxcbiAgICAgICAgKi9cXFxcbiAgICAgICAgbGV0IGZwPWNvbmZpZy5saWIuZmlsZVNlbGVjdDtcXFxcbiAgICAgICAgbGV0IGY9JC5yYyhmcCk7XFxcXG4gICAgICAgIHJldHVybiBmLmZpbGVTZWxlY3Rpb25Vcmkoe1xcXFxuICAgICAgICAgICAgY2FsbGJhY2s6ICQudG9TdHJpbmcoKCkgPT4ge1xcXFxuICAgICAgICAgICAgICAgIGxldCB0YXJnZXQgPSBmaW5kSXRlbShcXFxcXFxcImZpbGVQYXRoXFxcXFxcXCIpLmV4dHJhO1xcXFxuICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0oXFxcXFxcXCJmaWxlUGF0aFxcXFxcXFwiLCB7XFxcXG4gICAgICAgICAgICAgICAgICAgIGV4dHJhOiBPYmplY3QuYXNzaWduKHRhcmdldCwge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBQQVRIXFxcXG4gICAgICAgICAgICAgICAgICAgIH0pXFxcXG4gICAgICAgICAgICAgICAgfSk7XFxcXG4gICAgICAgICAgICAgICAgcHV0VmFyKCdob3VzZS53ZWJfdXJsJyxQQVRIKTtcXFxcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcXFxcbiAgICAgICAgICAgIH0pLFxcXFxuICAgICAgICAgICAgb25DbGlja1R5cGU6J2NvbmZpcm0nLFxcXFxuICAgICAgICAgICAgZmlsZVR5cGU6IFxcXFxcXFwiLmpzfC50eHR8Lmhpa2VyfC5qc29ufC5odG1sXFxcXFxcXCIsXFxcXG4gICAgICAgICAgICBwYXR0ZXJuOiAwLFxcXFxuICAgICAgICAgICAgcmVxdWlyZVVybDpmcCxcXFxcbiAgICAgICAgICAgIGluaXRpYWxQYXRoOmdldFBhdGgoJ2hpa2VyOi8vZmlsZXMvcnVsZXMvZHpIb3VzZS8nKS5zbGljZSg3KSxcXFxcbiAgICAgICAgICAgIG1lbW9yeTondHJ1ZScsXFxcXG4gICAgICAgIH0pO1xcXFxuICAgIH0pLFxcXFxuICAgIGNvbF90eXBlOiBcXFxcXFxcInRleHRfY2VudGVyXzFcXFxcXFxcIixcXFxcbn0pO1xcXFxuZC5wdXNoKHtcXFxcbiAgICB0aXRsZTon5LiK5Lyg57G75Z6LJyxcXFxcbiAgICBkZXNjOifkuIrkvKDmlofku7bnmoTnsbvlnoss5b2T5YmN5Li6OicrY29sb3IoZ2V0SXRlbSgnaG91c2UuZmlsZV90eXBlJywn6Z2Z5oCB5paH5Lu2JyksJyNmZjcwMDAnKSxcXFxcbiAgICBjb2xfdHlwZTondGV4dF8xJyxcXFxcbiAgICB1cmw6JChmaWxlX3R5cGVfdGl0bGUsMikuc2VsZWN0KCgpID0+IHtcXFxcbiAgICAgICAgc2V0SXRlbSgnaG91c2UuZmlsZV90eXBlJyxpbnB1dC5yZXBsYWNlKCfwn5GJJywnJykpO1xcXFxuICAgICAgICByZWZyZXNoUGFnZSh0cnVlKTtcXFxcbiAgICAgICAgcmV0dXJuICd0b2FzdDovL+S9oOmAieaLqeS6hjonK2lucHV0O1xcXFxuICAgIH0pXFxcXG59KTtcXFxcblxcXFxuZC5wdXNoKHtcXFxcbiAgICB0aXRsZTon5paH5Lu25a6a5L2NJyxcXFxcbiAgICBkZXNjOifmlofku7bmmK/lkKblsZ7kuo7ph43lrprlkJEs5b2T5YmN5Li6OicrY29sb3IoZ2V0SXRlbSgnaG91c2UuZmlsZV9yZWRpcmVjdCcsJ+acrOWcsCcpLCcjZmY3MDAwJyksXFxcXG4gICAgY29sX3R5cGU6J3RleHRfMScsXFxcXG4gICAgdXJsOiQoZmlsZV9yZWRpcmVjdF90aXRsZSwyKS5zZWxlY3QoKCkgPT4ge1xcXFxuICAgICAgICBzZXRJdGVtKCdob3VzZS5maWxlX3JlZGlyZWN0JyxpbnB1dC5yZXBsYWNlKCfwn5GJJywnJykpO1xcXFxuICAgICAgICByZWZyZXNoUGFnZSh0cnVlKTtcXFxcbiAgICAgICAgcmV0dXJuICd0b2FzdDovL+S9oOmAieaLqeS6hjonK2lucHV0O1xcXFxuICAgIH0pXFxcXG59KTtcXFxcblxcXFxuZC5wdXNoKHtcXFxcbiAgICB0aXRsZTon6K6+5aSHVUEnLFxcXFxuICAgIGRlc2M6J+WPkei1t+e9kemhteivt+axguWktOagh+ivhizlvZPliY3kuLo6Jytjb2xvcihnZXRJdGVtKCdob3VzZS5maWxlX3VhJywn55S16ISRJyksJyNmZjcwMDAnKSxcXFxcbiAgICBjb2xfdHlwZTondGV4dF8xJyxcXFxcbiAgICB1cmw6JChmaWxlX3VhX3RpdGxlLDIpLnNlbGVjdCgoKSA9PiB7XFxcXG4gICAgICAgIHNldEl0ZW0oJ2hvdXNlLmZpbGVfdWEnLGlucHV0LnJlcGxhY2UoJ/CfkYknLCcnKSk7XFxcXG4gICAgICAgIHJlZnJlc2hQYWdlKHRydWUpO1xcXFxuICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5L2g6YCJ5oup5LqGOicraW5wdXQ7XFxcXG4gICAgfSlcXFxcbn0pO1xcXFxuZnVuY3Rpb24gY29tcGFyZShuYW1lKSB7XFxcXG4gICAgcmV0dXJuIGZ1bmN0aW9uKGl0ZW0pIHtcXFxcbiAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZSA9PT0gbmFtZTtcXFxcbiAgICB9XFxcXG59XFxcXG5kLnB1c2goe1xcXFxuICAgIHRpdGxlOifwn5eE77iP546v5aKDJyxcXFxcbiAgICBjb2xfdHlwZTonZmxleF9idXR0b24nLFxcXFxuICAgIHVybDokKCkubGF6eVJ1bGUoKGZpbGVfdHlwZSxjb21wYXJlKT0+e1xcXFxuICAgICAgICBsb2coJ+afpeeci+eOr+Wig+WPmOmHjycpO1xcXFxuICAgICAgICB0cnkge1xcXFxuICAgICAgICAgICAgbGV0IHVwX2NvZGUgPSBnZXRWYXIoJ2hvdXNlLnVwbG9hZF9jb2RlJywnJyk7XFxcXG4gICAgICAgICAgICBsZXQgZnR5cGUgPSAgZmlsZV90eXBlLmZpbHRlcihjb21wYXJlKGdldEl0ZW0oJ2hvdXNlLmZpbGVfdHlwZScsJ+mdmeaAgeaWh+S7ticpKSlbMF0udmFsdWU7XFxcXG4gICAgICAgICAgICBsZXQgcmVkaXJlY3QgPSBnZXRJdGVtKCdob3VzZS5maWxlX3JlZGlyZWN0Jywn5pys5ZywJykhPT0n5pys5ZywJztcXFxcbiAgICAgICAgICAgIGxldCBjb2RlID0gIXJlZGlyZWN0P3VwX2NvZGU6aW5wdXQ7XFxcXG4gICAgICAgICAgICBsZXQgZW52ID0ge1xcXFxuICAgICAgICAgICAgICAgIHdlYl91cmw6Z2V0VmFyKCdob3VzZS53ZWJfdXJsJywnJyksXFxcXG4gICAgICAgICAgICAgICAgZGV2aWNlOmdldEl0ZW0oJ2hvdXNlLmZpbGVfdWEnLCfnlLXohJEnKSxcXFxcbiAgICAgICAgICAgICAgICBmdHlwZTpmdHlwZXx8XFxcXFxcXCJcXFxcXFxcIixcXFxcbiAgICAgICAgICAgICAgICByZWRpcmVjdDpyZWRpcmVjdCxcXFxcbiAgICAgICAgICAgICAgICBjb2RlOmNvZGUuc3Vic3RyaW5nKDAsNDApfHxcXFxcXFxcIlxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgbG9nKGVudik7XFxcXG4gICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8vJytKU09OLnN0cmluZ2lmeShlbnYpO1xcXFxuICAgICAgICAgICAgLy8gYWxlcnQoSlNPTi5zdHJpbmdpZnkoZW52KSk7XFxcXG4gICAgICAgIH1jYXRjaCAoZSkge1xcXFxuICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovLycrZS5tZXNzYWdlO1xcXFxuICAgICAgICAgICAgLy8gYWxlcnQoZS5tZXNzYWdlKTtcXFxcbiAgICAgICAgfVxcXFxuICAgIH0sZmlsZV90eXBlLGNvbXBhcmUpXFxcXG59KTtcXFxcblxcXFxuZC5wdXNoKHtcXFxcbiAgICB0aXRsZTon8J+Tg+aVmeeoiycsXFxcXG4gICAgY29sX3R5cGU6J2ZsZXhfYnV0dG9uJyxcXFxcbiAgICB1cmw6JCgpLng1UnVsZSgoKT0+e1xcXFxuICAgICAgICBsZXQgbXNnID0gJ+asoui/juS9v+eUqOW8gOWPkeiAheabtOWkmuWIhuS6q+W3peWFt1xcXFxcXFxcbjEu6L6T5YWl572R5Z2A5Li65pys5Zyw5paH5Lu26Lev5b6ELGhpa2VyOi8v5oiW6ICFZmlsZTovL+W8gOWktFxcXFxcXFxcbjIu54K55Ye7572R5Z2A6L6T5YWl5qCP5ZCO6Z2i55qE5oyJ6ZKuXFxcXFxcXFxuMy7nnIvmlofmnKzpooTop4jljLrmmK/lkKbmraPnoa5cXFxcXFxcXG40LueCueWHu+S4iuS8oOaMiemSruaPkOS6pOWIsOS7k+W6kyc7XFxcXG4gICAgICAgIGFsZXJ0KG1zZyk7XFxcXG4gICAgfSlcXFxcbn0pO1xcXFxuXFxcXG5kLnB1c2goe1xcXFxuICAgIHRpdGxlOifwn5eR77iP5riF56m6JyxcXFxcbiAgICBjb2xfdHlwZTonZmxleF9idXR0b24nLFxcXFxuICAgIHVybDokKCkubGF6eVJ1bGUoKCk9PntcXFxcbiAgICAgICAgY2xlYXJWYXIoJ2hvdXNlLnVwbG9hZF9jb2RlJyk7XFxcXG4gICAgICAgIHJlZnJlc2hQYWdlKHRydWUpO1xcXFxuICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5riF6Zmk6aKE6KeI5Yy65Z+f5YaF5a65J1xcXFxuICAgIH0pXFxcXG59KTtcXFxcblxcXFxuZC5wdXNoKHtcXFxcbiAgICB0aXRsZTon8J+TsuekuuS+iycsXFxcXG4gICAgY29sX3R5cGU6J2ZsZXhfYnV0dG9uJyxcXFxcbiAgICB1cmw6JCgpLmxhenlSdWxlKCgpPT57XFxcXG4gICAgICAgIGxldCBkZW1vX2NvZGUgPSBnZXRJdGVtKCdob3VzZS5kZW1vJywnMCcpO1xcXFxuICAgICAgICBpZihkZW1vX2NvZGU9PScwJyl7XFxcXG4gICAgICAgICAgICBwdXRWYXIoJ2hvdXNlLndlYl91cmwnLCdoaWtlcjovL2ZpbGVzL3J1bGVzL2R6SG91c2UvaHRtbC/otYTmupDnvZHkuabnrb4uaHRtbCcpO1xcXFxuICAgICAgICAgICAgZGVtb19jb2RlID0gcGFyc2VJbnQoZGVtb19jb2RlKSsxO1xcXFxuICAgICAgICAgICAgc2V0SXRlbSgnaG91c2UuZGVtbycsZGVtb19jb2RlKycnKTtcXFxcbiAgICAgICAgfWVsc2V7XFxcXG4gICAgICAgICAgICBwdXRWYXIoJ2hvdXNlLndlYl91cmwnLCdmaWxlOi8vL3N0b3JhZ2UvZW11bGF0ZWQvMC9BbmRyb2lkL2RhdGEvY29tLmV4YW1wbGUuaGlrZXJ2aWV3L2ZpbGVzL0RvY3VtZW50cy9ydWxlcy9kekhvdXNlL2h0bWwv6LWE5rqQ572R5Lmm562+Lmh0bWwnKTtcXFxcbiAgICAgICAgICAgIHNldEl0ZW0oJ2hvdXNlLmRlbW8nLCcwJyk7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgcmVmcmVzaFBhZ2UodHJ1ZSk7XFxcXG4gICAgICAgIHJldHVybiAndG9hc3Q6Ly/lt7Lorr7nva7npLrkvovlnLDlnYAnXFxcXG4gICAgfSlcXFxcbn0pO1xcXFxuXFxcXG5kLnB1c2goe1xcXFxuICAgIHRpdGxlOifwn5Ok5LiK5LygJyxcXFxcbiAgICBjb2xfdHlwZTonZmxleF9idXR0b24nLFxcXFxuICAgIHVybDokKCkubGF6eVJ1bGUoKGNhbnVwLGhvdXNlX2RhdGEscHV0X3VybCxmaWxlX3R5cGUpID0+e1xcXFxuICAgICAgICBmdW5jdGlvbiBjb21wYXJlKG5hbWUpIHtcXFxcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbihpdGVtKSB7XFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW0ubmFtZSA9PT0gbmFtZTtcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBjb25zdCB7Z2V0Tm93Rm9ybWF0RGF0ZX09JC5yZXF1aXJlKFxcXFxcXFwiaGlrZXI6Ly9wYWdlL3V0aWxpeVxcXFxcXFwiKTtcXFxcbiAgICAgICAgbGV0IHVwX2NvZGUgPSBnZXRWYXIoJ2hvdXNlLnVwbG9hZF9jb2RlJywnJyk7XFxcXG4gICAgICAgIGlmKHVwX2NvZGUubGVuZ3RoIDwgMil7XFxcXG4gICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5rqQ56CB5Yy65peg5YaF5a6577yM6K+35YWI6K6/6Zeu5LiA5Liq6Z2Z5oCB6aG16Z2iJ1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIGlmKCFjYW51cCl7XFxcXG4gICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5L2g5LiN5piv5byA5Y+R6ICF77yM5rKh5pyJ5o+Q5Lqk5Yiw5LuT5bqT55qE5p2D5YipISdcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBsZXQgaW5wdXQgPSBnZXRWYXIoJ2hvdXNlLndlYl91cmwnLCcnKTtcXFxcbiAgICAgICAgbGV0IHdlYl91cmwgPSBpbnB1dC5zcGxpdCgnOycpWzBdO1xcXFxuICAgICAgICBsZXQgZmlsZU5hbWUgPSAnJztcXFxcbiAgICAgICAgaWYoL15oaWtlcjp8XmZpbGU6fF5odHRwOnxeaHR0cHM6fF5cXFxcXFxcXC9zdG9yYWdlXFxcXFxcXFwvfF5cXFxcXFxcXC9zZGNhcmRcXFxcXFxcXC8vLnRlc3Qod2ViX3VybCkpe1xcXFxuICAgICAgICAgICAgZmlsZU5hbWUgPSB3ZWJfdXJsLnNwbGl0KCcvJylbd2ViX3VybC5zcGxpdCgnLycpLmxlbmd0aC0xXTtcXFxcbiAgICAgICAgfWVsc2UgaWYoL+S4u+mimO+/pXzlhYPntKDvv6UvLnRlc3QoaW5wdXQpKXtcXFxcbiAgICAgICAgICAgIGxldCBia2FyciA9IHVwX2NvZGUuc3BsaXQoJ++/pScpO1xcXFxuICAgICAgICAgICAgaWYoYmthcnIubGVuZ3RoPDMpe1xcXFxuICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/kupHliarotLTmnb/lhoXlrrnmnInor68nXFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICBzd2l0Y2ggKGJrYXJyWzFdKSB7XFxcXG4gICAgICAgICAgICAgICAgY2FzZSAnbXlfaG9tZV90aGVtZSc6XFxcXG4gICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lID0gdXBfY29kZS5zcGxpdCgn44CMJylbMV0uc3BsaXQoJ+OAjScpWzBdO1xcXFxuICAgICAgICAgICAgICAgICAgICBicmVhaztcXFxcbiAgICAgICAgICAgICAgICBjYXNlICdteV9ob21lX3NpbmdsZSc6XFxcXG4gICAgICAgICAgICAgICAgICAgIGZpbGVOYW1lID0gdXBfY29kZS5zcGxpdCgn44CMJylbMV0uc3BsaXQoJ+OAjScpWzBdO1xcXFxuICAgICAgICAgICAgICAgICAgICBicmVhaztcXFxcbiAgICAgICAgICAgICAgICBjYXNlICdqc191cmwnOlxcXFxuICAgICAgICAgICAgICAgICAgICBmaWxlTmFtZSA9IHVwX2NvZGUuc3BsaXQoJ++/pScpWzJdLnNwbGl0KCdAJylbMF07XFxcXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICB9ZWxzZXtcXFxcbiAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/plJnor6/vvIznvZHpobXpk77mjqXml6DlhoXlrrkhJztcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBsZXQgdWEgPSBnZXRJdGVtKCdob3VzZS5maWxlX3VhJyk9PT0n55S16ISRJz8nTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzg4LjAuNDMyNC4xNDYgU2FmYXJpLzUzNy4zNic6J01vemlsbGEvNS4wIChMaW51eDsgQW5kcm9pZCA5OyBNSSA2KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvODkuMC40Mzg5LjkwIE1vYmlsZSBTYWZhcmkvNTM3LjM2JztcXFxcbiAgICAgICAgbGV0IGhlYWRlcnMgPSB7XFxcXG4gICAgICAgICAgICAnUmVmZXJlcic6J2h0dHBzOi8vYmxvZy5jc2RuLm5ldCcsXFxcXG4gICAgICAgICAgICBcXFxcXFxcImNvbnRlbnQtdHlwZVxcXFxcXFwiOiBcXFxcXFxcImFwcGxpY2F0aW9uL2pzb25cXFxcXFxcIixcXFxcbiAgICAgICAgICAgICdVc2VyLUFnZW50Jzp1YSxcXFxcbiAgICAgICAgICAgICdBY2NlcHQnOidhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L2phdmFzY3JpcHQsICovKjsgcT0wLjAxJyxcXFxcbiAgICAgICAgICAgICdBY2NlcHQtTGFuZ3VhZ2UnOid6aC1DTicsXFxcXG4gICAgICAgIH07XFxcXG4gICAgICAgIGxldCB0b0NvbXBhcmUgPSAnJztcXFxcbiAgICAgICAgaWYoZmlsZU5hbWUuZW5kc1dpdGgoJy5odG1sJykpe1xcXFxuICAgICAgICAgICAgdG9Db21wYXJlID0gJ+mdmeaAgeaWh+S7tic7XFxcXG4gICAgICAgIH1lbHNlIGlmKC/kuLvpopgvLnRlc3QoZmlsZU5hbWUpKXtcXFxcbiAgICAgICAgICAgIHRvQ29tcGFyZSA9ICfkuLvpobXphY3nva4nXFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgbGV0IGZ0eXBlID0gIGZpbGVfdHlwZS5maWx0ZXIoY29tcGFyZSh0b0NvbXBhcmV8fGdldEl0ZW0oJ2hvdXNlLmZpbGVfdHlwZScsJ+mdmeaAgeaWh+S7ticpKSlbMF0udmFsdWU7XFxcXG4gICAgICAgIGxldCByZWRpcmVjdCA9IGdldEl0ZW0oJ2hvdXNlLmZpbGVfcmVkaXJlY3QnLCfmnKzlnLAnKSE9PSfmnKzlnLAnO1xcXFxuICAgICAgICBpZihyZWRpcmVjdCYmIXdlYl91cmwuc3RhcnRzV2l0aCgnaHR0cCcpKXtcXFxcbiAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/nm7Tpk74zMDLph43lrprlkJHnvZHlnYDpk77mjqXlv4XpobtodHRw5byA5aS0JztcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBsZXQgY29kZSA9ICFyZWRpcmVjdD91cF9jb2RlOndlYl91cmw7XFxcXG4gICAgICAgIGxldCBkYXRhID0ge1xcXFxcXFwicGFyYW1zXFxcXFxcXCI6XFxcXG4gICAgICAgICAgICAgICAge1xcXFxcXFwiZGF0YVxcXFxcXFwiOiB7cnVsZV9uYW1lOiBmaWxlTmFtZSwgXFxcXFxcXCJydWxlX3R5cGVcXFxcXFxcIjogJ+abtOWkmuWIhuS6qycsIFxcXFxcXFwidmVyc2lvblxcXFxcXFwiOmdldE5vd0Zvcm1hdERhdGUoKSxcXFxcXFxcInJ1bGVfdmFsdWVcXFxcXFxcIjogY29kZSxcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFfdHlwZTpmdHlwZSwgaXNfcmVkaXJlY3Q6cmVkaXJlY3QsZGV2aWNlVWE6Z2V0SXRlbSgnaG91c2UuZmlsZV91YScpLFxcXFxuICAgICAgICAgICAgICAgICAgICB9LFxcXFxuICAgICAgICAgICAgICAgICAgICBcXFxcXFxcIm5hbWVcXFxcXFxcIjogaG91c2VfZGF0YS51c2VybmFtZSxcXFxcbiAgICAgICAgICAgICAgICAgICAgXFxcXFxcXCJwYXNzd29yZFxcXFxcXFwiOiBob3VzZV9kYXRhLnBhc3N3b3JkfVxcXFxuICAgICAgICB9O1xcXFxuICAgICAgICBsZXQgdXBwYXJhbXMgPSB7aGVhZGVyczpoZWFkZXJzLGJvZHk6SlNPTi5zdHJpbmdpZnkoZGF0YSksd2l0aEhlYWRlcnM6ZmFsc2UscmVkaXJlY3Q6ZmFsc2UsbWV0aG9kOidQT1NUJ307XFxcXG4gICAgICAgIGxldCBiYWNrbXNnID0gZ2V0SXRlbSgnaG91c2UuZmlsZV91YScpPT09J+eUteiEkSc/ZmV0Y2gocHV0X3VybCx1cHBhcmFtcyk6cmVxdWVzdChwdXRfdXJsLHVwcGFyYW1zKTtcXFxcbiAgICAgICAgdHJ5e1xcXFxuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IEpTT04ucGFyc2UoYmFja21zZykucmVzdWx0O1xcXFxuICAgICAgICAgICAgbGV0IGRldGFpbCA9IHJlc3VsdC5kZXRhaWw7XFxcXG4gICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8vJytkZXRhaWw7XFxcXG4gICAgICAgIH1jYXRjaCAoZSkge1xcXFxuICAgICAgICAgICAgbG9nKGUubWVzc2FnZSk7XFxcXG4gICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5Y+R55Sf5LqG6ZSZ6K+vXFxcXFxcXFxuJytlLm1lc3NhZ2U7XFxcXG4gICAgICAgIH1cXFxcbiAgICB9LGNhbnVwLGhvdXNlX2RhdGEscHV0X3VybCxmaWxlX3R5cGUpXFxcXG59KTtcXFxcblxcXFxuZC5wdXNoKHtcXFxcbiAgICB0aXRsZTon6ZW/5paH5pys6aKE6KeI5Yy65Z+fJyxcXFxcbiAgICBjb2xfdHlwZTondGV4dF8xJyxcXFxcbiAgICB1cmw6J2hpa2VyOi8vZW1wdHknLFxcXFxuICAgIGV4dHJhOiB7dGV4dFNpemU6IDExLGxpbmVWaXNpYmxlOmZhbHNlfVxcXFxufSk7XFxcXG5cXFxcbmQucHVzaCh7XFxcXG4gICAgdGl0bGU6Z2V0VmFyKCdob3VzZS51cGxvYWRfY29kZScsJycpLnN1YnN0cmluZygwLDEwMjQwKSxcXFxcbiAgICBjb2xfdHlwZTonbG9uZ190ZXh0JyxcXFxcbiAgICBleHRyYToge3RleHRTaXplOiAxMX1cXFxcbn0pO1xcXFxuc2V0UGFnZVRpdGxlKFxcXFxcXFwi5pu05aSa5YiG5LqrXFxcXFxcXCIpO1xcXFxuc2V0UmVzdWx0KGQpO1xcXCJ9LHtcXFwiY29sX3R5cGVcXFwiOlxcXCJtb3ZpZV8zXFxcIixcXFwibmFtZVxcXCI6XFxcIui9u+WQiOmbhueUn+aIkOaOpeWPo1xcXCIsXFxcInBhdGhcXFwiOlxcXCJnZW5BcGlcXFwiLFxcXCJydWxlXFxcIjpcXFwianM6XFxcXG5mdW5jdGlvbiBnZW5SdWxlKG5hbWUsdXJsLGljb24pe1xcXFxuICAgIGljb249aWNvbnx8J2h0dHBzOi8vejMuYXgxeC5jb20vMjAyMS8xMS8xNi9JV0poeGYucG5nJztcXFxcbiAgICBjb25zdCB7Z2V0Tm93Rm9ybWF0RGF0ZSxhcGksZ2V0QXBpfT0kLnJlcXVpcmUoXFxcXFxcXCJoaWtlcjovL3BhZ2UvdXRpbGl5P3J1bGU96YGT6ZW/5LuT5bqTUHJvXFxcXFxcXCIpO1xcXFxuICAgIFN0cmluZy5wcm90b3R5cGUucmVwbGFjZUFsbCA9IGZ1bmN0aW9uKG9sZCxuZXdfc3RyKXtcXFxcbiAgICAgICAgcmV0dXJuIHRoaXMuc3BsaXQob2xkKS5qb2luKG5ld19zdHIpO1xcXFxuICAgIH07XFxcXG4gICAgbGV0IG11YmFuID0gZ2V0QXBpKCdpbXBvcnRVcmwnKStcXFxcXFxcIjE2OTBcXFxcXFxcIjtcXFxcbiAgICBsZXQgbXViYW5fd29yZD17bmFtZTpcXFxcXFxcIkDovbvlkIjpm4ZcXFxcXFxcIix1cmw6XFxcXFxcXCJA5Zyw5Z2AXFxcXFxcXCIsdmVyOlxcXFxcXFwiQOeJiOacrFxcXFxcXFwiLGljb246XFxcXFxcXCJA5Zu+5qCHXFxcXFxcXCJ9O1xcXFxuICAgIGxldCBtdWJhbl9jb2RlID0gZmV0Y2gobXViYW4pO1xcXFxuICAgIG11YmFuX2NvZGU9bXViYW5fY29kZS5yZXBsYWNlQWxsKG11YmFuX3dvcmQubmFtZSxuYW1lKS5yZXBsYWNlQWxsKG11YmFuX3dvcmQudmVyLGdldE5vd0Zvcm1hdERhdGUoKSkucmVwbGFjZUFsbChtdWJhbl93b3JkLnVybCx1cmwpLnJlcGxhY2VBbGwobXViYW5fd29yZC5pY29uLGljb24pO1xcXFxuICAgIGxldCBpbXBvcnRfY29kZT1cXFxcXFxcIua1t+mYlOinhueVjOinhOWImeWIhuS6q++8jOW9k+WJjeWIhuS6q+eahOaYr++8muWwj+eoi+W6j++8jOaXoOagueagke+8jOiKseato+a4he+8jOS4jeaWreiNpOiFpeS4jeaIkua3q++/pWhvbWVfcnVsZV92Mu+/pWJhc2U2NDovL0BcXFxcXFxcIituYW1lK1xcXFxcXFwiQFxcXFxcXFwiK2Jhc2U2NEVuY29kZShtdWJhbl9jb2RlKTtcXFxcbiAgICB2YXIgcGFzdGVzID0gZ2V0UGFzdGVzKCk7XFxcXG4gICAgdmFyIHVybCA9IHNoYXJlUGFzdGUoaW1wb3J0X2NvZGUscGFzdGVzLnNsaWNlKC0xKVswXSk7XFxcXG4gICAgbGV0IGltcG9ydF9ydWxlPSB1cmwrXFxcXFxcXCJcXFxcXFxcXG5cXFxcXFxcXG7lsI/nqIvluo/vvJpcXFxcXFxcIituYW1lO1xcXFxuICAgIHJldHVybiBpbXBvcnRfcnVsZTtcXFxcbn1cXFxcbiQuZXhwb3J0cy5nZW5SdWxlPWdlblJ1bGU7XFxcIn0se1xcXCJjb2xfdHlwZVxcXCI6XFxcIm1vdmllXzNcXFwiLFxcXCJuYW1lXFxcIjpcXFwi5YWo5bGA6Kej5p6Q5YWN5ZeFXFxcIixcXFwicGF0aFxcXCI6XFxcImdsb2JhbFBhcnNlXFxcIixcXFwicnVsZVxcXCI6XFxcImpzOlxcXFxuICAgIGZ1bmN0aW9uIGdldEhlYWRlcnMocGxheVVybCl7XFxcXG4gICAgICAgIGxldCBoZWFkZXJzID0ge307XFxcXG4gICAgICAgIGxldCByZWZlcj1wbGF5VXJsLnNwbGl0KFxcXFxcXFwiLy9cXFxcXFxcIilbMF0rXFxcXFxcXCIvL1xcXFxcXFwiK3BsYXlVcmwuc3BsaXQoXFxcXFxcXCIvL1xcXFxcXFwiKVsxXS5zcGxpdChcXFxcXFxcIi9cXFxcXFxcIilbMF07XFxcXG4gICAgICAgIGlmKC9sZWNsb3VkXFxcXFxcXFwuY29tfGJpbGl2aWRlb1xcXFxcXFxcLmNvbS8udGVzdChwbGF5VXJsKSl7XFxcXG4gICAgICAgICAgICBoZWFkZXJzID0ge1xcXFxcXFwiUmVmZXJlclxcXFxcXFwiOiAnaHR0cHM6Ly93d3cuYmlsaWJpbGkuY29tLycsXFxcXFxcXCJVc2VyLUFnZW50XFxcXFxcXCI6XFxcXFxcXCJNb3ppbGxhLzUuMFxcXFxcXFwifVxcXFxuICAgICAgICB9ZWxzZSBpZigvbWd0dlxcXFxcXFxcLmNvbS8udGVzdChwbGF5VXJsKSl7XFxcXG4gICAgICAgICAgICBoZWFkZXJzID0ge1xcXFxcXFwiUmVmZXJlclxcXFxcXFwiOiByZWZlcixcXFxcXFxcIlVzZXItQWdlbnRcXFxcXFxcIjpcXFxcXFxcIk1vemlsbGEvNS4wXFxcXFxcXCJ9XFxcXG4gICAgICAgIH1lbHNlIGlmKC9peGlndWFcXFxcXFxcXC5jb20vLnRlc3QocGxheVVybCkpe1xcXFxuICAgICAgICAgICAgaGVhZGVycyA9IHtcXFxcXFxcIlJlZmVyZXJcXFxcXFxcIjogJ2h0dHBzOi8vd3d3Lml4aWd1YS5jb20vJyxcXFxcXFxcIlVzZXItQWdlbnRcXFxcXFxcIjpcXFxcXFxcIk1vemlsbGEvNS4wXFxcXFxcXCJ9XFxcXG4gICAgICAgIH1lbHNle1xcXFxuICAgICAgICAgICAgLy8gaGVhZGVycyA9IHtcXFxcXFxcIlJlZmVyZXJcXFxcXFxcIjogcmVmZXIsJ1VzZXItQWdlbnQnOidEYXJ0LzIuMTMgKGRhcnQ6aW8pJ31cXFxcbiAgICAgICAgICAgIC8vIGhlYWRlcnMgPSB7XFxcXFxcXCJSZWZlcmVyXFxcXFxcXCI6IHJlZmVyLCdVc2VyLUFnZW50JzpNT0JJTEVfVUF9O1xcXFxuICAgICAgICAgICAgaGVhZGVycyA9IHsnVXNlci1BZ2VudCc6TU9CSUxFX1VBfTtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICByZXR1cm4gaGVhZGVyc1xcXFxuICAgIH1cXFxcbmZ1bmN0aW9uIGlzUGljKHN0cil7XFxcXG4gICAgcmV0dXJuIC9cXFxcXFxcXC4oZ2lmfGpwZ3xqcGVnfHBuZ3xHSUZ8SlBHfFBORykkLy50ZXN0KHN0cik7XFxcXG59XFxcXG5mdW5jdGlvbiBpc1ZpZGVvKHBsYXlVcmwscmVjaGFuZ2Upe1xcXFxuICAgIC8v5rOo5oSPLnBocOS4jeWPr+S7peiiq+aOkumZpOWQpuWImeiejeWFtOino+aekOS4jeS6hiB8LnBocCRcXFxcbiAgICAvL+WmguaenOaYr+aSreaUvuWcsOWdgOWwseebtOaOpei/lOWbnuWcsOWdgOWKoOS4ilVB77yM5LiN5piv55qE6K+d5bCx6L+U5ZueZmFsc2VcXFxcbiAgICAvLyBsZXQgdDEgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcXFxcbiAgICBsZXQgY2FjaGVSZWd4ID0gbmV3IFJlZ0V4cCgnZmlsZTovLy9zdG9yYWdlL2VtdWxhdGVkLyguKj8pXFxcXFxcXFxcXFxcXFxcXC5tM3U4fGhpa2VyOi8vZmlsZXMvKC4qPylcXFxcXFxcXFxcXFxcXFxcLm0zdTgnKTtcXFxcbiAgICBpZihjYWNoZVJlZ3gudGVzdChwbGF5VXJsKSl7XFxcXG4gICAgICAgIHJldHVybiBwbGF5VXJsXFxcXG4gICAgfVxcXFxuICAgIGZ1bmN0aW9uIGdldEhvc3QodXJsKXtcXFxcbiAgICAgICAgLy8gZmJh55qEcGFyc2VMYXp55aSq5oWi5LqG5Y2D5LiH5Yir55SoXFxcXG4gICAgICAgIHRyeSB7XFxcXG4gICAgICAgICAgICByZXR1cm4gdXJsLm1hdGNoKC9eaHR0cChzKT86XFxcXFxcXFwvXFxcXFxcXFwvKC4qPylcXFxcXFxcXC8vKVswXS5zbGljZSgwLC0xKTtcXFxcbiAgICAgICAgfWNhdGNoIChlKSB7XFxcXG4gICAgICAgICAgICByZXR1cm4gZmFsc2VcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICAvKlxcXFxuICAgICAgICBpZih0eXBlb2YobG9nKT09PSd1bmRlZmluZWQnKXtcXFxcbiAgICAgICAgICAgIHJldHVybiAgZmJhLnBhcnNlTGF6eVJ1bGUoJCQkKCkubGF6eVJ1bGUoKHVybCk9PntcXFxcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0SG9tZSh1cmwpXFxcXG4gICAgICAgICAgICB9LHVybCkpXFxcXG4gICAgICAgIH1lbHNlIHtcXFxcbiAgICAgICAgICAgIHJldHVybiBnZXRIb21lKHVybClcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICAqL1xcXFxuICAgIH1cXFxcbiAgICBsZXQgcFVybD1wbGF5VXJsLnNwbGl0KFxcXFxcXFwiO1xcXFxcXFwiKVswXTsvL+iOt+WPluaKoOaOiea1t+mYlHVh562J5Y+C5pWw55qE572R6aG15pKt5pS+6ZO+5o6lXFxcXG4gICAgbGV0IGhvc3QgPSBnZXRIb3N0KHBVcmwpOyAvLyDojrflj5bln5/lkI1cXFxcbiAgICBpZighaG9zdCl7Ly/liKTmlq3ml6Dln5/lkI3nm7TmjqXkuI3mmK/op4bpopFcXFxcbiAgICAgICAgcmV0dXJuIGZhbHNlXFxcXG4gICAgfVxcXFxuICAgIGZ1bmN0aW9uIHByaW50KGRhdGEpe1xcXFxuICAgICAgICBpZih0eXBlb2YobG9nKT09PSd1bmRlZmluZWQnKXtcXFxcbiAgICAgICAgICAgIHJldHVybiAgZmJhLmxvZyhkYXRhKVxcXFxuICAgICAgICB9ZWxzZSB7XFxcXG4gICAgICAgICAgICByZXR1cm4gbG9nKGRhdGEpXFxcXG4gICAgICAgIH1cXFxcbiAgICB9XFxcXG4gICAgcmVjaGFuZ2U9dHlwZW9mKHJlY2hhbmdlKT09PVxcXFxcXFwiZnVuY3Rpb25cXFxcXFxcIj9yZWNoYW5nZTpmdW5jdGlvbihwbGF5VXJsKXtyZXR1cm4gcGxheVVybH07XFxcXG4gICAgbGV0IGV4Y2VwdFdvcmRzID0gJy5qcyR8LmNzcyR8LnRzJHwuaHRtbCR8Lmh0bSR8LmdpZiR8LmpwZyR8LmpwZWckfC5wbmckfC5pY28kfC5zdmckfC50eHQkJy5zcGxpdCgnfCcpLm1hcChpdD0+J1xcXFxcXFxcXFxcXFxcXFwnK2l0KS5qb2luKCd8Jyk7XFxcXG4gICAgdmFyIGV4Y2VwdEtleXMgPSBuZXcgUmVnRXhwKGV4Y2VwdFdvcmRzKTtcXFxcbiAgICBsZXQgZXhjZXB0V29yZHMxID0gJ3JlZmVyZXI9fHVybD0nLnNwbGl0KCd8JykubWFwKGl0PT5pdCkuam9pbignfCcpO1xcXFxuICAgIHZhciBleGNlcHRLZXlzMSA9IG5ldyBSZWdFeHAoZXhjZXB0V29yZHMxKTtcXFxcbiAgICBsZXQgcmVwbGFjZVdvcmRzID0gJ3BsYXltM3U4fG0zdThcXFxcXFxcXC50dicuc3BsaXQoJ3wnKS5tYXAoaXQ9Pml0KS5qb2luKCd8Jyk7XFxcXG4gICAgbGV0IHJlcGxhY2VLZXlzID0gbmV3IFJlZ0V4cChyZXBsYWNlV29yZHMsJ2cnKTtcXFxcbiAgICBsZXQgdmlkZW9Xb3JkcyA9IFxcXFxcXFwiL3ZpZGVvL3Rvc3wubXA0JHwubTN1OCR8LmZsdiR8LmF2aSR8LjNncCR8Lm1wZWckfC53bXYkfC5tb3YkfHJtdmJ8LmRhdCR8Lm1wMyR8Lm00YSR8cXFCRmRvd25sb2FkfG1pbWU9dmlkZW8lMkZ8bWltZV90eXBlPXZpZGVvX3x0eXBlPW0zdTh8cHQ9bTN1OFxcXFxcXFwiLnNwbGl0KCd8JykubWFwKChpdCk9PntcXFxcbiAgICAgICAgLy90eXBlPW1wNFxcXFxuICAgICAgICBpZihpdC5zdGFydHNXaXRoKFxcXFxcXFwiLlxcXFxcXFwiKSl7XFxcXG4gICAgICAgICAgICByZXR1cm4gJ1xcXFxcXFxcXFxcXFxcXFwnK2l0XFxcXG4gICAgICAgIH1lbHNle1xcXFxuICAgICAgICAgICAgcmV0dXJuIGl0XFxcXG4gICAgICAgIH1cXFxcbiAgICB9KS5qb2luKFxcXFxcXFwifFxcXFxcXFwiKTtcXFxcbiAgICBsZXQgdmlkZW9LZXlzID0gbmV3IFJlZ0V4cCh2aWRlb1dvcmRzKTtcXFxcbiAgICBsZXQgclVybCA9IHBVcmwucmVwbGFjZShob3N0LCcnKTsvL+iOt+WPlumZpOW8gOWfn+WQjeeahOWJqeS9memTvuaOpVxcXFxuICAgIGxldCBwVXJsMj1wVXJsLnNwbGl0KFxcXFxcXFwiJlxcXFxcXFwiKVswXS5zcGxpdChcXFxcXFxcIj9cXFxcXFxcIilbMF07Ly/ojrflj5bkuI3luKblj4LmlbDnmoTnvZHpobXpk77mjqVcXFxcbiAgICBsZXQgcnVybDIgPSBwVXJsMi5yZXBsYWNlKGhvc3QsJycpOy8v6I635Y+W6Zmk5byA5Z+f5ZCN55qE5Ymp5L2Z5LiN5bim5Y+C5pWw6ZO+5o6lXFxcXG4gICAgbGV0IGhhc0tleSA9IHZpZGVvS2V5cy50ZXN0KHJVcmwpfHx2aWRlb0tleXMudGVzdChydXJsMik7XFxcXG4gICAgbGV0IHBhclVybCA9IHBVcmwucmVwbGFjZShwVXJsLnNwbGl0KFxcXFxcXFwiP1xcXFxcXFwiKVswXSwnJyk7IC8vIOWIhuWJsumXruWPt+WQjuWJqeS9meWPguaVsOeahOWujOaVtOmTvuaOpVxcXFxuICAgIGxldCBleGNLZXkgPSBleGNlcHRLZXlzMS50ZXN0KHBhclVybCk7XFxcXG4gICAgaWYoclVybC5zcGxpdCgnPycpLmxlbmd0aD4yKXtcXFxcbiAgICAgICAgbGV0IHJVcmwzPXJVcmwuc3BsaXQoXFxcXFxcXCI/XFxcXFxcXCIpWzFdOy8v6I635Y+WP+WIhuWJsuWQjueahOesrOS4gOautVxcXFxuICAgICAgICBoYXNLZXkgPSBoYXNLZXl8fHZpZGVvS2V5cy50ZXN0KHJVcmwzKTtcXFxcbiAgICB9XFxcXG4gICAgaWYoaGFzS2V5JiYhZXhjS2V5KXtcXFxcbiAgICAgICAgbGV0IHRpcHMgPSAn5qOA5rWL5Yiw55aR5Ly85aSa5aqS5L2T55qE5Zyw5Z2AOic7XFxcXG4gICAgICAgIHByaW50KFxcXFxcXFwianPkuK1cXFxcXFxcIit0aXBzK3BVcmwpO1xcXFxuICAgICAgICBwcmludChcXFxcXFxcIuWIhuWJsumXruWPt+WQjjpcXFxcXFxcIitwYXJVcmwpO1xcXFxuICAgIH1cXFxcbiAgICAvLyBsb2coJzE6JysodmlkZW9LZXlzLnRlc3QocFVybCl8fHZpZGVvS2V5cy50ZXN0KHBVcmwyKXx8dmlkZW9LZXlzLnRlc3QocFVybC5yZXBsYWNlKHJlcGxhY2VLZXlzLFxcXFxcXFwiXFxcXFxcXCIpLnNwbGl0KFxcXFxcXFwiJlxcXFxcXFwiKVswXS5zcGxpdChcXFxcXFxcIj9cXFxcXFxcIilbMF0pKSk7XFxcXG4gICAgLy8gbG9nKCcyOicrIWV4Y2VwdEtleXMudGVzdChwVXJsLnNwbGl0KFxcXFxcXFwiP1xcXFxcXFwiKVswXS5zcGxpdCgnJicpWzBdKSk7XFxcXG4gICAgLy8gbG9nKCczOicrIWV4Y2VwdEtleXMxLnRlc3QocFVybC5yZXBsYWNlKHBVcmwuc3BsaXQoXFxcXFxcXCI/XFxcXFxcXCIpWzBdLCcnKSkpO1xcXFxuICAgIGlmICgoaGFzS2V5fHx2aWRlb0tleXMudGVzdChyVXJsLnJlcGxhY2UocmVwbGFjZUtleXMsXFxcXFxcXCJcXFxcXFxcIikuc3BsaXQoXFxcXFxcXCImXFxcXFxcXCIpWzBdLnNwbGl0KFxcXFxcXFwiP1xcXFxcXFwiKVswXSkgKSYmICFleGNlcHRLZXlzLnRlc3QocFVybDIpJiYhZXhjZXB0S2V5czEudGVzdChwVXJsMikpIHtcXFxcbiAgICAgICAgaWYoISgvVXNlci1BZ2VudHxSZWZlcmVyQC8udGVzdChwbGF5VXJsKSkpe1xcXFxuICAgICAgICAgICAgaWYoL2xlY2xvdWRcXFxcXFxcXC5jb218YmlsaXZpZGVvLy50ZXN0KHBsYXlVcmwpKXtcXFxcbiAgICAgICAgICAgICAgICBwbGF5VXJsKz1cXFxcXFxcIjt7UmVmZXJlckBodHRwczovL3d3dy5iaWxpYmlsaS5jb20vJiZVc2VyLUFnZW50QE1vemlsbGEvNS4wfVxcXFxcXFwiO1xcXFxuICAgICAgICAgICAgfWVsc2UgaWYoL2l4aWd1YVxcXFxcXFxcLmNvbS8udGVzdChwbGF5VXJsKSl7XFxcXG4gICAgICAgICAgICAgICAgcGxheVVybCs9XFxcXFxcXCIjaXN2aWRlbz10cnVlIzt7UmVmZXJlckBodHRwczovL3d3dy5peGlndWEuY29tLyYmVXNlci1BZ2VudEBNb3ppbGxhLzUuMH1cXFxcXFxcIjtcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIGVsc2UgaWYoL21ndHZcXFxcXFxcXC5jb218Ynl0ZWFtb25lLy50ZXN0KHBsYXlVcmwpKXtcXFxcbiAgICAgICAgICAgICAgICBwbGF5VXJsKz1cXFxcXFxcIjt7VXNlci1BZ2VudEBNb3ppbGxhLzUuMH1cXFxcXFxcIjtcXFxcbiAgICAgICAgICAgIH1lbHNlIGlmKC9wdHdvXFxcXFxcXFwud2tmaWxlXFxcXFxcXFwuY29tLy50ZXN0KHBsYXlVcmwpJiYvdXJsPS8udGVzdChwbGF5VXJsKSl7XFxcXG4gICAgICAgICAgICAgICAgcGxheVVybD1wbGF5VXJsLnNwbGl0KFxcXFxcXFwidXJsPVxcXFxcXFwiKVsxXStcXFxcXFxcIjt7UmVmZXJlckBodHRwczovL2ZhbnR1YW4udHZ9XFxcXFxcXCJcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIC8vIOWkhOeQhuWkp+W4iOWFhOS5i+exu+eahGFwcFxcXFxuICAgICAgICAgICAgLy8gZWxzZXtcXFxcbiAgICAgICAgICAgIC8vICAgICBwbGF5VXJsKz1cXFxcXFxcIjt7VXNlci1BZ2VudEBNb3ppbGxhLzUuMH1cXFxcXFxcIjtcXFxcbiAgICAgICAgICAgIC8vIH1cXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBwbGF5VXJsPXJlY2hhbmdlKHBsYXlVcmwpO1xcXFxuICAgICAgICBpZighLyNpc1ZpZGVvPXRydWUjLy50ZXN0KHBsYXlVcmwpKXtcXFxcbiAgICAgICAgICAgIHBsYXlVcmwrPVxcXFxcXFwiI2lzVmlkZW89dHJ1ZSNcXFxcXFxcIjtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICAvLyBsZXQgdDIgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcXFxcbiAgICAgICAgLy8gcHJpbnQoJ+WIpOaWrWlzVmlkZW/ogJfml7Y6JysodDItdDEpKTtcXFxcbiAgICAgICAgcmV0dXJuIHBsYXlVcmw7XFxcXG4gICAgfWVsc2V7XFxcXG4gICAgICAgIC8vIGxldCB0MiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xcXFxuICAgICAgICAvLyBwcmludCgn5Yik5pataXNWaWRlb+iAl+aXtjonKyh0Mi10MSkpO1xcXFxuICAgICAgICByZXR1cm4gZmFsc2U7XFxcXG4gICAgfVxcXFxufVxcXFxuZnVuY3Rpb24gY29tUGFyc2UocGFyU3RyLGVqLG9ubHliYWNrLGh0bWwpe1xcXFxuICAgIC8v5YiX6KGo77yM5qCH6aKY77yM5Zu+54mH77yM5o+P6L+w77yM6ZO+5o6l77yM5YaF5a65XFxcXG4gICAgZWogPSBlanx8ZmFsc2U7Ly/mnInkuoznuqdcXFxcbiAgICBvbmx5YmFjaz1vbmx5YmFja3x8ZmFsc2U7Ly/lj6rov5Tlm57mlbDmja5cXFxcbiAgICBodG1sID0gaHRtbHx8Z2V0UmVzQ29kZSgpO1xcXFxuICAgIGh0bWwgPSB0eXBlb2YoaHRtbCk9PT0nc3RyaW5nJz9odG1sOmh0bWwuaHRtbDtcXFxcbiAgICByZXR1cm4gJC50b1N0cmluZygocGFyU3RyLGVqLG9ubHliYWNrLGh0bWwsaXNQaWMpPT57XFxcXG4gICAgICAgIGxldCB0PXBhclN0ci5zcGxpdChcXFxcXFxcIjtcXFxcXFxcIik7XFxcXG4gICAgICAgIGxldCBkPVtdO1xcXFxuICAgICAgICAvLyBsZXQgbGlzdD1wZGZhKGdldFJlc0NvZGUoKSx0WzBdKTtcXFxcbiAgICAgICAgbGV0IGxpc3Q9cGRmYShodG1sLHRbMF0pO1xcXFxuICAgICAgICBsZXQgbGF6eSA9ICQoJycpLmxhenlSdWxlKCgpPT57XFxcXG4gICAgICAgICAgICBjb25zdCB7bGF6eVBhcnNlfSA9ICQucmVxdWlyZSgnaGlrZXI6Ly9wYWdlL2dsb2JhbFBhcnNlP3J1bGU96YGT6ZW/5LuT5bqTUHJvJyk7XFxcXG4gICAgICAgICAgICByZXR1cm4gbGF6eVBhcnNlKGlucHV0KVxcXFxuICAgICAgICB9KTtcXFxcbiAgICAgICAgZm9yKGxldCBpIGluIGxpc3Qpe1xcXFxuICAgICAgICAgICAgbGV0IF9waWMgPSB0WzJdP3BkKGxpc3RbaV0sdFsyXSk6Jyc7XFxcXG4gICAgICAgICAgICBpZihpc1BpYyhfcGljKSYmIS9AUmVmZXJlcj0vLnRlc3QoX3BpYykpe1xcXFxuICAgICAgICAgICAgICAgIF9waWMrPSdAUmVmZXJlcj0nXFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICBsZXQgaXQ9e1xcXFxuICAgICAgICAgICAgICAgIHRpdGxlOnBkZmgobGlzdFtpXSx0WzFdKSxcXFxcbiAgICAgICAgICAgICAgICBwaWNfdXJsOl9waWMsXFxcXG4gICAgICAgICAgICAgICAgZGVzYzpwZGZoKGxpc3RbaV0sdFszXSksXFxcXG4gICAgICAgICAgICAgICAgdXJsOmVqP3BkKGxpc3RbaV0sdFs0XSk6cGQobGlzdFtpXSx0WzRdKStsYXp5XFxcXG4gICAgICAgICAgICB9O1xcXFxuICAgICAgICAgICAgaWYodC5sZW5ndGg+NSl7Ly/lhoXlrrnvvIznlKjkuo7mkJzntKJcXFxcbiAgICAgICAgICAgICAgICBpdC5jb250ZW50PXBkZmgobGlzdFtpXSx0WzVdKVxcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgZC5wdXNoKGl0KTtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBpZihvbmx5YmFjayl7XFxcXG4gICAgICAgICAgICByZXR1cm4gZFxcXFxuICAgICAgICB9ZWxzZXtcXFxcbiAgICAgICAgICAgIHNldFJlc3VsdChkKVxcXFxuICAgICAgICB9XFxcXG4gICAgfSxwYXJTdHIsZWosb25seWJhY2ssaHRtbCxpc1BpYylcXFxcbn1cXFxcblxcXFxuZnVuY3Rpb24gaXNCYWRWaWRlbyh2aWRlb1VybCkgey8v5piv5Z2P55qE6KeG6aKRXFxcXG4gICAgbGV0IGRtUGF0aCA9ICdoaWtlcjovL2ZpbGVzL2NhY2hlL2RpYW9tYW8udHh0JzsvL+WQiuavm+aooeW8j+i/h+a7pOaWh+S7tui3r+W+hFxcXFxuICAgIGxldCBkbVVybHM7XFxcXG4gICAgdHJ5IHtcXFxcbiAgICAgICAgZG1VcmxzID0gcmVxdWVzdChkbVBhdGgpLnRyaW0oKS5zcGxpdCgnXFxcXFxcXFxuJykuZmlsdGVyKGl0ID0+IGl0ICYmICFpdC5zdGFydHNXaXRoKCcvLycpKTtcXFxcbiAgICB9IGNhdGNoIChlKSB7XFxcXG4gICAgICAgIGRtVXJscyA9IFtdO1xcXFxuICAgIH1cXFxcblxcXFxuICAgIGZ1bmN0aW9uIGhhc0RtKHZpZGVvVXJsLCBkbVVybHMpIHsvL+aSreaUvuWcsOWdgOaYr+WQpuS4uuWQiuavm+inhumikVxcXFxuICAgICAgICBpZiAoZG1VcmxzLmxlbmd0aCA8IDEpIHtcXFxcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxcXFxuICAgICAgICB9XFxcXG4gICAgICAgIGZ1bmN0aW9uIHByaW50KHN0cil7XFxcXG4gICAgICAgICAgICBpZih0eXBlb2YobG9nKSE9PSd1bmRlZmluZWQnKXtcXFxcbiAgICAgICAgICAgICAgICBsb2coc3RyKTtcXFxcbiAgICAgICAgICAgIH1lbHNle1xcXFxuICAgICAgICAgICAgICAgIGZiYS5sb2coc3RyKTtcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBmb3IgKGxldCBkbVVybCBvZiBkbVVybHMpIHtcXFxcbiAgICAgICAgICAgIGlmICgobmV3IFJlZ0V4cChkbVVybCkpLnRlc3QodmlkZW9VcmwpKSB7Ly/mkq3mlL7lnLDlnYDljIXlkKvlkIrmr5vmoIflv5fnmoTlnLDlnYBcXFxcbiAgICAgICAgICAgICAgICBwcmludCgn5ZCK5q+b6KeG6aKRLOiHquWKqOi/h+a7pDonK3ZpZGVvVXJsKTtcXFxcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICB9XFxcXG4gICAgICAgIHByaW50KCfpnZ7lkIrmr5vop4bpopEs5Y+v5pKt5pS+OicrdmlkZW9VcmwpO1xcXFxuICAgICAgICByZXR1cm4gZmFsc2VcXFxcbiAgICB9XFxcXG5cXFxcbiAgICBmdW5jdGlvbiBpc0RtKHJldCkge1xcXFxuICAgICAgICBpZiAoIXJldCkge1xcXFxuICAgICAgICAgICAgcmV0dXJuIHRydWVcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICByZXR1cm4gaGFzRG0ocmV0LnNwbGl0KCcjJylbMF0uc3BsaXQoJzsnKVswXSwgZG1VcmxzKVxcXFxuICAgIH1cXFxcbiAgICByZXR1cm4gaXNEbSh2aWRlb1VybClcXFxcbn1cXFxcblxcXFxuZnVuY3Rpb24gbGF6eVBhcnNlKHBsYXlVcmwsbXMsdG0scmVjaGFuZ2Upe1xcXFxuICAgIC8vIGxvZygn6LCD55So5LuT5bqT5YWN5ZeF5o6i5Lyg5Y+C6LaF5pe25Li6OicrbXMpO1xcXFxuICAgIHRtID0gcGFyc2VJbnQodG0pfHw1MDAwO1xcXFxuICAgIGNvbnN0IHtpc1ZpZGVvLGdldEhlYWRlcnMsaXNCYWRWaWRlb30gPSAkLnJlcXVpcmUoJ2hpa2VyOi8vcGFnZS9nbG9iYWxQYXJzZT9ydWxlPemBk+mVv+S7k+W6k1BybycpO1xcXFxuICAgIGxldCByZWFsVXJsID0gaXNWaWRlbyhwbGF5VXJsLHJlY2hhbmdlKTtcXFxcbiAgICAvL2xvZyhyZWFsVXJsKTtcXFxcbiAgICBpZih0eXBlb2YocmVhbFVybCk9PSdzdHJpbmcnKXsvL2Jvb2zlgLzlsLHmmK/lpLHotKVcXFxcbiAgICAgICAgdHJ5e1xcXFxuICAgICAgICAgICAgbGV0IHJ1cmw9cmVhbFVybC5zcGxpdChcXFxcXFxcIjtcXFxcXFxcIilbMF0uc3BsaXQoXFxcXFxcXCIjXFxcXFxcXCIpWzBdO1xcXFxuICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UocmVxdWVzdChydXJsLHt0aW1lb3V0OnRtfSkpLnVybFxcXFxuICAgICAgICB9Y2F0Y2goZSl7XFxcXG4gICAgICAgICAgICByZXR1cm4gcmVhbFVybFxcXFxuICAgICAgICB9XFxcXG4gICAgICAgIC8vcmV0dXJuIHJlYWxVcmxcXFxcbiAgICB9XFxcXG5cXFxcbiAgICAvL2xvZyhcXFxcXFxcIuiuv+mXrui2heaXtjpcXFxcXFxcIit0bSk7XFxcXG4gICAgbG9nKFxcXFxcXFwi5bCd6K+V6YGT6ZW/5LuT5bqTeDXlhY3ll4U6XFxcXFxcXCIrcGxheVVybCk7XFxcXG4gICAgY2xlYXJWYXIoXFxcXFxcXCJfeDVqeFVybFxcXFxcXFwiKTtcXFxcbiAgICBsZXQgYmFkPSQoXFxcXFxcXCLnvZHnu5zkuI3kvbPmiJbogIXnlpHkvLzlr7nmlrnnvZHnq5nmjILkuobvvIzkvaDopoHmn6XnnIvlhbbnvZHpobXlkJfvvJ9cXFxcXFxcIikuY29uZmlybSgocGxheVVybCk9PntcXFxcbiAgICAgICAgbG9nKFxcXFxcXFwi572R56uZ55yL6LW35p2l5oyC5LqGOlxcXFxcXFwiK3BsYXlVcmwpO1xcXFxuICAgICAgICByZXR1cm4gcGxheVVybFxcXFxuICAgIH0scGxheVVybCk7XFxcXG4gICAgdHJ5e1xcXFxuICAgICAgICB2YXIgYmFjaz1yZXF1ZXN0KHBsYXlVcmwse2hlYWRlcnM6IGdldEhlYWRlcnMocGxheVVybCksdGltZW91dDp0bX0pO1xcXFxuICAgICAgICAvL3ZhciBiYWNrPWZldGNoKHBsYXlVcmwse2hlYWRlcnM6IHsnVXNlci1BZ2VudCc6IFBDX1VBfX0pO1xcXFxuICAgICAgICBpZighYmFjayl7XFxcXG4gICAgICAgICAgICBsb2coXFxcXFxcXCLnvZHnq5lcXFxcXFxcIitwbGF5VXJsK1xcXFxcXFwi56Gu5a6e5ZWl5Lmf5rKh6L+U5ZueXFxcXFxcXCIpO1xcXFxuICAgICAgICAgICAgcmV0dXJuIGJhZFxcXFxuICAgICAgICB9ZWxzZSBpZigvI0VYVElORi8udGVzdChiYWNrKSl7XFxcXG4gICAgICAgICAgICAvL2xldCBsY2FjaGU9XFxcXFxcXCIvc3RvcmFnZS9lbXVsYXRlZC8wL0FuZHJvaWQvZGF0YS9jb20uZXhhbXBsZS5oaWtlcnZpZXcvZmlsZXMvRG9jdW1lbnRzL2NhY2hlL3ZpZGVvLm0zdThcXFxcXFxcIjtcXFxcbiAgICAgICAgICAgIC8vd3JpdGVGaWxlKGxjYWNoZSxiYWNrKTtcXFxcbiAgICAgICAgICAgIC8vcmV0dXJuIGxjYWNoZStcXFxcXFxcIiMjXFxcXFxcXCIrcGxheVVybCtcXFxcXFxcIiNpc1ZpZGVvPXRydWUjXFxcXFxcXCJcXFxcbiAgICAgICAgICAgIHBsYXlVcmw9Y2FjaGVNM3U4KHBsYXlVcmwpO1xcXFxuICAgICAgICAgICAgcmV0dXJuIHBsYXlVcmxcXFxcbiAgICAgICAgfWVsc2UgaWYoKCEv6Kem5Y+R5LqG6Ziy55uX6ZO+fOacquaOiOadg3zmjqXlj6PpmLLnm5cvLnRlc3QoYmFjaykpJiYoIS9odHRwfHVybC8udGVzdChiYWNrKSkmJighL21zZ3xjb2RlfGh0bWwvLnRlc3QoYmFjaykpKXtcXFxcbiAgICAgICAgICAgIGxvZyhiYWNrKTtcXFxcbiAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/nlpHkvLzlr7nmlrnmlbDmja7liqDlr4bkuobvvIzlhbfkvZPmlbDmja7nnIvml6Xlv5cnXFxcXG4gICAgICAgIH1cXFxcbiAgICB9Y2F0Y2goZSl7XFxcXG4gICAgICAgIGxvZyhlLm1lc3NhZ2UpO1xcXFxuICAgICAgICByZXR1cm4gYmFkXFxcXG4gICAgfVxcXFxuICAgIHRyeSB7XFxcXG4gICAgICAgIGJhY2s9SlNPTi5wYXJzZShiYWNrKTtcXFxcbiAgICAgICAgbGV0IHJlYWxVcmw9YmFjay51cmw7XFxcXG4gICAgICAgIGlmKHR5cGVvZihyZWFsVXJsKT09XFxcXFxcXCJ1bmRlZmluZWRcXFxcXFxcInx8IXJlYWxVcmwpe1xcXFxuICAgICAgICAgICAgbG9nKGJhY2spO1xcXFxuICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwidG9hc3Q6Ly/pgZPplb/ku5PlupPop6PmnpDlpLHotKXvvIHov5Tlm57mkq3mlL7lnLDlnYDkuLrnqbpcXFxcXFxcIlxcXFxuICAgICAgICB9IGVsc2UgaWYodHlwZW9mKGlzVmlkZW8ocmVhbFVybCxyZWNoYW5nZSkpPT0nc3RyaW5nJyl7XFxcXG4gICAgICAgICAgICByZXR1cm4gaXNWaWRlbyhyZWFsVXJsLHJlY2hhbmdlKTtcXFxcbiAgICAgICAgfWVsc2V7XFxcXG4gICAgICAgICAgICByZXR1cm4gcmVhbFVybCtcXFxcXFxcIiNpc1ZpZGVvPXRydWUjXFxcXFxcXCI7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgLy9lbHNle1xcXFxuICAgICAgICAvL3JlYWxVcmwrPVxcXFxcXFwiO3tVc2VyLUFnZW50QE1vemlsbGEvNS4wfVxcXFxcXFwiO1xcXFxuICAgICAgICAvLyB9XFxcXG4gICAgfWNhdGNoIChlKSB7XFxcXG4gICAgICAgIGxvZyhcXFxcXFxcIuajgOa1i+WIsOino+aekOWPo+mdnmpzb27plJnor686XFxcXFxcXCIrZS5tZXNzYWdlKycs5byA5aeLeDXlhY3ll4XmjqInKTtcXFxcbiAgICAgICAgLy8gcmVxdWlyZSgnaHR0cHM6Ly9oamRobnguY29kaW5nLm5ldC9wL2hpa2VyL2QvZHIvZ2l0L3Jhdy9tYXN0ZXIvanMvbHNnLmpzJyk7Ly/lvJXnlKjmnKzlnLDlgqjlrZjmj5Lku7ZcXFxcbiAgICAgICAgY29uc3QgbHNnPSQucmVxdWlyZShcXFxcXFxcImhpa2VyOi8vcGFnZS9sb2NhbFN0b3JhZ2U/cnVsZT3pgZPplb/ku5PlupNQcm9cXFxcXFxcIik7Ly/lvJXnlKjlrZDpobXpnaLmnKzlnLDlgqjlrZjmj5Lku7ZcXFxcbiAgICAgICAgbGV0IGxvY2FsX21zID0gbHNnLmdldEl0ZW0oJ3RpbWVvdXQnKTtcXFxcbiAgICAgICAgbGV0IG1zID0gcGFyc2VJbnQobXMpfHxwYXJzZUludChsb2NhbF9tcyl8fDUwMDA7XFxcXG4gICAgICAgIGxldCBtYXhfY291bnQ9TWF0aC5jZWlsKG1zLzI1MCk7XFxcXG4gICAgICAgIGxvZyhcXFxcXFxcIuacrOasoeWXheaOoui2heaXtjpcXFxcXFxcIittcytcXFxcXFxcIuWFseiuoeW+heaKk+WMhTpcXFxcXFxcIittYXhfY291bnQrXFxcXFxcXCLmrKFcXFxcXFxcIik7XFxcXG4gICAgICAgIHNob3dMb2FkaW5nKCfll4XmjqLkuK3vvIzoi6XlpLHotKXlsLHliIfmjaJ3ZWLll4XmjqIuLi4nKTtcXFxcbiAgICAgICAgbGV0IF94NSA9ICQudG9TdHJpbmcoKGlzVmlkZW8scmVjaGFuZ2UscGxheVVybCxtYXhfY291bnQsUENfVUEsaXNCYWRWaWRlbyk9PntcXFxcbiAgICAgICAgICAgIHRyeSB7XFxcXG4gICAgICAgICAgICAgICAgaWYodHlwZW9mKGZiYSk9PSd1bmRlZmluZWQnfHwhZmJhKXtcXFxcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZiYSA9IGZ5X2JyaWRnZV9hcHA7XFxcXG4gICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgIHRyeSB7XFxcXG4gICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZihyZXF1ZXN0KT09J3VuZGVmaW5lZCd8fCFyZXF1ZXN0KXtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2YWwoZmJhLmdldEludGVybmFsSnMoKSk7XFxcXG4gICAgICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICB9Y2F0Y2ggKGUpIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgZmJhLmxvZyhlLm1lc3NhZ2UpO1xcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICBmYmEucHV0VmFyKFxcXFxcXFwiX3g1anhVcmxcXFxcXFxcIixwbGF5VXJsKTtcXFxcbiAgICAgICAgICAgICAgICBpZih3aW5kb3cuY291bnQgPT0gbnVsbCl7XFxcXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5jb3VudD0xO1xcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICBsZXQgdGV4dD0nJztcXFxcbiAgICAgICAgICAgICAgICB0cnkge1xcXFxuICAgICAgICAgICAgICAgICAgICB0ZXh0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXFxcXFxcXCJib2R5XFxcXFxcXCIpLmlubmVyVGV4dDtcXFxcbiAgICAgICAgICAgICAgICB9Y2F0Y2ggKGUpIHtmYmEubG9nKGUubWVzc2FnZSl9XFxcXG4gICAgICAgICAgICAgICAgaWYoL+inpuWPkeS6humYsuebl+mTvnzmnKrmjojmnYN85o6l5Y+j6Ziy55uXLy50ZXN0KHRleHQpJiZ3aW5kb3cuY291bnQ9PT0xKXtcXFxcbiAgICAgICAgICAgICAgICAgICAgZmJhLmxvZyhcXFxcXFxcIuajgOa1i+WIsOacieaOiOadg++8jOW8gOWni+i/h+aOiOadg1xcXFxcXFwiKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgLy9sb2NhdGlvbi5yZWxvYWQoKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24uaHJlZj1mYmEuZ2V0VmFyKFxcXFxcXFwiX3g1anhVcmxcXFxcXFxcIik7XFxcXG4gICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgIHdpbmRvdy5jb3VudCsrO1xcXFxuICAgICAgICAgICAgICAgIC8vIGZiYS5sb2coJ2NvdW50Oicrd2luZG93LmNvdW50KycsbWF4X2NvdW50OicrbWF4X2NvdW50KTtcXFxcbiAgICAgICAgICAgICAgICBpZiggd2luZG93LmNvdW50ID49IG1heF9jb3VudCl7XFxcXG4gICAgICAgICAgICAgICAgICAgIGZiYS5sb2coXFxcXFxcXCLotoXov4dcXFxcXFxcIittYXhfY291bnQqMjUwK1xcXFxcXFwi5q+r56eS5pyq6I635Y+W5Yiw6LWE5rqQ5Zyw5Z2A77yM6Lez5Yiw5rqQ572R6aG1LOS7peS4i+aYr+WKoOi9vei/h+eahOWcsOWdgFxcXFxcXFwiKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0ZXh0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXFxcXFxcXCJib2R5XFxcXFxcXCIpLmlubmVyVGV4dDtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZiYS5sb2codGV4dCk7XFxcXG4gICAgICAgICAgICAgICAgICAgIH1jYXRjaCAoZSkge2ZiYS5sb2coZS5tZXNzYWdlKX1cXFxcbiAgICAgICAgICAgICAgICAgICAgZmJhLmxvZyhKU09OLnN0cmluZ2lmeShfZ2V0VXJscygpKSk7XFxcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYmEuZ2V0VmFyKFxcXFxcXFwiX3g1anhVcmxcXFxcXFxcIik7XFxcXG4gICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG11dGVNZShlbGVtKSB7XFxcXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBlbGVtLnBhdXNlKCk7XFxcXG4gICAgICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGUpIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICB2YXIgdmlkZW9zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcXFxcXFxcInZpZGVvXFxcXFxcXCIpLCBhdWRpb3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxcXFxcXFwiYXVkaW9cXFxcXFxcIiksIHYyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcXFxcXFxcImVtYmVkXFxcXFxcXCIpLCB2MyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXFxcXFxcXCIjcGxheWVyXFxcXFxcXCIpO1xcXFxuICAgICAgICAgICAgICAgIHRyeSB7XFxcXG4gICAgICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbCh2aWRlb3MsIGZ1bmN0aW9uICh2aWRlbykge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgbXV0ZU1lKHZpZGVvKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgfSk7XFxcXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cXFxcbiAgICAgICAgICAgICAgICB0cnkge1xcXFxuICAgICAgICAgICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwoYXVkaW9zLCBmdW5jdGlvbiAoYXVkaW8pIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIG11dGVNZShhdWRpbyk7XFxcXG4gICAgICAgICAgICAgICAgICAgIH0pO1xcXFxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHt9XFxcXG4gICAgICAgICAgICAgICAgdHJ5IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKHYyLCBmdW5jdGlvbiAodikge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgbXV0ZU1lKHYpO1xcXFxuICAgICAgICAgICAgICAgICAgICB9KTtcXFxcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7fVxcXFxuICAgICAgICAgICAgICAgIHRyeSB7XFxcXG4gICAgICAgICAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbCh2MywgZnVuY3Rpb24gKHYpIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIG11dGVNZSh2KTtcXFxcbiAgICAgICAgICAgICAgICAgICAgfSk7XFxcXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge31cXFxcbiAgICAgICAgICAgICAgICB2YXIgdXJscyA9IF9nZXRVcmxzKCk7XFxcXG4gICAgICAgICAgICAgICAgLy8gZmJhLmxvZyhKU09OLnN0cmluZ2lmeSh1cmxzKSk7XFxcXG4gICAgICAgICAgICAgICAgdHJ5IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpIGluIHVybHMpIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1PXVybHNbaV07XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnl7dT1kZWNvZGVVUklDb21wb25lbnQodSk7fWNhdGNoKGUpe1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHU9dW5lc2NhcGUodSk7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAvL1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoL3VybD1odHRwLy50ZXN0KHUpKXtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1ID0gdS5zcGxpdChcXFxcXFxcInVybD1cXFxcXFxcIikuc2xpY2UoLTEpWzBdO1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZiYS5sb2coXFxcXFxcXCJ1cmzliIblibI6XFxcXFxcXCIrdSk7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZigvdXJsPVxcXFxcXFxcLy8udGVzdCh1KSYmL1xcXFxcXFxcLm0zdTgvLnRlc3QodSkpe1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBob3N0ID0gdS5tYXRjaCgvKC4qKVxcXFxcXFxcL1xcXFxcXFxcLyguKj8pXFxcXFxcXFwvLylbMF07XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdSA9IGhvc3QrdS5zcGxpdChcXFxcXFxcInVybD1cXFxcXFxcIikuc2xpY2UoLTEpWzBdO1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZiYS5sb2coXFxcXFxcXCJ1cmzliIblibI6XFxcXFxcXCIrdSk7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKC92aWQ9aHR0cC8udGVzdCh1KSl7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdSA9IHUuc3BsaXQoXFxcXFxcXCJ2aWQ9XFxcXFxcXCIpLnNsaWNlKC0xKVswXTtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYmEubG9nKFxcXFxcXFwidmlk5YiG5YmyOlxcXFxcXFwiK3UpO1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoL3ZpZD1cXFxcXFxcXC8vLnRlc3QodSkmJi9cXFxcXFxcXC5tM3U4Ly50ZXN0KHUpKXtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaG9zdCA9IHUubWF0Y2goLyguKilcXFxcXFxcXC9cXFxcXFxcXC8oLio/KVxcXFxcXFxcLy8pWzBdO1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUgPSBob3N0K3Uuc3BsaXQoXFxcXFxcXCJ2aWQ9XFxcXFxcXCIpLnNsaWNlKC0xKVswXTtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYmEubG9nKFxcXFxcXFwidmlk5YiG5YmyOlxcXFxcXFwiK3UpO1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZigvXFxcXFxcXFw/KC4qKT1odHRwLy50ZXN0KHUpJiYvXFxcXFxcXFwubTN1OC8udGVzdCh1KSl7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdSA9IFxcXFxcXFwiaHR0cFxcXFxcXFwiK3Uuc3BsaXQoL1xcXFxcXFxcPyguKik9aHR0cC8pLnNsaWNlKC0xKVswXTtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYmEubG9nKFxcXFxcXFwi5YW25LuW5YiG5YmyOlxcXFxcXFwiK3UpO1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgLy98aW5kZXhcXFxcXFxcXC5tM3U4JFxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZigvXFxcXFxcXFwvMVxcXFxcXFxcLm0zdTgvLnRlc3QodSkpe1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgdT11LnJlcGxhY2UoLyZmcm9tPS4qfCZuZXh0PS4qfCZqdW1wPS4qLywnJyk7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVhbFVybCA9IGlzVmlkZW8odSxyZWNoYW5nZSk7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2YocmVhbFVybCk9PSdzdHJpbmcnJiYhaXNCYWRWaWRlbyh1KSl7Ly/ov4fmu6TlkIrmr5vop4bpopFcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL2Z5X2JyaWRnZV9hcHAuc2V0V2ViVWEoUENfVUEpO1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHR5cGVvZihmYmEuZ2V0SGVhZGVyVXJsKSE9PSd1bmRlZmluZWQnJiZ0eXBlb2YocmVjaGFuZ2UpIT09J2Z1bmN0aW9uJyl7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGxldCBiYWNrVXJsID0gZmJhLmdldEhlYWRlclVybCh1LnJlcGxhY2UoXFxcXFxcXCI7e1xcXFxcXFwiLFxcXFxcXFwiI2lzVmlkZW89dHJ1ZSM7e1xcXFxcXFwiKSk7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBiYWNrVXJsID0gZmJhLmdldEhlYWRlclVybCh1cmxzW2ldKS5yZXBsYWNlKCc7eycsJyNpZ25vcmVJbWc9dHJ1ZSMjaXNWaWRlbz10cnVlIzt7Jyk7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1MSA9IGJhY2tVcmwuc3BsaXQoJyNpZ25vcmVJbWcnKVswXTtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHUyID0gJyNpZ25vcmVJbWcnK2JhY2tVcmwuc3BsaXQoJyNpZ25vcmVJbWcnKVsxXTtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdTEgPSB1MS5yZXBsYWNlKC8mZnJvbT0uKnwmbmV4dD0uKnwmanVtcD0uKi8sJycpO1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZigvdXJsPWh0dHAvLnRlc3QodTEpKXtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUxID0gdTEuc3BsaXQoXFxcXFxcXCJ1cmw9XFxcXFxcXCIpLnNsaWNlKC0xKVswXTtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYoL3VybD1cXFxcXFxcXC8vLnRlc3QodTEpJiYvXFxcXFxcXFwubTN1OC8udGVzdCh1MSkpe1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhvc3QxID0gdTEubWF0Y2goLyguKilcXFxcXFxcXC9cXFxcXFxcXC8oLio/KVxcXFxcXFxcLy8pWzBdO1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdTEgPSBob3N0MSt1MS5zcGxpdChcXFxcXFxcInVybD1cXFxcXFxcIikuc2xpY2UoLTEpWzBdO1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmJhLmxvZyhcXFxcXFxcInVybOWIhuWJsjpcXFxcXFxcIit1KTtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKC92aWQ9aHR0cC8udGVzdCh1MSkpe1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdTEgPSB1MS5zcGxpdChcXFxcXFxcInZpZD1cXFxcXFxcIikuc2xpY2UoLTEpWzBdO1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZigvdmlkPVxcXFxcXFxcLy8udGVzdCh1MSkmJi9cXFxcXFxcXC5tM3U4Ly50ZXN0KHUxKSl7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaG9zdDEgPSB1MS5tYXRjaCgvKC4qKVxcXFxcXFxcL1xcXFxcXFxcLyguKj8pXFxcXFxcXFwvLylbMF07XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1MSA9IGhvc3QxK3UxLnNwbGl0KFxcXFxcXFwidmlkPVxcXFxcXFwiKS5zbGljZSgtMSlbMF07XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZigvXFxcXFxcXFw/KC4qKT1odHRwLy50ZXN0KHUxKSYmL1xcXFxcXFxcLm0zdTgvLnRlc3QodTEpKXtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHUxID0gXFxcXFxcXCJodHRwXFxcXFxcXCIrdTEuc3BsaXQoL1xcXFxcXFxcPyguKik9aHR0cC8pLnNsaWNlKC0xKVswXTtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrVXJsID0gdTEgKyB1MjtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmJhLmxvZygn6L+U5Zue6Ieq5Yqo5YqgY29va2ll6ZO+5o6lOicrYmFja1VybCk7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZiYS5sb2coJ+i/lOWbnumTvuaOpTonK3UrJ+W5tuiHquWKqOWKoOS6hmNvb2tpZSzlhbfkvZNjb29raWXlnKjop4bpopHmkq3mlL7lpITmn6XnnIsnKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJhY2tVcmw7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2V7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZiYS5sb2coXFxcXFxcXCLov5Tlm57ku5PlupN4NeWFjeWXhee7k+aenDpcXFxcXFxcIityZWFsVXJsKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlYWxVcmxcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICB9Y2F0Y2ggKGUpIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgZmJhLmxvZyhlLm1lc3NhZ2UpXFxcXG4gICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgfWNhdGNoIChlKSB7XFxcXG4gICAgICAgICAgICAgICAgLy8gZnlfYnJpZGdlX2FwcC5sb2coJ3g15aSn6IyD5Zu06ZSZ6K+vOicrZS5tZXNzYWdlKTtcXFxcbiAgICAgICAgICAgICAgICBhbGVydCgneDXlpKfojIPlm7TplJnor686JytlLm1lc3NhZ2UpO1xcXFxuICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/miqXplJnnu5PmnZ94NSdcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgfSxpc1ZpZGVvLHJlY2hhbmdlLHBsYXlVcmwsbWF4X2NvdW50LFBDX1VBLGlzQmFkVmlkZW8pO1xcXFxuICAgICAgICBsZXQgdXNlV2ViPWxzZy5nZXRJdGVtKFxcXFxcXFwi6YCa5YWNXFxcXFxcXCIsXFxcXFxcXCJYNVxcXFxcXFwiKT09PVxcXFxcXFwiV0VCXFxcXFxcXCI7XFxcXG4gICAgICAgIC8vbG9nKFxcXFxcXFwi5LuT5bqT5L2/55Sod2Vi6YCa5YWN5pu/5LujeDU6XFxcXFxcXCIrdXNlV2ViKTtcXFxcbiAgICAgICAgbGV0IHJ1bGVIZWFkPXVzZVdlYiYmcGFyc2VJbnQoZ2V0QXBwVmVyc2lvbigpKT49MjMzOT9cXFxcXFxcIndlYlJ1bGU6Ly9cXFxcXFxcIjpcXFxcXFxcIng1UnVsZTovL1xcXFxcXFwiO1xcXFxuICAgICAgICBsZXQgeDVVcmwgPSBydWxlSGVhZCtwbGF5VXJsKyAnQCcgK194NTtcXFxcbiAgICAgICAgcmV0dXJuIHg1VXJsXFxcXG4gICAgfVxcXFxufVxcXFxuXFxcXG5mdW5jdGlvbiB4NVBhcnNlUHJvKHg1bGlzdCx4NVRpbWVvdXQsaXNWaWRlbyl7XFxcXG4gICAgbGV0IGJwYXRoID0gJ2ZpbGU6Ly8vc3RvcmFnZS9lbXVsYXRlZC8wL0FuZHJvaWQvZGF0YS9jb20uZXhhbXBsZS5oaWtlcnZpZXcvZmlsZXMvRG9jdW1lbnRzL3J1bGVzL2R6SG91c2UvaHRtbC/mtbfpmJTll4XmjqLlmaguaHRtbCc7XFxcXG4gICAgbGV0IGJjb2RlID0gZmV0Y2goYnBhdGgpO1xcXFxuICAgIGlmKCFiY29kZXx8IS9meV9icmlkZ2VfYXBwLy50ZXN0KGJjb2RlKSl7XFxcXG4gICAgICAgIGxvZygn5pys5Zyw5pyq5a6J6KOF5ZeF5o6i5Zmo77yM5byA5aeL5a6J6KOFJyk7XFxcXG4gICAgICAgIGNvbnN0IHthcGl9ID0gJC5yZXF1aXJlKFxcXFxcXFwiaGlrZXI6Ly9wYWdlL3V0aWxpeT9ydWxlPemBk+mVv+S7k+W6k1Byb1xcXFxcXFwiKTtcXFxcbiAgICAgICAgbGV0IGh0bWwgPSBmZXRjaChhcGkuaG9zdCsnL3J1bGVsaXN0Lmpzb24/aWQ9MjA1NScpO1xcXFxuICAgICAgICBpZigv5rW36ZiU6KeG55WMLy50ZXN0KGh0bWwpKXtcXFxcbiAgICAgICAgICAgIHdyaXRlRmlsZShicGF0aCxodG1sKTtcXFxcbiAgICAgICAgfWVsc2V7XFxcXG4gICAgICAgICAgICB3cml0ZUZpbGUoYnBhdGgsZmV0Y2goJ2h0dHBzOi8vaGpkaG54LmNvZGluZy5uZXQvcC9oaWtlci9kL2RyL2dpdC9yYXcvbWFzdGVyL2h0bWwvZ2V0VmlkZW8uaHRtbCcpKVxcXFxuICAgICAgICB9XFxcXG4gICAgfVxcXFxuICAgIHg1VGltZW91dCA9IHBhcnNlSW50KHg1VGltZW91dCl8fDUwMDA7XFxcXG4gICAgbGV0IG1heF9jb3VudD0oeDVUaW1lb3V0LzI1MCk7IC8v5qC55o2u6LaF5pe26Ieq5Yqo6K6h566X5LqG5Y+v5omn6KGM55qE5qyh5pWwXFxcXG4gICAgcHV0VmFyKCd4NUxpc3QnLEpTT04uc3RyaW5naWZ5KHg1bGlzdCkpO1xcXFxuICAgIGxldCBfeDUgPSAkLnRvU3RyaW5nKChpc1ZpZGVvLCBtYXhfY291bnQseDVUaW1lb3V0LGlzQmFkVmlkZW8pID0+IHtcXFxcbiAgICAgICAgLy/liJ3lp4vljJZmYmHlkoxyZXF1c3RcXFxcbiAgICAgICAgaWYgKHR5cGVvZiAoZmJhKSA9PSAndW5kZWZpbmVkJyB8fCAhZmJhKSB7XFxcXG4gICAgICAgICAgICB2YXIgZmJhID0gZnlfYnJpZGdlX2FwcDtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICB0cnkge1xcXFxuICAgICAgICAgICAgaWYgKHR5cGVvZiAocmVxdWVzdCkgPT0gJ3VuZGVmaW5lZCcgfHwgIXJlcXVlc3QpIHtcXFxcbiAgICAgICAgICAgICAgICBldmFsKGZiYS5nZXRJbnRlcm5hbEpzKCkpO1xcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICB9IGNhdGNoIChlKSB7XFxcXG4gICAgICAgICAgICBmYmEubG9nKGUubWVzc2FnZSk7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgLy8tLS0tLS0tLS0tLS0tLS0tLS1cXFxcbiAgICAgICAgdHJ5IHtcXFxcbiAgICAgICAgICAgIGlmICh3aW5kb3cuY291bnQgPT0gbnVsbCkge1xcXFxuICAgICAgICAgICAgICAgIHdpbmRvdy5jb3VudCA9IDE7XFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICBsZXQgdGV4dD0nJztcXFxcbiAgICAgICAgICAgIHRyeSB7XFxcXG4gICAgICAgICAgICAgICAgdGV4dD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxcXFxcXFwiYm9keVxcXFxcXFwiKS5pbm5lclRleHQ7XFxcXG4gICAgICAgICAgICB9Y2F0Y2ggKGUpIHtmYmEubG9nKGUubWVzc2FnZSl9XFxcXG4gICAgICAgICAgICBpZigv6Kem5Y+R5LqG6Ziy55uX6ZO+fOacquaOiOadg3zmjqXlj6PpmLLnm5cvLnRlc3QodGV4dCkmJndpbmRvdy5jb3VudD09MSl7XFxcXG4gICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XFxcXG4gICAgICAgICAgICAgICAgZmJhLmxvZyhcXFxcXFxcIuajgOa1i+WIsOacieaOiOadg++8jOW8gOWni+i/h+aOiOadg1xcXFxcXFwiKTtcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIHdpbmRvdy5jb3VudCsrO1xcXFxuICAgICAgICAgICAgLy8gZmJhLmxvZygnY291bnQ6JyArIHdpbmRvdy5jb3VudCArICcsbWF4X2NvdW50OicgKyBtYXhfY291bnQpO1xcXFxuICAgICAgICAgICAgaWYgKHdpbmRvdy5jb3VudCA+PSBtYXhfY291bnQpIHtcXFxcbiAgICAgICAgICAgICAgICBmYmEuY2xlYXJWYXIoJ3g1TGlzdCcpO1xcXFxuICAgICAgICAgICAgICAgIGZiYS5oaWRlTG9hZGluZygpO1xcXFxuICAgICAgICAgICAgICAgIGxldCBmbXNnID0gJ+mBk+mVv+S7k+W6k+mAmuWFjeino+aekOWksei0pSzljp/lm6A66LaF5pe2Jyt4NVRpbWVvdXQrJ+avq+enkic7XFxcXG4gICAgICAgICAgICAgICAgZmJhLmxvZyhmbXNnKTtcXFxcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8vJytmbXNnO1xcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICB9Y2F0Y2ggKGUpIHtcXFxcbiAgICAgICAgICAgIGZiYS5sb2coZS5tZXNzYWdlKTtcXFxcbiAgICAgICAgfVxcXFxuXFxcXG4gICAgICAgIGZ1bmN0aW9uIG11dGVNZShlbGVtKSB7XFxcXG4gICAgICAgICAgICB0cnkge1xcXFxuICAgICAgICAgICAgICAgIGVsZW0ucGF1c2UoKTtcXFxcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgfVxcXFxuXFxcXG4gICAgICAgIHZhciB2aWRlb3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFxcXFxcXFwidmlkZW9cXFxcXFxcIiksIGF1ZGlvcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXFxcXFxcXCJhdWRpb1xcXFxcXFwiKSxcXFxcbiAgICAgICAgICAgIHYyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcXFxcXFxcImVtYmVkXFxcXFxcXCIpLCB2MyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXFxcXFxcXCIjcGxheWVyXFxcXFxcXCIpO1xcXFxuICAgICAgICB0cnkge1xcXFxuICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKHZpZGVvcywgZnVuY3Rpb24gKHZpZGVvKSB7XFxcXG4gICAgICAgICAgICAgICAgbXV0ZU1lKHZpZGVvKTtcXFxcbiAgICAgICAgICAgIH0pO1xcXFxuICAgICAgICB9IGNhdGNoIChlKSB7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgdHJ5IHtcXFxcbiAgICAgICAgICAgIFtdLmZvckVhY2guY2FsbChhdWRpb3MsIGZ1bmN0aW9uIChhdWRpbykge1xcXFxuICAgICAgICAgICAgICAgIG11dGVNZShhdWRpbyk7XFxcXG4gICAgICAgICAgICB9KTtcXFxcbiAgICAgICAgfSBjYXRjaCAoZSkge1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIHRyeSB7XFxcXG4gICAgICAgICAgICBbXS5mb3JFYWNoLmNhbGwodjIsIGZ1bmN0aW9uICh2KSB7XFxcXG4gICAgICAgICAgICAgICAgbXV0ZU1lKHYpO1xcXFxuICAgICAgICAgICAgfSk7XFxcXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICB0cnkge1xcXFxuICAgICAgICAgICAgW10uZm9yRWFjaC5jYWxsKHYzLCBmdW5jdGlvbiAodikge1xcXFxuICAgICAgICAgICAgICAgIG11dGVNZSh2KTtcXFxcbiAgICAgICAgICAgIH0pO1xcXFxuICAgICAgICB9IGNhdGNoIChlKSB7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgdmFyIHVybHMgPSBfZ2V0VXJscygpO1xcXFxuICAgICAgICB0cnkge1xcXFxuICAgICAgICAgICAgZm9yIChsZXQgaSBpbiB1cmxzKSB7XFxcXG4gICAgICAgICAgICAgICAgbGV0IHU9dXJsc1tpXTtcXFxcbiAgICAgICAgICAgICAgICAvL3U9ZGVjb2RlVVJJQ29tcG9uZW50KHUpO1xcXFxuICAgICAgICAgICAgICAgIHRyeXt1PWRlY29kZVVSSUNvbXBvbmVudCh1KTt9Y2F0Y2goZSl7XFxcXG4gICAgICAgICAgICAgICAgICAgIHU9dW5lc2NhcGUodSk7XFxcXG4gICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgIGlmKC91cmw9aHR0cC8udGVzdCh1KSl7XFxcXG4gICAgICAgICAgICAgICAgICAgIHUgPSB1LnNwbGl0KFxcXFxcXFwidXJsPVxcXFxcXFwiKS5zbGljZSgtMSlbMF07XFxcXG4gICAgICAgICAgICAgICAgfWVsc2UgaWYoL3ZpZD1odHRwLy50ZXN0KHUpKXtcXFxcbiAgICAgICAgICAgICAgICAgICAgdSA9IHUuc3BsaXQoXFxcXFxcXCJ2aWQ9XFxcXFxcXCIpLnNsaWNlKC0xKVswXTtcXFxcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZigvXFxcXFxcXFw/KC4qKT1odHRwLy50ZXN0KHUpKXtcXFxcbiAgICAgICAgICAgICAgICAgICAgdSA9IFxcXFxcXFwiaHR0cFxcXFxcXFwiK3Uuc3BsaXQoL1xcXFxcXFxcPyguKik9aHR0cC8pLnNsaWNlKC0xKVswXTtcXFxcbiAgICAgICAgICAgICAgICAgICAgLy9mYmEubG9nKFxcXFxcXFwi5YW25LuW5YiG5YmyOlxcXFxcXFwiK3UpO1xcXFxuICAgICAgICAgICAgICAgIH1lbHNlIGlmKC9cXFxcXFxcXC8xXFxcXFxcXFwubTN1OCQvLnRlc3QodSkpe1xcXFxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcXFxcbiAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICAgICAgdT11LnJlcGxhY2UoLyZmcm9tPS4qfCZuZXh0PS4qfCZqdW1wPS4qLywnJyk7XFxcXG4gICAgICAgICAgICAgICAgbGV0IHJlYWxVcmwgPSBpc1ZpZGVvKHUpO1xcXFxuICAgICAgICAgICAgICAgIGlmIChyZWFsVXJsJiYhaXNCYWRWaWRlbyh1KSkgey8v6L+H5ruk5ZCK5q+bXFxcXG4gICAgICAgICAgICAgICAgICAgIGZiYS5sb2coXFxcXFxcXCLku5PlupN4NeWFjeWXhee7k+aenDpcXFxcXFxcIiArIHJlYWxVcmwpO1xcXFxuICAgICAgICAgICAgICAgICAgICBmYmEuY2xlYXJWYXIoJ3g1TGlzdCcpO1xcXFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVhbFVybFxcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgfSBjYXRjaCAoZSkge1xcXFxuICAgICAgICAgICAgZmJhLmxvZyhlLm1lc3NhZ2UpXFxcXG4gICAgICAgIH1cXFxcbiAgICB9LCBpc1ZpZGVvLCBtYXhfY291bnQseDVUaW1lb3V0LGlzQmFkVmlkZW8pO1xcXFxuICAgIGNvbnN0IGxzZz0kLnJlcXVpcmUoXFxcXFxcXCJoaWtlcjovL3BhZ2UvbG9jYWxTdG9yYWdlP3J1bGU96YGT6ZW/5LuT5bqTUHJvXFxcXFxcXCIpO1xcXFxuICAgIGxldCB1c2VXZWI9bHNnLmdldEl0ZW0oXFxcXFxcXCLpgJrlhY1cXFxcXFxcIixcXFxcXFxcIlg1XFxcXFxcXCIpPT09XFxcXFxcXCJXRUJcXFxcXFxcIjtcXFxcbiAgICAvL2xvZyhcXFxcXFxcIuS7k+W6k+S9v+eUqHdlYumAmuWFjeabv+S7o3g1OlxcXFxcXFwiK3VzZVdlYik7XFxcXG4gICAgbGV0IHJ1bGVIZWFkPXVzZVdlYiYmcGFyc2VJbnQoZ2V0QXBwVmVyc2lvbigpKT49MjMzOT9cXFxcXFxcIndlYlJ1bGU6Ly9cXFxcXFxcIjpcXFxcXFxcIng1UnVsZTovL1xcXFxcXFwiO1xcXFxuICAgIHJldHVybiBydWxlSGVhZCticGF0aCsnQCcgKyBfeDU7XFxcXG59XFxcXG5cXFxcbmZ1bmN0aW9uIExhenlQYXJzZUZhc3QocGxheVVybExpc3QsZ2V0VGltZW91dCx4NVRpbWVvdXQpe1xcXFxuICAgIGNvbnN0IHtpc1ZpZGVvLGdldEhlYWRlcnMseDVQYXJzZVByb30gPSAkLnJlcXVpcmUoJ2hpa2VyOi8vcGFnZS9nbG9iYWxQYXJzZT9ydWxlPemBk+mVv+S7k+W6k1BybycpO1xcXFxuICAgIC8vIGxvZygn5byA5aeL5omn6KGMJytwbGF5VXJsTGlzdC5sZW5ndGgrJ+S4quWcsOWdgOeahOaJuemHj+WXheaOojonK3BsYXlVcmxMaXN0KTtcXFxcbiAgICBsb2coJ+W8gOWni+aJp+ihjCcrcGxheVVybExpc3QubGVuZ3RoKyfkuKrlnLDlnYDnmoTmibnph4/ll4XmjqInKTtcXFxcbiAgICBsZXQgcGxheVVybHMgPSBwbGF5VXJsTGlzdC5tYXAoKGl0KT0+e1xcXFxuICAgICAgICByZXR1cm4ge1xcXFxuICAgICAgICAgICAgdXJsOml0LnNwbGl0KFxcXFxcXFwiO1xcXFxcXFwiKVswXSxcXFxcbiAgICAgICAgICAgIG9wdGlvbnM6IHtcXFxcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7XFxcXG4gICAgICAgICAgICAgICAgICAgIC8vXFxcXFxcXCJVc2VyLUFnZW50XFxcXFxcXCI6IFxcXFxcXFwiRGFydC8yLjEzIChkYXJ0OmlvKVxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgICAgICAgICBcXFxcXFxcIlVzZXItQWdlbnRcXFxcXFxcIjpcXFxcXFxcIk1vemlsbGEvNS4wXFxcXFxcXCJcXFxcbiAgICAgICAgICAgICAgICB9LFxcXFxuICAgICAgICAgICAgICAgIHRpbWVvdXQ6IGdldFRpbWVvdXRcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgfVxcXFxuICAgIH0pO1xcXFxuICAgIGxldCBiaHRtbCA9IGJhdGNoRmV0Y2gocGxheVVybHMpO1xcXFxuICAgIGxldCB2aWRlb3MgPSBbXTtcXFxcbiAgICBsZXQgeDVsaXN0ID0gW107XFxcXG4gICAgZm9yKGxldCBpIGluIGJodG1sKXtcXFxcbiAgICAgICAgbGV0IG9yZGVyID0gcGFyc2VJbnQoaSkrMTtcXFxcbiAgICAgICAgbGV0IHRuYW1lPW9yZGVyKyflj7fop6PmnpDnvZHlnYA6JztcXFxcbiAgICAgICAgLy9sb2codG5hbWUpO1xcXFxuICAgICAgICBsZXQgdHVybD1wbGF5VXJsTGlzdFtpXS5zcGxpdChcXFxcXFxcIjtcXFxcXFxcIilbMF07XFxcXG4gICAgICAgIGxldCBqbmFtZT1wbGF5VXJsTGlzdFtpXS5zcGxpdChcXFxcXFxcIjtcXFxcXFxcIikubGVuZ3RoPjE/cGxheVVybExpc3RbaV0uc3BsaXQoXFxcXFxcXCI7XFxcXFxcXCIpWzFdOlxcXFxcXFwiXFxcXFxcXCI7XFxcXG4gICAgICAgIHRuYW1lKz1qbmFtZTtcXFxcbiAgICAgICAgbGV0IGJhY2tjb2RlID0gYmh0bWxbaV07XFxcXG4gICAgICAgIGlmKCghL3VybHxodHRwLy50ZXN0KGJhY2tjb2RlKSkmJighLyNFWFRJTkYvLnRlc3QoYmFja2NvZGUpKSl7XFxcXG4gICAgICAgICAgICBsb2codG5hbWUrdHVybCsn5pyJ6Zeu6aKYLOWPr+iDveWKoOWvhuaIluiAheaMguS6hicpO1xcXFxuICAgICAgICAgICAgY29udGludWU7XFxcXG4gICAgICAgIH1lbHNlIGlmKC8jRVhUSU5GLy50ZXN0KGJhY2tjb2RlKSl7XFxcXG4gICAgICAgICAgICAvL2xldCBsY2FjaGU9XFxcXFxcXCIvc3RvcmFnZS9lbXVsYXRlZC8wL0FuZHJvaWQvZGF0YS9jb20uZXhhbXBsZS5oaWtlcnZpZXcvZmlsZXMvRG9jdW1lbnRzL2NhY2hlL3ZpZGVvX1xcXFxcXFwiK3RuYW1lK1xcXFxcXFwiLm0zdThcXFxcXFxcIjtcXFxcbiAgICAgICAgICAgIC8vd3JpdGVGaWxlKGxjYWNoZSxiYWNrY29kZSk7XFxcXG4gICAgICAgICAgICAvL3ZpZGVvcy5wdXNoKGxjYWNoZSk7XFxcXG4gICAgICAgICAgICBsZXQgcFVybD1jYWNoZU0zdTgodHVybCk7XFxcXG4gICAgICAgICAgICB2aWRlb3MucHVzaChwVXJsKTtcXFxcbiAgICAgICAgICAgIGNvbnRpbnVlO1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIHRyeSB7XFxcXG4gICAgICAgICAgICBsZXQgdXJsID0gSlNPTi5wYXJzZShiYWNrY29kZSkudXJsO1xcXFxuICAgICAgICAgICAgaWYoL15odHRwLy50ZXN0KHVybCkpe1xcXFxuICAgICAgICAgICAgICAgIGxldCByZWFsVmlkZW8gPSBpc1ZpZGVvKHVybCk7XFxcXG4gICAgICAgICAgICAgICAgaWYodHlwZW9mKHJlYWxWaWRlbyk9PSdzdHJpbmcnKXtcXFxcbiAgICAgICAgICAgICAgICAgICAgbG9nKHRuYW1lKyflt7Lop6PmnpDlh7rop4bpopE6JytyZWFsVmlkZW8pO1xcXFxuICAgICAgICAgICAgICAgICAgICBpZihqbmFtZSl7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFsVmlkZW8rPVxcXFxcXFwi4piFXFxcXFxcXCIram5hbWVcXFxcbiAgICAgICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgICAgICB2aWRlb3MucHVzaChyZWFsVmlkZW8pO1xcXFxuICAgICAgICAgICAgICAgIH1lbHNle1xcXFxuICAgICAgICAgICAgICAgICAgICBsb2codG5hbWUrJ+ino+aekOWHuuS4jeefpemBk+S7gOS5iOS4nOilvzonK3VybCk7XFxcXG4gICAgICAgICAgICAgICAgICAgIHVybCs9XFxcXFxcXCIjaXNWaWRlbz10cnVlI1xcXFxcXFwiO1xcXFxuICAgICAgICAgICAgICAgICAgICBpZihqbmFtZSl7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmwrPVxcXFxcXFwi4piFXFxcXFxcXCIram5hbWVcXFxcbiAgICAgICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgICAgICB2aWRlb3MucHVzaCh1cmwpO1xcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIH1lbHNle1xcXFxuICAgICAgICAgICAgICAgIGxvZyh0bmFtZSsn5Li6anNvbuaOpeWPo+S4lOaXoOi/lOWbnuinhumikeWcsOWdgOaVsOaNrjonK3BsYXlVcmxMaXN0W2ldKydcXFxcXFxcXG4nK2JhY2tjb2RlKTtcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgfWNhdGNoIChlKSB7XFxcXG4gICAgICAgICAgICBsb2codG5hbWUrJ+S4ung15o6l5Y+jLOWKoOWFpXg15ZeF5o6i5YiX6KGoJyk7XFxcXG4gICAgICAgICAgICB4NWxpc3QucHVzaChwbGF5VXJsTGlzdFtpXSk7XFxcXG4gICAgICAgIH1cXFxcbiAgICB9XFxcXG4gICAgLy8gbG9nKHZpZGVvcyk7XFxcXG4gICAgaWYodmlkZW9zLmxlbmd0aD4wKXtcXFxcbiAgICAgICAgaWYoZ2V0VmFyKCdkcC5jYWNoZVZpZGVvJywndHJ1ZScpPT09J3RydWUnJiZwYXJzZUludChnZXRBcHBWZXJzaW9uKCkpPj0yMjU1KVxcXFxuICAgICAgICB7XFxcXG4gICAgICAgICAgICBsb2coXFxcXFxcXCLlsIrmlaznmoTprZTmlq3nlKjmiLfvvIzop4bpopHnvJPlrZjlt7LlkK/nlKjvvIzor7flsL3mg4Xkuqvlj5fnnIvliafml7blhYlcXFxcXFxcIik7XFxcXG4gICAgICAgICAgICBsZXQgdmlkZW9zQ2FjaGU9dmlkZW9zLm1hcCgoaXQpPT57XFxcXG4gICAgICAgICAgICAgICAgbGV0IGhlYWRlcnM9e307XFxcXG4gICAgICAgICAgICAgICAgaWYoaXQuc3BsaXQoXFxcXFxcXCI7XFxcXFxcXCIpLmxlbmd0aD4xKXtcXFxcbiAgICAgICAgICAgICAgICAgICAgbGV0IGhlYWQgPSBpdC5zcGxpdCgnOycpWzFdO1xcXFxuICAgICAgICAgICAgICAgICAgICBpZigvQC8udGVzdChoZWFkKSYmL3t8fS8udGVzdChoZWFkKSl7XFxcXG4vL2hlYWQgPSBoZWFkLnJlcGxhY2UoL3t8fS9nLCcnKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWQgPSBoZWFkLnNwbGl0KFxcXFxcXFwie1xcXFxcXFwiKVsxXS5zcGxpdChcXFxcXFxcIn1cXFxcXFxcIilbMF07XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkID0gaGVhZC5zcGxpdCgnJiYnKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaSBpbiBoZWFkKXtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQga2V5ID0gaGVhZFtpXS5zcGxpdCgnQCcpWzBdO1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCB2YWx1ZSA9aGVhZFtpXS5zcGxpdCgnQCcpWzFdLnJlcGxhY2UoLzsvLCc7Jyk7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1trZXldID0gdmFsdWU7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgdXJsOml0LnNwbGl0KFxcXFxcXFwiO1xcXFxcXFwiKVswXS5zcGxpdChcXFxcXFxcIuKYhVxcXFxcXFwiKVswXSxcXFxcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uczp7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOmhlYWRlcnNcXFxcbiAgICAgICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIH0pO1xcXFxuICAgICAgICAgICAgdmFyIGRhdGE9YmF0Y2hDYWNoZU0zdTgodmlkZW9zQ2FjaGUpO1xcXFxuICAgICAgICAgICAgZGF0YT1kYXRhLm1hcCgoaXQsaWQpPT57XFxcXG4gICAgICAgICAgICAgICAgbGV0IGV4dHJhPVxcXFxcXFwiXFxcXFxcXCI7XFxcXG4gICAgICAgICAgICAgICAgaWYodmlkZW9zW2lkXS5zcGxpdChcXFxcXFxcIjtcXFxcXFxcIikubGVuZ3RoPjEpe1xcXFxuICAgICAgICAgICAgICAgICAgICBleHRyYT1cXFxcXFxcIjtcXFxcXFxcIit2aWRlb3NbaWRdLnNwbGl0KFxcXFxcXFwiO1xcXFxcXFwiKVsxXTtcXFxcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZih2aWRlb3NbaWRdLnNwbGl0KFxcXFxcXFwi4piFXFxcXFxcXCIpLmxlbmd0aD4xKXtcXFxcbiAgICAgICAgICAgICAgICAgICAgZXh0cmE9XFxcXFxcXCLimIVcXFxcXFxcIit2aWRlb3NbaWRdLnNwbGl0KFxcXFxcXFwi4piFXFxcXFxcXCIpWzFdO1xcXFxuICAgICAgICAgICAgICAgIH1cXFxcblxcXFxuICAgICAgICAgICAgICAgIGlmKGl0K1xcXFxcXFwiXFxcXFxcXCIhPVxcXFxcXFwibnVsbFxcXFxcXFwiKXtcXFxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0K2V4dHJhXFxcXG4gICAgICAgICAgICAgICAgfWVsc2V7XFxcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2aWRlb3NbaWRdXFxcXG4gICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgfSk7XFxcXG4gICAgICAgICAgICAvL2xvZyhkYXRhKTtcXFxcbiAgICAgICAgICAgIHJldHVybiBkYXRhXFxcXG4gICAgICAgICAgICAvL3JldHVybiB2aWRlb3NcXFxcbiAgICAgICAgfWVsc2V7XFxcXG4gICAgICAgICAgICByZXR1cm4gdmlkZW9zXFxcXG4gICAgICAgIH1cXFxcbiAgICB9XFxcXG4gICAgbG9nKCflhbHmnIknK3g1bGlzdC5sZW5ndGgrJ+S4qng15Zyw5Z2A6L+b6KGM6L2u5rWB5ZeF5o6iJyk7XFxcXG4gICAgLy/msqHmnInnmoTor53lsLHlvIDlp4vkvp3mrKF4NeWXheaOolxcXFxuICAgIHNob3dMb2FkaW5nKCfll4XmjqLkuK3vvIzoi6XlpLHotKXlsLHliIfmjaJ3ZWLll4XmjqIuLi4nKTtcXFxcbiAgICByZXR1cm4geDVQYXJzZVBybyh4NWxpc3QseDVUaW1lb3V0LGlzVmlkZW8pO1xcXFxufVxcXFxudmFyIGxhenk9JCgnJykubGF6eVJ1bGUoKCk9PntcXFxcbiAgICB0cnl7XFxcXG4gICAgICAgIHJlYWxVcmw9aW5wdXQ7XFxcXG4gICAgICAgIGV2YWwoXFxcXFxcXCJ2YXIgY29uZmlnX2RwID1cXFxcXFxcIiArIGZldGNoKFxcXFxcXFwiaGlrZXI6Ly9maWxlcy9jYWNoZS9NeVBhcnNlU2V0Lmpzb25cXFxcXFxcIikpO1xcXFxuICAgICAgICBldmFsKGZldGNoKGNvbmZpZ19kcC5jaikpO1xcXFxuICAgICAgICBsb2coaW5wdXQrJy0+5q2j5Zyo5pat5o+S6a2U5pS554mI6Kej5p6QLi4uJyk7XFxcXG4gICAgICAgIC8vIOWKoOWFpei2heaXtuiuvue9ru+8jOW7uuiuruWcqOmmlumhteiuvue9rlxcXFxuICAgICAgICByZXR1cm4gYXl0bVBhcnNlKHJlYWxVcmwpXFxcXG4gICAgfWNhdGNoKGUpe1xcXFxuICAgICAgICByZXR1cm4gaW5wdXRcXFxcbiAgICB9XFxcXG59KTtcXFxcbiQuZXhwb3J0cy5pc1BpYz1pc1BpYztcXFxcbiQuZXhwb3J0cy5pc1ZpZGVvPWlzVmlkZW87XFxcXG4kLmV4cG9ydHMuaXNCYWRWaWRlbz1pc0JhZFZpZGVvO1xcXFxuJC5leHBvcnRzLmNvbVBhcnNlPWNvbVBhcnNlO1xcXFxuJC5leHBvcnRzLmdldEhlYWRlcnM9Z2V0SGVhZGVycztcXFxcbiQuZXhwb3J0cy5sYXp5UGFyc2U9bGF6eVBhcnNlO1xcXFxuJC5leHBvcnRzLng1UGFyc2VQcm89eDVQYXJzZVBybztcXFxcbiQuZXhwb3J0cy5MYXp5UGFyc2VGYXN0PUxhenlQYXJzZUZhc3Q7XFxcXG4kLmV4cG9ydHMubGF6eT1sYXp5O1xcXCJ9LHtcXFwibmFtZVxcXCI6XFxcIuS7u+WKoeS7k+W6k+aOpeWPo1xcXCIsXFxcInBhdGhcXFwiOlxcXCJ0YXNrQ2FsbFxcXCIsXFxcInJ1bGVcXFwiOlxcXCJqczpcXFxcblN0cmluZy5wcm90b3R5cGUuc3RyaXAgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzLnJlcGxhY2UoLyheXFxcXFxcXFxzKil8KFxcXFxcXFxccyokKS9nLCBcXFxcXFxcIlxcXFxcXFwiKTsgfTtcXFxcbmZ1bmN0aW9uIHRhc2tfcmVxKHRhc2tfYXBpLHRhc2spIHsgLy8g6YCa55So5Y+R6YCB5LuT5bqTcG9zdOiwg+eUqOS7u+WKoeivt+axglxcXFxuICAgIGNvbnN0IHtnZXRGaWxlfSA9ICQucmVxdWlyZShcXFxcXFxcImhpa2VyOi8vcGFnZS91dGlsaXk/cnVsZT3pgZPplb/ku5PlupNQcm9cXFxcXFxcIik7XFxcXG4gICAgbGV0IGhvdXNlRmlsZSA9IGdldEZpbGV8fGZhbHNlO1xcXFxuICAgIGlmKCFob3VzZUZpbGUpe1xcXFxuICAgICAgICBzZXRJdGVtKCdpc19ob3VzZV92aXAnLCAnZmFsc2UnKTtcXFxcbiAgICB9XFxcXG4gICAgbGV0IGhvdXNlX2RhdGEgPSBob3VzZUZpbGUoKTtcXFxcbiAgICBsZXQgcmVzdWx0ID0gcmVxdWVzdCh0YXNrX2FwaSwge1xcXFxuICAgICAgICBoZWFkZXJzOiB7XFxcXG4gICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXFxcXG4gICAgICAgIH0sXFxcXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcXFxcbiAgICAgICAgICAgIFxcXFxcXFwicGFyYW1zXFxcXFxcXCI6IHtcXFxcbiAgICAgICAgICAgICAgICBcXFxcXFxcImRhdGFcXFxcXFxcIjoge1xcXFxuICAgICAgICAgICAgICAgICAgICBcXFxcXFxcInR5cGVcXFxcXFxcIjogdGFzay5tb2RlfHwncnVuJyxcXFxcbiAgICAgICAgICAgICAgICAgICAgXFxcXFxcXCJmdW5jXFxcXFxcXCI6IHRhc2suZnVuY3x8JycsXFxcXG4gICAgICAgICAgICAgICAgICAgIFxcXFxcXFwicGFyYW1zXFxcXFxcXCI6IHRhc2sucGFyYW1zfHxbXVxcXFxuICAgICAgICAgICAgICAgIH0sXFxcXG4gICAgICAgICAgICAgICAgXFxcXFxcXCJhdXRoXFxcXFxcXCI6IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgXFxcXFxcXCJuYW1lXFxcXFxcXCI6IGhvdXNlX2RhdGEudXNlcm5hbWV8fFxcXFxcXFwiXFxcXFxcXCIsXFxcXG4gICAgICAgICAgICAgICAgICAgIFxcXFxcXFwicGFzc3dvcmRcXFxcXFxcIjogaG91c2VfZGF0YS5wYXNzd29yZHx8XFxcXFxcXCJcXFxcXFxcIlxcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgfSksXFxcXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnXFxcXG4gICAgfSk7XFxcXG4gICAgcmV0dXJuIEpTT04ucGFyc2UocmVzdWx0KS5yZXN1bHQ7XFxcXG59XFxcXG5cXFxcbmZ1bmN0aW9uIHRhc2tfdXBsb2FkKHRhc2speyAvLyDpgJrnlKjku7vliqHlj5HluIPmlrDlop7lj4rkv67mlLnlip/og71cXFxcbiAgICBjb25zdCB7YXBpLGdldEZpbGV9ID0gJC5yZXF1aXJlKFxcXFxcXFwiaGlrZXI6Ly9wYWdlL3V0aWxpeT9ydWxlPemBk+mVv+S7k+W6k1Byb1xcXFxcXFwiKTtcXFxcbiAgICBsZXQgaG91c2VGaWxlID0gZ2V0RmlsZXx8ZmFsc2U7XFxcXG4gICAgaWYoIWhvdXNlRmlsZSl7XFxcXG4gICAgICAgIHNldEl0ZW0oJ2lzX2hvdXNlX3ZpcCcsICdmYWxzZScpO1xcXFxuICAgIH1cXFxcbiAgICBsZXQgYXBpX3VybCA9IGFwaS5ob3N0KycvaGlrZXJ1bGUvdGFzay9hZGQnO1xcXFxuICAgIGxldCBob3VzZV9kYXRhID0gaG91c2VGaWxlKCk7XFxcXG4gICAgbGV0IHJlc3VsdCA9IHJlcXVlc3QoYXBpX3VybCwge1xcXFxuICAgICAgICBoZWFkZXJzOiB7XFxcXG4gICAgICAgICAgICAnY29udGVudC10eXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXFxcXG4gICAgICAgIH0sXFxcXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcXFxcbiAgICAgICAgICAgIFxcXFxcXFwicGFyYW1zXFxcXFxcXCI6IHtcXFxcbiAgICAgICAgICAgICAgICBcXFxcXFxcImRhdGFcXFxcXFxcIjoge1xcXFxuICAgICAgICAgICAgICAgICAgICBcXFxcXFxcIm5hbWVcXFxcXFxcIjogdGFzay5uYW1lLFxcXFxuICAgICAgICAgICAgICAgICAgICBcXFxcXFxcInB5Y29kZVxcXFxcXFwiOiB0YXNrLnB5Y29kZSxcXFxcbiAgICAgICAgICAgICAgICAgICAgXFxcXFxcXCJub3RlXFxcXFxcXCI6IHRhc2subm90ZSxcXFxcbiAgICAgICAgICAgICAgICAgICAgXFxcXFxcXCJ0ZXN0X2NvZGVcXFxcXFxcIjogdGFzay50ZXN0X2NvZGUsXFxcXG4gICAgICAgICAgICAgICAgfSxcXFxcbiAgICAgICAgICAgICAgICBcXFxcXFxcImF1dGhcXFxcXFxcIjoge1xcXFxuICAgICAgICAgICAgICAgICAgICBcXFxcXFxcIm5hbWVcXFxcXFxcIjogaG91c2VfZGF0YS51c2VybmFtZXx8XFxcXFxcXCJcXFxcXFxcIixcXFxcbiAgICAgICAgICAgICAgICAgICAgXFxcXFxcXCJwYXNzd29yZFxcXFxcXFwiOiBob3VzZV9kYXRhLnBhc3N3b3JkfHxcXFxcXFxcIlxcXFxcXFwiXFxcXG4gICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICB9KSxcXFxcbiAgICAgICAgbWV0aG9kOiAnUE9TVCdcXFxcbiAgICB9KTtcXFxcbiAgICByZXR1cm4gSlNPTi5wYXJzZShyZXN1bHQpLnJlc3VsdDtcXFxcbn1cXFxcblxcXFxuZnVuY3Rpb24gdGFza19jYWxsKGlkLGZ1bmMscGFyYW1zKXtcXFxcbiAgICBjb25zdCB7YXBpfSA9ICQucmVxdWlyZShcXFxcXFxcImhpa2VyOi8vcGFnZS91dGlsaXk/cnVsZT3pgZPplb/ku5PlupNQcm9cXFxcXFxcIik7XFxcXG4gICAgbGV0IHRhc2tfYXBpID0gYXBpLmhvc3QrJy9oaWtlcnVsZS90YXNrL3J1bi8nK2lkO1xcXFxuICAgIGxldCB0YXNrID0ge1xcXFxuICAgICAgICBtb2RlOidjYWxsJyxcXFxcbiAgICAgICAgZnVuYzpmdW5jLFxcXFxuICAgICAgICBwYXJhbXM6cGFyYW1zfHxbXVxcXFxuICAgIH07XFxcXG4gICAgcmV0dXJuIHRhc2tfcmVxKHRhc2tfYXBpLHRhc2spO1xcXFxufVxcXFxuXFxcXG5mdW5jdGlvbiB0YXNrX3JlbmFtZShpZCxuZXdfdGFza19uYW1lKXtcXFxcbiAgICBjb25zdCB7YXBpLGdldEZpbGV9ID0gJC5yZXF1aXJlKFxcXFxcXFwiaGlrZXI6Ly9wYWdlL3V0aWxpeT9ydWxlPemBk+mVv+S7k+W6k1Byb1xcXFxcXFwiKTtcXFxcbiAgICBsZXQgaG91c2VGaWxlID0gZ2V0RmlsZXx8ZmFsc2U7XFxcXG4gICAgaWYoIWhvdXNlRmlsZSl7XFxcXG4gICAgICAgIHNldEl0ZW0oJ2lzX2hvdXNlX3ZpcCcsICdmYWxzZScpO1xcXFxuICAgIH1cXFxcbiAgICBsZXQgaG91c2VfZGF0YSA9IGhvdXNlRmlsZSgpO1xcXFxuICAgIGxldCB0YXNrX2FwaSA9IGFwaS5ob3N0KycvaGlrZXJ1bGUvdGFzay9yZW5hbWUvJytpZDtcXFxcbiAgICB0YXNrX2FwaSA9IHRhc2tfYXBpKyc/bmFtZT0nK2hvdXNlX2RhdGEudXNlcm5hbWUrJyZwYXNzd29yZD0nK2hvdXNlX2RhdGEucGFzc3dvcmQrJyZ0YXNrX25hbWU9JytuZXdfdGFza19uYW1lO1xcXFxuICAgIHRyeSB7XFxcXG4gICAgICAgIGxldCByZXN1bHQgPSBKU09OLnBhcnNlKGZldGNoKHRhc2tfYXBpLHt9KSk7XFxcXG4gICAgICAgIGlmKHJlc3VsdC5zdGF0dXM9PTApe1xcXFxuICAgICAgICAgICAgcmV0dXJuICByZXN1bHQuZGV0YWlsXFxcXG4gICAgICAgIH1lbHNle1xcXFxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5yZXN1bHQrJycrcmVzdWx0LmRldGFpbFxcXFxuICAgICAgICB9XFxcXG4gICAgfWNhdGNoIChlKSB7XFxcXG4gICAgICAgIGxvZyhlLm1lc3NhZ2UpO1xcXFxuICAgICAgICByZXR1cm4gJycrZS5tZXNzYWdlXFxcXG4gICAgfVxcXFxufVxcXFxuXFxcXG5mdW5jdGlvbiB0YXNrX2NoYW5nZV9zdGF0ZShpZCl7XFxcXG4gICAgY29uc3Qge2FwaSxnZXRGaWxlfSA9ICQucmVxdWlyZShcXFxcXFxcImhpa2VyOi8vcGFnZS91dGlsaXk/cnVsZT3pgZPplb/ku5PlupNQcm9cXFxcXFxcIik7XFxcXG4gICAgbGV0IGhvdXNlRmlsZSA9IGdldEZpbGV8fGZhbHNlO1xcXFxuICAgIGlmKCFob3VzZUZpbGUpe1xcXFxuICAgICAgICBzZXRJdGVtKCdpc19ob3VzZV92aXAnLCAnZmFsc2UnKTtcXFxcbiAgICB9XFxcXG4gICAgbGV0IGhvdXNlX2RhdGEgPSBob3VzZUZpbGUoKTtcXFxcbiAgICBsZXQgdGFza19hcGkgPSBhcGkuaG9zdCsnL2hpa2VydWxlL3Rhc2svY2hhbmdlX3N0YXRlLycraWQ7XFxcXG4gICAgdGFza19hcGkgPSB0YXNrX2FwaSsnP25hbWU9Jytob3VzZV9kYXRhLnVzZXJuYW1lKycmcGFzc3dvcmQ9Jytob3VzZV9kYXRhLnBhc3N3b3JkO1xcXFxuICAgIHRyeSB7XFxcXG4gICAgICAgIGxldCByZXN1bHQgPSBKU09OLnBhcnNlKGZldGNoKHRhc2tfYXBpLHt9KSk7XFxcXG4gICAgICAgIGlmKHJlc3VsdC5zdGF0dXM9PTApe1xcXFxuICAgICAgICAgICAgcmV0dXJuICByZXN1bHQuZGV0YWlsXFxcXG4gICAgICAgIH1lbHNle1xcXFxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5yZXN1bHQrJycrcmVzdWx0LmRldGFpbFxcXFxuICAgICAgICB9XFxcXG4gICAgfWNhdGNoIChlKSB7XFxcXG4gICAgICAgIGxvZyhlLm1lc3NhZ2UpO1xcXFxuICAgICAgICByZXR1cm4gJycrZS5tZXNzYWdlXFxcXG4gICAgfVxcXFxufVxcXFxuXFxcXG5mdW5jdGlvbiB0YXNrX3J1bihpZCl7XFxcXG4gICAgY29uc3Qge2FwaX0gPSAkLnJlcXVpcmUoXFxcXFxcXCJoaWtlcjovL3BhZ2UvdXRpbGl5P3J1bGU96YGT6ZW/5LuT5bqTUHJvXFxcXFxcXCIpO1xcXFxuICAgIGxldCB0YXNrX2FwaSA9IGFwaS5ob3N0KycvaGlrZXJ1bGUvdGFzay9ydW4vJytpZDtcXFxcbiAgICBsZXQgdGFzayA9IHt9O1xcXFxuICAgIHJldHVybiB0YXNrX3JlcSh0YXNrX2FwaSx0YXNrKTtcXFxcbn1cXFxcblxcXFxuJC5leHBvcnRzLnRhc2tDYWxsID0gdGFza19jYWxsO1xcXFxuJC5leHBvcnRzLnRhc2tSdW4gPSB0YXNrX3J1bjtcXFxcbiQuZXhwb3J0cy50YXNrUmVxID0gdGFza19yZXE7XFxcXG4kLmV4cG9ydHMudGFza1VwbG9hZCA9IHRhc2tfdXBsb2FkO1xcXFxuJC5leHBvcnRzLnRhc2tSZW5hbWUgPSB0YXNrX3JlbmFtZTtcXFxcbiQuZXhwb3J0cy50YXNrQ2hhbmdlU3RhdGUgPSB0YXNrX2NoYW5nZV9zdGF0ZTtcXFwifSx7XFxcImNvbF90eXBlXFxcIjpcXFwibW92aWVfM1xcXCIsXFxcIm5hbWVcXFwiOlxcXCLlhajlsYDlgqjlrZhcXFwiLFxcXCJwYXRoXFxcIjpcXFwibG9jYWxTdG9yYWdlXFxcIixcXFwicnVsZVxcXCI6XFxcImxldCBsb2NhbFN0b3JhZ2UgPSAoZnVuY3Rpb24oKSB7XFxcXG4gICAgZXZhbFByaXZhdGVKUyhcXFxcXFxcImp3VUt3TlRpUEdjV1NMQ1hCNVh0QVh3YjZMUWJWeUhEKzBYSjdsMDdjZTA9XFxcXFxcXCIpO1xcXFxuICAgIC8vcGF0aHRvPXVuZGVmaW5lZDtcXFxcbiAgICBldmFsUHJpdmF0ZUpTKFxcXFxcXFwiNEMwWXhSWW5HQ1lrZ0ZSWHRwbC9DejV6TDVoaDRqQ0N6dGIrbmcrV29reW1ROG9VcnpTOWxBOHl4QzVhRmFkblNFbXlIS01icmFmbFJxWENuTlJIRGxrNnVlOHlIVE8xNmxCUHJwd2dzNWpmMFBockF0b1RKSUUwWkhuOW1LYVE0SmQyZXJxYjRJNTViZVdJZXVnS3NEczIxMVN6SU5RNXlKZ1NoMWRWdU56enhSR0pnNDBGbVR1Vm1YVmZOMXhnMldJR0hCRW1rVm5HeG1PUmhQT05BK1E1VndQbWRwNDEvaHplM2VJc1V2aG83VkNCZ0s0cmFKbVBhbElSQkJWbENWZ244RmtXbWZLcVpvK1ZXK29CY0g3aHJjcnNTbENTakJhbmdULzdzeVdIeEtZaGVoVTBrYU1Zam5XRmcxRW0wY21OUnRvbUNzSHoxQjhxMzJPZVFIb2F3ZFd4ektPYU1IT1hEQmpSb2pBOEUvYWgwV1JPeXppcVJTeGwvbThkaEJkMGY5cGhZei81U1UvekpENTJYLzlFQzE2V1ZWZHBTVzMzYWtSSFJzbFBwUmxUV0Y5K0F5Um1SdzBlWk9FczFvOVFNUEFRVWZBeGJZeUZIZ3p0dy9PMmRKUnBIeVRtaUJpYWFxVGNpdng2djl6eXZCejA0d0kxQWFTQ3VpK2RUdVUzbHU1eGRFdDNBanQ2WjNpRFhPVmNFUDBFREY3NDc0UFFVNkpFWnV3ZTk3U2NoNGJpMXdCMVhIWlNmSXRkbFlZb0dlZDNMTHBibURBSVJjaXYwckFvcDhWbVFjVHQySzNMZmgxUkRZWTBZdHZSY0g0OU92cERSSC94YTVGYzhNWTNEckZvQTdxY29GNGVDZ2lWQmZCZ0pSNjgrTHBRSzd0T2tnOGs5ZWMrM05TeEpUaGNsOGQ2eU53eFQ5VGsxN3plSmdkNk1veVlaSXBXUUxsRjZZdmJPZEVXaGptbkE3OHdDMGhXeitYbTZoUU1TcXRGdytiaEZmN2NCR1UzYWF0UEZtZENZMkVkWGZoMElZVzg1d2RPeU1maXdXNy92VlRwOWlFMDBJM0YwOXdHSGtHS2hWYkx1ZUFrWWU3enpKWFI3dGhhRm9yNkg3cUxtSmpiUlFrOWV2TnRCUVhOUjdEaWZpWHVRZjJsdDduT0g4MFNXbTFmREhIemptUHNOSXBzMlRYR1QraXdWVjY5Zy90V2lwVlE2RDhCVHgrY0NRcDQ3bm1USXJZK3FONGtoMkZZaDVMbHdYZGdJeXkxVkl1QzN4MDUzZXdBSUlVbWxZOW5pRXBxWXQrMWZGUFhPQ3RDR3RZYlNkMzd2VlIxRU9qMms1R3UvKzlKV2cycXZ3bDF0d2VsZzFKMHR4YXJJaTRrVGJUcnZybkZMTjkycG9mcFpRVWZvV280Y2U3SFdOZGJ1NEpLRXJhTFFVZmRmR0VQZDFUSXVmdXVSVmEzOWVxOUdaeVNEdUJMNjBNUGRsZHhLdzF6bytmQjVaWStZTWozTEwyZ0d0RGJzOTgrQXNSVjlMSldtVW1zeDkxaG1KdEZVTVdEM3huajhITVpXczBOUGxDRlVyOTQ4NUtxVHBvNWtSekdmRitrL05sMkp6cnY1Y3ZrcXRVbkxnS3BYRU9qL3NlL29Eek9BclFLSTVUTlVidll3Y3djZGpqTVNmaks2OEtyd2hzK242U21XWjRaZGdSSGdBSzVNb0ZpM1htTFY0N1AzdlNSV3U1enlFc01rNHkzdXVDRml1UlBSbHU0UTVwSnZ1T2VtN0g3VUxpSWhDZW12NURna0d0REwxY0dMNEVRaFlSQjZJU3pWdnNiMkVhUDl3UUU2RFZSbk03TytwblN6ZXQ2bHpwM3BGZEduYm94MUxSZkM2MHV0WForQ2pJbTRpRU1tdGJCMk41ekRTaEdiZU0zWFViSlFkQ0JpczhYSXJoaDJiaUI1aEJDVnduM1kzZXR0N0dEUFZ0b2kxR1JqeitKYmdNK1lSOTI4S2JkV1M1dEZhTU0zS2ozWHY2b3RJeHpNQm5EQzl1VzNkK0lYeDZ2TFBKMEpSdWgzeVA3cFRsYTZjM2lSNHA5bldZRHFKK1pTbXBySEZuRE96c0xXbUZqYXBqZS9NcXdNSmQ2VGszbkFXd2ljTU9QdVlwTXlxSUYwNGZsNG1xZ3RzSExTTVdSUk5IUFpqRVRROWdSbWVEWWU2YVJ0bFcwMnFMMm9sREVOcUxRTXRBZG9pck5XUmNQOVZMM1RkOEhhVU82ZlNsR05hYk1ha0pELzAwWENoT1NVT0lQKzdmTTdWMC9sMWJMV1B0RXoxaTdMeWdUVjdwZEdvRG50cVNDRW5KckJ5aEJBekxSZzVRSWM5NDM4SWhLbXlmbjAvM2F3b0QxSXI3ODBleXAvWGNJNnhOY3c2VHYvRVRmSGcwZTdpWUMwVVljSklFNVFVWHYwcytZb0dJRXE1R0l6S3ViOEhOalNUVXBzdm5rVngrZGJlMmpSbjNZYjlXN0pDWjVZUzZGNU15VVZzcGpNRDdOWWMrRFdqVUwyYjJzVnlBZmVZcEM4VWhhaDl0dW1hdmJCdjdhM2E5a2dGYnE1OGxySHh6WTdpSlFWaWd6cTNlMWEyQlNiMFBjVzFhSjhCRDdOa05waEtZYXlUeHlrZ3dpbEVSTDhqcXFCRW5pSFZkQnhESllMYitYdzNhbExtbHR1VEVWNktHdEJudEJYK3l6MzZSUERNeUdJS2UrM2Z6Y3hmbkNEbjIwTW9kVlZrVk5velBxTVhaMEc1TDRhTFRBUWFrWUtVanNWTVFqQWhRa1RsSEJlTy9hTFB4OXN4bCsrajFaNXJMZ0cxMlRONFhKMWVpY3Z3NEFWRTU4TG9yYXEwUWlFMGNTN1BIMXBiclpXcmZ0N0xZR2l5QlNob3I3KzBqaW9VaDFwZFdxMnFNWUxxZU1FZXVDUk9RdDU3bUZyT2p5UEg0OXFwOTdjV09yZ2VnMld5ZldTREdRUGplNStQMHlRb0NwRC9EM1JBTXVXbWI5d2xCdGNxMmo4V0pQdDkxRTNrS2F3dVFJeXZkMnIyVWp4NCtIVE50VktiOWtNTE9PODVJNjViTkdCSCs0aXJTeTVnUVlsRTI2QTJjU0dJY0xLUVJsdkpvTW5hN0wvOXd5cnk0SHpPcnprckF2TGRnc1NObFlqcEhRRVJpT0k4MHNKNWpOQ0NuZncwMTNGK0Erc0FmTG15Uy9CRExOUTFxYVEzcDZoOC9KcUFmaFg1T0dIZ1NpUlZPQ0VqdWFEQi9Nd1pOQ3UzUUw5ZWhob0FqN3VPZjhQa3IzbUlqYmhoOUhpanNqeDE5MSswZTJKUXJGYTAxQVZKS0VWdHVQdEljMmgvMXBQS012eWVueGpUTzJPeFBuamp0Kzg0bklLS2h4REovZ2hQdDdpdjhQbVRKMGxLS3lQUnNzbDhmL1FkSGR4dXBiNmpUc0k2VUttejlZNDZQTUJ1RDZQM3doOHFwMzZPNm9pYk5EaVFkMXNFMTB2Smg5ejFGeXNLSWU4RXFNcG5OZEVtRzJUZkVCeFJwbVFyaEtFcWVlMHA2K2E2c1FvOGNWbFJKa0tRQVlLYXdjYU5FUzVYYzZkUVk1bnFlaXE4c1VpemYxc3BmSGVIZWxEdTFNNkJSWHVDakZhZlhoejhpM2xQV2dZcVZwZngxM2lnVkNSZjQ3VUg2NTJ5TG5zbWVwQ0JXZ3lCVFdBY095RjFReDhZR3Rabm9iMVROKzZ4RXd6cGNXVnk3UU85UDkyc0tBOVNLKy9OSHNxZjEzQ090MEpIQ3RUVjFPbFRRVytKQUt5eGUxSGw3K3M5NXozS0NnRktRUyszQXMxSlY3TmErZytMQ1IySWV2dThkNUQwTDdHd29EcmVVdjQzNzRMUmFGa05zSE9xV2JVOW5oUWpkTVZyN2EvaThPLzRoYnB0YVN6cXFrZ1lGaU5GVS9vbVc1cXdJejdzcDRuc2NJVFJFM2d1YTZiemtsTVo4RUNuMWlxQVd0MGE2Z2VraTVEYUw4cVlhcFRDQ2hqbFdzRXhxRnV4aVdQMzVUVUNkZEVkOEFDYk1HcytnUUZ5RE9vemZCREcxN2RaTzBtQ3dXK1B6Q0wyamJJQ0ROYWk1L2ptMVFyNk1MNTZqelVhSUR6MEdMUFRTYWV4MVVERHdrUTlvN21YV0MwUjdqV256YmtIUldjb21WYldtR3FMMXJqZG9hY3MvUjl1anFVdUJBNkE1VkwvcWtRMXhITDQyRVhvb3ByQzh3cnJmUjY4ek1NRnhPd1U3Q1lISjdiaEcvUTRyTnNYREJjTW8xQWRpcTlMWGJYbS9RSmowdS9qZ1pHc3N6MG5uS0tVRkpjeHp1QU5LOTZ6V3dmMURYYXNVY09vRXVFYXRtMXJtUDV3ckJKbVcvWndUNmFCQmlSMk9TSjB4cjh0UTZPYm1kS2p5YisxZUVYYjE0MzdSMklkaERVZGs1UFJ6dEgyWUZ0MnBtdUw0L0xtSUxGQXZQZGl5TXRESE5qK0toNHNWNE1sWGJXUHJySTk3WUJPRnBGbFgrZ25ld0tLZkZaa0hFN2RpdHkzNGRVUTJHbmU2c0FHeDF6eHlqWnY1S0JNMjZsUkhGNDVYcUZOSjFSUTNoTXltSkhzeVlOc01PNDFCV3JHdjE5UEE0NjhlY3c5SGNSTjB3aGpVVGduczhaVmFDNGhpSnNnWTA3YUFFQkhtOTAvdWhoak8vV21iN3d1VmFkaGw5Um5IZVFqcHg0Z3dDckx6NWk1czVJdDFzQndmRGIwRmUrUENwTGtjK3dJSU5LMlk4NmtQdGhSNmdKd1c3NXp1b041QzBDQWlEd2ZVNzN2YUFaYWh6ZjRWTE5sTTBVMDRPdEhZQmkxM1lnUG9ObUdIUmVsWlZFeTJLdUtWWmdoRDE0dlNsWStKck1CRGRtMnkydGhGVitCcmloTDcrZlE1d2NZbnhHZWxhd0R1b1NSNStiRERrcjZSTDQwTDR4eWZBaHhsck9uMHVBMjhnaEdlV2d1YVdLRXY1bkJycnZldTF1ZVZ5MU12R1VZQlkrSWxFcjhOZEROUmRtRXpYdDM5a0dsZDg2eE9mQUgveEwxVm11Z2FYT0dhUEIycWM3V0RSa1c2azVGNm4zUGtJemRQWHlPTktwMURrT2czb2NTTVpNVHM2R0tqOUMzdk9EWjZaUXB3TkRZTE1UK0NtRUwxOEdSalhOY1psUC9MbmhpQUlzY1lUTDEraUhXRFl2Um12UE13dE9IaENuRVhJVTNGVGJQKzZRUkdBNnF5ZGJubmVxVmhYb3djTG1iTUl6MTZJQzFrd2haajc1L001M3NLWVgyelJnT1NUQWZOU0QvNWxaWVNOVXhKZktURGdpYUZFZ2dyQ3JkKzNDYytjaHpzbEkzekRYRUtUcnZsY1gySW5DOXVIK2ZzeXB5SHcrQXZZMk9tQkdRTUlJYzhmRTN0Tk8wZ0JUVnFYc2RzRTc2WXdIcjI5ZHpRY2t1c3V5SnNCZlNWY2xydnNOQ1oxUFFETDhIM2NSczNIRTluVWt4NWJiSllXc1B4YjgyNWduRXBXVTlaOUt0enZzbGk3L2hlT2xES3BIeEpiMXVDcldxZjhnUm5XbXEzemZTU3JVWEJIU0x1NjJNcmtYVGpXZ2FwVVZ4TUdrcm56UjBFNFBNeTFiRmN5RHBFUWUxNVRheVdCTTFCNmpySUcrMERSUjlPYUNVUHdEN2V4Tm1qWmI5TTgxdXMrQUlSZnl6SlBaR21mSHVUOVNOekZmTnVRZEZaeWlaVnRhWWFvdld1TjJpckkzelFhdEtDRG5RSVhwcjBWaEcwR29wOGMvenJvV0JvTi9hVkttbjhza1NGdkFET2pvWkFpeGc2SzF5OXdGaThwZUNtaW1GWjNaekNWc0c2RVU5U3ZsYnE1K3duN0Q2eStkQVlkYVBtczRnd0NyTHo1aTVzNUl0MXNCd2ZEYno0WDRWeHFJcGNUQzlOYVlLcUE3R0tLK2FUclpXVXd3TjIxUU90cjhlcXhTZ0oxVTllQ09jV1hRZCtwMzZHeTRmWSt0OWMyQ3NWTmJObDFnaHhhOWJJOFU2ZTZGVGQvdnZCYXE5anJLZGl0cTRtTkNhaW9nbWZQSzZNNDhVWUk4alpNQ2RkLzlDOEJxdlVqNGJZVTVieVdBU0VHNkJCR2RLOEtsZmkvYTRMV3QzaXZDNHU5UUJUZmIvdkNtTkppL1FBZmFiY1BHK1VzV21zWU5SSytnOGhNY3N1Qm1oaDQ4TnBoUnZlYlZRcXE2bmNLeGMxbkZIV01XNU02b2YrejhjMUhkZG5pZURQOUdhQnNxK3lzbGpLc2xZcnQ5ODlQWTl4c2Jta3IzWC9vQ2ZpRlU0TmZjT2hlZSsrbmdXMFhwWkFWdDFJMlFuYzFhbHdibm9OcU1NaFhJQjk1aWtMeFNGcUgyMjZacTlzRy90cmRyMlNBVnVybnlXc2ZITmp1SWxCV0tET3JkN1ZyWUZKdlE5eGJWb21LcVFqdWg5ZHpmMm52VnJCemJFRjBDWlk2aXprWS9SUVk1cjlrOTMveTJORzdvMDduTVlqT3RaWVllTlVvaWs3R2JLL0h6UWwxUzdzL0ZDaG50OU02ZkUwVXl1UG10dE85OGhxenhRYnRlTWFsTXRTY2UyV0xjanlYVkdmcHFkQmtZeW00Z1pCeWNjUzZhbnR0NG9MZGx1V1NTSnNIWDFJY1hoUXk2b0orQWhqdzloRll3WExIUExvQ28zakVsaVVBSzQxNzl3dFl0SHNPMGFiTHg0K2htdE01Rno3d1VWYWhCQTlzdXBPVGYvRkQ0c2laTU1vZjVXM3ZtNURlZGhxR0FObGh0M21JNlJtSWh2NDhRVnRuZU1zVXpZQzRORGhaRDRNNVI2cDdHWEJxY3B1M0ZhRUYvMEkwZTNMY2VYMUhOK2lEcUtSUHVHenZwYWMvMXRzR1BJdGVBRHh1OU9Zb2FwMnozRjFDelNnL1V1YThsL0tFenRBS0RjdmJoTlUvWVVjMmxoZ3hnZmRiNGUrUDlUWjdSYVg4MnM2Mjd1MENiRnNmR0UvMWhMcGI1TWMydmsxdURHcmRJY2JXQTZ4aHBZQUhZaEVZVWw5Yzc1WS9SLzBnbDZyOSttNmNJMEJ2Qlk1QWE1TkJSYzZVTXZzTy9QT3c1Q2NyNzlzSnppY2VhVjNZd3JZRWtqcDZLaStPWXJHdTk1NEFBK2RKOVdzdk5HQkZHTXJLQWZROVZVQy9BVGtKZlRsb01sdERlVjVBbzl6a2FheTNkS0FhNS9QeEFHUkRBVWNRTERGN3VWWGJEMXZGZ0UvK1JYaXd6UzVON2NyM2FGQmRSWTdYQW1Gei9mYjAvS1NwUjhDUS9sb2twbU0ybWx0Sjl2R1BnaXFiNW5abDlLdTdkMkdsZ0FkaUVSaFNYMXp2bGo5SC9TQnVqQlBvTzFmcG9PdTVGMzVjZEhhNWtTRnZBRE9qb1pBaXhnNksxeTl3RmxqMEV6NWtzVVczV1U2M0U3ZTRxdERVQ0tXd2pqVTVmMEZkNTdWeVZ6cEM2Q2RDU2NCallTelQ5clpMVnNrcTYxYU9XckREVU5LcUFRMytuWC9CQlczY1FURWNPVmRjMTVuZ1ZYY1NTL2FLMlFGTWRpS1FscW0xNWZFckpkd3F5ZXphN2hmbEtUaUN6VWR1NVZHbEZXOXFDdDhzeUhvb3NBMk56Zm9zSmRUZE44YldIbm9EcjVOMjVldCtwL252ampPelpSYUxZb1kvZnIvazVocXB0T2s9XFxcXFxcXCIpO1xcXFxuICAgIHJldHVybiAkLmV4cG9ydHM7XFxcXG59KSgpO1xcXCJ9LHtcXFwiY29sX3R5cGVcXFwiOlxcXCJtb3ZpZV8zXFxcIixcXFwibmFtZVxcXCI6XFxcIue8lui+keWFrOWRilxcXCIsXFxcInBhdGhcXFwiOlxcXCJkZXZJbmZvRWRpdFxcXCIsXFxcInJ1bGVcXFwiOlxcXCJqczpcXFxcbmFkZExpc3RlbmVyKCdvbkNsb3NlJywgJC50b1N0cmluZygoKT0+e1xcXFxuICAgIHB1dE15VmFyKFxcXFxcXFwiZGV2SW5mb1xcXFxcXFwiLCcnKTsgLy/muIXpmaTljoblj7LlhazlkYpcXFxcbn0pKTtcXFxcbnNldFBhZ2VUaXRsZSgn57yW6L6R5YWs5ZGKJyk7XFxcXG4vLyBsZXQge25vd0p4LE15SmlleGksanhzUm91dGV9ID0gTVlfUEFSQU1TO1xcXFxuY29uc3Qge2NvbG9yLHNtYWxsLGFwaSwgZ2V0RmlsZSxnZXRBcGl9ID0gJC5yZXF1aXJlKFxcXFxcXFwiaGlrZXI6Ly9wYWdlL3V0aWxpeVxcXFxcXFwiKTtcXFxcbi8vIGxldCBob3VzZUZpbGUgPSBnZXRGaWxlfHxmYWxzZTtcXFxcbnZhciBkZXZfaW5mb191cmwgPSBnZXRBcGkoJ2luZm9HZXRVcmwnKTtcXFxcbi8vIGxvZyhkZXZfaW5mb191cmwpO1xcXFxudmFyIGdldF9pbmZvID0gZnVuY3Rpb24ocXEpe1xcXFxuICAgIHFxID0gcXF8fCc0MzQ4NTcwMDUnO1xcXFxuICAgIGxldCBkZXZfaW5mb191cmwgPSBkZXZfaW5mb191cmwrcXE7XFxcXG4gICAgbGV0IGJhY2tfY29kZSA9IEpTT04ucGFyc2UocmVxdWVzdChkZXZfaW5mb191cmwpKTtcXFxcbiAgICBsZXQgZGV2X2luZm89YmFja19jb2RlLnJlc3VsdHx8YmFja19jb2RlLmRldGFpbDtcXFxcbiAgICByZXR1cm4gZGV2X2luZm87XFxcXG59O1xcXFxudmFyIGJlZm9yZV9yZWZyZXNoID0gZnVuY3Rpb24oKXtcXFxcbiAgICBsZXQgZGV2X3NldF9pbmZvID0gZ2V0TXlWYXIoXFxcXFxcXCJkZXZfc2V0X2luZm9cXFxcXFxcIikuc3BsaXQoJyQkJyk7XFxcXG4gICAgbGV0IGRldl9pbmZvX3VybCA9IGRldl9zZXRfaW5mby5zbGljZSgtMSlbMF07XFxcXG4gICAgbGV0IGJhY2tfY29kZSA9IEpTT04ucGFyc2UocmVxdWVzdChkZXZfaW5mb191cmwpKTtcXFxcbiAgICBsZXQgZGV2X2luZm89YmFja19jb2RlLnJlc3VsdHx8YmFja19jb2RlLmRldGFpbDtcXFxcbiAgICBwdXRNeVZhcihcXFxcXFxcImRldkluZm9cXFxcXFxcIixkZXZfaW5mbyk7XFxcXG4gICAgcmV0dXJuIGRldl9pbmZvXFxcXG59O1xcXFxubGV0IGQgPSBbXTtcXFxcbmQucHVzaCh7XFxcXG4gICAgdGl0bGU6J+e8lui+keWFrOWRiicsXFxcXG4gICAgZGVzYzon5pSv5oyBbWTor63ms5Us54K55Ye76L+b5YWl5a2m5LmgTWTor63ms5VcXFxcXFxcXG7kv53lrZjlhazlkYrmjInpkq7lnKjmlofmnKzmoYbmnIDkuIvpnaInLFxcXFxuICAgIGNvbF90eXBlOid0ZXh0XzEnLFxcXFxuICAgIHVybDonaHR0cHM6Ly93d3cucnVub29iLmNvbS9tYXJrZG93bi9tZC10dXRvcmlhbC5odG1sJ1xcXFxufSk7XFxcXG5kLnB1c2goe1xcXFxuICAgIHRpdGxlOifov5Tlm54nLFxcXFxuICAgIGNvbF90eXBlOid0ZXh0XzInLFxcXFxuICAgIHVybDokKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKCgpPT57XFxcXG4gICAgICAgIGJhY2soZmFsc2UpO1xcXFxuICAgICAgICByZXR1cm4gJ2hpa2VyOi8vZW1wdHknXFxcXG4gICAgfSlcXFxcbn0pO1xcXFxuaWYoIWdldE15VmFyKCdkZXZJbmZvJykpe1xcXFxuICAgIGJlZm9yZV9yZWZyZXNoKCk7XFxcXG59XFxcXG5sZXQgZW1wdHkgPSAnaGlrZXI6Ly9lbXB0eSc7XFxcXG5kLnB1c2goe1xcXFxuICAgIHRpdGxlOifpmIXop4jmn6XpmIUnLFxcXFxuICAgIGNvbF90eXBlOid0ZXh0XzInLFxcXFxuICAgIC8vIHVybDokKGdldE15VmFyKCdkZXZJbmZvJykpLmNvbmZpcm0oKVxcXFxuICAgIHVybDokKGVtcHR5KS5ydWxlKCgpPT57XFxcXG4gICAgICAgIHJlcXVpcmUoXFxcXFxcXCJodHRwczovL2dpdGxhYi5jb20vaGpkaG54L2hpa2VyLy0vcmF3L21haW4vanMvbWFya2VkLm1pbi5qc1xcXFxcXFwiKTtcXFxcbiAgICAgICBsZXQgZGV2SW5mbz1cXFxcXFxcIlxcXFxcXFwiO1xcXFxuICAgICAgIHRyeXtcXFxcbiAgICAgICAgICBkZXZJbmZvPW1hcmtlZC5wYXJzZShnZXRNeVZhcignZGV2SW5mbycpKTtcXFxcbiAgICAgICB9Y2F0Y2goZSl7fVxcXFxuICAgICAgICBzZXRSZXN1bHQoW1xcXFxuICAgICAgICAgICAge1xcXFxuICAgICAgICAgICAgICAgIHRpdGxlOmRldkluZm8sXFxcXG4gICAgICAgICAgICAgICAgY29sX3R5cGU6J3JpY2hfdGV4dCcsXFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgIF0pO1xcXFxuICAgIH0pXFxcXG59KTtcXFxcbmQucHVzaCh7XFxcXG4gICAgZGVzYzogXFxcXFxcXCLlv6vmnaXnvJbovpHkvaDnmoTlhazlkYrlkKd+XFxcXFxcXCIsXFxcXG4gICAgY29sX3R5cGU6ICdpbnB1dCcsXFxcXG4gICAgZXh0cmE6IHtcXFxcbiAgICAgICAgdGl0bGVWaXNpYmxlOiBmYWxzZSxcXFxcbiAgICAgICAgZGVmYXVsdFZhbHVlOiBnZXRNeVZhcignZGV2SW5mbycsICcnKXx8XFxcXFxcXCJcXFxcXFxcIixcXFxcbiAgICAgICAgdHlwZTogXFxcXFxcXCJ0ZXh0YXJlYVxcXFxcXFwiLFxcXFxuICAgICAgICBoZWlnaHQ6LTEsXFxcXG4gICAgICAgIG9uQ2hhbmdlOiAncHV0TXlWYXIoXFxcXFxcXCJkZXZJbmZvXFxcXFxcXCIsaW5wdXQpJ1xcXFxuICAgIH1cXFxcbn0pO1xcXFxuZC5wdXNoKHtcXFxcbiAgICB0aXRsZTpcXFxcXFxcIuS/neWtmOWFrOWRilxcXFxcXFwiLFxcXFxuICAgIGNvbF90eXBlOiAndGV4dF9jZW50ZXJfMScsXFxcXG4gICAgdXJsOiQoJ+ehruiupOS/neWtmOWFrOWRiuWQl++8n+WwhuS8muS4jumBk+mVv+S7k+W6k+acjeWKoeWZqOmAmuiurycpLmNvbmZpcm0oKCk9PntcXFxcbiAgICAgICAgbGV0IGRldl9zZXRfaW5mbyA9IGdldE15VmFyKFxcXFxcXFwiZGV2X3NldF9pbmZvXFxcXFxcXCIpLnNwbGl0KCckJCcpO1xcXFxuICAgICAgICBsZXQgaW5wdXRfdGV4dCA9IGdldE15VmFyKCdkZXZJbmZvJywgJycpO1xcXFxuICAgICAgICBpZihpbnB1dF90ZXh0Lmxlbmd0aCA+PSA0KXtcXFxcbiAgICAgICAgICAgIGxldCBpbmZvX3NldF91cmw9IGRldl9zZXRfaW5mb1syXTtcXFxcbiAgICAgICAgICAgIGxldCBzZW5kX2RhdGEgPSB7XFxcXFxcXCJwYXJhbXNcXFxcXFxcIjpcXFxcbiAgICAgICAgICAgICAgICAgICAge1xcXFxcXFwiZGF0YVxcXFxcXFwiOiB7XFxcXFxcXCJpbmZvXFxcXFxcXCI6IGlucHV0X3RleHR9LFxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgXFxcXFxcXCJuYW1lXFxcXFxcXCI6IGRldl9zZXRfaW5mb1swXSxcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIFxcXFxcXFwicGFzc3dvcmRcXFxcXFxcIjogZGV2X3NldF9pbmZvWzFdfVxcXFxuICAgICAgICAgICAgfTtcXFxcbiAgICAgICAgICAgIC8vIGxvZyhzZW5kX2RhdGEpO1xcXFxuICAgICAgICAgICAgbGV0IHBhcjIgPSB7aGVhZGVyczp7J2NvbnRlbnQtdHlwZSc6J2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcsJ1VzZXItQWdlbnQnOmRldl9zZXRfaW5mb1szXX0sYm9keTpKU09OLnN0cmluZ2lmeShzZW5kX2RhdGEpLG1ldGhvZDonUE9TVCd9O1xcXFxuICAgICAgICAgICAgLy8gcGFyMiA9IEpTT04uc3RyaW5naWZ5KHBhcjIpOyAvL3g16YeM6Z2i6K+35rGC5omN6ZyA6KaB57yW56CBXFxcXG4gICAgICAgICAgICB0cnkge1xcXFxuICAgICAgICAgICAgICAgIGxldCBiYWNrX3JldCA9IHJlcXVlc3QoaW5mb19zZXRfdXJsLCBwYXIyKTtcXFxcbiAgICAgICAgICAgICAgICBiYWNrX3JldCA9IEpTT04ucGFyc2UoYmFja19yZXQpLnJlc3VsdDtcXFxcbiAgICAgICAgICAgICAgICBpZihiYWNrX3JldC5zdGF0dXM9PT0wKXtcXFxcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVmcmVzaFBhZ2UoKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+S/neWtmOaIkOWKn1xcXFxcXFxcbicrYmFja19yZXQuZGV0YWlsO1xcXFxuICAgICAgICAgICAgICAgIH1lbHNle1xcXFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5L+d5a2Y5aSx6LSlXFxcXFxcXFxuJytiYWNrX3JldC5kZXRhaWw7XFxcXG4gICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgfWNhdGNoIChlKSB7XFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+mUmeivr1xcXFxcXFxcbicrZS5tZXNzYWdlO1xcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICB9ZWxzZXtcXFxcbiAgICAgICAgICAgIGNvbmZpcm0oe3RpdGxlOifpgZPplb/mj5DnpLonLGNvbnRlbnQ6J+iZveeEtuS9oOW+iOaHku+8jOS9huaYr+WFrOWRiuiHs+WwkeWGmTTkuKrlrZflkKfvvIEnfSk7XFxcXG4gICAgICAgICAgICByZXR1cm4gJ2hpa2VyOi8vZW1wdHknXFxcXG4gICAgICAgIH1cXFxcbiAgICB9KVxcXFxufSk7XFxcXG5cXFxcbnNldFJlc3VsdChkKTtcXFwifSx7XFxcImNvbF90eXBlXFxcIjpcXFwibW92aWVfM1xcXCIsXFxcIm5hbWVcXFwiOlxcXCLpooTlpITnkIbkvp3otZbmlofku7ZcXFwiLFxcXCJwYXRoXFxcIjpcXFwibGlic1xcXCIsXFxcInJ1bGVcXFwiOlxcXCJpZihnZXRBcHBWZXJzaW9uKCk+PTMyMDApe1xcXFxuICAgIHRyeXtcXFxcbiAgICAgICAgcmMoXFxcXFxcXCJoaWtlcjovL2ZpbGVzL3J1bGVzL2pzLyRoaWtlci5qc1xcXFxcXFwiLCAtMSk7XFxcXG4gICAgICAgIC8vJC5zZXRSb290KCdodHRwczovL2hqZGhueC5jb2RpbmcubmV0L3B1YmxpYy9oaWtlci9oaWtlci9naXQvZmlsZXMvbWFzdGVyL2pzLycpO1xcXFxuICAgICAgICAkLnNldFJvb3QoKTtcXFxcbiAgICAgICAgJC5zZXRMaWIoe1xcXFxuICAgICAgICAgICAgbHNnOiBcXFxcXFxcImxzZy5qc1xcXFxcXFwiLCAvL+acrOWcsOWCqOWtmFxcXFxuICAgICAgICAgICAgZmlsZTogXFxcXFxcXCJmaWxlLmpzXFxcXFxcXCIsIC8v5paH5Lu2b3NcXFxcbiAgICAgICAgICAgIGZpbGVTZWxlY3Q6IFxcXFxcXFwiZmlsZVNlbGVjdC5qc1xcXFxcXFwiLCAvL+aWh+S7tumAieaLqeWZqFxcXFxuICAgICAgICAgICAgZHQ6IFxcXFxcXFwiZHQuanNcXFxcXFxcIiwgLy/liqjmgIHliIbnsbtcXFxcbiAgICAgICAgICAgIGRyOiBcXFxcXFxcImRyLmpzXFxcXFxcXCIsIC8vZHLmqKHmnb/kvp3otZZcXFxcbiAgICAgICAgICAgIGRycHJlOiBcXFxcXFxcImRycHJlLmpzXFxcXFxcXCIsIC8vZHLmqKHmnb/pooTlpITnkIZcXFxcbiAgICAgICAgICAgIGRydXA6IFxcXFxcXFwiZHJ1cC5qc1xcXFxcXFwiLCAvL2Ry5qih5p2/6Ieq5Yqo5pu05pawXFxcXG4gICAgICAgICAgICBkcm1hdGNoOiBcXFxcXFxcImRybWF0Y2guanNcXFxcXFxcIiwgLy9kcuaooeadv+iHquWKqOaooeadv+WMuemFjVxcXFxuICAgICAgICAgICAgZHJtOiBcXFxcXFxcImRybS5qc1xcXFxcXFwiLCAvL2Ry5qih5p2/5bCP56iL5bqPXFxcXG4gICAgICAgICAgICBjbXM6IFxcXFxcXFwiY21zLmpzXFxcXFxcXCIsIC8vY21z5qih5p2/5L6d6LWWXFxcXG4gICAgICAgICAgICBjbXNwcmU6IFxcXFxcXFwiY21zcHJlLmpzXFxcXFxcXCIsIC8vY21z6aKE5aSE55CGXFxcXG4gICAgICAgICAgICBjbXNtOiBcXFxcXFxcImNtc20uanNcXFxcXFxcIiwgLy9jbXPmqKHmnb/lsI/nqIvluo9cXFxcbiAgICAgICAgICAgIGxpYmNoZWNrOiBcXFxcXFxcImxpYmNoZWNrLmpzXFxcXFxcXCIsIC8vZHLmo4DmtYvkvp3otZZcXFxcbiAgICAgICAgICAgIHJ1bGVFZGl0b3I6IFxcXFxcXFwicnVsZUVkaXRvci5qc1xcXFxcXFwiLCAvL+WGmemhtea6kOelnuWZqOWwj+eoi+W6j1xcXFxuICAgICAgICAgICAgaG91c2VMYXp5OiBcXFxcXFxcImhvdXNlTGF6eS5qc1xcXFxcXFwiLCAvL+S7k+W6k+mAmuWFjVxcXFxuICAgICAgICAgICAgbGF6eTogXFxcXFxcXCJsYXp5LmpzXFxcXFxcXCIsIC8v6aaZ5YWNXFxcXG4gICAgICAgICAgICBzdWI6IFxcXFxcXFwic3ViLmpzXFxcXFxcXCIsIC8v6YGT5b6357uP6K6i6ZiFXFxcXG4gICAgICAgICAgICBoaWtlclVpOiBcXFxcXFxcImhpa2VyVWkuanNcXFxcXFxcIiwgLy/mtbfpmJTnu4Tku7bkvp3otZZcXFxcbiAgICAgICAgICAgIGhpa2VyTGliczogXFxcXFxcXCJoaWtlckxpYnMuanNcXFxcXFxcIiwgLy/mtbfpmJTlhajog73kvp3otZZcXFxcbiAgICAgICAgfSk7XFxcXG4gICAgfWNhdGNoKGUpe1xcXFxuICAgICAgICAvL3RvYXN0KCfor7flsJ3or5Xngrnlh7vku5PlupPkuLvpobXnmoTljYfnuqfku5PlupPml4HovrnnmoTmjInpkq7ljYfnuqck5omp5bGV77yM5ZCm5YiZ5p+Q5Lqb5Yqf6IO95LiN6IO95q2j5bi45L2/55SoJyk7XFxcXG4gICAgICAgIGNvbmZpcm0oe1xcXFxuICAgICAgICAgICAgdGl0bGU6ICfmj5DnpLot54K55Ye756Gu5a6a5Y+v5Lul5a+85YWlJyxcXFxcbiAgICAgICAgICAgIGNvbnRlbnQ6ICfor7flsJ3or5Xngrnlh7vku5PlupPkuLvpobXnmoTljYfnuqfku5PlupPml4HovrnnmoTmjInpkq7ljYfnuqck5omp5bGV77yM5ZCm5YiZ5p+Q5Lqb5Yqf6IO95LiN6IO95q2j5bi45L2/55SoJyxcXFxcbiAgICAgICAgICAgIGNvbmZpcm06ICQudG9TdHJpbmcoKCk9PntcXFxcbiAgICAgICAgICAgICAgICBjb25zdCB7Z2V0QXBpfSA9ICQucmVxdWlyZShcXFxcXFxcImhpa2VyOi8vcGFnZS91dGlsaXk/cnVsZT3pgZPplb/ku5PlupNQcm9cXFxcXFxcIik7XFxcXG4gICAgICAgICAgICAgICAgbGV0IHJ1bGVIZWFkID0gJ+a1t+mYlOinhueVjO+8jOe9kemhteaPkuS7tu+/pWpzX3VybO+/pSRoaWtlckAnO1xcXFxuICAgICAgICAgICAgICAgIGxldCB1cmwgPSBnZXRBcGkoJ2ltcG9ydFVybCcpK1xcXFxcXFwiNTExMVxcXFxcXFwiO1xcXFxuICAgICAgICAgICAgICAgIGxldCBpbXBvcnRVcmwgPSAncnVsZTovLycrYmFzZTY0RW5jb2RlKHJ1bGVIZWFkK3VybCk7XFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuIGltcG9ydFVybFxcXFxuICAgICAgICAgICAgfSksXFxcXG4gICAgICAgICAgICBjYW5jZWw6ICQudG9TdHJpbmcoKCk9PntcXFxcblxcXFxuICAgICAgICAgICAgfSksXFxcXG4gICAgICAgIH0pXFxcXG4gICAgfVxcXFxufVxcXCJ9LHtcXFwiY29sX3R5cGVcXFwiOlxcXCJtb3ZpZV8zXFxcIixcXFwibmFtZVxcXCI6XFxcIkltcG9ydOivpue7hlxcXCIsXFxcInBhdGhcXFwiOlxcXCJydWxlRGV0YWlsSW1wb3J0XFxcIixcXFwicnVsZVxcXCI6XFxcImpzOlxcXFxuJC5leHBvcnRzID0gXFxcXFxcXCJoaWtlcjovL3BhZ2UvcnVsZURldGFpbD9ydWxlPemBk+mVv+S7k+W6k1BybyZpZD1cXFxcXFxcIiArICQuaW1wb3J0UGFyYW07XFxcXG5cXFwifSx7XFxcImNvbF90eXBlXFxcIjpcXFwibW92aWVfM1xcXCIsXFxcIm5hbWVcXFwiOlxcXCLot5Hpqaznga/lhazlkYpcXFwiLFxcXCJwYXRoXFxcIjpcXFwibm90aWNlXFxcIixcXFwicnVsZVxcXCI6XFxcImpzOlxcXFxubGV0IGdldEh0bWwgPSAodGV4dCwgY29sb3IpID0+IGBcXFxcbjwhRE9DVFlQRSBodG1sPlxcXFxuPGh0bWw+XFxcXG48aGVhZD5cXFxcbjxtZXRhIG5hbWU9XFxcXFxcXCJ2aWV3cG9ydFxcXFxcXFwiIGNvbnRlbnQ9XFxcXFxcXCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSwgbWF4aW11bS1zY2FsZT0xLCB1c2VyLXNjYWxhYmxlPTBcXFxcXFxcIj5cXFxcbjxzdHlsZT5cXFxcbi5tYXJxdWVlIHtcXFxcbiAgd2lkdGg6IDEwMCU7XFxcXG4gIHRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xcXFxuICBvdmVyZmxvdzogaGlkZGVuO1xcXFxuICBjb2xvcjogJHtjb2xvcn07XFxcXG4gIGZvbnQtc2l6ZTogMTZweDtcXFxcbiAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcXFxcbn1cXFxcblxcXFxuLm1hcnF1ZWUgc3BhbiB7XFxcXG4gIHVzZXItc2VsZWN0Om5vbmU7XFxcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jazsgIFxcXFxuICBwYWRkaW5nLWxlZnQ6IDEwMCU7XFxcXG4gIGFuaW1hdGlvbjogbWFycXVlZSAyNXMgbGluZWFyIGluZmluaXRlO1xcXFxufVxcXFxuXFxcXG5Aa2V5ZnJhbWVzIG1hcnF1ZWUge1xcXFxuICAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwJSk7IH1cXFxcbiAgMTAwJSB7IHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtMTAwJSk7IH1cXFxcbn1cXFxcblxcXFxuQG1lZGlhIChwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaykge1xcXFxuICAgIGJvZHkge1xcXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMxQjFCMUI7XFxcXG4gICAgIH1cXFxcbiAgICAgLnRleHQsLnNjcm9sbHtcXFxcbiAgICAgICBjb2xvcjojRmZmO1xcXFxuICAgICAgIH1cXFxcbiAgICB9XFxcXG5cXFxcbkBtZWRpYSAocHJlZmVycy1jb2xvci1zY2hlbWU6IGxpZ2h0KSB7XFxcXG4gICAgYm9keSB7XFxcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxcXG4gICAgICB9XFxcXG4gICAgfVxcXFxuXFxcXG48L3N0eWxlPlxcXFxuPC9oZWFkPlxcXFxuPGJvZHk+XFxcXG48ZGl2IGNsYXNzPVxcXFxcXFwibWFycXVlZVxcXFxcXFwiPlxcXFxuICA8c3BhbiBpZD1cXFxcXFxcInRleHRDb250YWluZXJcXFxcXFxcIj4ke3RleHR9PC9zcGFuPlxcXFxuPC9kaXY+XFxcXG48L2JvZHk+XFxcXG48L2h0bWw+YDtcXFxcblxcXFxuJC5leHBvcnRzLnNob3cgPSBmdW5jdGlvbihhcnIsIHRleHQsIGNvbG9yLCB1cmwsIGNvbnRlbnQpIHtcXFxcbiAgICB2YXIgaHRtbCA9IGdldEh0bWwodGV4dCB8fCAn6L+Z5piv6LeR6ams54Gv6buY6K6k55qE5paH5a2X77yM5Y+v5Lul6Ieq6KGM5pu/5o2i44CCJywgY29sb3IgfHwgJ3JlZCcpO1xcXFxuICAgIGFyci5wdXNoKHtcXFxcbiAgICAgICAgY29sX3R5cGU6IFxcXFxcXFwieDVfd2Vidmlld19zaW5nbGVcXFxcXFxcIixcXFxcbiAgICAgICAgdXJsOiBcXFxcXFxcImFib3V0OmJsYW5rXFxcXFxcXCIsXFxcXG4gICAgICAgIGRlc2M6IFxcXFxcXFwiNTAmJmxpc3RcXFxcXFxcIixcXFxcbiAgICAgICAgZXh0cmE6IHtcXFxcbiAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKChoLCB1cmwpID0+IHtcXFxcbiAgICAgICAgICAgICAgICB2YXIgaHRtbCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDtcXFxcbiAgICAgICAgICAgICAgICBodG1sLmlubmVySFRNTCA9IGg7XFxcXG5cXFxcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RleHRDb250YWluZXInKTtcXFxcbiAgICAgICAgICAgICAgICBjb25zdCB0ZXh0ID0gdGV4dENvbnRhaW5lci5pbm5lckhUTUw7XFxcXG4gICAgICAgICAgICAgICAgdGV4dENvbnRhaW5lci5vbmNsaWNrPWZ1bmN0aW9uKCl7XFxcXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdXJsfHxcXFxcXFxcImFib3V0OmJsYW5rL25vdGljZVxcXFxcXFwiO1xcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICAvLyDorr7nva7mlofmnKzlrrnlmajlrr3luqbkuLrmlofmnKzlhoXlrrnnmoTlrr3luqZcXFxcbiAgICAgICAgICAgICAgICB0ZXh0Q29udGFpbmVyLnN0eWxlLndpZHRoID0gYCR7dGV4dENvbnRhaW5lci5vZmZzZXRXaWR0aH1weGA7XFxcXG5cXFxcbiAgICAgICAgICAgICAgICAvLyDlpI3liLbmlofmnKzlhoXlrrnlubbov73liqDliLDmlofmnKzlrrnlmajlkI7pnaJcXFxcbiAgICAgICAgICAgICAgICB0ZXh0Q29udGFpbmVyLmlubmVySFRNTCArPSAnICcgKyB0ZXh0O1xcXFxuXFxcXG4gICAgICAgICAgICAgICAgLy8g5Yqo5oCB6K6h566X5Yqo55S75oyB57ut5pe26Ze0XFxcXG4gICAgICAgICAgICAgICAgY29uc3QgZHVyYXRpb24gPSAodGV4dENvbnRhaW5lci5vZmZzZXRXaWR0aCAvIHRleHRDb250YWluZXIucGFyZW50RWxlbWVudC5vZmZzZXRXaWR0aCkgKiAxMDtcXFxcblxcXFxuICAgICAgICAgICAgICAgIHZhciBzdHlsZUVsZW1lbnRzID0gZG9jdW1lbnQuaGVhZC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3R5bGUnKTtcXFxcblxcXFxuXFxcXG4gICAgICAgICAgICAgICAgc3R5bGVFbGVtZW50c1syXS5pbm5lckhUTUwgPSBgLm1hcnF1ZWUgc3BhbiB7XFxcXG4gICAgICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXFxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZy1sZWZ0OiAxMDAlO1xcXFxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb246IG1hcnF1ZWUgJHtkdXJhdGlvbn1zIGxpbmVhciBpbmZpbml0ZVxcXFxuICAgICAgICAgICAgICAgIH1gO1xcXFxuXFxcXG4gICAgICAgICAgICB9LCBodG1sLCB1cmwpLFxcXFxuICAgICAgICAgICAgdXJsSW50ZXJjZXB0b3I6ICQudG9TdHJpbmcoKGNvbnRlbnQpID0+IHtcXFxcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQ9PT1cXFxcXFxcImFib3V0OmJsYW5rL25vdGljZVxcXFxcXFwiKSB7XFxcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAkLnRvU3RyaW5nKChjb250ZW50KSA9PiB7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBmYmEub3BlbihKU09OLnN0cmluZ2lmeSh7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IFxcXFxcXFwi5YWs5ZGKXFxcXFxcXCIsXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAnaGlrZXI6Ly9lbXB0eSNub1JlY29yZEhpc3RvcnkjI25vSGlzdG9yeSMnLFxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbmRSdWxlOiBcXFxcXFxcImpzOlxcXFxcXFwiICsgJCQkLnRvU3RyaW5nKChjb250ZW50KSA9PiBzZXRSZXN1bHQoW3tcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGNvbnRlbnQsXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiBcXFxcXFxcInJpY2hfdGV4dFxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1dKSxjb250ZW50KVxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xcXFxuICAgICAgICAgICAgICAgICAgICB9LCBjb250ZW50KTtcXFxcbiAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICB9LCBjb250ZW50IHx8IHRleHQpLFxcXFxuICAgICAgICB9XFxcXG4gICAgfSk7XFxcXG59XFxcIn1dXCIsXCJwcm94eVwiOlwiXCJ9IiwidGl0bGUiOiLlhajpg6jop4TliJkifQ==
B6bgNWXM,Untitled,MR_OBRIEN,HTML,Thursday 11th of April 2024 09:32:27 AM CDT,"<!-- Made by Distance // Chris // HTMLCoding(Pastebin) -->
<!DOCTYPE html>
<html>
  <head>
    <title>School Websites for Bookmark Bar</title>
  </head>
<!-- How to HyperLink: Use a and href then put the link in commas then use > and then put the name you want and end it with </a> -->
<!-- Example -->
<a href=""https://teams.microsoft.com/v2/"">Teams</a>
<a href=""https://www.microsoft365.com/launch/word?auth=2"">Microsoft Word</a>
<a href=""https://dcdsb.edsby.com/"">EDSBY</a>
<a href=""https://durhamrc.elearningontario.ca/d2l/home"">D2L</a>
<a href=""https://www.microsoft365.com/launch/onenote?auth=2”"">OneNote</a>
<a href=""https://www.microsoft365.com/launch/powerpoint?auth=2”"">Microsoft PowerPoint</a>
<a href=""https://www.canva.com/”"">Canva</a>
</html>"
V8V5wNit,Untitled,dereksir,Bash,Thursday 11th of April 2024 09:30:06 AM CDT,"{
  ""origin"": ""216.137.184.253:40335""
}"
tb0HJuht,Lesson27,smatskevich,C++,Thursday 11th of April 2024 09:05:59 AM CDT,"#include <iostream>
#include <queue>
#include <vector>

#define all(x) x.begin(), x.end()
using namespace std;

void BFS(int s, vector<vector<int>>& g, vector<int>& r, vector<int>& pi) {
  int n = r.size();
  queue<int> q;
  q.push(s);
  r[s] = 0;
  while (!q.empty()) {
    int u = q.front(); q.pop();
    for (int v : g[u]) {
      if (r[v] == INT_MAX) {
        r[v] = r[u] + 1;
        pi[v] = u;
        q.push(v);
      }
    }
  }
}

int main() {
  int n, m; cin >> n >> m;
  vector<vector<int>> g(n);
//  for (int i = 0; i < m; ++i)
  while (m--) {
    int u, v; cin >> u >> v;  --u; --v;
    g[u].push_back(v);
    g[v].push_back(u);
  }
  int s; cin >> s; --s;
  vector<int> r(n, INT_MAX), pi(n, -1);
  BFS(s, g, r, pi);

  for (int u = 0; u < n; ++u) {
    cout << ""Vertex "" << u + 1 << "": dist = "" << r[u] << "", path = ["";
    vector<int> path;
    for (int v = u; v != -1; v = pi[v]) path.push_back(v);
    reverse(all(path));
    for (int v : path) cout << v + 1 << (v == u ? ""]\n"" : "", "");
  }
  return 0;
}
"
aWwU6XLU,Untitled,dereksir,Python,Thursday 11th of April 2024 09:02:49 AM CDT,"import httpx

# define your proxy settings
proxies = {
    ""http://"": ""http://216.137.184.253:80"",
    ""https://"": ""http://216.137.184.253:80""
}

# make a request with the specified proxy
r = httpx.get(""https://httpbin.io/ip"", proxies=proxies)

print(r.text)"
pHZryJA7,Longest Palindromic Substring,bobbye,Python,Thursday 11th of April 2024 09:02:03 AM CDT,"class Solution:
    def longestPalindrome(self, s: str) -> str:
        if not s:
            return """"

        def expand_around_center(s: str, left: int, right: int):
            while left >= 0 and right < len(s) and s[left] == s[right]:
                left -= 1
                right += 1
            return right - left - 1


        start = 0
        end = 0

        for i in range(len(s)):
            odd = expand_around_center(s, i, i)
            even = expand_around_center(s, i, i + 1)
            max_len = max(odd, even)
            
            if max_len > end - start:
                start = i - (max_len - 1) // 2
                end = i + max_len // 2
        
        return s[start:end+1]"
CbRVieQf,Untitled,dereksir,Python,Thursday 11th of April 2024 08:50:16 AM CDT,"import httpx

# define your proxy settings
proxies = {
    ""http://"": ""http://216.137.184.253:80"",
    ""https://"": ""http://216.137.184.253:80""
}"
qyepa5xi,Untitled,dereksir,Python,Thursday 11th of April 2024 08:40:45 AM CDT,"import httpx

r = httpx.get(""https://httpbin.io/ip"")
print(r.text)"
eRFhavm7,DOMPDF,pishpeter,PHP,Thursday 11th of April 2024 08:28:35 AM CDT,"<html>
<head>
    <style>
        @page { margin: 0px; }
        body { margin: 0px; }

        /* Style for header */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 150px; /* Adjust height as needed */
            background-color: #f0f0f0;
            text-align: center;
            line-height: 100px;
            overflow: hidden;
        }
        
        /* Style for footer */
        .footer {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%; /* Set width to 100% */
            height: 200px; /* Adjust height as needed */
            background-color: #f0f0f0;
            text-align: center;
            line-height: 100px;
            overflow: hidden;
        }
        
        /* Style for images */
        .header img,
        .footer img {
            width: 100%;
            height: 100%;
            display: block;
            margin: auto;
        }

        /* Style for heading */
        .heading {
            text-align: center;
            margin-top: 200px; /* Adjust margin as needed */
        }
    </style>
</head>
<body>
    <div class=""header""><img src=""https://bidding.kaihoeastafrica.co.ke/assets/img/pdf/header.png"" alt=""Header Image""></div>
    <div class=""footer""><img src=""https://bidding.kaihoeastafrica.co.ke/assets/img/pdf/footer.png"" alt=""Footer Image""></div>
    <div class=""heading"">
        <h1>PDF Heading</h1>
    </div>
    <div class=""content"">
        <h2>Main Content</h2>
        <!-- Your content goes here -->
    </div>
</body>
</html>
"
sV8frWaf,Bruxelles,Netsemfim,Bash,Thursday 11th of April 2024 08:28:25 AM CDT,"client
dev tun
proto udp
remote bru-c16.vpn.wlvpn.com 1194
remote bru-c17.vpn.wlvpn.com 1194
remote bru-c18.vpn.wlvpn.com 1194
remote bru-c19.vpn.wlvpn.com 1194
remote bru-c20.vpn.wlvpn.com 1194
remote bru-c21.vpn.wlvpn.com 1194
remote bru-c22.vpn.wlvpn.com 1194
remote bru-c23.vpn.wlvpn.com 1194
remote bru-c24.vpn.wlvpn.com 1194
remote bru-c25.vpn.wlvpn.com 1194
remote bru-c26.vpn.wlvpn.com 1194
remote bru-c27.vpn.wlvpn.com 1194
remote bru-c13.vpn.wlvpn.com 1194
remote bru-c14.vpn.wlvpn.com 1194
remote bru-c15.vpn.wlvpn.com 1194
remote bru-c28.vpn.wlvpn.com 1194
remote bru-c29.vpn.wlvpn.com 1194
remote bru-c30.vpn.wlvpn.com 1194
remote bru-c31.vpn.wlvpn.com 1194
remote bru-c32.vpn.wlvpn.com 1194
remote-random
resolv-retry infinite
nobind
persist-key
persist-tun
persist-remote-ip
<ca>
-----BEGIN CERTIFICATE-----
MIIESjCCAzKgAwIBAgIJAKSqvk2CSdJGMA0GCSqGSIb3DQEBDQUAMHUxCzAJBgNV
BAYTAlVTMQwwCgYDVQQIEwNWUE4xDDAKBgNVBAcTA1ZQTjEMMAoGA1UEChMDVlBO
MQwwCgYDVQQLEwNWUE4xDDAKBgNVBAMTA1ZQTjEMMAoGA1UEKRMDVlBOMRIwEAYJ
KoZIhvcNAQkBFgNWUE4wIBcNMjIwNTA5MjA0NTA2WhgPMjA4MjA0MjQyMDQ1MDZa
MHUxCzAJBgNVBAYTAlVTMQwwCgYDVQQIEwNWUE4xDDAKBgNVBAcTA1ZQTjEMMAoG
A1UEChMDVlBOMQwwCgYDVQQLEwNWUE4xDDAKBgNVBAMTA1ZQTjEMMAoGA1UEKRMD
VlBOMRIwEAYJKoZIhvcNAQkBFgNWUE4wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw
ggEKAoIBAQDJSvYEDPaAcZpeuLqtYykqpy9VNfcg5IsR8FZ/V9vbMLDHT4YUwbbn
xiQ4KJCGj9g5fnxsmmywYjjY7NmK1KKxNWlc0gF6XMZQ90qDHSpREaANb7t47JIl
gKfURSdwSUkIe3WyjRJt91CnEDzxVkwf18U4q0tjmoceLR2teb/BnL7NbtN9Xktx
7Tjq+/Yz0jn8qjjNnlWHqNOjZWsJBHDyChcHk0B1TkPvqVWFYrhnO3jCgjydFbkS
/cBYTDmhfzmPkHRNj2cSLmPS81gG4zF/8aIs7wzwsIc9fQdgGIsONl6wkK+4be9/
CcBjkIlCo2O5+macXeK+xoXR0Z6jniRZAgMBAAGjgdowgdcwDAYDVR0TBAUwAwEB
/zAdBgNVHQ4EFgQUF58B5L6R0n/5TGnCqCrIQHBjNqkwgacGA1UdIwSBnzCBnIAU
F58B5L6R0n/5TGnCqCrIQHBjNqmheaR3MHUxCzAJBgNVBAYTAlVTMQwwCgYDVQQI
EwNWUE4xDDAKBgNVBAcTA1ZQTjEMMAoGA1UEChMDVlBOMQwwCgYDVQQLEwNWUE4x
DDAKBgNVBAMTA1ZQTjEMMAoGA1UEKRMDVlBOMRIwEAYJKoZIhvcNAQkBFgNWUE6C
CQCkqr5NgknSRjANBgkqhkiG9w0BAQ0FAAOCAQEAMjkx4HQoLkLVMix6j6HVf8Lr
lKnbDlMx3gYfkD8J5LhTrf8JezB07rSialwiF7lvs3+urvQQdUs5tZCARRDpQANR
b8XzxbDu3oO4eOOxiDPnHutZv04/rN3Y/s3kSrJEwXxnWDLSzn9IsJtFtV+oHwan
ijRI4jaTBAzaqpFzq1Ffm1O1PrFfhwjb4aEyahMXCU8xRavBGKu7EeXZ78lXJVqg
0q3hbTISxRXSa63JgwxZnXcHIyeO4V/bZIcJvIei17xlc7dLDHPdnyQtrD07+AEH
qioNZsFRPJqf8KwmVCEIJq38cM7nSRXrrZ36w9P4sMBRHABQBre2DIqdo9hoeA==
-----END CERTIFICATE-----
</ca>
tls-client
remote-cert-tls server
auth-user-pass
compress lzo
verb 3
auth SHA256
cipher AES-256-CBC
"
TLYY8JGX,frankfurt,Netsemfim,Bash,Thursday 11th of April 2024 08:26:39 AM CDT,"client
dev tun
proto udp
remote fra-a01.vpn.wlvpn.com 1194
remote fra-a03.vpn.wlvpn.com 1194
remote fra-a06.vpn.wlvpn.com 1194
remote fra-a13.vpn.wlvpn.com 1194
remote fra-a14.vpn.wlvpn.com 1194
remote fra-a15.vpn.wlvpn.com 1194
remote fra-a05.vpn.wlvpn.com 1194
remote fra-a07.vpn.wlvpn.com 1194
remote fra-a02.vpn.wlvpn.com 1194
remote fra-a09.vpn.wlvpn.com 1194
remote fra-a08.vpn.wlvpn.com 1194
remote fra-a10.vpn.wlvpn.com 1194
remote fra-a11.vpn.wlvpn.com 1194
remote fra-a16.vpn.wlvpn.com 1194
remote fra-a17.vpn.wlvpn.com 1194
remote fra-a18.vpn.wlvpn.com 1194
remote fra-a19.vpn.wlvpn.com 1194
remote fra-a20.vpn.wlvpn.com 1194
remote fra-a21.vpn.wlvpn.com 1194
remote fra-a22.vpn.wlvpn.com 1194
remote fra-a23.vpn.wlvpn.com 1194
remote fra-a12.vpn.wlvpn.com 1194
remote fra-a24.vpn.wlvpn.com 1194
remote fra-a25.vpn.wlvpn.com 1194
remote fra-a26.vpn.wlvpn.com 1194
remote fra-a27.vpn.wlvpn.com 1194
remote fra-a28.vpn.wlvpn.com 1194
remote fra-a29.vpn.wlvpn.com 1194
remote fra-a30.vpn.wlvpn.com 1194
remote fra-a31.vpn.wlvpn.com 1194
remote fra-a32.vpn.wlvpn.com 1194
remote fra-a33.vpn.wlvpn.com 1194
remote fra-a34.vpn.wlvpn.com 1194
remote fra-a35.vpn.wlvpn.com 1194
remote fra-a36.vpn.wlvpn.com 1194
remote fra-a37.vpn.wlvpn.com 1194
remote fra-a38.vpn.wlvpn.com 1194
remote fra-a39.vpn.wlvpn.com 1194
remote fra-a40.vpn.wlvpn.com 1194
remote fra-a41.vpn.wlvpn.com 1194
remote fra-c09.vpn.wlvpn.com 1194
remote fra-c10.vpn.wlvpn.com 1194
remote fra-c11.vpn.wlvpn.com 1194
remote fra-c12.vpn.wlvpn.com 1194
remote fra-c13.vpn.wlvpn.com 1194
remote fra-c14.vpn.wlvpn.com 1194
remote fra-c15.vpn.wlvpn.com 1194
remote fra-c01.vpn.wlvpn.com 1194
remote fra-c02.vpn.wlvpn.com 1194
remote fra-c03.vpn.wlvpn.com 1194
remote fra-c04.vpn.wlvpn.com 1194
remote fra-c07.vpn.wlvpn.com 1194
remote fra-c08.vpn.wlvpn.com 1194
remote fra-c05.vpn.wlvpn.com 1194
remote fra-a04.vpn.wlvpn.com 1194
remote fra-c06.vpn.wlvpn.com 1194
remote fra-c16.vpn.wlvpn.com 1194
remote-random
resolv-retry infinite
nobind
persist-key
persist-tun
persist-remote-ip
<ca>
-----BEGIN CERTIFICATE-----
MIIESjCCAzKgAwIBAgIJAKSqvk2CSdJGMA0GCSqGSIb3DQEBDQUAMHUxCzAJBgNV
BAYTAlVTMQwwCgYDVQQIEwNWUE4xDDAKBgNVBAcTA1ZQTjEMMAoGA1UEChMDVlBO
MQwwCgYDVQQLEwNWUE4xDDAKBgNVBAMTA1ZQTjEMMAoGA1UEKRMDVlBOMRIwEAYJ
KoZIhvcNAQkBFgNWUE4wIBcNMjIwNTA5MjA0NTA2WhgPMjA4MjA0MjQyMDQ1MDZa
MHUxCzAJBgNVBAYTAlVTMQwwCgYDVQQIEwNWUE4xDDAKBgNVBAcTA1ZQTjEMMAoG
A1UEChMDVlBOMQwwCgYDVQQLEwNWUE4xDDAKBgNVBAMTA1ZQTjEMMAoGA1UEKRMD
VlBOMRIwEAYJKoZIhvcNAQkBFgNWUE4wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw
ggEKAoIBAQDJSvYEDPaAcZpeuLqtYykqpy9VNfcg5IsR8FZ/V9vbMLDHT4YUwbbn
xiQ4KJCGj9g5fnxsmmywYjjY7NmK1KKxNWlc0gF6XMZQ90qDHSpREaANb7t47JIl
gKfURSdwSUkIe3WyjRJt91CnEDzxVkwf18U4q0tjmoceLR2teb/BnL7NbtN9Xktx
7Tjq+/Yz0jn8qjjNnlWHqNOjZWsJBHDyChcHk0B1TkPvqVWFYrhnO3jCgjydFbkS
/cBYTDmhfzmPkHRNj2cSLmPS81gG4zF/8aIs7wzwsIc9fQdgGIsONl6wkK+4be9/
CcBjkIlCo2O5+macXeK+xoXR0Z6jniRZAgMBAAGjgdowgdcwDAYDVR0TBAUwAwEB
/zAdBgNVHQ4EFgQUF58B5L6R0n/5TGnCqCrIQHBjNqkwgacGA1UdIwSBnzCBnIAU
F58B5L6R0n/5TGnCqCrIQHBjNqmheaR3MHUxCzAJBgNVBAYTAlVTMQwwCgYDVQQI
EwNWUE4xDDAKBgNVBAcTA1ZQTjEMMAoGA1UEChMDVlBOMQwwCgYDVQQLEwNWUE4x
DDAKBgNVBAMTA1ZQTjEMMAoGA1UEKRMDVlBOMRIwEAYJKoZIhvcNAQkBFgNWUE6C
CQCkqr5NgknSRjANBgkqhkiG9w0BAQ0FAAOCAQEAMjkx4HQoLkLVMix6j6HVf8Lr
lKnbDlMx3gYfkD8J5LhTrf8JezB07rSialwiF7lvs3+urvQQdUs5tZCARRDpQANR
b8XzxbDu3oO4eOOxiDPnHutZv04/rN3Y/s3kSrJEwXxnWDLSzn9IsJtFtV+oHwan
ijRI4jaTBAzaqpFzq1Ffm1O1PrFfhwjb4aEyahMXCU8xRavBGKu7EeXZ78lXJVqg
0q3hbTISxRXSa63JgwxZnXcHIyeO4V/bZIcJvIei17xlc7dLDHPdnyQtrD07+AEH
qioNZsFRPJqf8KwmVCEIJq38cM7nSRXrrZ36w9P4sMBRHABQBre2DIqdo9hoeA==
-----END CERTIFICATE-----
</ca>
tls-client
remote-cert-tls server
auth-user-pass
compress lzo
verb 3
auth SHA256
cipher AES-256-CBC
"
Ctapq1t4,邀您一起看：完美世界,xiaomianao666,JavaScript,Thursday 11th of April 2024 08:25:01 AM CDT,海阔视界规则分享，当前分享的是：二级页面详情￥page_detail￥完美世界@@eyJkYXRhIjoie1wiYXNzb2NpYXRlZE1vZGVsc01hcEZvckpvaW5UYWJsZVwiOnt9LFwiYXNzb2NpYXRlZE1vZGVsc01hcFdpdGhGS1wiOnt9LFwiYXNzb2NpYXRlZE1vZGVsc01hcFdpdGhvdXRGS1wiOnt9LFwiZmllbGRzVG9TZXRUb0RlZmF1bHRcIjpbXSxcImdtdE1vZGlmaWVkXCI6MCxcImlkXCI6MCxcImxhc3RfY2hhcHRlcl9ydWxlXCI6XCJcIixcImxpc3RUb0NsZWFyQXNzb2NpYXRlZEZLXCI6W10sXCJsaXN0VG9DbGVhclNlbGZGS1wiOltdLFwicGFnZUxpc3RcIjpbe1wiY29sX3R5cGVcIjpcIm1vdmllXzNcIixcIm5hbWVcIjpcIuKTuOmAmueUqOino+aekFwiLFwicGF0aFwiOlwibGF6eVwiLFwicnVsZVwiOlwiXFxudmFyIGxhenkgPSAkKCcnKS5sYXp5UnVsZSgoKSA9PiB7XFxuaWYgKGlucHV0LmluZGV4T2YoJ21hZ25ldDo/eHQnKSA9PSAtMSkge1xcbiAgICB0cnl7XFxuICAgICAgdmFyIGh0bWwgPSBKU09OLnBhcnNlKHJlcXVlc3QoaW5wdXQpLm1hdGNoKC9yIHBsYXllcl8uKj89KC4qPyk8LylbMV0pXFxuICAgIHZhciB1cmwgPSBodG1sLnVybFxcbiAgICBpZiAoaHRtbC5lbmNyeXB0ID09ICcxJykge1xcbiAgICAgICAgdXJsID0gdW5lc2NhcGUodXJsKTtcXG4gICAgfSBlbHNlIGlmIChodG1sLmVuY3J5cHQgPT0gJzInKSB7XFxuICAgICAgICB1cmwgPSB1bmVzY2FwZShiYXNlNjREZWNvZGUodXJsKSk7XFxuICAgIH1cXG4gICAgaWYgKC9tM3U4fG1wNHxmbHYvLnRlc3QodXJsKSkge1xcbiAgICAgICBpZiAoL3ZpcHxoZC8udGVzdCh1cmwpKSB7XFxyXFxuICAgICAgICAgICBldmFsUHJpdmF0ZUpTKCdUdVNKZHBuWmFxWEdSdnZPRlJSKzNTN2VaVWplQzFDZmZGYkhob28wZTUrYVo3S2F2OUtaVlpzZmt3S2tVRmY0d3prVHJpbzRqQVJINlp3VFhwUmxIM2tJNDNyV0NUVTRQZFlhbTE1cFBZaXE1Y1cwSDZnVVhoSlc3dG1KdHlMS2RqZTFLYXBCSUd2V2FYSTBXbW9Ib01FRkJWL01BaWNtUGdweUFKWmpzYzVFbXZkaDFuNzJXUFBpeWhZTkNvTW5aOUpwUDZhRXNXUUVtUU1jQWpQeGdzNlVNdnNPL1BPdzVDY3I3OXNKemljc3QvTGwzSU9qNU0rUHZxS3JUZDYxNDdWR1BFenRqc1VlRXVkQVN6VGNuKzk1QzlWZzF1d1V2ZDl6MHc1cXNQYm9RaDVvWmhUeXM0UlFFekJHSXF1bFFNQUFRWTRJRmthbldYOTVFSU5aRFg1MG1BaU9TR3lJZDA2SHNwckFlbC9maDd3eU1YZG1ldStTMTVYbmNPN1V1dWpNT21HZ1NBRU4vU3NjMmV6a3hsR3ZwZHloYmw0cDREYVF1Zy9ucmdzd2haajc1L001M3NLWVgyelJnT1NUN0NNalYvK3BQSmQxS1A5MzR1dS9Wc0JRVUc2OW1XTitLYUZXaEtud0JQaFY5cWRxR3ovTFNKbkZ4SXZROGtCeCcpXFxuICAgICAgICAgICByZXR1cm4gdSArIFxcXCI/dXJsPVxcXCIgKyBiYXNlNjRFbmNvZGUodXJsKSArIFxcXCIjLm0zdThcXFwiO1xcclxcbiAgICAgICAgfVxcclxcbiAgICAgICAgcmV0dXJuIHVybFxcbiAgICB9IGVsc2UgaWYoL3FxfHFpeWl8eW91a3V8bWd0dnxiaWxpLy50ZXN0KHVybCkpIHtcXG4gICAgICAgICAgdXJsID0gJ2h0dHBzOi8vangueG1mbHYuY29tLz91cmw9JyArIHVybDtcXG5yZXF1aXJlQ2FjaGUoJ2h0dHBzOi8vYWdpdC5haS9semsyMzU1OS9QdWJsaWNSdWxlL3Jhdy9icmFuY2gvbWFzdGVyL3g1cnVsZS5qcycsIDI0KTtcXG4gICAgICAgIHJldHVybiB4NXJ1bGUodXJsLCB1cmwpO1xcbiAgICAgICAgLy9yZXR1cm4gJ3ZpZGVvOi8vaHR0cHM6Ly9qeC54bWZsdi5jb20vP3VybD0nICsgdXJsO1xcbiAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAvL3JlcXVpcmVDYWNoZSgnaHR0cHM6Ly9hZ2l0LmFpL2x6azIzNTU5L1B1YmxpY1J1bGUvcmF3L2JyYW5jaC9tYXN0ZXIveDVydWxlLmpzJywgMjQpO1xcbiAgICAgICAvLyByZXR1cm4geDVydWxlKGlucHV0LCBpbnB1dCk7XFxuICAgICAgICByZXR1cm4gJ3ZpZGVvOi8vJyArIGlucHV0O1xcbiAgfVxcbn1jYXRjaChlKXtcXG4vL3JlcXVpcmVDYWNoZSgnaHR0cHM6Ly9hZ2l0LmFpL2x6azIzNTU5L1B1YmxpY1J1bGUvcmF3L2JyYW5jaC9tYXN0ZXIveDVydWxlLmpzJywgMjQpO1xcbiAgICAgICAgLy9yZXR1cm4geDVydWxlKGlucHV0LCBpbnB1dCk7XFxuICAgICAgICByZXR1cm4gJ3ZpZGVvOi8vJyArIGlucHV0O1xcbn0gICBcXG4gfSBlbHNlIHtcXG4gICAgICAgIHJldHVybiBpbnB1dFxcbiAgICB9XFxufSlcIn0se1wiY29sX3R5cGVcIjpcIm1vdmllXzNcIixcIm5hbWVcIjpcIuKTtuS6jOe6p+mhtemdolwiLFwicGF0aFwiOlwiZWpcIixcInJ1bGVcIjpcImpzOlxcbnZhciBkID0gW10gXFxuTVlfVVJMPU1ZX1VSTC5yZXBsYWNlKCdoaWtlcjovL2VtcHR5IyMnLCcnKTtcXG52YXIgaHRtbCA9IGZldGNoKE1ZX1VSTCk7XFxuLypcXG52YXIgaHJlZjIgPSBodG1sLm1hdGNoKC9ocmVmID1cXFxcXFxcIiguKj8pXFxcXFxcXCIvKVsxXTtcXG4gIC8vbG9nKGhyZWYyKyctLS0tLS0tLS0tLScpXFxuaHRtbCA9IHJlcXVlc3QoJ2h0dHBzOi8vd3d3LnNzdHYuZnVuJyArIGhyZWYyKTtcXG4gIC8vbG9nKGh0bWwpXFxuKi9cXG4vL3ZhciDmkJzntKLmoIfnrb4gPSAnaDEmJlRleHQnO1xcblxcbmV2YWwoSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL3BhZ2UvZXInKSkucnVsZSk7XFxuZXZhbChKU09OLnBhcnNlKGZldGNoKCdoaWtlcjovL3BhZ2UvbGF6eScsIHt9KSkucnVsZSk7XFxudmFyIHBsYXlsaXN0ID0gW3tcXG4gICAgLyroh6rlrprkuYk6e1xcbiAgICAgICAg5Zu+5qCHOiAnaHR0cHM6Ly9oaWtlcmZhbnMuY29tL3R1Ymlhby9xLzMucG5nJyxcXG4gICAgICAgIOato+W6j+minOiJsjogJyMzMkNEMzInLFxcbiAgICAgICAg6YCG5bqP6aKc6ImyOiAnI0ZBODA3MicsXFxuICAgICAgICDnur/ot6/pgInkuK06ICcjODdDRUVCJywgICAgICAgXFxuICAgIH0sKi9cXG4gICAg57G75Z6LOiAn5Zyo57q/6KeC55yLJyxcXG4gICAg57q/6LevOiAnYm9keSYmLnRhYi1pdGVtOm5vdCg6aGFzKM6xKSknLFxcbiAgICDpgInpm4Y6ICdib2R5JiYubW9kdWxlLXBsYXktbGlzdDpub3QoOm1hdGNoZXMozrEpKScsXFxuICAgIOe6v+i3r+WQjeensDogJ3NwYW4mJlRleHRAQC5yZXBsYWNlKC8uKuOAiyguKikvLFxcXCIkMVxcXCIpJyxcXG4gICAg6YCJ6ZuG5YiX6KGoOiAnYm9keSYmYTpub3QoOm1hdGNoZXMo5bGV5byA5YWo6YOoKSknLFxcbiAgICDmjpLpmaQ6ICcnLFxcbiAgICAvL+mAiembhuWQjeensDogJ1RleHQnLFxcbiAgICAvL+mAiembhumTvuaOpTogJ2EmJmhyZWYnLFxcbiAgICAvL+WAkuW6jzp0cnVlLFxcbiAgICDop6PmnpA6IGxhenksXFxuICAgIOaOqOmAgTogdHJ1ZSxcXG59LCB7XFxuICAgIOexu+WeizogJ+ejgeWKm+S4i+i9vScsXFxuICAgIC8v57q/6LevOiAnJyxcXG4gICAg6YCJ6ZuGOiAnYm9keSYmLnNvcnQtaXRlbW0nLFxcbiAgICAvL+e6v+i3r+WQjeensDogJ1RleHRAQC5yZXBsYWNlKFxcXCLOslxcXCIsXFxcIlxcXCIpJyxcXG4gICAgLy/pgInpm4bliJfooag6ICd1bCYmbGknLFxcbiAgICDpgInpm4blkI3np7A6ICdUZXh0JyxcXG4gICAg6YCJ6ZuG6ZO+5o6lOiAnYSYmaHJlZicsXFxuICAgIOagt+W8jzogJ2F2YXRhcicsXFxuICAgIOWbvuaghzogJ2h0dHBzOi8vaW1nLnZpbnVhLmNuL2ltYWdlcy9Pb3o0Ui5qcGVnJ1xcbn1dXFxuXFxudmFyIG9iaiA9IHtcXG4gICAgbWFpbjogcGRmYShodG1sLCAnYm9keSYmLmhsLWZ1bGwtYm94JiZsaTpub3QoOm1hdGNoZXMo566A5LuLKSknKSxcXG4gICAgc29ydDogWyAn5bm05Lu9Jywn5Zyw5Yy6JywgJ+exu+WeiycsJ+abtOaWsO+8micsJ+WvvOa8lCcsICfkuLvmvJQnLCAn5Li75ryUJ10sXFxuICAgIGltZzogTVlfUEFSQU1TLmltZyxcXG4vL3BkKGh0bWwsICcjY292ZXJfc2hvd2JveCYmZGF0YS1vcmlnaW5hbCcpLC8v5bCB6Z2i5Zu+54mHXFxufVxcblxcbkVyamkuc2V0Q29udGVudChvYmopO1xcbkVyamkuc2V0RGVzYyhwZGZoKGh0bWwsICcuc2hvdy1kZXNjJiZUZXh0JykucmVwbGFjZSgvKOaUtui1ty4qKS8sJycpKTsvL+WJp+aDheeugOS7i1xcbmV2YWwoSlNPTi5wYXJzZShmZXRjaCgnaGlrZXI6Ly9wYWdlL3Rvb2wnLCB7fSkpLnJ1bGUpOy8v5aSW6YOo5b+r5o235pCc57SiXFxuRXJqaS5nZXRQbGF5ZXJzKHBsYXlsaXN0KTtcXG5FcmppLuWjsOaYjigpO1xcbkVyamkudXBkYXRhKFxcXCIn5pyA5paw77yaJytwZGZoKGh0bWwsICcubW9kdWxlLXBsYXktbGlzdCYmYSwtMSYmVGV4dCcpXFxcIik7XFxuXFxuc2V0UmVzdWx0KGQpXCJ9LHtcImNvbF90eXBlXCI6XCJtb3ZpZV8zXCIsXCJuYW1lXCI6XCLikaTmkJzntKLpobXpnaJcIixcInBhdGhcIjpcInNzXCIsXCJydWxlXCI6XCJqczpcXG52YXIgZCA9IFtdO1xcblxcbmNvbnN0IGJhc2VfdXJsID0gJ2h0dHA6Ly9yZXNvdS50b2RheS9hcnQvMjkuaHRtbCc7XFxuXFxubGV0IHRydWVfdXJsID0gZ2V0TXlWYXIoTVlfUlVMRS51cmwsIGJhc2VfdXJsKTtcXG5NWV9VUkw9dHJ1ZV91cmw7XFxudmFyIGh0bWwgPSBmZXRjaChiYXNlX3VybCwge1xcbiAgICBoZWFkZXJzOiB7XFxuICAgICAgICAnVXNlci1BZ2VudCc6IE1PQklMRV9VQVxcbiAgICB9XFxufSk7XFxuXFxudmFyIEljb25fcHJlZml4ID0gJ2h0dHBzOi8vaGlrZXJmYW5zLmNvbS90dWJpYW8vbW9yZS8nO1xcblxcbmQucHVzaCh7XFxuICAgICAgICAgICAgdGl0bGU6ICfov5Tlm54nLFxcbiAgICAgICAgICAgIHVybDogJCgpLmxhenlSdWxlKCgpID0+IHtcXG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoKTsgICAgIFxcbiAgICAgICAgICAgICAgICBiYWNrKGZhbHNlKVxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJ0b2FzdDovL+i/lOWbnuinhOWImemmlumhtVxcXCIgIFxcbiAgICAgICAgICAgIH0pLFxcbiAgICAgICAgICAgIHBpY191cmw6IEljb25fcHJlZml4ICsgJzQ3LnBuZycrIFxcXCJAUmVmZXJlcj1cXFwiLFxcbiAgICAgICAgICAgIGNvbF90eXBlOiBcXFwiaWNvbl9zbWFsbF8zXFxcIixcXG4gICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgfSk7XFxuXFxuXFxuZC5wdXNoKHtcXG4gICAgICAgICAgICB0aXRsZTogJ+etm+mAiScsXFxuICAgICAgICAgICAgdXJsOiAnaGlrZXI6Ly9wYWdlL3NoYWk/cGFnZT1meXBhZ2Ujbm9IaXN0b3J5IycsXFxuICAgICAgICAgICAgcGljX3VybDogSWNvbl9wcmVmaXggKyAnMjEzLnBuZycgKyBcXFwiQFJlZmVyZXI9XFxcIixcXG4gICAgICAgICAgICBjb2xfdHlwZTogXFxcImljb25fc21hbGxfM1xcXCJcXG4gICAgICAgIH0pO1xcblxcbmQucHVzaCh7XFxuICAgICAgICAgICAgdGl0bGU6ICfljoblj7InLFxcbiAgICAgICAgICAgIHVybDogJ2hpa2VyOi8vaGlzdG9yeScsXFxuICAgICAgICAgICAgcGljX3VybDogSWNvbl9wcmVmaXggKyAnMTkyLnBuZycgKyBcXFwiQFJlZmVyZXI9XFxcIixcXG4gICAgICAgICAgICBjb2xfdHlwZTogXFxcImljb25fc21hbGxfM1xcXCJcXG4gICAgICAgIH0pO1xcblxcbmQucHVzaCh7XFxuICAgIHRpdGxlOiBcXFwi8J+UjVxcXCIsXFxuICAgIC8vdXJsOiBcXFwiJ2hpa2VyOi8vc2VhcmNoP3M9JytpbnB1dCsnJnJ1bGU95a6r5LiL5Yqo5ryr4pmUJ1xcXCIsXFxuICAgICB1cmw6IFxcXCInaGlrZXI6Ly9zZWFyY2g/cnVsZT1cXFwiICsgTVlfUlVMRS50aXRsZSArIFxcXCImcz0nK2lucHV0XFxcIixcXG4gICAgY29sX3R5cGU6IFxcXCJpbnB1dFxcXCIsXFxuICAgIGRlc2M6IFxcXCLmkJzntKLkvaDmg7PopoHnmoTlvbHop4bjgIHliqjmvKvjgIHnu7zoibrnrYkuLi5cXFwiLFxcbn0pO1xcbiAgICBkLnB1c2goe1xcbiAgICAgICAgdGl0bGU6ICc8c3BhbiBzdHlsZT1cXFwiY29sb3I6I2ZmNjYwMFxcXCI+PGI+XFxcXHTng63mkJzmppxcXFxcdFxcXFx0XFxcXHQ8L2I+PC9zcGFuPicsXFxuICAgICAgICB1cmw6IFxcXCJoaWtlcjovL2VtcHR5XFxcIixcXG4gICAgICAgIHBpY191cmw6ICdodHRwczovL3NzMS5iYWlkdS5jb20vNk9OWHNqaXAwUUlaOHR5aG5xL2l0L3U9Mzc3OTk5MDMyOCwxNDE2NTUzMjQxJmZtPTE3OSZhcHA9MzUmZj1QTkc/dz02MCZoPTcwJnM9RTc5NTFCNjJBNDYzOUQxNTMyOTNBNEU5MDMwMDQwMUInLFxcbiAgICAgICAgY29sX3R5cGU6ICdpY29uX3NtYWxsXzMnXFxuICAgIH0pO1xcblxcblxcbmNvbnN0IGxpc3QgPSBwZGZhKGh0bWwsICdib2R5JiYuYXJ0LXJlc291JiZsaSwyOicpO1xcbmxpc3QuZm9yRWFjaChpdGVtID0+IHsgIFxcbiAgICBkLnB1c2goe1xcbiAgICAgICAgdGl0bGU6IHBkZmgoaXRlbSwgJ3NwYW46ZXEoMCkmJlRleHQnKSArIHBkZmgoaXRlbSwgJ3NwYW46ZXEoMSkmJlRleHQnKSxcXG4gICAgICAgIGRlc2M6IHBkZmgoaXRlbSwgJ3NwYW46ZXEoMikmJlRleHQnKSxcXG4gICAgICAgIGltZzogJ2h0dHBzOi8vY2RuLWljb25zLXBuZy5mbGF0aWNvbi5jb20vMTI4LzQ3My80NzM0MDYucG5nJyArIFxcXCJAUmVmZXJlcj1odHRwczovL2ltZzkuZG91YmFuaW8uY29tL1xcXCIsXFxuICAgICAgICAvL3VybDogJ2hpa2VyOi8vc2VhcmNoP3M9JytwZGZoKGl0ZW0sICdzcGFuOmVxKDEpJiZUZXh0JykrJyZydWxlPeWuq+S4i+WKqOa8q+KZlCcsXFxuICAgICAgICAgIHVybDogJ2hpa2VyOi8vc2VhcmNoP3J1bGU9JyArIE1ZX1JVTEUudGl0bGUgKyAnJnM9JytwZGZoKGl0ZW0sICdzcGFuOmVxKDEpJiZUZXh0JyksXFxuICAgICAgICBjb2xfdHlwZTogJ2F2YXRhcicsXFxuICAgIH0pXFxufSlcXG5cXG5zZXRSZXN1bHQoZCk7XCJ9LHtcImNvbF90eXBlXCI6XCJtb3ZpZV8zXCIsXCJuYW1lXCI6XCLikaHkuIDnuqfova7mkq1cIixcInBhdGhcIjpcImx1bmJvXCIsXCJydWxlXCI6XCJqczpcXG5mdW5jdGlvbiBiYW5uZXIodGl0bGUsIHN0YXJ0LCBhcnIsIGRhdGEsIGNmZykge1xcbiAgICBsZXQgaWQgPSB0aXRsZSArICdsdW5ibyc7XFxuICAgIHZhciBybnVtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZGF0YS5sZW5ndGgpO1xcbiAgICB2YXIgaXRlbSA9IGRhdGFbcm51bV07XFxuICAgIHB1dE15VmFyKCdybnVtJywgcm51bSk7XFxuICAgIGxldCB0aW1lID0gNTAwMDtcXG4gICAgbGV0IGNvbF90eXBlID0gJ3BpY18xX2NhcmQnO1xcbiAgICBsZXQgY29sb3IgPSBcXFwid2hpdGVcXFwiO1xcbiAgICBsZXQgZGVzYyA9ICcnO1xcbiAgICBpZiAoY2ZnICE9IHVuZGVmaW5lZCkge1xcbiAgICAgICAgdGltZSA9IGNmZy50aW1lID8gY2ZnLnRpbWUgOiB0aW1lO1xcbiAgICAgICAgY29sX3R5cGUgPSBjZmcuY29sX3R5cGUgPyBjZmcuY29sX3R5cGUgOiBjb2xfdHlwZTtcXG4gICAgICAgIGRlc2MgPSBjZmcuZGVzYyA/IGNmZy5kZXNjIDogZGVzYztcXG4gICAgfVxcblxcbiAgICBhcnIucHVzaCh7XFxuICAgICAgICBjb2xfdHlwZTogY29sX3R5cGUsXFxuICAgICAgICBpbWc6IGl0ZW0uaW1nLFxcbiAgICAgICAgZGVzYzogZGVzYyxcXG4gICAgICAgIHRpdGxlOiBpdGVtLnRpdGxlLFxcbiAgICAgICAgdXJsOiBpdGVtLnVybCxcXG4gICAgICAgIGV4dHJhOiB7XFxuICAgICAgICAgICAgaWQ6IGlkKydiYXInLFxcbiAgICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGxlLFxcbiAgICAgICAgICAgIGltZzogaXRlbS5pbWcsXFxuICAgICAgICB9XFxuICAgIH0pXFxuXFxuICAgIGlmIChzdGFydCA9PSBmYWxzZSB8fCBnZXRNeVZhcignYmVuc3RhcnQnLCAndHJ1ZScpID09ICdmYWxzZScpIHtcXG4gICAgICAgIHVuUmVnaXN0ZXJUYXNrKGlkKVxcbiAgICAgICAgcmV0dXJuXFxuICAgIH1cXG4gICAgXFxuICAgIC8vbG9nKGRhdGEpXFxuXFxuICAgIGxldCBvYmogPSB7XFxuICAgICAgICBkYXRhOiBkYXRhLFxcbiAgICB9O1xcblxcbiAgICByZWdpc3RlclRhc2soaWQsIHRpbWUsICQudG9TdHJpbmcoKG9iaixpZCkgPT4ge1xcbiAgICAgICAgdmFyIGRhdGEgPSBvYmouZGF0YTtcXG4gICAgICAgIHZhciBydW0gPSBnZXRNeVZhcigncm51bScpO1xcblxcbiAgICAgICAgdmFyIGkgPSBOdW1iZXIoZ2V0TXlWYXIoJ2Jhbm5lcmknLCAnMCcpKTtcXG4gICAgICAgIGlmIChydW0gIT0gJycpIHtcXG4gICAgICAgICAgICBpID0gTnVtYmVyKHJ1bSkgKyAxXFxuICAgICAgICAgICAgY2xlYXJNeVZhcigncm51bScpXFxuICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgIGkgPSBpICsgMTtcXG4gICAgICAgIH1cXG4gICAgICAgIC8vbG9nKGkpXFxuICAgICAgICAvL2xvZyhkYXRhLmxlbmd0aClcXG5cXG4gICAgICAgIGlmIChpID4gZGF0YS5sZW5ndGggLSAxKSB7XFxuICAgICAgICAgICAgaSA9IDBcXG4gICAgICAgIH1cXG4gICAgICAgIHZhciBpdGVtID0gZGF0YVtpXTtcXG4gICAgICAgIC8vbG9nKGl0ZW0pXFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIHVwZGF0ZUl0ZW0oaWQrJ2JhcicsIHtcXG4gICAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0udGl0bGUsXFxuICAgICAgICAgICAgICAgIGltZzogaXRlbS5pbWcsXFxuICAgICAgICAgICAgICAgIHVybDogaXRlbS51cmwsXFxuICAgICAgICAgICAgICAgIGV4dHJhOiB7XFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogaXRlbS50aXRsZSxcXG4gICAgICAgICAgICAgICAgICAgIGltZzogaXRlbS5pbWcsXFxuICAgICAgICAgICAgICAgICAgICAvL25hbWU6IGl0ZW0udGl0bGUucmVwbGFjZSgvPFtePl0rPi9nLCAnJyksXFxuICAgICAgICAgICAgICAgICAgICAvL3NuYW1lOiBpdGVtLmV4dHJhLnNuYW1lLFxcbiAgICAgICAgICAgICAgICAgICAgLy9zdHlwZTogaXRlbS5leHRyYS5zdHlwZSxcXG4gICAgICAgICAgICAgICAgICAgIC8vc3VybDogaXRlbS51cmwsXFxuICAgICAgICAgICAgICAgICAgICAvL2ltZzppdGVtLmltZyxcXG4gICAgICAgICAgICAgICAgICAgIC8vcGFnZVRpdGxlOiBpdGVtLnRpdGxlLnJlcGxhY2UoLzxbXj5dKz4vZywgJycpLFxcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfSlcXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcXG4gICAgICAgICAgICBsb2coZS5tZXNzYWdlKVxcbiAgICAgICAgICAgIHVuUmVnaXN0ZXJUYXNrKGlkKVxcbiAgICAgICAgfVxcbiAgICAgICAgcHV0TXlWYXIoJ2Jhbm5lcmknLCBpKTtcXG5cXG4gICAgfSwgb2JqLGlkKSlcXG59XCJ9LHtcImNvbF90eXBlXCI6XCJtb3ZpZV8zXCIsXCJuYW1lXCI6XCLikaDkuIDnuqfpobXpnaJcIixcInBhdGhcIjpcInlpXCIsXCJydWxlXCI6XCJ2YXIgSWNvbl9wcmVmaXggPSAnaHR0cHM6Ly9oaWtlcmZhbnMuY29tL3R1Ymlhby9tb3JlLyc7XFxuXFxuLy/liLfmlrAgICAgICAgXFxuICAgICAgIGQucHVzaCh7XFxuICAgICAgICAgICAgdGl0bGU6ICfliLfmlrAnLFxcbiAgICAgICAgICAgIHVybDogJCgpLmxhenlSdWxlKCgpID0+IHtcXG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoKTtcXG4gICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+WIt+aWsOaIkOWKnycgIFxcbiAgICAgICAgICAgIH0pLFxcbiAgICAgICAgICAgIHBpY191cmw6IEljb25fcHJlZml4ICsgJzE0LnBuZycrIFxcXCJAUmVmZXJlcj1cXFwiLFxcbiAgICAgICAgICAgIGNvbF90eXBlOiBcXFwiaWNvbl81XFxcIlxcbiAgICAgICAgfSk7XFxuXFxuLy/nrZvpgIlcXG4gICAgICAgIGQucHVzaCh7XFxuICAgICAgICAgICAgdGl0bGU6ICfnrZvpgIknLFxcbiAgICAgICAgICAgIHVybDogJ2hpa2VyOi8vcGFnZS9zaGFpP3BhZ2U9ZnlwYWdlI25vSGlzdG9yeSMnLFxcbiAgICAgICAgICAgIHBpY191cmw6IEljb25fcHJlZml4ICsgJzMxLnBuZycgKyBcXFwiQFJlZmVyZXI9XFxcIixcXG4gICAgICAgICAgICBjb2xfdHlwZTogXFxcImljb25fNVxcXCJcXG4gICAgICAgIH0pO1xcblxcbi8v5pCc57SiXFxuICAgICAgIGQucHVzaCh7XFxuICAgICAgICAgICAgdGl0bGU6ICfmkJzntKInLFxcbiAgICAgICAgICAgIHVybDogJ2hpa2VyOi8vcGFnZS9zcycsXFxuICAgICAgICAgICAgcGljX3VybDogSWNvbl9wcmVmaXggKyAnNy5wbmcnICsgXFxcIkBSZWZlcmVyPVxcXCIsXFxuICAgICAgICAgICAgY29sX3R5cGU6IFxcXCJpY29uXzVcXFwiXFxuICAgICAgICB9KTtcXG5cXG4vL+abtOaWsFxcbiAgZC5wdXNoKHtcXG4gICAgICAgICAgICB0aXRsZTogJ+abtOaWsCcsXFxuICAgICAgICAgICAgdXJsOiAnaGlrZXI6Ly9wYWdlL2d4eCcsXFxuICAgICAgICAgICAgcGljX3VybDogSWNvbl9wcmVmaXggKyAnMjc3LnBuZycgKyBcXFwiQFJlZmVyZXI9XFxcIixcXG4gICAgICAgICAgICBjb2xfdHlwZTogXFxcImljb25fNVxcXCJcXG4gICAgICAgIH0pO1xcblxcbi8v5YiH5o2iXFxuY29uc3QgZm9sZCA9IGdldE15VmFyKCdsaWUuZ3JvdXAnLCBcXFwiMVxcXCIpXFxuZC5wdXNoKHtcXG4gICAgICAgICAgICB0aXRsZTogJ+WIh+aNoicsXFxuICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChmb2xkKSA9PiB7XFxuICAgICAgICAgICAgICAgIHB1dE15VmFyKCdsaWUuZ3JvdXAnLCBmb2xkID09PSAnMScgPyAnMCcgOiAnMScpO1xcblxcbiAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XFxuICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJoaWtlcjovL2VtcHR5XFxcIlxcbiAgICAgICAgICAgIH0sIGZvbGQpLFxcbiAgICAgICAgICAgIGNvbF90eXBlOiAnaWNvbl81JyxcXG4gICAgICAgICAgICBwaWNfdXJsOiBJY29uX3ByZWZpeCArICcyMDAucG5nJyArIFxcXCJAUmVmZXJlcj1cXFwiLFxcbiAgICAgICAgfSk7XFxuLypcXG5kLnB1c2goe1xcbiAgICAgICAgICAgIGNvbF90eXBlOiBcXFwibGluZVxcXCJcXG4gICAgICAgIH0pOyovXFxuZC5wdXNoKHtcXG4gICAgICAgICAgICBjb2xfdHlwZTogXFxcImJpZ19ibGFua19ibG9ja1xcXCJcXG4gICAgICAgIH0pO1xcblxcbi8v6L2u5pKtXFxudmFyIGx1bmRhdGEgPSBwZGZhKGh0bWwsIOi9ruaSreWIl+ihqCkubWFwKCh4KSA9PiB7XFxuICAgIC8vbG9nKHgpXFxuICAgICAgICB2YXIgdXJsbCA9IHBkKHgsIOi9ruaSremTvuaOpSkgKyAnI2ltbWVyc2l2ZVRoZW1lIyc7XFxuICAgIHJldHVybiB7XFxuICAgICAgICB0aXRsZTogcGRmaCh4LCDova7mkq3moIfpopgpLFxcbiAgICAgICAgaW1nOiBwZCh4LCDova7mkq3lm77niYcpICsgJ0BSZWZlcmVyPScsXFxuICAgICAgICB1cmw6ICdoaWtlcjovL3BhZ2UvZWo/dXJsPScrdXJsbCsnI25vSGlzdG9yeSMnLFxcbiAgICB9XFxufSk7XFxuZXZhbChKU09OLnBhcnNlKGZldGNoKFxcXCJoaWtlcjovL3BhZ2UvbHVuYm9cXFwiLCB7fSkpLnJ1bGUpO1xcbmJhbm5lcihNWV9SVUxFLnRpdGxlLCB0cnVlLCBkLCBsdW5kYXRhLCB7XFxuICAgICAgICB0aW1lOiA1MDAwLFxcbiAgICAgICAgY29sX3R5cGU6ICdjYXJkX3BpY18xJyxcXG4gICAgICAgIGRlc2M6ICcwJ1xcbiAgICB9KVxcblxcblwifSx7XCJjb2xfdHlwZVwiOlwibW92aWVfM1wiLFwibmFtZVwiOlwi4pGi5LiA57qn5ZGo6KGoXCIsXCJwYXRoXCI6XCJ3ZWVrXCIsXCJydWxlXCI6XCIvL+WRqOihqFxcbmlmIChmb2xkID09PSAwKSB7XFxuZC5wdXNoKHsgXFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiBcXFwiYmxhbmtfYmxvY2tcXFwiXFxuICAgICAgICAgICAgfSk7XFxuICAgICAgICB9IGVsc2UgaWYgKGZvbGQgPT09ICcxJykge1xcbnZhciB3ZWVrcyA9IG5ldyBBcnJheShcXFwi5ZGo5LiAXFxcIiwgXFxcIuWRqOS6jFxcXCIsIFxcXCLlkajkuIlcXFwiLCBcXFwi5ZGo5ZubXFxcIiwgXFxcIuWRqOS6lFxcXCIsIFxcXCLlkajlha1cXFwiLFxcXCLlkajml6VcXFwiKTtcXG5cXG5mdW5jdGlvbiBnZXRXZWVrRGF0ZSgpIHtcXG4gICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XFxuICAgIHZhciBkYXkgPSBub3cuZ2V0RGF5KCk7XFxuICAgIHZhciB3ZWVrID0gd2Vla3NbZGF5XTtcXG4gICAgLy9sb2cod2VlaylcXG4gICAgcmV0dXJuIHdlZWs7XFxufVxcbmxldCBub3dfV2VlayA9IGdldFdlZWtEYXRlKCk7XFxuLy9sb2cobm93X1dlZWspO1xcbiAgICB3ZWVrcy5mb3JFYWNoKGl0ID0+IHtcXG4gICAgICAgIGQucHVzaCh7XFxuICAgICAgICAgICAgdGl0bGU6IGdldE15VmFyKCd3ZWVrJywgbm93X1dlZWspID09PSBpdCA/ICfimIAnICsgJ+KAnOKAnOKAneKAnTxiPjxmb250IGNvbG9yPSNGQTcyOTg+JyArIGl0ICsgJzwvZm9udD48L2I+JyA6IGl0LnJlcGxhY2UoJ+WRqCcsJycpLFxcbiAgICAgICAgICAgIHVybDogJCgnI25vTG9hZGluZyMjbm9IaXN0b3J5IycpLmxhenlSdWxlKChpdCkgPT4ge1xcbiAgICAgICAgICAgICAgICBwdXRNeVZhcihcXFwid2Vla1xcXCIsIGl0KTtcXG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoKTtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJoaWtlcjovL2VtcHR5XFxcIlxcbiAgICAgICAgICAgIH0sIGl0KSxcXG4gICAgICAgICAgICBjb2xfdHlwZTogXFxcInNjcm9sbF9idXR0b25cXFwiXFxuICAgICAgICB9KTtcXG4gICAgfSlcXG5cXG5sZXQgY2hvc2Vfd2VlayA9IGdldE15VmFyKCd3ZWVrJywgbm93X1dlZWspO1xcbnZhciB3a1RvbnVtID0gZnVuY3Rpb24od2spIHtcXG4gICAgICAgIGlmICgv5ZGofOaYn+acny8udGVzdCh3aykpIHtcXG4gICAgICAgICAgICB3ayA9IHdrLnJlcGxhY2UoL+WRqHzmmJ/mnJ8vLCBcXFwiXFxcIilcXG4gICAgICAgIH1cXG4gICAgICAgIHZhciBtYXAgPSB7XFxuICAgICAgICAgICAgXFxcIuaXpVxcXCI6IDYsXFxuICAgICAgICAgICAgXFxcIuS4gFxcXCI6IDAsXFxuICAgICAgICAgICAgXFxcIuS6jFxcXCI6IDEsXFxuICAgICAgICAgICAgXFxcIuS4iVxcXCI6IDIsXFxuICAgICAgICAgICAgXFxcIuWbm1xcXCI6IDMsXFxuICAgICAgICAgICAgXFxcIuS6lFxcXCI6IDQsXFxuICAgICAgICAgICAgXFxcIuWFrVxcXCI6IDVcXG4gICAgICAgIH07XFxuICAgICAgICByZXR1cm4gbWFwW3drXVxcbiAgICB9XFxuICAgIGxldCB3a19udW0gPSB3a1RvbnVtKGNob3NlX3dlZWspO1xcbi8vbG9nKHdrX251bSlcXG5mb3IgKHZhciBrID0gMDsgayA8PSA2OyBrKyspIHtcXG4gICAgZXZhbCgndmFyIHdrJyArIGsgKyAnPXBkZmEoaHRtbCwgXFxcImJvZHkmJi50YWItbGlzdCwnICsgKGs9PTA/MDprKSArICcmJi5tb2R1bGUtaXRlbSwwOjEyXFxcIik7Jyk7Ly/mmJ/mnJ/liJfooahcXG4gICAgaWYgKHdrX251bSA9PSBrKSB7XFxuICAgICAgICBldmFsKCd3aycraykuZm9yRWFjaChpdGVtID0+IHtcXG4gICAgICAgICAgICB2YXIgdXJsbCA9IE1ZX0hPTUUgKyBwZGZoKGl0ZW0sICdhJiZocmVmJykgKyAnI2ltbWVyc2l2ZVRoZW1lIyc7XFxuICAgICAgICAgICAgZC5wdXNoKHtcXG4gICAgICAgICAgICAgICAgdGl0bGU6IHBkZmgoaXRlbSwg5qCH6aKYKSxcXG4gICAgICAgICAgICAgICAgZGVzYzogcGRmaChpdGVtLCDmj4/ov7ApLFxcbiAgICAgICAgICAgICAgICBpbWc6IHBkZmgoaXRlbSwg5Zu+54mHKSArIFxcXCJAUmVmZXJlcj1cXFwiLFxcbiAgICAgICAgICAgICAgICB1cmw6ICdoaWtlcjovL3BhZ2UvZWojbm9IaXN0b3J5IyNpbW1lcnNpdmVUaGVtZSMnLFxcbiAgICAgICAgICAgICAgICBleHRyYToge1xcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmxsLFxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHBkZmgoaXRlbSwg5qCH6aKYKSxcXG4gICAgICAgICAgICAgICAgICAgIGltZzogcGRmaChpdGVtLCDlm77niYcpICsgXFxcIkBSZWZlcmVyPVxcXCIsXFxuICAgICAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnbW92aWVfMycsXFxuICAgICAgICAgICAgfSk7XFxuICAgICAgICB9KVxcbiAgICB9ICAgIFxcbn1cXG5kLnB1c2goe1xcbiAgICAgICAgICAgICAgICBjb2xfdHlwZTogXFxcImJsYW5rX2Jsb2NrXFxcIlxcbiAgICAgICAgICAgIH0pO1xcbiAgICAgICAgfVxcblwifSx7XCJjb2xfdHlwZVwiOlwibW92aWVfM1wiLFwibmFtZVwiOlwi4pGj5LiA57qn5o6o6I2QXCIsXCJwYXRoXCI6XCJ0alwiLFwicnVsZVwiOlwiXFxuY29uc3QgZm9sZDIgPSBnZXRNeVZhcignaGouZ3JvdXAnLCBcXFwiMVxcXCIpXFxuZC5wdXNoKHtcXG4gICAgdGl0bGU6Zm9sZDIgPT09ICcxJyA/ICc8Yj48c3BhbiBzdHlsZT1cXFwiY29sb3I6ICNmZjg0N2NcXFwiPueUteW9sVxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHTwn5KTPC9zcGFuPjwvYj4nIDogJ+eUteW9sVxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHTwn5KXJyxcXG4gICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChmb2xkMikgPT4ge1xcbiAgICAgICAgICAgICAgICBwdXRNeVZhcignaGouZ3JvdXAnLCBmb2xkMiA9PT0gJzEnID8gJzAnIDogJzEnKTtcXG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xcbiAgICAgICAgICAgICAgICByZXR1cm4gXFxcImhpa2VyOi8vZW1wdHlcXFwiXFxuICAgICAgICAgICAgfSwgZm9sZDIpLFxcbiAgICBwaWNfdXJsOiAnaHR0cHM6Ly9oaWtlcmZhbnMuY29tL3R1Ymlhby9rZS80MC5wbmcnICsgXFxcIkBSZWZlcmVyPVxcXCIsXFxuICAgIGNvbF90eXBlOiBcXFwiYXZhdGFyXFxcIlxcbn0pO1xcbmlmIChmb2xkMiA9PT0gMCkge1xcbmQucHVzaCh7IFxcbiAgICAgICAgICAgICAgICBjb2xfdHlwZTogXFxcImJsYW5rX2Jsb2NrXFxcIixcXG4gICAgICAgICAgICB9KTtcXG4gICAgICAgIH0gZWxzZSBpZiAoZm9sZDIgPT09ICcxJykge1xcbnZhciB4ZGhqPXBkZmEoaHRtbCwg5o6o6I2Q5YiX6KGoMik7XFxueGRoai5mb3JFYWNoKGl0ZW0gPT4geyAgXFxudmFyIHVybGwgPSBwZChpdGVtLCDpk77mjqUpICsgJyNpbW1lcnNpdmVUaGVtZSMnO1xcbiAgICBkLnB1c2goe1xcbiAgICAgICAgdGl0bGU6IHBkZmgoaXRlbSwg5qCH6aKYKSxcXG4gICAgICAgIGRlc2M6IHBkZmgoaXRlbSwg5o+P6L+wKSxcXG4gICAgICAgIGltZzogcGQoaXRlbSwg5Zu+54mHKSArIFxcXCJAUmVmZXJlcj1cXFwiLFxcbiAgICAgICAgdXJsOiAnaGlrZXI6Ly9wYWdlL2VqI25vSGlzdG9yeSMjaW1tZXJzaXZlVGhlbWUjJyxcXG4gICAgICAgIGV4dHJhOiB7XFxuICAgICAgICAgICAgdXJsOiB1cmxsLFxcbiAgICAgICAgICAgIHRpdGxlOiBwZGZoKGl0ZW0sIOagh+mimCksXFxuICAgICAgICAgICAgaW1nOiBwZChpdGVtLCDlm77niYcpICsgXFxcIkBSZWZlcmVyPVxcXCIsXFxuICAgICAgICAgICAgICAgfSxcXG4gICAgICAgIGNvbF90eXBlOiAnbW92aWVfMycsXFxuICAgIH0pO1xcbn0pXFxufVxcblxcbmNvbnN0IGZvbGQzID0gZ2V0TXlWYXIoJ3N4Lmdyb3VwJywgXFxcIjFcXFwiKVxcbmQucHVzaCh7XFxuICAgIHRpdGxlOmZvbGQzID09PSAnMScgPyAnPGI+PHNwYW4gc3R5bGU9XFxcImNvbG9yOiAjRkE3Mjk4XFxcIj7liafpm4ZcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx08J+MuDwvc3Bhbj48L2I+JyA6ICfliafpm4ZcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx08J+SricsXFxuICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoZm9sZDMpID0+IHtcXG4gICAgICAgICAgICAgICAgcHV0TXlWYXIoJ3N4Lmdyb3VwJywgZm9sZDMgPT09ICcxJyA/ICcwJyA6ICcxJyk7XFxuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJoaWtlcjovL2VtcHR5XFxcIlxcbiAgICAgICAgICAgIH0sIGZvbGQzKSxcXG4gICAgcGljX3VybDogJ2h0dHBzOi8vaGlrZXJmYW5zLmNvbS90dWJpYW8va2UvNjMucG5nJyArIFxcXCJAUmVmZXJlcj1cXFwiLFxcbiAgICBjb2xfdHlwZTogXFxcImF2YXRhclxcXCJcXG59KTtcXG5pZiAoZm9sZDMgPT09IDApIHtcXG5kLnB1c2goeyBcXG4gICAgICAgICAgICAgICAgY29sX3R5cGU6IFxcXCJibGFua19ibG9ja1xcXCJcXG4gICAgICAgICAgICB9KTtcXG4gICAgICAgIH0gZWxzZSBpZiAoZm9sZDMgPT09ICcxJykge1xcbnZhciBqanN4PXBkZmEoaHRtbCwg5o6o6I2Q5YiX6KGoMyk7XFxuampzeC5mb3JFYWNoKGl0ZW0gPT4geyAgXFxudmFyIHVybGwgPSBwZChpdGVtLCDpk77mjqUpICsgJyNpbW1lcnNpdmVUaGVtZSMnO1xcbiAgICBkLnB1c2goe1xcbiAgICAgICAgdGl0bGU6IHBkZmgoaXRlbSwg5qCH6aKYKSxcXG4gICAgICAgIGRlc2M6IHBkZmgoaXRlbSwg5o+P6L+wKSxcXG4gICAgICAgIGltZzogcGQoaXRlbSwg5Zu+54mHKSArIFxcXCJAUmVmZXJlcj1cXFwiLFxcbiAgICAgICAgdXJsOiAnaGlrZXI6Ly9wYWdlL2VqI25vSGlzdG9yeSMjaW1tZXJzaXZlVGhlbWUjJyxcXG4gICAgICAgIGV4dHJhOiB7XFxuICAgICAgICAgICAgIHVybDogdXJsbCxcXG4gICAgICAgICAgICAgdGl0bGU6IHBkZmgoaXRlbSwg5qCH6aKYKSxcXG4gICAgICAgICAgICAgaW1nOiBwZChpdGVtLCDlm77niYcpICsgXFxcIkBSZWZlcmVyPVxcXCIsXFxuICAgICAgICAgICAgICAgIH0sXFxuICAgICAgICBjb2xfdHlwZTogJ21vdmllXzMnLFxcbiAgICB9KTtcXG59KVxcbn1cXG5cXG5jb25zdCBmb2xkNCA9IGdldE15VmFyKCd6eS5ncm91cCcsIFxcXCIxXFxcIilcXG5kLnB1c2goe1xcbiAgICB0aXRsZTpmb2xkNCA9PT0gJzEnID8gJzxiPjxzcGFuIHN0eWxlPVxcXCJjb2xvcjogI0ZBNzI5OFxcXCI+5Yqo5ryrXFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdPCflK48L3NwYW4+PC9iPicgOiAn5Yqo5ryrXFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdPCfkp0nLFxcbiAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKGZvbGQ0KSA9PiB7XFxuICAgICAgICAgICAgICAgIHB1dE15VmFyKCd6eS5ncm91cCcsIGZvbGQ0ID09PSAnMScgPyAnMCcgOiAnMScpO1xcbiAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFwiaGlrZXI6Ly9lbXB0eVxcXCJcXG4gICAgICAgICAgICB9LCBmb2xkNCksXFxuICAgIHBpY191cmw6ICdodHRwczovL2hpa2VyZmFucy5jb20vdHViaWFvL2tlLzcwLnBuZycgKyBcXFwiQFJlZmVyZXI9XFxcIixcXG4gICAgY29sX3R5cGU6IFxcXCJhdmF0YXJcXFwiXFxufSk7XFxuaWYgKGZvbGQ0ID09PSAwKSB7XFxuZC5wdXNoKHsgXFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiBcXFwiYmxhbmtfYmxvY2tcXFwiXFxuICAgICAgICAgICAgfSk7XFxuICAgICAgICB9IGVsc2UgaWYgKGZvbGQ0ID09PSAnMScpIHtcXG52YXIgamp6eT1wZGZhKGh0bWwsIOaOqOiNkOWIl+ihqDQpO1xcbmpqenkuZm9yRWFjaChpdGVtID0+IHsgIFxcbnZhciB1cmxsID0gcGQoaXRlbSwg6ZO+5o6lKSArICcjaW1tZXJzaXZlVGhlbWUjJztcXG4gICAgZC5wdXNoKHtcXG4gICAgICAgIHRpdGxlOiBwZGZoKGl0ZW0sIOagh+mimCksXFxuICAgICAgICBkZXNjOiBwZGZoKGl0ZW0sIOaPj+i/sCksXFxuICAgICAgICBpbWc6IHBkKGl0ZW0sIOWbvueJhykgKyBcXFwiQFJlZmVyZXI9XFxcIixcXG4gICAgICAgIHVybDogJ2hpa2VyOi8vcGFnZS9laiNub0hpc3RvcnkjI2ltbWVyc2l2ZVRoZW1lIycsXFxuICAgICAgICBleHRyYToge1xcbiAgICAgICAgICAgICB1cmw6IHVybGwsXFxuICAgICAgICAgICAgIHRpdGxlOiBwZGZoKGl0ZW0sIOagh+mimCksXFxuICAgICAgICAgICAgIGltZzogcGQoaXRlbSwg5Zu+54mHKSArIFxcXCJAUmVmZXJlcj1cXFwiLFxcbiAgICAgICAgICAgICAgICB9LFxcbiAgICAgICAgY29sX3R5cGU6ICdtb3ZpZV8zJyxcXG4gICAgfSk7XFxufSlcXG59XFxuXFxuY29uc3QgZm9sZDUgPSBnZXRNeVZhcignZG0uZ3JvdXAnLCBcXFwiMVxcXCIpXFxuZC5wdXNoKHtcXG4gICAgdGl0bGU6Zm9sZDUgPT09ICcxJyA/ICc8Yj48c3BhbiBzdHlsZT1cXFwiY29sb3I6ICNGQTcyOThcXFwiPue7vOiJulxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHTij7A8L3NwYW4+PC9iPicgOiAn57u86Im6XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdPCfkpgnLFxcbiAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKGZvbGQ1KSA9PiB7XFxuICAgICAgICAgICAgICAgIHB1dE15VmFyKCdkbS5ncm91cCcsIGZvbGQ1ID09PSAnMScgPyAnMCcgOiAnMScpO1xcbiAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFwiaGlrZXI6Ly9lbXB0eVxcXCJcXG4gICAgICAgICAgICB9LCBmb2xkNSksXFxuICAgIHBpY191cmw6ICdodHRwczovL2hpa2VyZmFucy5jb20vdHViaWFvL2tlLzExOC5wbmcnICsgXFxcIkBSZWZlcmVyPVxcXCIsXFxuICAgIGNvbF90eXBlOiBcXFwiYXZhdGFyXFxcIlxcbn0pO1xcbmlmIChmb2xkNSA9PT0gMCkge1xcbmQucHVzaCh7IFxcbiAgICAgICAgICAgICAgICBjb2xfdHlwZTogXFxcImJsYW5rX2Jsb2NrXFxcIlxcbiAgICAgICAgICAgIH0pO1xcbiAgICAgICAgfSBlbHNlIGlmIChmb2xkNSA9PT0gJzEnKSB7XFxudmFyIGpqZG09cGRmYShodG1sLCDmjqjojZDliJfooag1KTtcXG5qamRtLmZvckVhY2goaXRlbSA9PiB7ICBcXG52YXIgdXJsbCA9IHBkKGl0ZW0sIOmTvuaOpSkgKyAnI2ltbWVyc2l2ZVRoZW1lIyc7XFxuICAgIGQucHVzaCh7XFxuICAgICAgICB0aXRsZTogcGRmaChpdGVtLCDmoIfpopgpLFxcbiAgICAgICAgZGVzYzogcGRmaChpdGVtLCDmj4/ov7ApLFxcbiAgICAgICAgaW1nOiBwZChpdGVtLCDlm77niYcpICsgXFxcIkBSZWZlcmVyPVxcXCIsXFxuICAgICAgICB1cmw6ICdoaWtlcjovL3BhZ2UvZWojbm9IaXN0b3J5IyNpbW1lcnNpdmVUaGVtZSMnLFxcbiAgICAgICAgZXh0cmE6IHtcXG4gICAgICAgICAgICAgdXJsOiB1cmxsLFxcbiAgICAgICAgICAgICB0aXRsZTogcGRmaChpdGVtLCDmoIfpopgpLFxcbiAgICAgICAgICAgICBpbWc6IHBkKGl0ZW0sIOWbvueJhykgKyBcXFwiQFJlZmVyZXI9XFxcIixcXG4gICAgICAgICAgICAgICAgfSxcXG4gICAgICAgIGNvbF90eXBlOiAnbW92aWVfMycsXFxuICAgIH0pO1xcbn0pXFxufVxcblxcbmNvbnN0IGZvbGQxID0gZ2V0TXlWYXIoJ3JiLmdyb3VwJywgXFxcIjFcXFwiKVxcbmQucHVzaCh7XFxuICAgIHRpdGxlOmZvbGQxID09PSAnMScgPyAnPGI+PHNwYW4gc3R5bGU9XFxcImNvbG9yOiAjZjczODU5XFxcIj7nuqrlvZXniYdcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx08J+NgDwvc3Bhbj48L2I+JyA6ICfnuqrlvZXniYdcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx04piY77iPJyxcXG4gICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChmb2xkMSkgPT4ge1xcbiAgICAgICAgICAgICAgICBwdXRNeVZhcigncmIuZ3JvdXAnLCBmb2xkMSA9PT0gJzEnID8gJzAnIDogJzEnKTtcXG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xcbiAgICAgICAgICAgICAgICByZXR1cm4gXFxcImhpa2VyOi8vZW1wdHlcXFwiXFxuICAgICAgICAgICAgfSwgZm9sZDEpLFxcbiAgICBwaWNfdXJsOiAnaHR0cHM6Ly9oaWtlcmZhbnMuY29tL3R1Ymlhby9rZS8xMjAucG5nJyxcXG4gICAgY29sX3R5cGU6IFxcXCJhdmF0YXJcXFwiXFxufSk7XFxuaWYgKGZvbGQxID09PSAwKSB7XFxuZC5wdXNoKHsgXFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiBcXFwiYmxhbmtfYmxvY2tcXFwiXFxuICAgICAgICAgICAgfSk7XFxuICAgICAgICB9IGVsc2UgaWYgKGZvbGQxID09PSAnMScpIHtcXG52YXIgenpyYj1wZGZhKGh0bWwsIOaOqOiNkOWIl+ihqDEpO1xcbnp6cmIuZm9yRWFjaChpdGVtID0+IHsgIFxcbnZhciB1cmxsID0gcGQoaXRlbSwg6ZO+5o6lKSArICcjaW1tZXJzaXZlVGhlbWUjJztcXG4gICAgZC5wdXNoKHtcXG4gICAgICAgIHRpdGxlOiBwZGZoKGl0ZW0sIOagh+mimCksXFxuICAgICAgICBkZXNjOiBwZGZoKGl0ZW0sIOaPj+i/sCksXFxuICAgICAgICBpbWc6IHBkKGl0ZW0sIOWbvueJhykgKyBcXFwiQFJlZmVyZXI9XFxcIixcXG4gICAgICAgIHVybDogJ2hpa2VyOi8vcGFnZS9laiNub0hpc3RvcnkjI2ltbWVyc2l2ZVRoZW1lIycsXFxuICAgICAgICBleHRyYToge1xcbiAgICAgICAgICAgIHVybDogdXJsbCxcXG4gICAgICAgICAgICB0aXRsZTogcGRmaChpdGVtLCDmoIfpopgpLFxcbiAgICAgICAgICAgIGltZzogcGQoaXRlbSwg5Zu+54mHKSArIFxcXCJAUmVmZXJlcj1cXFwiLFxcbiAgICAgICAgICAgICAgIH0sXFxuICAgICAgICBjb2xfdHlwZTogJ21vdmllXzMnLFxcbiAgICAgICB9KTtcXG4gICB9KVxcbn1cXG5cIn0se1wiY29sX3R5cGVcIjpcIm1vdmllXzNcIixcIm5hbWVcIjpcIuKRpeabtOaWsOmhtemdolwiLFwicGF0aFwiOlwiZ3hcIixcInJ1bGVcIjpcImpzOlxcbnZhciBkID0gW107XFxuY29uc3QgYmFzZV91cmwgPSAnaHR0cHM6Ly93d3cuc3V5aW5nLmxpLyc7XFxuXFxubGV0IHRydWVfdXJsID0gZ2V0TXlWYXIoTVlfUlVMRS51cmwsIGJhc2VfdXJsKTtcXG5NWV9VUkw9dHJ1ZV91cmw7XFxudmFyIGh0bWw9ZmV0Y2godHJ1ZV91cmwpXFxuLy9sb2coaHRtbClcXG5cXG5kLnB1c2goe1xcbiAgICB0aXRsZTonPGI+PHNwYW4gc3R5bGU9XFxcImNvbG9yOiAjRkE3Mjk4XFxcIj7mnIDov5Hmm7TmlrBcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx0XFxcXHRcXFxcdFxcXFx08J+MuPCfjLjwn4y48J+MuPCfjLg8L3NwYW4+PC9iPicsXFxuICAgIHVybDogXFxcImhpa2VyOi8vZW1wdHlcXFwiLFxcbiAgICBwaWNfdXJsOiAnaHR0cHM6Ly9oaWtlcmZhbnMuY29tL3R1Ymlhby9rZS82My5wbmcnICsgXFxcIkBSZWZlcmVyPVxcXCIsXFxuICAgIGNvbF90eXBlOiBcXFwiYXZhdGFyXFxcIlxcbn0pO1xcblxcbmNvbnN0IGxpc3QgPSBwZGZhKGh0bWwsICdib2R5JiYubW9kdWxlLW1haW4sMCYmLm1vZHVsZS1pdGVtJyk7XFxubGlzdC5mb3JFYWNoKGl0ZW0gPT4geyAgXFxudmFyIHRpdGxlID0gcGRmaChpdGVtLCAnYSYmdGl0bGUnKTtcXG52YXIgZGVzYyA9IHBkZmgoaXRlbSwgJy5tb2R1bGUtaXRlbS1ub3RlJiZUZXh0Jyk7XFxudmFyIGltZyA9IHBkKGl0ZW0sICdpbWd8fC5sYXp5JiZkYXRhLXNyY3x8ZGF0YS1vcmlnaW5hbCcpICsgXFxcIkBSZWZlcmVyPVxcXCI7XFxudmFyIHVybGwgPSBwZChpdGVtLCAnYSYmaHJlZicpICsgJyNpbW1lcnNpdmVUaGVtZSMnO1xcbiAgICBkLnB1c2goe1xcbiAgICAgICAgdGl0bGU6IHRpdGxlLFxcbiAgICAgICAgZGVzYzogZGVzYyxcXG4gICAgICAgIGltZzogaW1nLFxcbiAgICAgICAgdXJsOiAnaGlrZXI6Ly9wYWdlL2VqI25vSGlzdG9yeSMjaW1tZXJzaXZlVGhlbWUjJyxcXG4gICAgICAgIGV4dHJhOiB7XFxuICAgICAgICAgICAgdXJsOiB1cmxsLFxcbiAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcXG4gICAgICAgICAgICBpbWc6IGltZyxcXG4gICAgICAgICAgICAgICB9LFxcbiAgICAgICAgY29sX3R5cGU6ICdtb3ZpZV8zX21hcnF1ZWUnLFxcbiAgICB9KVxcbn0pXFxuXFxuc2V0UmVzdWx0KGQpO1wifSx7XCJjb2xfdHlwZVwiOlwibW92aWVfM1wiLFwibmFtZVwiOlwi4pO15LqM57qn5YaF5a65XCIsXCJwYXRoXCI6XCJlclwiLFwicnVsZVwiOlwianM6XFxuLyp2ZXIgMjAyMzA4MTggMS4wXFxuICovXFxudmFyIGN1c3RvbSA9IHt9O1xcblxcbi8v6aKE6K6+XFxuZnVuY3Rpb24gY3VzdG9tRGF0YShjdXN0b20pIHtcXG4gICAgT2JqZWN0LmtleXMoY3VzdG9tKS5mb3JFYWNoKChrKSA9PiB7XFxuICAgICAgICB0aGlzW2tdID0gY3VzdG9tW2tdO1xcbiAgICB9KVxcbn1cXG5cXG5sZXQgRXJqaSA9IHtcXG4gICAg6YCa5YWNOiAkKCcnKS5sYXp5UnVsZSgoKSA9PiB7XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIHZhciBodG1sID0gSlNPTi5wYXJzZShyZXF1ZXN0KGlucHV0KS5tYXRjaCgvciBwbGF5ZXJfLio/PSguKj8pPC8pWzFdKVxcbiAgICAgICAgICAgIHZhciB1cmwgPSBodG1sLnVybFxcbiAgICAgICAgICAgIGlmIChodG1sLmVuY3J5cHQgPT0gJzEnKSB7XFxuICAgICAgICAgICAgICAgIHVybCA9IHVuZXNjYXBlKHVybCk7XFxuICAgICAgICAgICAgfSBlbHNlIGlmIChodG1sLmVuY3J5cHQgPT0gJzInKSB7XFxuICAgICAgICAgICAgICAgIHVybCA9IHVuZXNjYXBlKGJhc2U2NERlY29kZSh1cmwpKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgaWYgKC9tM3U4fG1wNC8udGVzdCh1cmwpKSB7XFxuICAgICAgICAgICAgICAgIHJldHVybiB1cmxcXG4gICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICByZXR1cm4gXFxcInZpZGVvOi8vXFxcIiArIGlucHV0XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSBjYXRjaCAoZSkge1xcbiAgICAgICAgICAgIHJldHVybiBcXFwidmlkZW86Ly9cXFwiICsgaW5wdXRcXG4gICAgICAgIH1cXG4gICAgfSksXFxuICAgIHVwZGF0YTogZnVuY3Rpb24ocnVsZSwgaGVhZGVycykge1xcbiAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMgIT0gdW5kZWZpbmVkID8gaGVhZGVycyA6IHt9O1xcbiAgICAgICAgc2V0TGFzdENoYXB0ZXJSdWxlKCdqczonICsgJC50b1N0cmluZygodXJsLCBydWxlLCBoZWFkZXJzKSA9PiB7XFxuICAgICAgICAgICAgdmFyIGh0bWwgPSBmZXRjaCh1cmwsIGhlYWRlcnMpO1xcbiAgICAgICAgICAgIHNldFJlc3VsdChldmFsKHJ1bGUpKVxcbiAgICAgICAgfSwgTVlfVVJMLCBydWxlLCBoZWFkZXJzKSlcXG4gICAgfSxcXG4gICAgY2xvc2U6IGZ1bmN0aW9uKGxpc3QsIHNvcnRzKSB7XFxuICAgICAgICBhZGRMaXN0ZW5lcignb25DbG9zZScsICQudG9TdHJpbmcoKGxpc3QsIHNvcnRzKSA9PiB7XFxuICAgICAgICAgICAgbGlzdC5tYXAoeCA9PiB7XFxuICAgICAgICAgICAgICAgIGNsZWFyTXlWYXIoJ2VyXycgKyB4ICsgJ2ZvbGQnKTtcXG4gICAgICAgICAgICAgICAgY2xlYXJNeVZhcignZXJfJyArIHgpO1xcbiAgICAgICAgICAgIH0pXFxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3J0czsgaSsrKSB7XFxuICAgICAgICAgICAgICAgIGNsZWFyTXlWYXIoJ3BsYXlsaXN0XycgKyBpKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgY2xlYXJNeVZhcignZXJfcGxheWxpc3RzJyk7XFxuICAgICAgICB9LCBsaXN0LCBzb3J0cykpXFxuICAgIH0sXFxuICAgIGRhdGFDb252ZXJ0OiBmdW5jdGlvbihkYXRhKSB7XFxuICAgICAgICB2YXIgbmV3Y2xzbGlzdCA9IGRhdGEubWFwKGZ1bmN0aW9uKG9iaikge1xcbiAgICAgICAgICAgIHZhciBuZXdPYmogPSBPYmplY3QuYXNzaWduKHt9LCBvYmopO1xcbiAgICAgICAgICAgIGlmIChuZXdPYmouaGFzT3duUHJvcGVydHkoJ3R5cGUnKSkge1xcbiAgICAgICAgICAgICAgICBuZXdPYmouY29sX3R5cGUgPSBuZXdPYmoudHlwZTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgcmV0dXJuIG5ld09iajtcXG4gICAgICAgIH0pO1xcbiAgICAgICAgcmV0dXJuIG5ld2Nsc2xpc3Q7XFxuICAgIH0sXFxuICAgIHByZUxvYWQ6IGZ1bmN0aW9uKGZ1bmMpIHtcXG4gICAgICAgIGxldCBteWZ1bmMgPSBudWxsXFxuICAgICAgICBpZiAoZnVuYyAhPSB1bmRlZmluZWQgJiYgZnVuYy5jb25zdHJ1Y3RvciA9PSBGdW5jdGlvbikge1xcbiAgICAgICAgICAgIG15ZnVuYyA9IGZ1bmNcXG4gICAgICAgIH1cXG4gICAgICAgICQuZXh0ZW5kKHtcXG4gICAgICAgICAgICBkYXRhQ29udmVydDogdGhpcy5kYXRhQ29udmVydCxcXG4gICAgICAgICAgICBtc206IE1ldGhvZHMuTXVsdGlTZWxlY3RNb2RlLFxcbiAgICAgICAgICAgIGZ1bmM6IG15ZnVuYyxcXG4gICAgICAgIH0pXFxuICAgIH0sXFxuICAgIHNtYWxsOiBmdW5jdGlvbihzdHIsIGNvbG9yKSB7XFxuICAgICAgICByZXR1cm4gJ+KAmOKAmOKAmeKAmTxzbWFsbD48Zm9udCBjb2xvcj1cXFwiJyArIChjb2xvciB8fCAnJykgKyAnXFxcIj4nICsgc3RyICsgJzwvZm9udD48L3NtYWxsPic7XFxuICAgIH0sXFxuICAgIOWjsOaYjjogZnVuY3Rpb24oKSB7XFxuICAgICAgICBkLnB1c2goe1xcbiAgICAgICAgICAgIHRpdGxlOiB0aGlzLnNtYWxsKCfku6XkuIrmlbDmja7mnaXmupDkuo7nvZHnu5zvvIzlpoLmgqjllpzmrKLvvIzor7fmlK/mjIHlrpjmlrnvvIEnLCAnIzg3MUY3OCcpLFxcbiAgICAgICAgICAgIGRlc2M6IHRoaXMuc21hbGwoJ+atpOinhOWImeS7hemZkOWtpuS5oOS6pOa1geS9v+eUqO+8jOivt+S6juWvvOWFpeWQjjI05bCP5pe25YaF5Yig6Zmk77yM5Lu75L2V57uE57uH5oiW5Liq5Lq65LiN5b6X5Lul5Lu75L2V5pa55byP5pa55rOV5Lyg5pKt5q2k6KeE5YiZ55qE5pW05L2T5oiW6YOo5YiG77yBJywgJyNGMjBDMDAnKSxcXG4gICAgICAgICAgICB1cmw6ICdoaWtlcjovL2VtcHR5JyxcXG4gICAgICAgICAgICBjb2xfdHlwZTogJ3RleHRfY2VudGVyXzEnXFxuICAgICAgICB9KTtcXG4gICAgfSxcXG5cXG5cXG4vL+eugOS7i1xcbiAgICBzZXREZXNjOiBmdW5jdGlvbihkZXNjLCBudW0pIHtcXG4gICAgICAgIGRlc2MgPSBkZXNjLmNvbnN0cnVjdG9yID09IEFycmF5ID8gZGVzYy5qb2luKCc8YnI+JykgOiBkZXNjO1xcbiAgICAgICAgaWYgKGRlc2MucmVwbGFjZSgvKDxicj58XFxcXHMrKS9nLCAnJykubGVuZ3RoID09IDApIHtcXG4gICAgICAgICAgICByZXR1cm5cXG4gICAgICAgIH1cXG4gICAgICAgIHZhciBpbmZvID0gc3RvcmFnZTAuZ2V0TXlWYXIoJ2VyX2luZm8nLCAne30nKVxcbiAgICAgICAgaWYgKGluZm9bJ2Rlc2MnXSAhPSB1bmRlZmluZWQpIHtcXG4gICAgICAgICAgICBpbmZvWydkZXNjJ10gPSBpbmZvWydkZXNjJ10gKyAnIOeugOS7izonICsgZGVzYztcXG4gICAgICAgICAgICBzdG9yYWdlMC5wdXRNeVZhcignZXJfaW5mbycsIGluZm8pO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgY29uc3QgbWFyayA9ICdkZXNjJztcXG4gICAgICAgIG51bSA9IHR5cGVvZihudW0pID09ICd1bmRlZmluZWQnID8gOTAgOiBudW1cXG4gICAgICAgIGRlc2MgPSBkZXNjLnN0YXJ0c1dpdGgoJ+OAgOOAgCcpID8gZGVzYyA6ICfjgIDjgIAnICsgZGVzYztcXG4gICAgICAgIGRlc2MgPSBkZXNjLnJlcGxhY2UoLycvZywgXFxcIiYjMzk7XFxcIik7XFxuICAgICAgICBkZXNjID0gZGVzYy5yZXBsYWNlKC9cXFxcclxcXFxuL2csIFxcXCI8YnI+XFxcIik7XFxuXFxuICAgICAgICBmdW5jdGlvbiBzdWJzdHIoc3RyLCBtYXhMZW5ndGgpIHtcXG4gICAgICAgICAgICBsZXQgbGVuID0gMDtcXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHN0ci5sZW5ndGg7IGkrKykge1xcbiAgICAgICAgICAgICAgICBpZiAoc3RyLmNoYXJDb2RlQXQoaSkgPiAyNTUpIHtcXG4gICAgICAgICAgICAgICAgICAgIGxlbiArPSAyO1xcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICAgICAgbGVuKys7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgaWYgKGxlbiA+IG1heExlbmd0aCkge1xcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0ci5zbGljZSgwLCBpKSArICcuLi4nO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIHJldHVybiBzdHI7XFxuICAgICAgICB9XFxuICAgICAgICBsZXQgc2Rlc2MgPSBzdWJzdHIoZGVzYywgbnVtKTtcXG4gICAgICAgIHZhciBsYXp5ID0gJChgI25vTG9hZGluZyNgKS5sYXp5UnVsZSgoZGMsIHNkYywgbSkgPT4ge1xcbiAgICAgICAgICAgIHZhciBzaG93ID0gc3RvcmFnZTAuZ2V0SXRlbShtLCAnMCcpO1xcbiAgICAgICAgICAgIHZhciB0aXRsZSA9IGZpbmRJdGVtKCdkZXNjJykudGl0bGU7XFxuICAgICAgICAgICAgdmFyIHJlID0gLyg8XFxcXC9zbWFsbD48YnI+Lio/PikuKy9nO1xcbiAgICAgICAgICAgIHZhciBleHAgPSAn5bGV5byAOic7XFxuICAgICAgICAgICAgdmFyIHJldCA9ICfmlLbotbc6JztcXG4gICAgICAgICAgICBpZiAoc2hvdyA9PSAnMScpIHtcXG4gICAgICAgICAgICAgICAgdXBkYXRlSXRlbSgnZGVzYycsIHtcXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZVxcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKHJldCwgZXhwKVxcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKHJlLCAnJDEnICsgc2RjICsgJzwvc21hbGw+JylcXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKDxcXFxcL3NtYWxsPjxicj48Zm9udCBjb2xvcj1cXFwiKS4qPyhcXFwiPikvLCAnJDEjOEEyQkUyJDInKS8v5pS26LW36aKc6ImyXFxuXFxuICAgICAgICAgICAgICAgIH0pXFxuICAgICAgICAgICAgICAgIHN0b3JhZ2UwLnNldEl0ZW0obSwgJzAnKTtcXG4gICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICB1cGRhdGVJdGVtKCdkZXNjJywge1xcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlXFxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoZXhwLCByZXQpXFxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UocmUsICckMScgKyBkYyArICc8L3NtYWxsPicpXFxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyg8XFxcXC9zbWFsbD48YnI+PGZvbnQgY29sb3I9XFxcIikuKj8oXFxcIj4pLywgJyQxIzAwODAwMCQyJykvL+WxleW8gOminOiJslxcbiAgICAgICAgICAgICAgICB9KVxcbiAgICAgICAgICAgICAgICBzdG9yYWdlMC5zZXRJdGVtKG0sICcxJyk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIHJldHVybiBgaGlrZXI6Ly9lbXB0eWBcXG4gICAgICAgIH0sIGRlc2MsIHNkZXNjLCBtYXJrKVxcbiAgICAgICAgdmFyIHNjID0gc3RvcmFnZTAuZ2V0SXRlbShtYXJrLCAnMCcpID09ICcwJyA/ICflsZXlvIA6JyA6ICfmlLbotbc6JztcXG4gICAgICAgIHZhciBkYyA9IHN0b3JhZ2UwLmdldEl0ZW0obWFyaywgJzAnKSA9PSAnMCcgPyBzZGVzYyA6IGRlc2M7XFxuICAgICAgICBkLnB1c2goe1xcbiAgICAgICAgICAgIHRpdGxlOiAnJyArICc8Yj48Zm9udCBjb2xvcj1cXFwiIzA5OEFDMVxcXCI+4oi3ICAgICAgICAgICAgICAgICAgICAgIOWJp+aDheeugOS7i1xcdDwvZm9udD48L2I+JyArIFxcXCI8c21hbGw+PGEgc3R5bGU9J3RleHQtZGVjb3JhdGlvbjogbm9uZTsnIGhyZWY9J1xcXCIgKyBsYXp5ICsgXFxcIic+XFxcIiArIHNjICsgJzwvYT48L3NtYWxsPjxicj48Zm9udCBjb2xvcj1cXFwiIzhBMkJFMlxcXCI+JyArIGAke2RjfWAgKyAnPC9zbWFsbD4nLC8v6buY6K6k6aKc6ImyXFxuICAgICAgICAgICAgY29sX3R5cGU6ICdyaWNoX3RleHQnLFxcbiAgICAgICAgICAgIGV4dHJhOiB7XFxuICAgICAgICAgICAgICAgIGlkOiAnZGVzYycsXFxuICAgICAgICAgICAgICAgIGxpbmVTcGFjaW5nOiA2LFxcbiAgICAgICAgICAgICAgICB0ZXh0U2l6ZTogMTUsXFxuICAgICAgICAgICAgICAgIGxpbmVWaXNpYmxlOiB0cnVlLFxcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0pXFxuICAgIH0sXFxuXFxuXFxuLy/mtbfmiqVcXG4gICAgc3RyQ29udmVydDogZnVuY3Rpb24oYXJyKSB7XFxuICAgICAgICByZXR1cm4gYXJyLm1hcCh4ID0+IHtcXG4gICAgICAgICAgICBzdHIgPSB4O1xcbiAgICAgICAgICAgIGlmICgvKOWvvOa8lHzkuLvmvJR857G75Z6LKe+8mi8udGVzdChzdHIpKSB7XFxuICAgICAgICAgICAgICAgIHN0ciA9IHN0ci5zcGxpdCgnLycpLm1hcCgodmFsLCBpbmRleCkgPT4gKGluZGV4ID09PSAwID8gJycgOiAnJykgKyB2YWwpLnNsaWNlKDAsIDUpLmpvaW4oJyAnKS5yZXBsYWNlKC8gJC8sICcnKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgcmV0dXJuIHN0clxcbiAgICAgICAgfSlcXG4gICAgfSxcXG4gICAgc2V0Q29udGVudDogZnVuY3Rpb24ob2JqKSB7XFxuICAgICAgICAvL2xvZyhvYmopXFxuICAgICAgICB2YXIgY29udGVudHMgPSBvYmoubWFpbjtcXG4gICAgICAgIHZhciBzb3J0T3JkZXIgPSBvYmouc29ydDtcXG4gICAgICAgIHZhciBpbWcgPSBvYmouaW1nO1xcbiAgICAgICAgdmFyIHRleHRzID0gY29udGVudHMubWFwKHggPT4gcGRmaCh4LCAnVGV4dCcpKTtcXG5cXG4gICAgICAgIHZhciBhcnJheSA9IHRleHRzLnNvcnQoKGEsIGIpID0+IHtcXG4gICAgICAgICAgICBjb25zdCBpbmRleEEgPSBzb3J0T3JkZXIuaW5kZXhPZihhLnN1YnN0cigwLCAyKSk7XFxuICAgICAgICAgICAgY29uc3QgaW5kZXhCID0gc29ydE9yZGVyLmluZGV4T2YoYi5zdWJzdHIoMCwgMikpO1xcbiAgICAgICAgICAgIHJldHVybiBpbmRleEEgLSBpbmRleEI7XFxuICAgICAgICB9KVxcbiAgICAgICAgdmFyIHJlZ2V4ID0gbmV3IFJlZ0V4cCgnKCcgKyBzb3J0T3JkZXIuam9pbignfCcpICsgJyknKTtcXG4gICAgICAgIGFycmF5ID0gYXJyYXkuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0pIHtcXG4gICAgICAgICAgICByZXR1cm4gcmVnZXgudGVzdChpdGVtKTtcXG4gICAgICAgIH0pO1xcbiAgICAgICAgLy9sb2coYXJyYXkpXFxuXFxuICAgICAgICAvL2FycmF5ID0gc29ydE9yZGVyLmxlbmd0aD09MD9hcnJheTp0aGlzLnN0ckNvbnZlcnQoYXJyYXkpO1xcbiAgICAgICAgYXJyYXkgPSB0aGlzLnN0ckNvbnZlcnQoYXJyYXkpO1xcblxcbiAgICAgICAgaWYgKGFycmF5Lmxlbmd0aCA+IDYpIHtcXG4gICAgICAgICAgICBhcnJheSA9IGFycmF5LnNsaWNlKDAsIDYpO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgdmFyIHRpdGxlcyA9IFtdO1xcbiAgICAgICAgdmFyIGRlc2NzID0gW107XFxuXFxuICAgICAgICBzd2l0Y2ggKGFycmF5Lmxlbmd0aCkge1xcbiAgICAgICAgICAgIGNhc2UgNDpcXG4gICAgICAgICAgICBjYXNlIDU6XFxuICAgICAgICAgICAgICAgIHRpdGxlcyA9IGFycmF5LnNsaWNlKDAsIDIpO1xcbiAgICAgICAgICAgICAgICBkZXNjcyA9IGFycmF5LnNsaWNlKDIpO1xcbiAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICBjYXNlIDY6XFxuICAgICAgICAgICAgICAgIHRpdGxlcyA9IGFycmF5LnNsaWNlKDAsIDMpO1xcbiAgICAgICAgICAgICAgICBkZXNjcyA9IGFycmF5LnNsaWNlKDMpO1xcbiAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgIH1cXG4gICAgICAgIHN0b3JhZ2UwLnB1dE15VmFyKCdlcl9pbmZvJywge1xcbiAgICAgICAgICAgIGRlc2M6IGRlc2NzLmpvaW4oJ1xcXFxuJyksXFxuICAgICAgICAgICAgaW1nOiBpbWcsXFxuICAgICAgICB9KVxcbiAgICAgICAgZC5wdXNoKHtcXG4gICAgICAgICAgIC8vdGl0bGU6ICB0aGlzLnNtYWxsKCB0aXRsZXNbMF0gKyAnXFxcXG4nICt0aXRsZXMuc2xpY2UoMSwgMykuam9pbignXFxcXG4nKSwncmVkJyksXFxuICAgICAgICAgICAgLy9kZXNjOiB0aGlzLnNtYWxsKGRlc2NzLmpvaW4oJ1xcXFxuJyksJyNGRjdGMDAnKSxcXG4gICAgICAgICAgICB0aXRsZTogIHRoaXMuc21hbGwocGRmaChodG1sLCAnLm1vZHVsZS1pbmZvLWl0ZW06bWF0Y2hlcyjlpIfms6jvvJp86L+e6L2977yafOmbhuaVsO+8mnzniYfplb/vvJopJiZUZXh0JykgKyAnXFxcXG4nICsgcGRmaChodG1sLCAnLm1vZHVsZS1pbmZvLXRhZyYmVGV4dCcpLCdyZWQnKSxcXG4gICAgICAgICAgZGVzYzogdGhpcy5zbWFsbChwZGZoKGh0bWwsICcubW9kdWxlLWluZm8taXRlbTpjb250YWlucyjmm7TmlrDvvJopJiZUZXh0JykgKyAnXFxcXG4nICsgcGRmaChodG1sLCAnLm1vZHVsZS1pbmZvLWl0ZW06Y29udGFpbnMo5a+85ryU77yaKSYmVGV4dCcpICsgJ1xcXFxuJyArIHBkZmgoaHRtbCwgJy5tb2R1bGUtaW5mby1pdGVtOmNvbnRhaW5zKOS4u+a8lO+8mikmJlRleHQnKSwnI0ZGN0YwMCcpLFxcbiAgICAgICAgICAgIHBpY191cmw6IGltZyArICdAUmVmZXJlcj0nLFxcbiAgICAgICAgICAgIHVybDogTVlfVVJMLFxcbiAgICAgICAgICAgIGNvbF90eXBlOiAnbW92aWVfMV92ZXJ0aWNhbF9waWNfYmx1cicsXFxuICAgICAgICB9KVxcbiAgICAgICAgaWYgKG9iai5kZXNjICE9IHVuZGVmaW5lZCkge1xcbiAgICAgICAgICAgIHRoaXMuc2V0RGVzYyhvYmouZGVzYyk7XFxuICAgICAgICB9XFxuICAgIH0sXFxuICAgIHNldEN1c3RvbTogZnVuY3Rpb24ob2JqLCBpbWcpIHtcXG4gICAgICAgIHZhciBhcnJheSA9IFtdO1xcbiAgICAgICAgaWYgKG9iai5jb25zdHJ1Y3RvciA9PSBBcnJheSkge1xcbiAgICAgICAgICAgIGFycmF5ID0gb2JqO1xcbiAgICAgICAgfVxcbiAgICAgICAgYXJyYXkgPSB0aGlzLnN0ckNvbnZlcnQoYXJyYXkpO1xcbiAgICAgICAgdmFyIHRpdGxlcyA9IFtdO1xcbiAgICAgICAgdmFyIGRlc2NzID0gW107XFxuICAgICAgICBzd2l0Y2ggKGFycmF5Lmxlbmd0aCkge1xcbiAgICAgICAgICAgIGNhc2UgNDpcXG4gICAgICAgICAgICBjYXNlIDU6XFxuICAgICAgICAgICAgICAgIHRpdGxlcyA9IGFycmF5LnNsaWNlKDAsIDIpO1xcbiAgICAgICAgICAgICAgICBkZXNjcyA9IGFycmF5LnNsaWNlKDIpO1xcbiAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICBjYXNlIDY6XFxuICAgICAgICAgICAgICAgIHRpdGxlcyA9IGFycmF5LnNsaWNlKDAsIDMpO1xcbiAgICAgICAgICAgICAgICBkZXNjcyA9IGFycmF5LnNsaWNlKDMpO1xcbiAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgIH1cXG4gICAgICAgIHN0b3JhZ2UwLnB1dE15VmFyKCdlcl9pbmZvJywge1xcbiAgICAgICAgICAgIGRlc2M6IGRlc2NzLmpvaW4oJ1xcXFxuJyksXFxuICAgICAgICAgICAgaW1nOiBpbWcsXFxuICAgICAgICB9KVxcbiAgICAgICAgZC5wdXNoKHtcXG4gICAgICAgICAgICB0aXRsZTogdGl0bGVzWzBdICsgJ1xcXFxuJyArIHRoaXMuc21hbGwodGl0bGVzLnNsaWNlKDEsIDMpLmpvaW4oJ1xcXFxuJykpLFxcbiAgICAgICAgICAgIGRlc2M6IHRoaXMuc21hbGwoZGVzY3Muam9pbignXFxcXG4nKSksXFxuICAgICAgICAgICAgcGljX3VybDogaW1nICsgJ0BSZWZlcmVyPScsXFxuICAgICAgICAgICAgdXJsOiBNWV9VUkwsXFxuICAgICAgICAgICAgY29sX3R5cGU6ICdtb3ZpZV8xX3ZlcnRpY2FsX3BpY19ibHVyJyxcXG4gICAgICAgIH0pXFxuICAgIH0sXFxuICAgIGlzQ29sb3I6IGZ1bmN0aW9uKHRleHQpIHtcXG4gICAgICAgIGNvbnN0IHJlZ2V4ID0gL14jKFswLTlBLUZhLWZdezN9fFswLTlBLUZhLWZdezZ9KSR8XihbYS16XSspJC9pO1xcbiAgICAgICAgcmV0dXJuIHJlZ2V4LnRlc3QodGV4dCk7XFxuICAgIH0sXFxuICAgIGdldFByZXNldDogZnVuY3Rpb24oY3VzdG9tKSB7XFxuICAgICAgICBpZiAodHlwZW9mIGN1c3RvbWRhdGEgPT0gJ29iamVjdCcgJiYgIWN1c3RvbSkge1xcbiAgICAgICAgICAgIGN1c3RvbSA9IGN1c3RvbWRhdGE7XFxuICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgIGN1c3RvbSA9IGN1c3RvbSA/IGN1c3RvbSA6IHt9XFxuICAgICAgICB9XFxuICAgICAgICBjdXN0b20u5q2j5bqP6aKc6ImyID0gKGN1c3RvbS7mraPluo/popzoibIgJiYgdGhpcy5pc0NvbG9yKGN1c3RvbS7mraPluo/popzoibIpKSA/IGN1c3RvbS7mraPluo/popzoibIgOiAnIzFBQUQxOSc7XFxuICAgICAgICBjdXN0b20u6YCG5bqP6aKc6ImyID0gKGN1c3RvbS7pgIbluo/popzoibIgJiYgdGhpcy5pc0NvbG9yKGN1c3RvbS7pgIbluo/popzoibIpKSA/IGN1c3RvbS7pgIbluo/popzoibIgOiAnI0ZGMDAwMCc7XFxuICAgICAgICBjdXN0b20u5Zu+5qCHID0gY3VzdG9tLuWbvuaghyA/IGN1c3RvbS7lm77moIcgOiAnaHR0cHM6Ly9pMi4xMDAwMjQueHl6LzIwMjMvMDYvMTAvaDR6NjI3LndlYnAnO1xcbiAgICAgICAgY3VzdG9tLue6v+i3r+mAieS4rSA9IGN1c3RvbS7nur/ot6/pgInkuK0gPyBjdXN0b20u57q/6Lev6YCJ5LitIDogJyMwMDhCOEInO1xcbiAgICAgICAgY3VzdG9tLue6v+i3r+agt+W8jyA9IGN1c3RvbS7nur/ot6/moLflvI8gPyBjdXN0b20u57q/6Lev5qC35byPIDogJ3Njcm9sbF9idXR0b24nO1xcbiAgICAgICAgY3VzdG9tLuWIhuWJsuagt+W8jyA9IGN1c3RvbS7liIblibLmoLflvI8gPyBjdXN0b20u5YiG5Ymy5qC35byPIDogJ2JsYW5rX2Jsb2NrJztcXG4gICAgICAgIHJldHVybiBjdXN0b207XFxuICAgIH0sXFxuICAgIGNyZWF0ZVBMaXN0OiBmdW5jdGlvbih0YWJzLCB2YXJpLCBzaHNvcnQsIGN1c3RvbSkge1xcbiAgICAgICAgdmFyaSA9IFxcXCJlcl9cXFwiICsgdmFyaTtcXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFicy5sZW5ndGg7IGkrKykge1xcbiAgICAgICAgICAgIHZhciB1cmwgPSAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKCh2YXJpLCBzaHNvcnQsIGksIGxpbmVjKSA9PiB7XFxuXFxuICAgICAgICAgICAgICAgIHZhciBsaXN0cyA9IHN0b3JhZ2UwLmdldE15VmFyKHNoc29ydCArICdfbGlzdCcsICdbXScpO1xcblxcbiAgICAgICAgICAgICAgICBpZiAoZ2V0TXlWYXIodmFyaSArICdmb2xkJywgJzEnKSA9PSAnMCcpIHtcXG4gICAgICAgICAgICAgICAgICAgIHZhciBidG4gPSBmaW5kSXRlbShzaHNvcnQgKyAnX2J1dHRvbicpO1xcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvbGRzID0gWyc8Zm9udCBjb2xvcj1cXFwiI0QzRDNEM1xcXCI+4pi3JywgJzxmb250IGNvbG9yPVxcXCIjRkZBNTAwXFxcIj7imLAnXTtcXG4gICAgICAgICAgICAgICAgICAgIHZhciBwbGlzdCA9IHN0b3JhZ2UwLmdldE15VmFyKCdlcl9wbGF5bGlzdHMnLCAne30nKTtcXG4gICAgICAgICAgICAgICAgICAgIFxcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbCA9IHBsaXN0W3Noc29ydF0uY29sX3R5cGU7XFxuICAgICAgICAgICAgICAgICAgICB2YXIgY2xzID0gcGxpc3Rbc2hzb3J0XS5jbHM7XFxuICAgICAgICAgICAgICAgICAgICB2YXIgcGljID0gcGxpc3Rbc2hzb3J0XS5waWM7XFxuICAgICAgICAgICAgICAgICAgICB2YXIgZXh0cmEgPSBwbGlzdFtzaHNvcnRdLmV4dHJhO1xcbiAgICAgICAgICAgICAgICAgICAgLy9sb2coZXh0cmEpXFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVJdGVtKGJ0bi5leHRyYS5pZCwge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBidG4udGl0bGUucmVwbGFjZShmb2xkc1swXSwgZm9sZHNbMV0pLFxcbiAgICAgICAgICAgICAgICAgICAgfSlcXG5cXG4gICAgICAgICAgICAgICAgICAgIHB1dE15VmFyKHZhcmkgKyAnZm9sZCcsICcxJyk7XFxuICAgICAgICAgICAgICAgICAgICAvL3JldHVybiAndG9hc3Q6Ly/lsZXlvIDmiY3og73mk43kvZwnO1xcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBsaXN0ID0gc3RvcmFnZTAuZ2V0TXlWYXIoJ2VyX3BsYXlsaXN0cycsICd7fScpO1xcbiAgICAgICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgICAgICB2YXIgY29sID0gcGxpc3Rbc2hzb3J0XS5jb2xfdHlwZTtcXG4gICAgICAgICAgICAgICAgICAgIHZhciBjbHMgPSBwbGlzdFtzaHNvcnRdLmNscztcXG4gICAgICAgICAgICAgICAgICAgIHZhciBwaWMgPSBwbGlzdFtzaHNvcnRdLnBpYztcXG4gICAgICAgICAgICAgICAgICAgIHZhciBleHRyYSA9IHBsaXN0W3Noc29ydF0uZXh0cmE7XFxuICAgICAgICAgICAgICAgICAgICAvL2xvZyhleHRyYSlcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICBwdXRNeVZhcih2YXJpLCBpKTtcXG5cXG4gICAgICAgICAgICAgICAgdmFyIHhsaXN0ID0gbGlzdHNbaV07XFxuICAgICAgICAgICAgICAgIGlmICgkLmZ1bmMgIT0gdW5kZWZpbmVkICYmICQuZnVuYy5jb25zdHJ1Y3RvciA9PSBGdW5jdGlvbikge1xcbiAgICAgICAgICAgICAgICAgICAgeGxpc3QgPSAkLmZ1bmMoaSk7XFxuICAgICAgICAgICAgICAgICAgICBzdG9yYWdlMC5wdXRNeVZhcihzaHNvcnQgKyAnX2xpc3QnLCB4bGlzdCk7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgdmFyIHBsYXlzID0geGxpc3QubWFwKHggPT4ge1xcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogeC50aXRsZSxcXG4gICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHgudXJsLFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiBjb2wsXFxuICAgICAgICAgICAgICAgICAgICAgICAgcGljOiBwaWMsXFxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmE6IE9iamVjdC5hc3NpZ24oe30sZXh0cmEse1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogeC51cmwucmVwbGFjZSgvQGxhenlSdWxlW1xcXFxzXFxcXFNdKy9nLCAnJyksXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsczogY2xzLFxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIH0pXFxuICAgICAgICAgICAgICAgIGlmIChnZXRNeVZhcihzaHNvcnQgKyAnX3NvcnQnKSA9PSAnMScpIHtcXG4gICAgICAgICAgICAgICAgICAgIHBsYXlzLnJldmVyc2UoKTtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICB2YXIgcGNmZyA9IHN0b3JhZ2UwLmdldE15VmFyKHNoc29ydCArICdfcHVzaGNmZycsICd7fScpO1xcbiAgICAgICAgICAgICAgICBpZiAocGNmZ1sn5Y2V5o6oJ10pIHtcXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0oc2hzb3J0ICsgJ19wdXNoJywge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBwY2ZnWydvYmonXVsn5Y2V5o6oJ11bMF1cXG4gICAgICAgICAgICAgICAgICAgIH0pXFxuICAgICAgICAgICAgICAgICAgICBwY2ZnWyfljZXmjqgnXSA9IGZhbHNlO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIGlmIChwY2ZnWyfpgInmjqgnXSkge1xcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlSXRlbShzaHNvcnQgKyAnX3B1c2hzJywge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBwY2ZnWydvYmonXVsn6YCJ5o6oJ11bMF1cXG4gICAgICAgICAgICAgICAgICAgIH0pXFxuICAgICAgICAgICAgICAgICAgICBwY2ZnWyfpgInmjqgnXSA9IGZhbHNlO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIHN0b3JhZ2UwLnB1dE15VmFyKHNoc29ydCArICdfcHVzaGNmZycsIHBjZmcpO1xcbiAgICAgICAgICAgICAgICBkZWxldGVJdGVtQnlDbHMoc2hzb3J0KTtcXG4gICAgICAgICAgICAgICAgYWRkSXRlbUFmdGVyKHNoc29ydCArICdfbGluZScsIHBsYXlzKTtcXG5cXG4gICAgICAgICAgICAgICAgdmFyIHRhYnggPSBmaW5kSXRlbXNCeUNscyhzaHNvcnQgKyAnX3RhYicpO1xcbiAgICAgICAgICAgICAgICB0YWJ4LmZvckVhY2goKHgsIGlpKSA9PiB7XFxuICAgICAgICAgICAgICAgICAgICB2YXIgdGl0bGUgPSB4LnRpdGxlO1xcbiAgICAgICAgICAgICAgICAgICAgaWYgKGkgPT0gaWkpIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVJdGVtKHguZXh0cmEuaWQsIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLnJlcGxhY2UoLyMoXFxcXHcrKT8vZywgbGluZWMpLFxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXFxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0oeC5leHRyYS5pZCwge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUucmVwbGFjZSgvIyhcXFxcdyspPy9nLCAnIycpLFxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXFxuICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIH0pXFxuICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/liIfmjaLmiJDlip/vvIEnO1xcbiAgICAgICAgICAgIH0sIHZhcmksIHNoc29ydCwgaSwgY3VzdG9tLue6v+i3r+mAieS4rSlcXG4gICAgICAgICAgICBkLnB1c2goe1xcbiAgICAgICAgICAgICAgICB0aXRsZTogJ+KAnOKAnOKAneKAnScgKyAoZ2V0TXlWYXIodmFyaSwgJzAnKSA9PSBpID8gdGFic1tpXS5mb250Y29sb3IoY3VzdG9tLue6v+i3r+mAieS4rSkgOiB0YWJzW2ldLmZvbnRjb2xvcignIycpKSxcXG4gICAgICAgICAgICAgICAgdXJsOiB1cmwsXFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiBjdXN0b20u57q/6Lev5qC35byPLFxcbiAgICAgICAgICAgICAgICBleHRyYToge1xcbiAgICAgICAgICAgICAgICAgICAgY2xzOiBzaHNvcnQgKyAnX3RhYicsXFxuICAgICAgICAgICAgICAgICAgICBpZDogc2hzb3J0ICsgJ190YWJfJyArIGksXFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9KVxcbiAgICAgICAgfVxcbiAgICAgICAgZC5wdXNoKHtcXG4gICAgICAgICAgICBjb2xfdHlwZTogY3VzdG9tLuWIhuWJsuagt+W8jyxcXG4gICAgICAgICAgICBleHRyYToge1xcbiAgICAgICAgICAgICAgICBpZDogc2hzb3J0ICsgJ19saW5lJyxcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9KVxcbiAgICB9LFxcbiAgICBwdXNoVGFiOiBmdW5jdGlvbih2YXJpLCBzaHNvcnQpIHtcXG4gICAgICAgIGFkZExpc3RlbmVyKCdvblJlZnJlc2gnLCAkLnRvU3RyaW5nKChzaHNvcnQpID0+IHtcXG4gICAgICAgICAgICBjbGVhck15VmFyKHNoc29ydCArICdfcHVzaGNmZycpO1xcbiAgICAgICAgICAgIGNsZWFyTXlWYXIoc2hzb3J0ICsgJ19kdW9zZWxlY3QnKTtcXG4gICAgICAgIH0sIHNoc29ydCkpXFxuICAgICAgICB2YXIgcG9iaiA9IHtcXG4gICAgICAgICAgICAn5Y2V5o6oJzogWyfipr/ljZXmjqgnLCAnPGI+4qa/5Y2V5o6oPC9iPicuZm9udGNvbG9yKCcjMDBGQTlBJyldLFxcbiAgICAgICAgICAgICfpgInmjqgnOiBbJ+KYkemAieaOqCcsICc8Yj7imJHpgInmjqg8L2I+Jy5mb250Y29sb3IoJyM0NjgyQjQnKV0sXFxuICAgICAgICB9XFxuXFxuICAgICAgICBkLnB1c2goe1xcbiAgICAgICAgICAgIHRpdGxlOiAn4oyYJyxcXG4gICAgICAgICAgICBjb2xfdHlwZTogJ3Njcm9sbF9idXR0b24nLFxcbiAgICAgICAgICAgIHVybDogJ2hpa2VyOi8vZW1wdHknLFxcbiAgICAgICAgICAgIGV4dHJhOiB7XFxuICAgICAgICAgICAgICAgIGNsczogc2hzb3J0ICsgJ19wdXNodGFiJyxcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9LCB7XFxuICAgICAgICAgICAgdGl0bGU6IHBvYmpbJ+WNleaOqCddWzBdLFxcbiAgICAgICAgICAgIGNvbF90eXBlOiAnc2Nyb2xsX2J1dHRvbicsXFxuICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChzaHNvcnQsIHBvYmosIHZhcmkpID0+IHtcXG4gICAgICAgICAgICAgICAgaWYgKGdldE15VmFyKHZhcmkgKyAnZm9sZCcsICcxJykgPT0gJzAnKSB7XFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bGV5byA5omN6IO95pON5L2cJztcXG4gICAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgICAgICB2YXIgdGl0bGVzID0gcG9ialsn5Y2V5o6oJ107XFxuICAgICAgICAgICAgICAgIHZhciBwY2ZnID0gc3RvcmFnZTAuZ2V0TXlWYXIoc2hzb3J0ICsgJ19wdXNoY2ZnJywgJ3t9Jyk7XFxuICAgICAgICAgICAgICAgIHBjZmdbJ29iaiddID0gcG9iajtcXG4gICAgICAgICAgICAgICAgdmFyIOWNleaOqCA9IHBjZmdbJ+WNleaOqCddID8gcGNmZ1sn5Y2V5o6oJ10gOiBmYWxzZTtcXG5cXG4gICAgICAgICAgICAgICAgaWYgKOWNleaOqCkge1xcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlSXRlbShzaHNvcnQgKyAnX3B1c2gnLCB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlc1swXSxcXG4gICAgICAgICAgICAgICAgICAgIH0pXFxuICAgICAgICAgICAgICAgICAgICBwY2ZnWyfljZXmjqgnXSA9IGZhbHNlO1xcbiAgICAgICAgICAgICAgICAgICAgcGNmZ1sncGxheWxpc3QnXS5tYXAoKHgpID0+IHtcXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVJdGVtKHguZXh0cmEuaWQsIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB4LnVybCxcXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxcbiAgICAgICAgICAgICAgICAgICAgfSlcXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0oc2hzb3J0ICsgJ19wdXNoJywge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn4oCc4oCc4oCd4oCdJyArIHRpdGxlc1sxXSxcXG4gICAgICAgICAgICAgICAgICAgIH0pXFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVJdGVtKHNoc29ydCArICdfcHVzaHMnLCB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHBvYmpbJ+mAieaOqCddWzBdLFxcbiAgICAgICAgICAgICAgICAgICAgfSlcXG4gICAgICAgICAgICAgICAgICAgIHBjZmdbJ+WNleaOqCddID0gdHJ1ZTtcXG4gICAgICAgICAgICAgICAgICAgIHBjZmdbJ+mAieaOqCddID0gZmFsc2U7XFxuICAgICAgICAgICAgICAgICAgICB2YXIgcGxheWxpc3QgPSBmaW5kSXRlbXNCeUNscyhzaHNvcnQpO1xcbiAgICAgICAgICAgICAgICAgICAgcGNmZ1sncGxheWxpc3QnXSA9IHBsYXlsaXN0O1xcbiAgICAgICAgICAgICAgICAgICAgZmluZEl0ZW1zQnlDbHMoc2hzb3J0KS5tYXAoeCA9PiB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRwdXNoID0ge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBnZXRQYWdlVGl0bGUoKSxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB4LnRpdGxlICsgJyQnICsgeC5leHRyYS5pZFxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVJdGVtKHguZXh0cmEuaWQsIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiAkKCcnKS5sYXp5UnVsZSgoZHB1c2gpID0+IHtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9wYWdlL3B1c2g/cnVsZT1YWVHmjqjpgIEmcHVzaHVybD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGRwdXNoKSk7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sIGRwdXNoKVxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXFxuICAgICAgICAgICAgICAgICAgICB9KVxcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIHN0b3JhZ2UwLnB1dE15VmFyKHNoc29ydCArICdfcHVzaGNmZycsIHBjZmcpO1xcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8vJyArICjljZXmjqggPyAn5Y2V5o6o5byA5ZCvJyA6ICfljZXmjqjlhbPpl60nKTtcXG4gICAgICAgICAgICB9LCBzaHNvcnQsIHBvYmosIHZhcmkpLFxcbiAgICAgICAgICAgIGV4dHJhOiB7XFxuICAgICAgICAgICAgICAgIGlkOiBzaHNvcnQgKyAnX3B1c2gnLFxcbiAgICAgICAgICAgICAgICBjbHM6IHNoc29ydCArICdfcHVzaHRhYicsXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSwge1xcbiAgICAgICAgICAgIHRpdGxlOiBwb2JqWyfpgInmjqgnXVswXSxcXG4gICAgICAgICAgICBjb2xfdHlwZTogJ3Njcm9sbF9idXR0b24nLFxcbiAgICAgICAgICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoc2hzb3J0LCBwb2JqLCB2YXJpKSA9PiB7XFxuICAgICAgICAgICAgICAgIGlmIChnZXRNeVZhcih2YXJpICsgJ2ZvbGQnLCAnMScpID09ICcwJykge1xcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+WxleW8gOaJjeiDveaTjeS9nCc7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgdmFyIHRpdGxlcyA9IHBvYmpbJ+mAieaOqCddO1xcbiAgICAgICAgICAgICAgICB2YXIgcGNmZyA9IHN0b3JhZ2UwLmdldE15VmFyKHNoc29ydCArICdfcHVzaGNmZycsICd7fScpO1xcbiAgICAgICAgICAgICAgICBwY2ZnWydvYmonXSA9IHBvYmo7XFxuICAgICAgICAgICAgICAgIHZhciDpgInmjqggPSBwY2ZnWyfpgInmjqgnXSA/IHBjZmdbJ+mAieaOqCddIDogZmFsc2U7XFxuICAgICAgICAgICAgICAgIGlmICjpgInmjqgpIHtcXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0oc2hzb3J0ICsgJ19wdXNocycsIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGVzWzBdLFxcbiAgICAgICAgICAgICAgICAgICAgfSlcXG4gICAgICAgICAgICAgICAgICAgIHBjZmdbJ+mAieaOqCddID0gZmFsc2U7XFxuICAgICAgICAgICAgICAgICAgICBwY2ZnWydwbGF5bGlzdCddLm1hcCgoeCkgPT4ge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0oeC5leHRyYS5pZCwge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogeC50aXRsZSxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB4LnVybCxcXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxcbiAgICAgICAgICAgICAgICAgICAgfSlcXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0oc2hzb3J0ICsgJ19wdXNodG8nLCB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfmjqjpgIHmnKzpobU9PlRWQm94JyxcXG4gICAgICAgICAgICAgICAgICAgIH0pO1xcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJNeVZhcihzaHNvcnQgKyAnX2R1b3NlbGVjdCcpO1xcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlSXRlbShzaHNvcnQgKyAnX3B1c2hzJywge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn4oCc4oCc4oCd4oCdJyArIHRpdGxlc1sxXSxcXG4gICAgICAgICAgICAgICAgICAgIH0pXFxuICAgICAgICAgICAgICAgICAgICBwY2ZnWyfpgInmjqgnXSA9IHRydWU7XFxuICAgICAgICAgICAgICAgICAgICBwY2ZnWyfljZXmjqgnXSA9IGZhbHNlO1xcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBsYXlsaXN0ID0gZmluZEl0ZW1zQnlDbHMoc2hzb3J0KTtcXG4gICAgICAgICAgICAgICAgICAgIHBjZmdbJ3BsYXlsaXN0J10gPSBwbGF5bGlzdDtcXG4gICAgICAgICAgICAgICAgICAgIGxldCBJZHMgPSBwbGF5bGlzdC5tYXAoaXQgPT4gaXQuZXh0cmEuaWQpO1xcbiAgICAgICAgICAgICAgICAgICAgSWRzLmZvckVhY2goeCA9PiB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpdGxlID0gZmluZEl0ZW0oeCkudGl0bGU7XFxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlSXRlbSh4LCB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJC5tc20odGl0bGUsIHgsIHNoc29ydCksXFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XFxuICAgICAgICAgICAgICAgICAgICB9KTtcXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0oc2hzb3J0ICsgJ19wdXNoJywge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBwb2JqWyfljZXmjqgnXVswXSxcXG4gICAgICAgICAgICAgICAgICAgIH0pXFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVJdGVtKHNoc29ydCArICdfcHVzaHRvJywge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5o6o6YCB6YCJ5LitPT5UVkJveCcsXFxuICAgICAgICAgICAgICAgICAgICB9KTtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICBzdG9yYWdlMC5wdXRNeVZhcihzaHNvcnQgKyAnX3B1c2hjZmcnLCBwY2ZnKTtcXG4gICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovLycgKyAo6YCJ5o6oID8gJ+mAieaOqOW8gOWQrycgOiAn6YCJ5o6o5YWz6ZetJyk7XFxuICAgICAgICAgICAgfSwgc2hzb3J0LCBwb2JqLCB2YXJpKSxcXG4gICAgICAgICAgICBleHRyYToge1xcbiAgICAgICAgICAgICAgICBpZDogc2hzb3J0ICsgJ19wdXNocycsXFxuICAgICAgICAgICAgICAgIGNsczogc2hzb3J0ICsgJ19wdXNodGFiJ1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0sIHtcXG4gICAgICAgICAgICB0aXRsZTogXFxcIuaOqOmAgeacrOmhtT0+VFZCb3hcXFwiLFxcbiAgICAgICAgICAgIGNvbF90eXBlOiAnc2Nyb2xsX2J1dHRvbicsXFxuICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChzaHNvcnQsIHZhcmkpID0+IHtcXG4gICAgICAgICAgICAgICAgdmFyIHBjZmcgPSBzdG9yYWdlMC5nZXRNeVZhcihzaHNvcnQgKyAnX3B1c2hjZmcnLCAne30nKTtcXG4gICAgICAgICAgICAgICAgdmFyIOWNleaOqCA9IHBjZmdbJ+WNleaOqCddID8gcGNmZ1sn5Y2V5o6oJ10gOiBmYWxzZTtcXG4gICAgICAgICAgICAgICAgdmFyIOmAieaOqCA9IHBjZmdbJ+mAieaOqCddID8gcGNmZ1sn6YCJ5o6oJ10gOiBmYWxzZTtcXG4gICAgICAgICAgICAgICAgaWYgKCHljZXmjqggJiYgIemAieaOqCkge1xcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYnMgPSBzdG9yYWdlMC5nZXRNeVZhcihzaHNvcnQgKyAnX3RhYnMnLCAnW10nKTtcXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBscyA9IHN0b3JhZ2UwLmdldE15VmFyKHNoc29ydCArICdfbGlzdCcsICdbXScpLm1hcChsaSA9PiB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsaS5tYXAoaXRlbSA9PiBpdGVtLnRpdGxlICsgJyQnICsgaXRlbS51cmwucmVwbGFjZSgvQGxhenlSdWxlW1xcXFxzXFxcXFNdKy9nLCAnJykpLmpvaW4oJyMnKVxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmpvaW4oJyQkJCcpO1xcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBscyA9IHN0b3JhZ2UwLmdldE15VmFyKHNoc29ydCArIFxcXCJfbGlzdFxcXCIsICdbXScpLm1hcCh4ID0+IHgudGl0bGUgKyBcXFwiJFxcXCIgKyB4LnVybCkuam9pbihcXFwiI1xcXCIpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWJzID0gW3RhYnNbZ2V0TXlWYXIodmFyaSwgJzAnKV1dO1xcbiAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgICAgLypsb2cocGxzKVxcbiAgICAgICAgICAgICAgICAgICAgbG9nKHRhYnMpKi9cXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICBpZiAo6YCJ5o6oKSB7XFxuICAgICAgICAgICAgICAgICAgICB2YXIgcGxzID0gc3RvcmFnZTAuZ2V0TXlWYXIoc2hzb3J0ICsgXFxcIl9kdW9zZWxlY3RcXFwiLCAnW10nKS5tYXAoeCA9PiB4LnRpdGxlICsgXFxcIiRcXFwiICsgeC51cmwpLmpvaW4oXFxcIiNcXFwiKTtcXG4gICAgICAgICAgICAgICAgICAgIGlmIChwbHMubGVuZ3RoID09IDApIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v6YCJ5oup5Li656m6JztcXG4gICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJzID0gWyfmkq3mlL7liJfooagnXTtcXG4gICAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgICAgICB2YXIgaW5mbyA9IHN0b3JhZ2UwLmdldE15VmFyKCdlcl9pbmZvJywgJ3t9Jyk7XFxuICAgICAgICAgICAgICAgIHZhciBkZXNjID0gaW5mb1snZGVzYyddO1xcbiAgICAgICAgICAgICAgICB2YXIg5o6o6YCBID0ge1xcbiAgICAgICAgICAgICAgICAgICAgXFxcIm5hbWVcXFwiOiBnZXRQYWdlVGl0bGUoKSxcXG4gICAgICAgICAgICAgICAgICAgIFxcXCJjb250ZW50XFxcIjogZGVzYyB8fCAnJyxcXG4gICAgICAgICAgICAgICAgICAgIFxcXCJwaWNcXFwiOiBpbmZvWydpbWcnXSB8fCAnJyxcXG4gICAgICAgICAgICAgICAgICAgIFxcXCJmcm9tXFxcIjogdGFicy5qb2luKCckJCQnKSxcXG4gICAgICAgICAgICAgICAgICAgIFxcXCJ1cmxcXFwiOiBwbHMsXFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgLy9sb2co5o6o6YCBKVxcbiAgICAgICAgICAgICAgICByZXR1cm4gXFxcImhpa2VyOi8vcGFnZS9wdXNoP3J1bGU9WFlR5o6o6YCBJnB1c2h1cmw9XFxcIiArIGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSjmjqjpgIEpKVxcbiAgICAgICAgICAgIH0sIHNoc29ydCwgdmFyaSksXFxuICAgICAgICAgICAgZXh0cmE6IHtcXG4gICAgICAgICAgICAgICAgaWQ6IHNoc29ydCArICdfcHVzaHRvJyxcXG4gICAgICAgICAgICAgICAgY2xzOiBzaHNvcnQgKyAnX3B1c2h0YWInXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSwge1xcbiAgICAgICAgICAgIGNvbF90eXBlOiAnYmxhbmtfYmxvY2snLFxcbiAgICAgICAgICAgIGV4dHJhOiB7XFxuICAgICAgICAgICAgICAgIGNsczogc2hzb3J0ICsgJ19wdXNodGFiJyxcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9KVxcbiAgICB9LFxcbiAgICBzZXRMb25nY2xpY2s6IGZ1bmN0aW9uKHNoc29ydCwgY3VzdG9tKSB7XFxuICAgICAgICByZXR1cm4gW3tcXG4gICAgICAgICAgICB0aXRsZTogJ+agt+W8j/CfjqgnLFxcbiAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKChzaHNvcnQpID0+IHtcXG4gICAgICAgICAgICAgICAgbGV0IGFsbF9jb2xzID0gWycnXS5jb25jYXQoZ2V0Q29sVHlwZXMoKSk7XFxuICAgICAgICAgICAgICAgIGFsbF9jb2xzID0gYWxsX2NvbHMuZmlsdGVyKHggPT5cXG4gICAgICAgICAgICAgICAgICAgIC8odGV4dF98ZmxleCkuKi8udGVzdCh4KSAmJiB4ICE9ICd0ZXh0X2ljb24nKTtcXG4gICAgICAgICAgICAgICAgLy9sb2coYWxsX2NvbHMpXFxuICAgICAgICAgICAgICAgIGxldCBjbHMgPSBzdG9yYWdlMC5nZXRNeVZhcignZXJfcGxheWxpc3RzJywgJ3t9JykgfHxcXG4gICAgICAgICAgICAgICAgICAgICcnO1xcbiAgICAgICAgICAgICAgICBpZiAoY2xzW3Noc29ydF0gIT0gJycpIHtcXG4gICAgICAgICAgICAgICAgICAgIGNvbCA9IGNsc1tzaHNvcnRdLmNvbF90eXBlO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIGxldCDmjInpkq7moLflvI8gPSBhbGxfY29scy5tYXAoKGl0KSA9PiB7XFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXQgPT09IGNvbCA/ICfwn5GJJyArIGl0IDogaXQ7XFxuICAgICAgICAgICAgICAgIH0pO1xcbiAgICAgICAgICAgICAgICBsZXQgdGlwcyA9ICfor7fpgInmi6npgInpm4bmjInpkq7moLflvI8nO1xcbiAgICAgICAgICAgICAgICByZXR1cm4gJCjmjInpkq7moLflvI8sIDIsIHRpcHMpLnNlbGVjdCgoc2hzb3J0LCBjbHMpID0+IHtcXG4gICAgICAgICAgICAgICAgICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgv8J+RiS9nLCAnJyk7XFxuICAgICAgICAgICAgICAgICAgICAvKnN0b3JhZ2UwLnNldEl0ZW0oJ+aMiemSruagt+W8jycsIGlucHV0KTsqL1xcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9sZElkcyA9IChmaW5kSXRlbXNCeUNscyhzaHNvcnQpIHx8IFtdKS5tYXAoaXQgPT4gaXQuZXh0cmEuaWQpOyAvL+iAgeWFg+e0oGlkc1xcbiAgICAgICAgICAgICAgICAgICAgb2xkSWRzLmZvckVhY2goeCA9PiB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlSXRlbSh4LCB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiBpbnB1dFxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xcbiAgICAgICAgICAgICAgICAgICAgfSk7XFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bey5YiH5o2i6YCJ6ZuG5oyJ6ZKu5qC35byP5Li6OicgKyBpbnB1dDtcXG4gICAgICAgICAgICAgICAgfSwgc2hzb3J0LCBjbHMpO1xcbiAgICAgICAgICAgIH0sIHNoc29ydCwgY3VzdG9tKVxcbiAgICAgICAgfV1cXG4gICAgfSxcXG4gICAgc2V0VGFiczogZnVuY3Rpb24odGFicywgdmFyaSwgc2hzb3J0LCBwYXJzZSkge1xcbiAgICAgICAgbGV0IGN1c3RvbSA9IHBhcnNlLuiHquWumuS5iTtcXG4gICAgICAgIGN1c3RvbSA9IHRoaXMuZ2V0UHJlc2V0KGN1c3RvbSk7XFxuICAgICAgICBzaHNvcnQgPSBzaHNvcnQgPyBzaHNvcnQgOiAnc2hzb3J0JztcXG4gICAgICAgIHZhciB0aXRsZSA9IChnZXRNeVZhcihzaHNvcnQgKyAnX3NvcnQnLCAnMCcpID09ICcxJykgPyAnPGI+PHNwYW4gc3R5bGU9XFxcImNvbG9yOiAnICsgY3VzdG9tLumAhuW6j+minOiJsiArICdcXFwiPumAhuW6jzwvc3Bhbj48L2I+JyA6ICc8Yj48c3BhbiBzdHlsZT1cXFwiY29sb3I6ICcgKyBjdXN0b20u5q2j5bqP6aKc6ImyICsgJ1xcXCI+5q2j5bqPPC9zcGFuPjwvYj4nXFxuICAgICAgICBkLnB1c2goe1xcbiAgICAgICAgICAgIHRpdGxlOiB2YXJpICsgJzonICsgdGl0bGUsXFxuICAgICAgICAgICAgZGVzYzogJ+WFsScgKyBTdHJpbmcodGFicy5sZW5ndGgpLmZvbnRjb2xvcignIzQ2ODJCNCcpICsgJ+adoee6v+i3rycsXFxuICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChzaHNvcnQsIHZhcmksIGN1c3RvbSkgPT4ge1xcbiAgICAgICAgICAgICAgICBsZXQgY29uZiA9IGdldE15VmFyKHNoc29ydCArICdfc29ydCcsICcwJyk7XFxuICAgICAgICAgICAgICAgIGlmIChnZXRNeVZhcignZXJfJyArIHZhcmkgKyAnZm9sZCcsICcxJykgPT0gJzAnKSB7XFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bGV5byA5omN6IO95pON5L2cJztcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICB2YXIgY2xzbGlzdHMgPSBmaW5kSXRlbXNCeUNscyhzaHNvcnQpO1xcbiAgICAgICAgICAgICAgICB2YXIgbmV3Y2xzbGlzdCA9ICQuZGF0YUNvbnZlcnQoY2xzbGlzdHMpO1xcblxcbiAgICAgICAgICAgICAgICB2YXIgdGl0bGVzID0gW2Ake2N1c3RvbS7mraPluo/popzoibJ9XFxcIj7mraPluo9gLCBgJHtjdXN0b20u6YCG5bqP6aKc6ImyfVxcXCI+6YCG5bqPYF07XFxuXFxuICAgICAgICAgICAgICAgIGRlbGV0ZUl0ZW1CeUNscyhzaHNvcnQpO1xcbiAgICAgICAgICAgICAgICBuZXdjbHNsaXN0LnJldmVyc2UoKTtcXG4gICAgICAgICAgICAgICAgYWRkSXRlbUFmdGVyKHNoc29ydCArICdfbGluZScsIG5ld2Nsc2xpc3QpO1xcblxcbiAgICAgICAgICAgICAgICB2YXIgb2JqID0gZmluZEl0ZW0oc2hzb3J0ICsgJ19hdmF0YXInKVxcblxcbiAgICAgICAgICAgICAgICBpZiAoY29uZiA9PSAnMScpIHtcXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0oc2hzb3J0ICsgJ19hdmF0YXInLCB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IG9iai50aXRsZS5yZXBsYWNlKHRpdGxlc1sxXSwgdGl0bGVzWzBdKSxcXG4gICAgICAgICAgICAgICAgICAgIH0pXFxuICAgICAgICAgICAgICAgICAgICBwdXRNeVZhcihzaHNvcnQgKyAnX3NvcnQnLCAnMCcpO1xcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlSXRlbShzaHNvcnQgKyAnX2F2YXRhcicsIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogb2JqLnRpdGxlLnJlcGxhY2UodGl0bGVzWzBdLCB0aXRsZXNbMV0pLFxcbiAgICAgICAgICAgICAgICAgICAgfSlcXG4gICAgICAgICAgICAgICAgICAgIHB1dE15VmFyKHNoc29ydCArICdfc29ydCcsICcxJyk7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+WIh+aNouaOkuW6j+aIkOWKnyc7XFxuICAgICAgICAgICAgfSwgc2hzb3J0LCB2YXJpLCBjdXN0b20pLFxcbiAgICAgICAgICAgIGNvbF90eXBlOiAnYXZhdGFyJyxcXG4gICAgICAgICAgICBpbWc6IGN1c3RvbS7lm77moIcsXFxuICAgICAgICAgICAgZXh0cmE6IHtcXG4gICAgICAgICAgICAgICAgaWQ6IHNoc29ydCArICdfYXZhdGFyJyxcXG4gICAgICAgICAgICAgICAgbG9uZ0NsaWNrOiB0aGlzLnNldExvbmdjbGljayhzaHNvcnQpLFxcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0pXFxuICAgICAgICB2YXIg5oqY5Y+gID0gJ+KAnOKAnOKAneKAnTxiPicgKyAn4pi3Jy5mb250Y29sb3IoXFxcIiNEM0QzRDNcXFwiKTtcXG4gICAgICAgIHZhciDlsZXlvIAgPSAn4oCc4oCc4oCd4oCdPGI+JyArICfimLAnLmZvbnRjb2xvcihcXFwiI0ZGQTUwMFxcXCIpO1xcbiAgICAgICAgdmFyIGZvbGRuYW1lID0gJ2VyXycgKyB2YXJpICsgJ2ZvbGQnO1xcbiAgICAgICAgdmFyIGZvbGQgPSBnZXRNeVZhcihmb2xkbmFtZSwgJzEnKTtcXG4gICAgICAgIGlmICh0eXBlb2YocGFyc2VbJ+aOqOmAgSddKSAhPSAndW5kZWZpbmVkJyAmJiBwYXJzZVsn5o6o6YCBJ10pXFxuICAgICAgICAgICAgdGhpcy5wdXNoVGFiKCdlcl8nICsgdmFyaSwgc2hzb3J0KTtcXG5cXG4gICAgICAgIGQucHVzaCh7XFxuICAgICAgICAgICAgdGl0bGU6IGZvbGQgPT09ICcwJyA/IOaKmOWPoCA6IOWxleW8gCxcXG4gICAgICAgICAgICBjb2xfdHlwZTogY3VzdG9tLue6v+i3r+agt+W8jyxcXG4gICAgICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKGZvbGRuYW1lLCBzaHNvcnQpID0+IHtcXG4gICAgICAgICAgICAgICAgdmFyIGZvbGQgPSBnZXRNeVZhcihmb2xkbmFtZSwgJzEnKTtcXG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IGZpbmRJdGVtKHNoc29ydCArICdfbGluZScpO1xcbiAgICAgICAgICAgICAgICB2YXIgYnRuID0gZmluZEl0ZW0oc2hzb3J0ICsgJ19idXR0b24nKTtcXG4gICAgICAgICAgICAgICAgdmFyIGZvbGRzID0gWyc8Zm9udCBjb2xvcj1cXFwiI0QzRDNEM1xcXCI+4pi3JywgJzxmb250IGNvbG9yPVxcXCIjRkZBNTAwXFxcIj7imLAnXTtcXG5cXG4gICAgICAgICAgICAgICAgaWYgKGZvbGQgPT0gJzAnKSB7XFxuICAgICAgICAgICAgICAgICAgICBwdXRNeVZhcihmb2xkbmFtZSwgJzEnKTtcXG4gICAgICAgICAgICAgICAgICAgIHZhciBjcyA9IHN0b3JhZ2UwLmdldE15VmFyKHNoc29ydCArICdfY2xzJyk7XFxuICAgICAgICAgICAgICAgICAgICBhZGRJdGVtQWZ0ZXIob2JqLmV4dHJhLmlkLCBjcyk7XFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVJdGVtKGJ0bi5leHRyYS5pZCwge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBidG4udGl0bGUucmVwbGFjZShmb2xkc1swXSwgZm9sZHNbMV0pLFxcbiAgICAgICAgICAgICAgICAgICAgfSlcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICBpZiAoZm9sZCA9PSAnMScpIHtcXG4gICAgICAgICAgICAgICAgICAgIHB1dE15VmFyKGZvbGRuYW1lLCAnMCcpO1xcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBjbHMgPSBmaW5kSXRlbXNCeUNscyhzaHNvcnQpO1xcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN4ID0gJC5kYXRhQ29udmVydChwY2xzKTtcXG4gICAgICAgICAgICAgICAgICAgIHN0b3JhZ2UwLnB1dE15VmFyKHNoc29ydCArICdfY2xzJywgY3gpO1xcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlSXRlbUJ5Q2xzKHNoc29ydCk7XFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVJdGVtKGJ0bi5leHRyYS5pZCwge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBidG4udGl0bGUucmVwbGFjZShmb2xkc1sxXSwgZm9sZHNbMF0pLFxcbiAgICAgICAgICAgICAgICAgICAgfSlcXG4gICAgICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8vJyArIChmb2xkID09PSAnMScgPyAn5pS26LW3JyA6ICflsZXlvIAnKTtcXG4gICAgICAgICAgICB9LCBmb2xkbmFtZSwgc2hzb3J0KSxcXG4gICAgICAgICAgICBleHRyYToge1xcbiAgICAgICAgICAgICAgICBpZDogc2hzb3J0ICsgJ19idXR0b24nLFxcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH0pXFxuICAgICAgICB0aGlzLmNyZWF0ZVBMaXN0KHRhYnMsIHZhcmksIHNoc29ydCwgY3VzdG9tKTtcXG4gICAgfSxcXG4gICAgc2V0VGFiczI6IGZ1bmN0aW9uKHRhYnMsIHZhcmksIHNoc29ydCwgcGFyc2UsIGV4cCkge1xcbiAgICAgICAgbGV0IGN1c3RvbSA9IHBhcnNlLuiHquWumuS5iTtcXG4gICAgICAgIGN1c3RvbSA9IHRoaXMuZ2V0UHJlc2V0KGN1c3RvbSk7XFxuXFxuICAgICAgICBzaHNvcnQgPSBzaHNvcnQgPyBzaHNvcnQgOiAnc2hzb3J0JztcXG4gICAgICAgIHZhciB0aXRsZSA9IChnZXRNeVZhcihzaHNvcnQgKyAnX3NvcnQnLCAnMCcpID09ICcxJykgPyAnPGI+PHNwYW4gc3R5bGU9XFxcImNvbG9yOicgKyBjdXN0b20u6YCG5bqP6aKc6ImyICsgJ1xcXCI+6YCG5bqPPC9zcGFuPjwvYj4nIDogJzxiPjxzcGFuIHN0eWxlPVxcXCJjb2xvcjonICsgY3VzdG9tLuato+W6j+minOiJsiArICdcXFwiPuato+W6jzwvc3Bhbj48L2I+J1xcblxcbiAgICAgICAgdmFyIOaKmOWPoCA9ICc8Yj7mipjlj6AnICsgJ+KYtycuZm9udGNvbG9yKFxcXCIjRDNEM0QzXFxcIik7XFxuICAgICAgICB2YXIg5bGV5byAID0gJzxiPuWxleW8gCcgKyAn4piwJy5mb250Y29sb3IoXFxcIiNGRkE1MDBcXFwiKTtcXG4gICAgICAgIHZhciBmb2xkbmFtZSA9ICdlcl8nICsgdmFyaSArICdmb2xkJztcXG4gICAgICAgIHZhciBmb2xkID0gZ2V0TXlWYXIoZm9sZG5hbWUsICcxJyk7XFxuXFxuICAgICAgICB2YXIgdXJsID0gJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoZm9sZG5hbWUsIHNoc29ydCwgcHVzaCkgPT4ge1xcbiAgICAgICAgICAgIHZhciBwbCA9IHN0b3JhZ2UwLmdldE15VmFyKCdlcl9wbGF5bGlzdHMnLCAne30nKTtcXG4gICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMocGwpLmxlbmd0aCA9PSAxKSB7XFxuICAgICAgICAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9lbXB0eSdcXG4gICAgICAgICAgICB9XFxuXFxuICAgICAgICAgICAgdmFyIGZvbGQgPSBnZXRNeVZhcihmb2xkbmFtZSwgJzEnKTtcXG4gICAgICAgICAgICB2YXIgb2JqID0gZmluZEl0ZW0oc2hzb3J0ICsgJ19hdmF0YXInKVxcbiAgICAgICAgICAgIGlmIChmb2xkID09ICcxJykge1xcbiAgICAgICAgICAgICAgICB2YXIgYmNscyA9IGZpbmRJdGVtKHNoc29ydCArICdfYnV0dG9uJyk7XFxuICAgICAgICAgICAgICAgIHZhciB0Y2xzID0gZmluZEl0ZW1zQnlDbHMoc2hzb3J0ICsgJ190YWInKTtcXG4gICAgICAgICAgICAgICAgdmFyIGxjbHMgPSBmaW5kSXRlbShzaHNvcnQgKyAnX2xpbmUnKTtcXG5cXG4gICAgICAgICAgICAgICAgdmFyIHBjbHMgPSBmaW5kSXRlbXNCeUNscyhzaHNvcnQpO1xcbiAgICAgICAgICAgICAgICB2YXIgY3MgPSBbYmNsc10uY29uY2F0KHRjbHMsIFtsY2xzXSwgcGNscyk7XFxuXFxuICAgICAgICAgICAgICAgIGlmIChwdXNoKSB7XFxuICAgICAgICAgICAgICAgICAgICB2YXIgcGNscyA9IGZpbmRJdGVtc0J5Q2xzKHNoc29ydCArICdfcHVzaHRhYicpO1xcbiAgICAgICAgICAgICAgICAgICAgY3MgPSBwY2xzLmNvbmNhdChjcyk7XFxuICAgICAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICAgICAgdmFyIGN4ID0gJC5kYXRhQ29udmVydChjcyk7XFxuICAgICAgICAgICAgICAgIHN0b3JhZ2UwLnB1dE15VmFyKHNoc29ydCArICdfY2xzJywgY3gpO1xcbiAgICAgICAgICAgICAgICBpZiAocHVzaCkge1xcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlSXRlbUJ5Q2xzKHNoc29ydCArICdfcHVzaHRhYicpO1xcbiAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIGRlbGV0ZUl0ZW0oYmNscy5leHRyYS5pZCk7XFxuICAgICAgICAgICAgICAgIGRlbGV0ZUl0ZW1CeUNscyhzaHNvcnQgKyAnX3RhYicpO1xcbiAgICAgICAgICAgICAgICBkZWxldGVJdGVtKHNoc29ydCArICdfbGluZScpO1xcbiAgICAgICAgICAgICAgICBkZWxldGVJdGVtQnlDbHMoc2hzb3J0KTtcXG5cXG4gICAgICAgICAgICAgICAgdXBkYXRlSXRlbShvYmouZXh0cmEuaWQsIHtcXG4gICAgICAgICAgICAgICAgICAgIGRlc2M6IG9iai5kZXNjLnJlcGxhY2UoJ+WxleW8gDxmb250IGNvbG9yPVxcXCIjRkZBNTAwXFxcIj7imLAnLCAn5oqY5Y+gPGZvbnQgY29sb3I9XFxcIiNEM0QzRDNcXFwiPuKYtycpLFxcbiAgICAgICAgICAgICAgICB9KVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBpZiAoZm9sZCA9PSAnMCcpIHtcXG4gICAgICAgICAgICAgICAgdmFyIGNzID0gc3RvcmFnZTAuZ2V0TXlWYXIoc2hzb3J0ICsgJ19jbHMnKTtcXG4gICAgICAgICAgICAgICAgYWRkSXRlbUFmdGVyKHNoc29ydCArICdfYXZhdGFyJywgY3MpO1xcbiAgICAgICAgICAgICAgICB1cGRhdGVJdGVtKG9iai5leHRyYS5pZCwge1xcbiAgICAgICAgICAgICAgICAgICAgZGVzYzogb2JqLmRlc2MucmVwbGFjZSgn5oqY5Y+gPGZvbnQgY29sb3I9XFxcIiNEM0QzRDNcXFwiPuKYtycsICflsZXlvIA8Zm9udCBjb2xvcj1cXFwiI0ZGQTUwMFxcXCI+4piwJyksXFxuICAgICAgICAgICAgICAgIH0pXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIHB1dE15VmFyKGZvbGRuYW1lLCBmb2xkID09PSAnMScgPyAnMCcgOiAnMScpO1xcbiAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly8nICsgKGZvbGQgPT09ICcxJyA/ICfmlLbotbcnIDogJ+WxleW8gCcpO1xcbiAgICAgICAgfSwgZm9sZG5hbWUsIHNoc29ydCwgKHBhcnNlWyfmjqjpgIEnXSA/IHRydWUgOiBmYWxzZSkpO1xcbiAgICAgICAgdmFyIGRlc2MgPSAoZm9sZCA9PT0gJzAnID8g5oqY5Y+gIDog5bGV5byAKSArICdcXFxcdCc7XFxuXFxuICAgICAgICBpZiAoZXhwLmxlbmd0aCA9PSAxKSB7XFxuICAgICAgICAgICAgdXJsID0gJ2hpa2VyOi8vZW1wdHknO1xcbiAgICAgICAgICAgIGRlc2MgPSAnJztcXG4gICAgICAgIH1cXG4gICAgICAgIGQucHVzaCh7XFxuICAgICAgICAgICAgdGl0bGU6IHZhcmkgKyAnOlxcXFx0XFxcXHQnICsgJ+WFsScgKyBTdHJpbmcodGFicy5sZW5ndGgpLmZvbnRjb2xvcignIzQ2ODJCNCcpICsgJ+adoee6v+i3rycsXFxuICAgICAgICAgICAgZGVzYzogZGVzYyxcXG4gICAgICAgICAgICBjb2xfdHlwZTogJ2F2YXRhcicsXFxuICAgICAgICAgICAgaW1nOiBjdXN0b20u5Zu+5qCHLFxcbiAgICAgICAgICAgIHVybDogdXJsLFxcbiAgICAgICAgICAgIGV4dHJhOiB7XFxuICAgICAgICAgICAgICAgIGlkOiBzaHNvcnQgKyAnX2F2YXRhcicsXFxuICAgICAgICAgICAgICAgIGxvbmdDbGljazogdGhpcy5zZXRMb25nY2xpY2soc2hzb3J0KSxcXG4gICAgICAgICAgICB9XFxuICAgICAgICB9KVxcbiAgICAgICAgaWYgKHR5cGVvZihwYXJzZVsn5o6o6YCBJ10pICE9ICd1bmRlZmluZWQnICYmIHBhcnNlWyfmjqjpgIEnXSlcXG4gICAgICAgICAgICB0aGlzLnB1c2hUYWIoJ2VyXycgKyB2YXJpLCBzaHNvcnQpO1xcblxcbiAgICAgICAgaWYgKGZvbGQgPT0gJzAnKSB7XFxuICAgICAgICAgICAgcmV0dXJuXFxuICAgICAgICB9XFxuXFxuICAgICAgICBkLnB1c2goe1xcbiAgICAgICAgICAgIHRpdGxlOiAn4oCc4oCc4oCd4oCdJyArIHRpdGxlLFxcbiAgICAgICAgICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgodmFyaSwgc2hzb3J0LCBjdXN0b20pID0+IHtcXG4gICAgICAgICAgICAgICAgbGV0IGNvbmYgPSBnZXRNeVZhcihzaHNvcnQgKyAnX3NvcnQnLCAnMCcpO1xcbiAgICAgICAgICAgICAgICB2YXIgY2xzbGlzdHMgPSBmaW5kSXRlbXNCeUNscyhzaHNvcnQpO1xcbiAgICAgICAgICAgICAgICB2YXIgbmV3Y2xzbGlzdCA9ICQuZGF0YUNvbnZlcnQoY2xzbGlzdHMpO1xcbiAgICAgICAgICAgICAgICBkZWxldGVJdGVtQnlDbHMoc2hzb3J0KTtcXG4gICAgICAgICAgICAgICAgbmV3Y2xzbGlzdC5yZXZlcnNlKCk7XFxuICAgICAgICAgICAgICAgIGFkZEl0ZW1BZnRlcihzaHNvcnQgKyAnX2xpbmUnLCBuZXdjbHNsaXN0KTtcXG5cXG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IGZpbmRJdGVtKHNoc29ydCArICdfYnV0dG9uJylcXG4gICAgICAgICAgICAgICAgdmFyIHRpdGxlcyA9IFtgJHtjdXN0b20u5q2j5bqP6aKc6ImyfVxcXCI+5q2j5bqPYCwgYCR7Y3VzdG9tLumAhuW6j+minOiJsn1cXFwiPumAhuW6j2BdO1xcblxcbiAgICAgICAgICAgICAgICBpZiAoY29uZiA9PSAnMScpIHtcXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0oc2hzb3J0ICsgJ19idXR0b24nLCB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IG9iai50aXRsZS5yZXBsYWNlKHRpdGxlc1sxXSwgdGl0bGVzWzBdKSxcXG4gICAgICAgICAgICAgICAgICAgIH0pXFxuICAgICAgICAgICAgICAgICAgICBwdXRNeVZhcihzaHNvcnQgKyAnX3NvcnQnLCAnMCcpO1xcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlSXRlbShzaHNvcnQgKyAnX2J1dHRvbicsIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogb2JqLnRpdGxlLnJlcGxhY2UodGl0bGVzWzBdLCB0aXRsZXNbMV0pLFxcbiAgICAgICAgICAgICAgICAgICAgfSlcXG4gICAgICAgICAgICAgICAgICAgIHB1dE15VmFyKHNoc29ydCArICdfc29ydCcsICcxJyk7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgLy9yZWZyZXNoUGFnZSgpXFxuICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/liIfmjaLmjpLluo/miJDlip8nXFxuICAgICAgICAgICAgfSwgdmFyaSwgc2hzb3J0LCBjdXN0b20pLFxcbiAgICAgICAgICAgIGNvbF90eXBlOiBjdXN0b20u57q/6Lev5qC35byPLFxcbiAgICAgICAgICAgIGV4dHJhOiB7XFxuICAgICAgICAgICAgICAgIGlkOiBzaHNvcnQgKyAnX2J1dHRvbicsXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSlcXG4gICAgICAgIHRoaXMuY3JlYXRlUExpc3QodGFicywgdmFyaSwgc2hzb3J0LCBjdXN0b20pO1xcbiAgICB9LFxcbiAgICBzZXRMaXN0czogZnVuY3Rpb24obGlzdHMsIGluZGV4LCBzaHNvcnQsIHBhcnNlKSB7XFxuXFxuICAgICAgICBzdG9yYWdlMC5wdXRNeVZhcihzaHNvcnQgKyAnX2xpc3QnLCBsaXN0cyk7XFxuXFxuICAgICAgICBwYXJzZSA9IHBhcnNlID8gcGFyc2UgOiB7fTtcXG4gICAgICAgIHZhciDmoLflvI8gPSBwYXJzZS7moLflvI8gPyBwYXJzZS7moLflvI8gOiAnJztcXG4gICAgICAgIHZhciDlm77moIcgPSBwYXJzZS7lm77moIcgPyBwYXJzZS7lm77moIcgOiAnaHR0cHM6Ly9oaWtlcmZhbnMuY29tL3R1Ymlhby9tb3ZpZS8xMy5zdmcnO1xcbiAgICAgICAgdmFyIGFqYXggPSBwYXJzZS5BamF4ID8gcGFyc2UuQWpheCA6IGZhbHNlO1xcblxcbiAgICAgICAgc2hzb3J0ID0gc2hzb3J0ID8gc2hzb3J0IDogJ3Noc29ydCc7XFxuXFxuICAgICAgICBpZiAoYWpheCkge1xcbiAgICAgICAgICAgIHZhciBsaXN0ID0gbGlzdHM7XFxuICAgICAgICAgICAgaWYgKGdldE15VmFyKHNoc29ydCArICdfc29ydCcpID09ICcxJyAmJiBsaXN0cy5sZW5ndGggPiAwKSB7XFxuICAgICAgICAgICAgICAgIGxpc3QgPSBsaXN0cy5yZXZlcnNlKCk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICB2YXIgbGlzdCA9IGxpc3RzW2luZGV4XTtcXG4gICAgICAgICAgICBpZiAoZ2V0TXlWYXIoc2hzb3J0ICsgJ19zb3J0JykgPT0gJzEnICYmIGxpc3RzLmxlbmd0aCA+IDApIHtcXG4gICAgICAgICAgICAgICAgbGlzdCA9IGxpc3RzW2luZGV4XS5yZXZlcnNlKCk7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcblxcbiAgICAgICAgaWYgKOagt+W8jyA9PSAnJykge1xcbiAgICAgICAgICAgIOagt+W8jyA9IGxpc3QubGVuZ3RoID4gMyA/ICd0ZXh0XzQnIDogJ3RleHRfMidcXG4gICAgICAgIH1cXG4gICAgICAgIFxcbiAgICAgICAgdmFyIGV4dHJhID0gJyc7XFxuXFxuICAgICAgICBpZiAocGFyc2UuZXh0cmEgIT0gdW5kZWZpbmVkKSB7XFxuICAgICAgICAgICAgZXh0cmEgPSBwYXJzZS5leHRyYVxcbiAgICAgICAgfVxcblxcbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoID4gMCkge1xcbiAgICAgICAgICAgIHZhciBwbGlzdCA9IHN0b3JhZ2UwLmdldE15VmFyKCdlcl9wbGF5bGlzdHMnLCAne30nKTtcXG4gICAgICAgICAgICBpZiAoIXBsaXN0Lmhhc093blByb3BlcnR5KHNoc29ydCkpIHtcXG4gICAgICAgICAgICAgICAgcGxpc3Rbc2hzb3J0XSA9IHt9O1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBwbGlzdFtzaHNvcnRdWydjbHMnXSA9IHNoc29ydDtcXG4gICAgICAgICAgICBwbGlzdFtzaHNvcnRdWydjb2xfdHlwZSddID0g5qC35byPO1xcbiAgICAgICAgICAgIHBsaXN0W3Noc29ydF1bJ3BpYyddID0g5Zu+5qCHOyBcXG4gICAgICAgICAgICBwbGlzdFtzaHNvcnRdWydleHRyYSddPWV4dHJhOyAgICAgICAgICAgXFxuICAgICAgICAgICAgc3RvcmFnZTAucHV0TXlWYXIoJ2VyX3BsYXlsaXN0cycsIHBsaXN0KTtcXG4gICAgICAgIH1cXG4gICAgICAgIFxcblxcbiAgICAgICAgZm9yICh2YXIgaiBpbiBsaXN0KSB7XFxuICAgICAgICAgICAgbGV0IGx0ID0ge1xcbiAgICAgICAgICAgICAgICB0aXRsZTogbGlzdFtqXS50aXRsZSxcXG4gICAgICAgICAgICAgICAgdXJsOiBsaXN0W2pdLnVybCxcXG4gICAgICAgICAgICAgICAgY29sX3R5cGU6IOagt+W8jyxcXG4gICAgICAgICAgICAgICAgcGljOiDlm77moIcsXFxuICAgICAgICAgICAgICAgIGV4dHJhOiB7XFxuICAgICAgICAgICAgICAgICAgICBpZDogbGlzdFtqXS51cmwucmVwbGFjZSgvQGxhenlSdWxlW1xcXFxzXFxcXFNdKy9nLCAnJyksXFxuICAgICAgICAgICAgICAgICAgICBjbHM6IHNoc29ydCwgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9O1xcbiAgICAgICAgICAgIGx0WydleHRyYSddID0gT2JqZWN0LmFzc2lnbih7fSwgbHRbJ2V4dHJhJ10sIGV4dHJhKTtcXG4gICAgICAgICAgICBkLnB1c2gobHQpO1xcbiAgICAgICAgfVxcbiAgICB9LFxcbiAgICBldmFsUmU6IGZ1bmN0aW9uKGlucHV0LCDlh73mlbApIHtcXG4gICAgICAgIGxldCByZXN1bHQgPSBpbnB1dDtcXG4gICAgICAgIHJlc3VsdCA9IGV2YWwoJ2lucHV0JyArIOWHveaVsCk7XFxuICAgICAgICByZXR1cm4gcmVzdWx0O1xcbiAgICB9LFxcbiAgICBnZXRUYWJzOiBmdW5jdGlvbihwYXJzZSkge1xcbiAgICAgICAgdmFyIHRhYnMgPSBbXTtcXG4gICAgICAgIHZhciBhcnRzID0gW107XFxuICAgICAgICBpZiAodHlwZW9mIHBhcnNlLue6v+i3ryA9PSAnb2JqZWN0Jykge1xcbiAgICAgICAgICAgIGFydHMgPSBwYXJzZS7nur/ot687XFxuICAgICAgICB9XFxuICAgICAgICBpZiAoYXJ0cy5sZW5ndGggPT0gMCkge1xcbiAgICAgICAgICAgIGFydHMgPSBwZGZhKGh0bWwsIHBhcnNlLue6v+i3ryk7XFxuICAgICAgICB9XFxuICAgICAgICB2YXIg57q/6Lev5ZCNID0gcGFyc2Uu57q/6Lev5ZCN56ewO1xcbiAgICAgICAgdmFyIOabv+aNouWHveaVsCA9ICcnO1xcbiAgICAgICAgaWYgKHBhcnNlLue6v+i3r+WQjeensC5pbmNsdWRlcygnQEAnKSkge1xcbiAgICAgICAgICAgIOe6v+i3r+WQjSA9IHBhcnNlLue6v+i3r+WQjeensC5zcGxpdCgnQEAnKVswXTtcXG4gICAgICAgICAgICDmm7/mjaLlh73mlbAgPSBwYXJzZS7nur/ot6/lkI3np7Auc3BsaXQoJ0BAJylbMV07XFxuICAgICAgICB9XFxuICAgICAgICBmb3IgKHZhciBpIGluIGFydHMpIHtcXG4gICAgICAgICAgICBsZXQgbGluZW5hbWUgPSAnJztcXG4gICAgICAgICAgICBpZiAo57q/6Lev5ZCNID09ICcnKSB7XFxuICAgICAgICAgICAgICAgIGxpbmVuYW1lID0gYXJ0c1tpXTtcXG4gICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICBsaW5lbmFtZSA9IHBkZmgoYXJ0c1tpXSwg57q/6Lev5ZCNKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgaWYgKOabv+aNouWHveaVsCAhPSAnJykge1xcbiAgICAgICAgICAgICAgICBsaW5lbmFtZSA9IHRoaXMuZXZhbFJlKGxpbmVuYW1lLCDmm7/mjaLlh73mlbApO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB0YWJzLnB1c2gobGluZW5hbWUpO1xcbiAgICAgICAgfVxcbiAgICAgICAgcmV0dXJuIHRhYnM7XFxuICAgIH0sXFxuICAgIGdldExpc3RzOiBmdW5jdGlvbihwYXJzZSwgc2hzb3J0KSB7XFxuICAgICAgICBzaHNvcnQgPSBzaHNvcnQgPyBzaHNvcnQgOiAnc2hzb3J0JztcXG4gICAgICAgIHZhciBsaXN0cyA9IFtdO1xcbiAgICAgICAgdmFyIGNvbnRzID0gW107XFxuICAgICAgICBpZiAodHlwZW9mIHBhcnNlLumAiembhiA9PSAnb2JqZWN0Jykge1xcbiAgICAgICAgICAgIGNvbnRzID0gcGFyc2Uu6YCJ6ZuGO1xcbiAgICAgICAgfVxcbiAgICAgICAgaWYgKGNvbnRzLmxlbmd0aCA9PSAwKSB7XFxuICAgICAgICAgICAgdHJ5IHtcXG4gICAgICAgICAgICAgICAgY29udHMgPSBwZGZhKGh0bWwsIHBhcnNlLumAiembhik7XFxuICAgICAgICAgICAgfSBjYXRjaCB7XFxuICAgICAgICAgICAgICAgIHRvYXN0KCfpgInpm4blrprkvY3mnInor68nKVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgIH1cXG5cXG4gICAgICAgIGxldCDmm7/mjaLlh73mlbAgPSAnJztcXG4gICAgICAgIHZhciDpgInpm4blkI3np7AgPSBwYXJzZS7pgInpm4blkI3np7AgPyBwYXJzZS7pgInpm4blkI3np7AgOiAnYSYmVGV4dCc7XFxuICAgICAgICBpZiAo6YCJ6ZuG5ZCN56ewLmluY2x1ZGVzKCdAQCcpKSB7XFxuICAgICAgICAgICAg6YCJ6ZuG5ZCN56ewID0gcGFyc2Uu6YCJ6ZuG5ZCN56ewLnNwbGl0KCdAQCcpWzBdO1xcbiAgICAgICAgICAgIOabv+aNouWHveaVsCA9IHBhcnNlLumAiembhuWQjeensC5zcGxpdCgnQEAnKVsxXTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIHZhciDpgInpm4bpk77mjqUgPSBwYXJzZS7pgInpm4bpk77mjqUgPyBwYXJzZS7pgInpm4bpk77mjqUgOiAnYSYmaHJlZic7XFxuICAgICAgICB2YXIg6Kej5p6QID0gcGFyc2Uu6Kej5p6QID8gcGFyc2Uu6Kej5p6QIDogJyc7XFxuICAgICAgICB2YXIgdGVtcCA9IFtdO1xcblxcbiAgICAgICAgZm9yICh2YXIgaSBpbiBjb250cykge1xcbiAgICAgICAgICAgIGlmIChwYXJzZS7pgInpm4bliJfooaggIT0gdW5kZWZpbmVkKSB7XFxuICAgICAgICAgICAgICAgIGlmIChwYXJzZS7pgInpm4bliJfooaggPT0gJ29iamVjdCcpIHtcXG4gICAgICAgICAgICAgICAgICAgIGxpc3RzLnB1c2goY29udHNbaV0ubWFwKHggPT4ge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB4LnRpdGxlLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHgudXJsICsg6Kej5p6QLFxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgICAgIH0pKVxcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICAgICAgbGlzdHMucHVzaChwZGZhKGNvbnRzW2ldLCBwYXJzZS7pgInpm4bliJfooagpLm1hcCh4ID0+IHtcXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogcGRmaCh4LCDpgInpm4blkI3np7ApLFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHBkKHgsIOmAiembhumTvuaOpSkgKyDop6PmnpAsXFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICAgICAgfSkpXFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICB2YXIgdXJsID0gcGQoY29udHNbaV0sIOmAiembhumTvuaOpSk7XFxuICAgICAgICAgICAgICAgIGlmICgh6YCJ6ZuG6ZO+5o6lLmluY2x1ZGVzKCdocmVmJykpIHtcXG4gICAgICAgICAgICAgICAgICAgIHVybCA9IHBkZmgoY29udHNbaV0sIOmAiembhumTvuaOpSk7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgbGV0IHRpdGxlID0gcGRmaChjb250c1tpXSwg6YCJ6ZuG5ZCN56ewKTtcXG4gICAgICAgICAgICAgICAgdGl0bGUgPSDmm7/mjaLlh73mlbAgIT0gJycgPyB0aGlzLmV2YWxSZSh0aXRsZSwg5pu/5o2i5Ye95pWwKSA6IHRpdGxlO1xcbiAgICAgICAgICAgICAgICB0ZW1wLnB1c2goe1xcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiB1cmwgKyDop6PmnpAsXFxuICAgICAgICAgICAgICAgIH0pXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgbGV0IOWAkuW6jyA9IHBhcnNlLuWAkuW6jyA/IHBhcnNlLuWAkuW6jyA6IGZhbHNlO1xcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBsaXN0cy5sZW5ndGggPyBsaXN0cyA6IFt0ZW1wXTtcXG4gICAgICAgIGlmICjlgJLluo8pIHtcXG4gICAgICAgICAgICByZXN1bHRzID0gcmVzdWx0cy5tYXAoeCA9PiB4LnJldmVyc2UoKSk7XFxuICAgICAgICB9XFxuICAgICAgICB2YXIgcGxpc3QgPSBzdG9yYWdlMC5nZXRNeVZhcignZXJfcGxheWxpc3RzJywgJ3t9Jyk7XFxuICAgICAgICBpZiAocmVzdWx0cy5zb21lKHggPT4geC5sZW5ndGggPiAwKSkge1xcbiAgICAgICAgICAgIGlmICghcGxpc3QuaGFzT3duUHJvcGVydHkoc2hzb3J0KSkge1xcbiAgICAgICAgICAgICAgICBwbGlzdFtzaHNvcnRdID0ge307XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIHBsaXN0W3Noc29ydF1bJ2xlbmd0aCddID0gcmVzdWx0cy5sZW5ndGg7XFxuICAgICAgICB9O1xcbiAgICAgICAgc3RvcmFnZTAucHV0TXlWYXIoJ2VyX3BsYXlsaXN0cycsIHBsaXN0KTtcXG4gICAgICAgIHJldHVybiByZXN1bHRzO1xcbiAgICB9LFxcbiAgICBnZXRQbGF5ZXJzOiBmdW5jdGlvbihwYXJzZSwgbW9kZSwgZnVuYykge1xcbiAgICAgICAgLy9sb2cobW9kZSlcXG4gICAgICAgIHZhciBwbGF5ID0gJ2VyX3BsYXlsaXN0Xyc7XFxuICAgICAgICB0aGlzLnByZUxvYWQoZnVuYyk7XFxuICAgICAgICB0aGlzLmNsb3NlKHBhcnNlLm1hcCh4ID0+IHgu57G75Z6LKSwgcGFyc2UubGVuZ3RoKTtcXG4gICAgICAgIG1vZGUgPSBtb2RlID8gbW9kZSA6IDE7XFxuXFxuICAgICAgICBsZXQgcGUgPSBbMV07XFxuICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIHBlID0gcGFyc2UubWFwKHggPT4gcGRmYShodG1sLCB4Lue6v+i3rykubGVuZ3RoKS5maWx0ZXIoeSA9PiB5ID4gMCk7XFxuICAgICAgICB9IGNhdGNoIHt9XFxuXFxuXFxuICAgICAgICBwYXJzZS5mb3JFYWNoKChpdGVtLCBpKSA9PiB7XFxuICAgICAgICAgICAgdmFyIHRhYnMgPSBbJ+S4u+e6vyddO1xcbiAgICAgICAgICAgIGlmIChpdGVtLue6v+i3ryAhPSB1bmRlZmluZWQpIHtcXG4gICAgICAgICAgICAgICAgdGFicyA9IHRoaXMuZ2V0VGFicyhpdGVtKTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgcHV0TXlWYXIocGxheSArIGkgKyAnX3RhYnMnLCB0YWJzKTtcXG4gICAgICAgICAgICBpZiAoaXRlbS5BamF4KSB7XFxuICAgICAgICAgICAgICAgIGlmIChtb2RlID09IDEpIHtcXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VGFicyh0YWJzLCBpdGVtLuexu+WeiywgcGxheSArIGksIGl0ZW0pO1xcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRUYWJzMih0YWJzLCBpdGVtLuexu+WeiywgcGxheSArIGksIGl0ZW0sIHBlKTtcXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgICAgICBwdXRNeVZhcignZXJfaHRtbCcsIGh0bWwpO1xcbiAgICAgICAgICAgICAgICBwdXRNeVZhcignZXJfdXJsJywgTVlfVVJMKTtcXG5cXG4gICAgICAgICAgICAgICAgdmFyIGxpc3RzID0gZnVuYyhnZXRNeVZhcignZXJfJyArIGl0ZW0u57G75Z6LLCAnMCcpLCBNWV9VUkwpO1xcbiAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgIHZhciBsaXN0cyA9IHRoaXMuZ2V0TGlzdHMoaXRlbSwgcGxheSArIGkpO1xcblxcblxcbiAgICAgICAgICAgICAgICBpZiAobGlzdHMuc29tZSh4ID0+IHgubGVuZ3RoID4gMCkpIHtcXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlID09IDEpIHtcXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFRhYnModGFicywgaXRlbS7nsbvlnossIHBsYXkgKyBpLCBpdGVtKTtcXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRUYWJzMih0YWJzLCBpdGVtLuexu+WeiywgcGxheSArIGksIGl0ZW0sIHBlKTtcXG4gICAgICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBpZiAoZ2V0TXlWYXIoJ2VyXycgKyBpdGVtLuexu+WeiyArICdmb2xkJywgJzEnKSA9PSAnMScpIHtcXG4gICAgICAgICAgICAgICAgdGhpcy5zZXRMaXN0cyhsaXN0cywgZ2V0TXlWYXIoJ2VyXycgKyBpdGVtLuexu+WeiywgJzAnKSwgcGxheSArIGksIGl0ZW0pO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgICBkLnB1c2goe1xcbiAgICAgICAgICAgICAgICBjb2xfdHlwZTogJ2JsYW5rX2Jsb2NrJ1xcbiAgICAgICAgICAgIH0pXFxuICAgICAgICB9KVxcbiAgICB9XFxufVxcblxcblxcbmxldCBNZXRob2RzID0ge1xcbiAgICAvL+WkmumAieaooeWdl1xcbiAgICBNdWx0aVNlbGVjdE1vZGU6IGZ1bmN0aW9uKG5hbWUsIGlkLCBzaHNvcnQpIHtcXG4gICAgICAgIHJldHVybiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChkYXRhdGl0bGUsIGRhdGF1cmwsIHNoc29ydCkgPT4ge1xcbiAgICAgICAgICAgIGZ1bmN0aW9uIHVuaXF1ZShhcnIpIHtcXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzID0gbmV3IE1hcCgpXFxuICAgICAgICAgICAgICAgIHJldHVybiBhcnIuZmlsdGVyKChhKSA9PiAhcmVzLmhhcyhhLnVybCkgJiYgcmVzLnNldChhLnVybCwgMSkpXFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGxldCBkdW9zZWxlY3QgPSBzdG9yYWdlMC5nZXRNeVZhcihzaHNvcnQgKyBcXFwiX2R1b3NlbGVjdFxcXCIpID8gc3RvcmFnZTAuZ2V0TXlWYXIoc2hzb3J0ICsgXFxcIl9kdW9zZWxlY3RcXFwiKSA6IFtdO1xcbiAgICAgICAgICAgIGlmIChkdW9zZWxlY3QuZmluZEluZGV4KHggPT4geC51cmwgPT09IGRhdGF1cmwpID09IC0xKSB7XFxuICAgICAgICAgICAgICAgIGR1b3NlbGVjdC5wdXNoKHtcXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBkYXRhdGl0bGUsXFxuICAgICAgICAgICAgICAgICAgICB1cmw6IGRhdGF1cmxcXG4gICAgICAgICAgICAgICAgfSlcXG4gICAgICAgICAgICAgICAgZHVvc2VsZWN0ID0gdW5pcXVlKGR1b3NlbGVjdClcXG4gICAgICAgICAgICAgICAgdXBkYXRlSXRlbShkYXRhdXJsLCB7XFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogYOKAnOKAnOKAneKAnTxzcGFuIHN0eWxlPVxcXCJjb2xvcjojRkY1NzMzXFxcIj5gICsgZGF0YXRpdGxlLFxcbiAgICAgICAgICAgICAgICB9KTtcXG4gICAgICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICAgICAgICBmdW5jdGlvbiByZW1vdmVCeVZhbHVlKGFyciwgdmFsKSB7XFxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykge1xcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcnJbaV1bJ3VybCddID09IHZhbCkge1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcnIuc3BsaWNlKGksIDEpO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgICAgICB9XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgcmVtb3ZlQnlWYWx1ZShkdW9zZWxlY3QsIGRhdGF1cmwpXFxuICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0oZGF0YXVybCwge1xcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGRhdGF0aXRsZVxcbiAgICAgICAgICAgICAgICB9KTtcXG4gICAgICAgICAgICB9XFxuICAgICAgICAgICAgc3RvcmFnZTAucHV0TXlWYXIoc2hzb3J0ICsgXFxcIl9kdW9zZWxlY3RcXFwiLCBkdW9zZWxlY3QpO1xcbiAgICAgICAgICAgIHJldHVybiBcXFwiaGlrZXI6Ly9lbXB0eVxcXCJcXG4gICAgICAgIH0sIG5hbWUsIGlkLCBzaHNvcnQpXFxuICAgIH0sXFxufVwifSx7XCJjb2xfdHlwZVwiOlwibW92aWVfM1wiLFwibmFtZVwiOlwi4pO35LqM57qn5pCc57SiXCIsXCJwYXRoXCI6XCJ0b29sXCIsXCJydWxlXCI6XCIvL3ZhciB0aXRsZSA9IHBhcnNlRG9tRm9ySHRtbChodG1sLCDmkJzntKLmoIfnrb4pO1xcbnZhciB0aXRsZSA9IE1ZX1BBUkFNUy50aXRsZTtcXG5sb2codGl0bGUpXFxuZC5wdXNoKHtcXG4gICAgdGl0bGU6ICfigJjigJjigJnigJk8Yj48bWlkZGxlPjxmb250IGNvbG9yPVxcXCIjRkYwMDAwXFxcIj4g5LqR55uY5ZCbLuaOqDwvZm9udD48L21pZGRsZT4nLFxcbiAgICBwaWNfdXJsOiAnaHR0cDovL2ltYWdlLmNvb2xhcGsuY29tLy9hcGtfbG9nby8yMDIyLzA1MDcvMTQvMF8zODI4XzcyNTRfNjM5QDI2MHgyNjAucG5nLnQucG5nJyxcXG4gICAgdXJsOiAnaGlrZXI6Ly9zZWFyY2g/cz0nICsgdGl0bGUgKyAnJnJ1bGU95LqR55uY5ZCbKOaOqOmAgSknLFxcbiAgICBjb2xfdHlwZTogJ2ljb25fc21hbGxfNCcsXFxufSk7XFxuZC5wdXNoKHtcXG4gICAgdGl0bGU6ICfigJjigJjigJnigJk8Yj48bWlkZGxlPjxmb250IGNvbG9yPVxcXCIjMUU5MEZGXFxcIj4g6IGa5b2x4oiaPC9mb250PjwvbWlkZGxlPicsXFxuICAgIHBpY191cmw6ICdodHRwOi8vaW1hZ2UuY29vbGFway5jb20vYXBrX2xvZ28vMjAyMS8wNzIxLzEwL2JiNWM2ZDU5YTllMzYxNTk4MzRiM2YxOWZjNzQ5ZGY1LTI4NTEwNy1vXzFmYjNmdGwzZ2NzdDFzZHQxbjNiMW0ydW5qZDE4LXVpZC02NjI0MzVAMzYweDM2MC5wbmcnLFxcbiAgICB1cmw6ICdoaWtlcjovL3NlYXJjaD9zPScgKyB0aXRsZSArICcmcnVsZT3ogZrlvbHiiJonLFxcbiAgICBjb2xfdHlwZTogJ2ljb25fc21hbGxfNCcsXFxufSk7XFxuZC5wdXNoKHtcXG4gICAgdGl0bGU6ICfigJjigJjigJnigJk8Yj48bWlkZGxlPjxmb250IGNvbG9yPVxcXCIjRkY4QzAwXFxcIj4g6IGa6ZiF4oiaPC9mb250PjwvbWlkZGxlPicsXFxuICAgIHBpY191cmw6ICdodHRwOi8vc3RhdGljLnlpbmd5b25naHVpLmNvbS9pY29uLzEyOC82ODYzNDQ3LnBuZycsXFxuICAgIHVybDogJ2hpa2VyOi8vc2VhcmNoP3M9JyArIHRpdGxlICsgJyZydWxlPeiBmumYheKImicsXFxuICAgIGNvbF90eXBlOiAnaWNvbl9zbWFsbF80JyxcXG59KTtcXG5kLnB1c2goe1xcbiAgICB0aXRsZTogJ+KAmOKAmOKAmeKAmTxiPjxtaWRkbGU+PGZvbnQgY29sb3I9XFxcIiMwMEZGMDBcXFwiPiDkupHnm5jlkJsu566APC9mb250PjwvbWlkZGxlPicsXFxuICAgIHBpY191cmw6ICdodHRwOi8vc3RhdGljLnlpbmd5b25naHVpLmNvbS9pY29uLzEyOC83MDAwNDc4LnBuZycsXFxuICAgIHVybDogJ2hpa2VyOi8vc2VhcmNoP3M9JyArIHRpdGxlICsgJyZydWxlPeS6keebmOWQmy7nroAnLFxcbiAgICBjb2xfdHlwZTogJ2ljb25fc21hbGxfNCcsXFxufSk7XCJ9LHtcImNvbF90eXBlXCI6XCJtb3ZpZV8zXCIsXCJuYW1lXCI6XCLikafnrZvpgInpobXpnaJcIixcInBhdGhcIjpcInNoYWlcIixcInJ1bGVcIjpcImpzOlxcbnZhciBkID0gW107XFxuY29uc3QgaG9zdCA9ICdodHRwczovL3d3dy5zdXlpbmcubGlmZS9pbmRleC5waHAvdm9kL3Nob3cvaWQvMS5odG1sJztcXG5cXG5hZGRMaXN0ZW5lcihcXFwib25DbG9zZVxcXCIsICQudG9TdHJpbmcoKCkgPT4ge1xcbiAgICBsZXQga2V5cyA9IGxpc3RNeVZhcktleXMoKTtcXG4gICAgZm9yIChsZXQgaXQgb2Yga2V5cykge1xcbiAgICAgICAgY2xlYXJNeVZhcihpdCk7XFxuICAgIH1cXG59KSk7XFxuXFxudmFyIGdldFJhbmdlQ29sb3JzID0gZnVuY3Rpb24oKSB7wqDCoMKgwqDCoMKgwqBcXG4gICAgcmV0dXJuICcjJyArICgnMDAwMDAnICsgKE1hdGgucmFuZG9tKCkgKiAweDEwMDAwMDAgPDwgMCkudG9TdHJpbmcoMTYpKS5zdWJzdHIoLTYpO8KgwqDCoMKgwqBcXG59XFxuY29uc3Qg5LiL5LiA6aG1ID0gXFxcInBkKGh0bWwsICdhOm1hdGNoZXMo5LiL5LiA6aG1KSYmaHJlZicpXFxcIjtcXG5jb25zdCBwYWdlID0gTVlfUEFHRTtcXG5ldmFsKEpTT04ucGFyc2UocmVxdWVzdCgnaGlrZXI6Ly9wYWdlL3lqJykpLnJ1bGUpXFxuXFxudmFyIOWumuS9jeS/oeaBryA9IFt7XFxuICAgIOWkp+exu+WumuS9jTogJy5zY3JvbGwtY29udGVudCcsXFxuICAgIOWwj+exuzogJ2JvZHkmJmE6bm90KDptYXRjaGVzKOmmlumhtXzotYTorq98QVBQfOS4k+mimHznpL7nvqR854Ot5pCcfOeVmeiogHznpo/liKl86LWe5YqpfOWRqOihqHzmjpLooYx85o6o6I2QfOabtOWkmnzmm7TmlrApKScsXFxuICAgIOmTvuaOpeWkhOeQhjogKHUpID0+IHtcXG4gICAgICAgLy9sZXQgdXJsID0gdS5yZXBsYWNlKC90eXBlKFxcXFwvXFxcXGQrKVxcXFwuaHRtbC8sICdzaG93JDEtLS0tLS0tLS0tLS5odG1sJyk7XFxuICAgICAgICBsZXQgdXJsID0gdS5yZXBsYWNlKC90eXBlLywgJ3Nob3cnKTtcXG4gICAgICAgIHJldHVybiB1cmxcXG4gICAgfVxcbn0sIHtcXG4gICAg5LiA57qn5a6a5L2NOiAnYm9keSYmLnNjcm9sbC1jb250ZW50LDE6bjpub3QoOmhhcyg6bWF0Y2hlcyjpopHpgZMpKSl8fC5zaXRlLXRhYnMnLFxcblxcbn1dXFxuXFxuTVlfVVJMPSBob3N0O1xcbmxldCB0cnVlX3VybCA9IGdldFRydWVsaW5rKE1ZX1JVTEUudXJsLCBNWV9VUkwsIHBhZ2UpO1xcbmxvZyh0cnVlX3VybClcXG5cXG52YXIgaHRtbCA9IHJlcXVlc3QodHJ1ZV91cmwpXFxuY29uc3QgZGMgPSBkeW5hbWljQ2xhc3Moe1xcbiAgICDliIbnsbvpopzoibI6IGdldFJhbmdlQ29sb3JzKClcXG59KTtcXG5kYy7lvIDlkK/mipjlj6AoZmFsc2UpXFxuZGMu5byA5ZCv5pCc57SiKClcXG5kYy7liJvlu7rliqjmgIHliIbnsbso5a6a5L2N5L+h5oGvKVxcblxcbnZhciBwYXJzZVJ1bGUgPSB7XFxuICAgIGxpc3Q6ICdib2R5JiYubW9kdWxlLWl0ZW0nLCAvL+e7n+S4gGl0ZW1cXG4gICAgdGl0bGU6ICdhJiZ0aXRsZScsXFxuICAgIGRlc2M6ICcubW9kdWxlLWl0ZW0tdGV4dCYmVGV4dCcsXFxuICAgIGltZzogJ2ltZ3x8LmxhenkmJmRhdGEtc3JjfHxkYXRhLW9yaWdpbmFsJyxcXG4gICAgdXJsOiAnYSYmaHJlZicsXFxuICAgIHJlZjogJ0BSZWZlcmVyPScsXFxuICAgIGltdDogdHJ1ZSxcXG4gICAgLy9iYWNraW1nOiB0cnVlLFxcbn1cXG5cXG5DcmVhdGUuTGlzdChkLCBodG1sLCBwYXJzZVJ1bGUpO1xcbmF1dG9QYWdlKCk7XFxuXFxuc2V0UmVzdWx0KGQpXCJ9LHtcImNvbF90eXBlXCI6XCJtb3ZpZV8zXCIsXCJuYW1lXCI6XCLikabnrZvpgInliIbnsbtcIixcInBhdGhcIjpcInlqXCIsXCJydWxlXCI6XCJqczpcXG4vKlxcbuS4gOe6p+WwgeijhSBcXG7liqjmgIHliIbnsbsg5YiX6KGo5Yib5bu6IOiHquWKqOS4i+S4gOmhtVxcbnZlciAyMDIzMDcxMCAxLjBcXG4qL1xcbmZ1bmN0aW9uIGR5bmFtaWNDbGFzcyhvcHRpb25zKSB7XFxuICBjb25zdCBvYmogPSB7XFxuICAgIC8v6buY6K6k5YC8XFxuICAgIGxheW91dDogXFxcInVuZGVmaW5lZFxcXCIsXFxuICAgIGh0bWw6IFxcXCJlbXB0eVxcXCIsXFxuICAgIHBhZ2U6IDAsXFxuICAgIOWIhuexu+minOiJsjogXFxcIiNGQTcyOThcXFwiLFxcbiAgICDmipjlj6A6IFxcXCLigJzigJzigJ3igJ08Yj5cXFwiICsgXFxcIuKIqFxcXCIuZm9udGNvbG9yKFxcXCIjMWFhZDE5XFxcIikgKyBcXFwiPC9iPlxcXCIsXFxuICAgIOWxleW8gDogXFxcIuKAnOKAnOKAneKAnTxiPlxcXCIgKyBcXFwi4oinXFxcIi5mb250Y29sb3IoXFxcIiNGRjAwMDBcXFwiKSArIFxcXCI8L2I+XFxcIixcXG4gICAgb3BlbjogdHJ1ZSxcXG4gICAgc3RhdGU6IE1ZX1JVTEUudXJsLFxcbiAgICBzZWFyY2g6IGZhbHNlLFxcbiAgICBjbGVhcnM6IFtdLFxcbiAgICBjbGVhcmFsbDogW1xcXCJ5aV9maXJzdHBhZ2VcXFwiXSxcXG4gICAgZGVidWc6IGZhbHNlLFxcblxcbiAgICDpooTorr4ocGFyYW0pIHtcXG4gICAgICBpZihwYXJhbT09dW5kZWZpbmVkKXtcXG4gICAgICAgIHBhcmFtPVtdO1xcbiAgICAgIH1cXG4gICAgICBPYmplY3Qua2V5cyhwYXJhbSkuZm9yRWFjaCgocHJvcGVydHkpID0+IHtcXG4gICAgICAgIC8vIOWvueavj+S4quWxnuaAp+WQjeaJp+ihjOaTjeS9nFxcbiAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJhbVtwcm9wZXJ0eV07IC8vIOiOt+WPluWxnuaAp+WAvFxcbiAgICAgICAgLy8g5Zyo6L+Z6YeM5omn6KGM5oKo55qE5pON5L2cXFxuICAgICAgICB0aGlzW3Byb3BlcnR5XSA9IHZhbHVlO1xcbiAgICAgICAgaWYgKHRoaXMuZGVidWcpIHtcXG4gICAgICAgICAgY29uc29sZS5sb2cocHJvcGVydHkgKyBcXFwiOlxcXCIgKyB2YWx1ZSk7XFxuICAgICAgICB9XFxuICAgICAgfSk7XFxuICAgIH0sXFxuICAgIGV2YWxKU1J1bGUoaXRlbSwganNSdWxlKSB7XFxuICAgICAgbGV0IHJ1bGUgPSBqc1J1bGUucmVwbGFjZShcXFwiQGpzOlxcXCIsIFxcXCJcXFwiKTtcXG4gICAgICBydWxlID0gcnVsZS50cmltKCk7XFxuICAgICAgLy9sb2coJC5zdHJpbmdpZnkocnVsZSkpXFxuICAgICAgbGV0IGlucHV0ID0gaXRlbTtcXG4gICAgICBpZiAocnVsZS5zdGFydHNXaXRoKFxcXCIoXFxcIikpIHtcXG4gICAgICAgIGV2YWwoXFxcInJlc3VsdCA9IFxcXCIgKyBydWxlKTtcXG4gICAgICB9IGVsc2Uge1xcbiAgICAgICAgLyoqXFxuICAgICAgICAgKiDov5jljp/miJAgJC50b1N0cmluZyguLi4pIOeahOacgOe7iOe7k+aenO+8jOi+vuWIsOacgOe7iOWkhOeQhuaWueW8j+i3n+S4iumdoueahCBpZiDkuIDoh7TnmoTnm67nmoRcXG4gICAgICAgICAqL1xcbiAgICAgICAgZXZhbChcXFwicmVzdWx0ID0gXFxcIiArIFxcXCIoKCkgPT4ge1xcXCIgKyBydWxlICsgXFxcIn0pKClcXFwiKTtcXG4gICAgICB9XFxuICAgICAgcmV0dXJuIHJlc3VsdCB8fCBcXFwiXFxcIjtcXG4gICAgfSxcXG4gICAgZ2V0VGl0bGUoc3JjLCBjYXRlZ29yeSkge1xcbiAgICAgIGxldCB0aXRsZSA9IFxcXCJcXFwiO1xcbiAgICAgIGxldCB0aXRsZVJ1bGUgPSBjYXRlZ29yeSB8fCBcXFwiYSYmVGV4dFxcXCI7XFxuICAgICAgaWYgKHRpdGxlUnVsZS5zdGFydHNXaXRoKFxcXCJAanM6XFxcIikpIHtcXG4gICAgICAgIHRpdGxlID0gdGhpcy5ldmFsSlNSdWxlKHNyYywgdGl0bGVSdWxlKTtcXG4gICAgICB9IGVsc2Uge1xcbiAgICAgICAgdGl0bGUgPSBwYXJzZURvbUZvckh0bWwoc3JjLCB0aXRsZVJ1bGUpO1xcbiAgICAgIH1cXG4gICAgICByZXR1cm4gdGl0bGUgfHwgXFxcIlxcXCI7XFxuICAgIH0sXFxuICAgIGdldFVybChzcmMsIGNhdGVnb3J5KSB7XFxuICAgICAgbGV0IHVybCA9IFxcXCJcXFwiO1xcbiAgICAgIGxldCB1cmxSdWxlID0gY2F0ZWdvcnku6ZO+5o6lIHx8IFxcXCJhJiZocmVmXFxcIjtcXG4gICAgICBpZiAodXJsUnVsZS5zdGFydHNXaXRoKFxcXCJAanM6XFxcIikpIHtcXG4gICAgICAgIHVybCA9IHRoaXMuZXZhbEpTUnVsZShzcmMsIHVybFJ1bGUpO1xcbiAgICAgIH0gZWxzZSB7XFxuICAgICAgICB1cmwgPSBwZChzcmMsIHVybFJ1bGUpO1xcbiAgICAgIH1cXG4gICAgICBpZiAodHlwZW9mIGNhdGVnb3J5LumTvuaOpeWkhOeQhiA9PSBcXFwiZnVuY3Rpb25cXFwiKSB7XFxuICAgICAgICB1cmwgPSBjYXRlZ29yeS7pk77mjqXlpITnkIYodXJsKTtcXG4gICAgICB9XFxuICAgICAgcmV0dXJuIHVybCB8fCBcXFwiXFxcIjtcXG4gICAgfSxcXG4gICAgaXNOdWxsKHBhcmFtKSB7XFxuICAgICAgaWYgKHBhcmFtID09IG51bGwpIHtcXG4gICAgICAgIHJldHVybiB0aGlzO1xcbiAgICAgIH1cXG4gICAgICByZXR1cm4gZmFsc2U7XFxuICAgIH0sXFxuICAgIGlzQm9vbGVhbih2YXJpYWJsZSkge1xcbiAgICAgIGlmICh0eXBlb2YgdmFyaWFibGUgIT09IFxcXCJib29sZWFuXFxcIikge1xcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxcXCLlvIDlkK/mipjlj6Dor7fkvKDlhaXluIPlsJTlgLxcXFwiKTtcXG4gICAgICB9XFxuICAgIH0sXFxuICAgIOa4hemZpChsaXN0KSB7XFxuICAgICAgaWYgKHRoaXMuaXNOdWxsKGxpc3QpKSB7XFxuICAgICAgICByZXR1cm4gdGhpcztcXG4gICAgICB9XFxuICAgICAgaWYgKGxpc3QuY29uc3RydWN0b3IgPT0gU3RyaW5nKSB7XFxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXFxcIua4hemZpOaKpemUmTror7fkvKDliJfooahcXFwiKTtcXG4gICAgICB9XFxuICAgICAgdGhpcy5jbGVhcnMgPSBsaXN0O1xcbiAgICAgIHJldHVybiB0aGlzO1xcbiAgICB9LFxcbiAgICDlhajmuIUobGlzdCkge1xcbiAgICAgIGlmICh0aGlzLmlzTnVsbChsaXN0KSkge1xcbiAgICAgICAgcmV0dXJuIHRoaXM7XFxuICAgICAgfVxcbiAgICAgIHZhciBjID0gdGhpcy5jbGVhcmFsbDtcXG4gICAgICBsaXN0ID0gYy5jb25jYXQobGlzdCk7XFxuICAgICAgdGhpcy5jbGVhcmFsbCA9IGxpc3Q7XFxuICAgICAgcmV0dXJuIHRoaXM7XFxuICAgIH0sXFxuICAgIOa6kOeggShpbnB1dCkge1xcbiAgICAgIHRoaXMuaHRtbCA9IGlucHV0O1xcbiAgICAgIHJldHVybiB0aGlzO1xcbiAgICB9LFxcbiAgICDnlYzpnaIoaW5wdXQpIHtcXG4gICAgICB0aGlzLmxheW91dCA9IGlucHV0O1xcbiAgICAgIHJldHVybiB0aGlzO1xcbiAgICB9LFxcbiAgICDpobXnoIEoaW5wdXQpIHtcXG4gICAgICB0aGlzLnBhZ2UgPSBpbnB1dDtcXG4gICAgICByZXR1cm4gdGhpcztcXG4gICAgfSxcXG4gICAg54q25oCBKGlucHV0KSB7XFxuICAgICAgdGhpcy5zdGF0ZSA9IGlucHV0O1xcbiAgICAgIHJldHVybiB0aGlzO1xcbiAgICB9LFxcbiAgICDlvIDlkK/mkJzntKIoKSB7XFxuICAgICAgdGhpcy5zZWFyY2ggPSB0cnVlO1xcbiAgICAgIHJldHVybiB0aGlzO1xcbiAgICB9LFxcbiAgICDlvIDlkK/mipjlj6AoaW5wdXQpIHtcXG4gICAgICBpZiAoaW5wdXQgPT0gdW5kZWZpbmVkKSB7XFxuICAgICAgICBpbnB1dCA9IHRydWU7XFxuICAgICAgfVxcbiAgICAgIHRoaXMuaXNCb29sZWFuKGlucHV0KTtcXG4gICAgICB0aGlzLm9wZW4gPSBpbnB1dDtcXG4gICAgICByZXR1cm4gdGhpcztcXG4gICAgfSxcXG4gICAgc2V0VGl0bGUoaywgaSwgdCkge1xcbiAgICAgIHJldHVybiBrID09IGkgPyBcXFwi4oCc4oCc4oCd4oCdXFxcIiArIHQuZm9udGNvbG9yKHRoaXMu5YiG57G76aKc6ImyKSA6IHQ7XFxuICAgIH0sXFxuICAgIGFjdGlvbihvYmopIHtcXG4gICAgICByZXR1cm4gW1xcbiAgICAgICAge1xcbiAgICAgICAgICB0aXRsZTogXFxcIua4hemZpOeKtuaAgVxcXCIsXFxuICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKChvYmopID0+IHtcXG4gICAgICAgICAgICBsb2cob2JqKTtcXG4gICAgICAgICAgICBjbGVhck15VmFyKG9iai5zdGF0ZSk7XFxuICAgICAgICAgICAgY2xlYXJNeVZhcihcXFwiaGVhZC5jYXRlXFxcIik7XFxuICAgICAgICAgICAgb2JqLmFsbC5mb3JFYWNoKChpdGVtKSA9PiB7XFxuICAgICAgICAgICAgICBjbGVhck15VmFyKGl0ZW0pO1xcbiAgICAgICAgICAgIH0pO1xcbiAgICAgICAgICAgIG9iai5jbC5mb3JFYWNoKChpdGVtKSA9PiB7XFxuICAgICAgICAgICAgICBjbGVhck15VmFyKGl0ZW0pO1xcbiAgICAgICAgICAgIH0pO1xcbiAgICAgICAgICAgIHJlZnJlc2hQYWdlKCk7XFxuICAgICAgICAgIH0sIG9iaiksXFxuICAgICAgICB9LFxcbiAgICAgIF07XFxuICAgIH0sXFxuICAgIGNoZWNrUGFyYW0oKSB7XFxuICAgICAgdmFyIG9iaiA9IHt9O1xcbiAgICAgIGlmICh0aGlzLnBhZ2UgPT0gMCAmJiB0eXBlb2YgcGFnZSA9PSBcXFwidW5kZWZpbmVkXFxcIikge1xcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxcXCLor7fkvKDlhaXpobXnoIFcXFwiKTtcXG4gICAgICB9IGVsc2Uge1xcbiAgICAgICAgaWYgKHR5cGVvZiBwYWdlID09IFxcXCJ1bmRlZmluZWRcXFwiKSB7XFxuICAgICAgICAgIG9ialtcXFwi6aG156CBXFxcIl0gPSB0aGlzLnBhZ2U7XFxuICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICBvYmpbXFxcIumhteeggVxcXCJdID0gcGFnZTtcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgICAgaWYgKHRoaXMuaHRtbCA9PSBcXFwiZW1wdHlcXFwiICYmIHR5cGVvZiBodG1sID09IFxcXCJ1bmRlZmluZWRcXFwiKSB7XFxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXFxcIuivt+S8oOWFpea6kOeggVxcXCIpO1xcbiAgICAgIH0gZWxzZSB7XFxuICAgICAgICBpZiAodHlwZW9mIGh0bWwgPT0gXFxcInVuZGVmaW5lZFxcXCIpIHtcXG4gICAgICAgICAgb2JqW1xcXCLmupDnoIFcXFwiXSA9IHRoaXMuaHRtbDtcXG4gICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgIG9ialtcXFwi5rqQ56CBXFxcIl0gPSBodG1sO1xcbiAgICAgICAgfVxcbiAgICAgIH1cXG4gICAgICBpZiAodGhpcy5sYXlvdXQgPT0gXFxcInVuZGVmaW5lZFxcXCIgJiYgdHlwZW9mIGQgPT0gXFxcInVuZGVmaW5lZFxcXCIpIHtcXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcXFwi6K+35Lyg5YWl55WM6Z2iXFxcIik7XFxuICAgICAgfSBlbHNlIHtcXG4gICAgICAgIGlmICh0eXBlb2YgZCA9PSBcXFwidW5kZWZpbmVkXFxcIikge1xcbiAgICAgICAgICBvYmpbXFxcIueVjOmdolxcXCJdID0gdGhpcy5sYXlvdXQ7XFxuICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICBvYmpbXFxcIueVjOmdolxcXCJdID0gZDtcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgICAgcmV0dXJuIG9iajtcXG4gICAgfSxcXG4gICAg5Yib5bu65Yqo5oCB5YiG57G7KHJ1bGVPYmopIHtcXG4gICAgICBpZiAocnVsZU9iaiA9PSB1bmRlZmluZWQpIHtcXG4gICAgICAgIHJ1bGVPYmogPSBbXTtcXG4gICAgICB9XFxuICAgICAgLy/liJ3lp4vljJblj5jph4/lvIDlp4tcXG4gICAgICBjb25zdCBwYXJhbSA9IHRoaXMuY2hlY2tQYXJhbSgpO1xcbiAgICAgIGNvbnN0IHBhZ2UgPSBwYXJhbS7pobXnoIE7XFxuICAgICAgY29uc3QgaHRtbCA9IHBhcmFtLua6kOeggTtcXG4gICAgICBjb25zdCBkID0gcGFyYW0u55WM6Z2iO1xcbiAgICAgIGNvbnN0IOeKtuaAgSA9IHRoaXMuc3RhdGU7XFxuICAgICAgY29uc3Qgc2VhcmNoID0gdGhpcy5zZWFyY2g7XFxuICAgICAgY29uc3QgZW1wdHkgPSBcXFwiaGlrZXI6Ly9lbXB0eVxcXCI7XFxuICAgICAgY29uc3Qg5oqY5Y+g54q25oCBID0gdGhpcy5vcGVuO1xcbiAgICAgIHZhciDlsZXlvIAgPSB0aGlzLuWxleW8gDtcXG4gICAgICB2YXIg5oqY5Y+gID0gdGhpcy7mipjlj6A7XFxuICAgICAgdmFyIOWFqOa4hSA9IHRoaXMuY2xlYXJhbGw7XFxuICAgICAgdmFyIOa4hemZpCA9IHRoaXMuY2xlYXJzO1xcbiAgICAgIC8v5Yid5aeL5YyW5Y+Y6YeP57uT5p2fXFxuICAgICAgbGV0IGluaXRfY2F0ZSA9IG5ldyBBcnJheSgyMCkuZmlsbChcXFwiMFxcXCIpO1xcbiAgICAgIGNvbnN0IGZvbGQgPSBnZXRNeVZhcihNWV9SVUxFLmdyb3VwLCBcXFwiMFxcXCIpO1xcbiAgICAgIGNvbnN0IGNhdGVfdGVtcCA9IEpTT04ucGFyc2UoXFxuICAgICAgICBnZXRNeVZhcihcXFwiaGVhZC5jYXRlXFxcIiwgSlNPTi5zdHJpbmdpZnkoaW5pdF9jYXRlKSlcXG4gICAgICApO1xcbiAgICAgIGlmIChzZWFyY2ggJiYgcGFnZSA9PSAxKSB7XFxuICAgICAgICBkLnB1c2goe1xcbiAgICAgICAgICB0aXRsZTogXFxcIlxcXCIsXFxuICAgICAgICAgIHVybDogXFxcIidoaWtlcjovL3NlYXJjaD9ydWxlPVxcXCIgKyBNWV9SVUxFLnRpdGxlICsgXFxcIiZzPScraW5wdXRcXFwiLFxcbiAgICAgICAgICBkZXNjOiBcXFwi5pCc57Si5YWz6ZSu6K+NXFxcIixcXG4gICAgICAgICAgY29sX3R5cGU6IFxcXCJpbnB1dFxcXCIsXFxuICAgICAgICAgIGV4dHJhOiB7XFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBnZXRNeVZhcihcXFwia2V5d29yZFxcXCIsIFxcXCJcXFwiKSxcXG4gICAgICAgICAgICBvbkNoYW5nZTogJC50b1N0cmluZygoKSA9PiB7XFxuICAgICAgICAgICAgICBwdXRNeVZhcihcXFwia2V5d29yZFxcXCIsIGlucHV0KTtcXG4gICAgICAgICAgICB9KSxcXG4gICAgICAgICAgfSxcXG4gICAgICAgIH0pO1xcbiAgICAgIH1cXG4gICAgICBjb25zdCBjYXRlZ29yaWVzID0gW107XFxuICAgICAgcnVsZU9iai5mb3JFYWNoKCh4KSA9PiB7XFxuICAgICAgICB2YXIgbGlzdCA9IFtdO1xcbiAgICAgICAgaWYoeC7kuIDnuqflrprkvY0pe1xcbiAgICAgICAgICBpZiAoeC7kuIDnuqflrprkvY0uc3RhcnRzV2l0aChcXFwiQGpzOlxcXCIpKSB7XFxuICAgICAgICAgIGxpc3QgPSB0aGlzLmV2YWxKU1J1bGUoaHRtbCwgeC7kuIDnuqflrprkvY0pO1xcbiAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgIGxpc3QgPSBwZGZhKGh0bWwsIHgu5LiA57qn5a6a5L2NKTtcXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgaWYoeC7lpKfnsbvlrprkvY0pe1xcbiAgICAgICAgICBpZiAoeC7lpKfnsbvlrprkvY0uc3RhcnRzV2l0aChcXFwiQGpzOlxcXCIpKSB7XFxuICAgICAgICAgIGxpc3QgPSB0aGlzLmV2YWxKU1J1bGUoaHRtbCwgeC7lpKfnsbvlrprkvY0pO1xcbiAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgIGxpc3QgPSBbcGRmYShodG1sLCB4LuWkp+exu+WumuS9jSkuam9pbignXFxcXG4nKV07XFxuICAgICAgICAgfVxcbiAgICAgICAgfVxcbiAgICAgICAgdmFyIOS4gOe6pyA9IGxpc3QubWFwKChzKSA9PiB7XFxuICAgICAgICAgIHZhciBzbGlzdCA9IFtdO1xcbiAgICAgICAgICBpZiAoIShcXFwi5bCP57G7XFxcIiBpbiB4KSkge1xcbiAgICAgICAgICAgIHgu5bCP57G7ID0gXFxcImJvZHkmJmE6bm90KDptYXRjaGVzKOmmlumhtSkpOm5vdChhOm5vdChbaHJlZl0pKVxcXCI7XFxuICAgICAgICAgIH1cXG4gICAgICAgICAgaWYgKHgu5bCP57G7LnN0YXJ0c1dpdGgoXFxcIkBqczpcXFwiKSkge1xcbiAgICAgICAgICAgIHNsaXN0ID0gdGhpcy5ldmFsSlNSdWxlKHMsIHgu5bCP57G7KTtcXG4gICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICBzbGlzdCA9IHBkZmEocywgeC7lsI/nsbspO1xcbiAgICAgICAgICB9XFxuICAgICAgICAgIHZhciDlrprkvY0gPSBzbGlzdC5tYXAoKGl0ZW0pID0+IHtcXG4gICAgICAgICAgICB2YXIgdGl0bGUgPSB0aGlzLmdldFRpdGxlKGl0ZW0sIHgu5qCH6aKYKTtcXG4gICAgICAgICAgICB2YXIgdXJsID0gdGhpcy5nZXRVcmwoaXRlbSwgeCk7XFxuICAgICAgICAgICAgdmFyIG9iaiA9IHsgdGl0bGU6IHRpdGxlLCB1cmw6IHVybCB9O1xcbiAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShvYmopO1xcbiAgICAgICAgICB9KTtcXG4gICAgICAgICAgcmV0dXJuIOWumuS9jTtcXG4gICAgICAgIH0pO1xcbiAgICAgICAgLy9sb2co5LiA57qnKVxcbiAgICAgICAgLy9sb2co5LiA57qnLmxlbmd0aClcXG4gICAgICAgIGlmICjkuIDnuqcubGVuZ3RoID09IDEpIHtcXG4gICAgICAgICAgY2F0ZWdvcmllcy5wdXNoKOS4gOe6py5qb2luKFxcXCJcXFxcblxcXCIpKTtcXG4gICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgIOS4gOe6py5mb3JFYWNoKChpdGVtKSA9PiB7XFxuICAgICAgICAgICAgY2F0ZWdvcmllcy5wdXNoKGl0ZW0uam9pbihcXFwiLFxcXCIpKTtcXG4gICAgICAgICAgfSk7XFxuICAgICAgICB9XFxuICAgICAgICAvL2xvZyhjYXRlZ29yaWVzKVxcbiAgICAgIH0pO1xcbiAgICAgIGlmICjmipjlj6DnirbmgIEpIHtcXG4gICAgICAgIGlmIChwYWdlID09IDEpIHtcXG4gICAgICAgICAgZC5wdXNoKHtcXG4gICAgICAgICAgICB0aXRsZTogZm9sZCA9PT0gXFxcIjFcXFwiID8g5oqY5Y+gIDog5bGV5byALFxcbiAgICAgICAgICAgIHVybDogJChcXFwiI25vTG9hZGluZyNcXFwiKS5sYXp5UnVsZShcXG4gICAgICAgICAgICAgIChmb2xkLCB1LCBhbGwpID0+IHtcXG4gICAgICAgICAgICAgICAgcHV0TXlWYXIoTVlfUlVMRS5ncm91cCwgZm9sZCA9PT0gXFxcIjFcXFwiID8gXFxcIjBcXFwiIDogXFxcIjFcXFwiKTtcXG4gICAgICAgICAgICAgICAgLyphbGwuZm9yRWFjaCgoaXRlbSkgPT4ge1xcbiAgICAgICAgICAgICAgICAgIGNsZWFyTXlWYXIoaXRlbSk7XFxuICAgICAgICAgICAgICAgIH0pOyovXFxuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJoaWtlcjovL2VtcHR5XFxcIjtcXG4gICAgICAgICAgICAgIH0sXFxuICAgICAgICAgICAgICBmb2xkLFxcbiAgICAgICAgICAgICAg54q25oCBLFxcbiAgICAgICAgICAgICAg5YWo5riFXFxuICAgICAgICAgICAgKSxcXG4gICAgICAgICAgICBjb2xfdHlwZTogXFxcInNjcm9sbF9idXR0b25cXFwiLFxcbiAgICAgICAgICAgIGV4dHJhOiB7XFxuICAgICAgICAgICAgICBsb25nQ2xpY2s6IHRoaXMuYWN0aW9uKHtcXG4gICAgICAgICAgICAgICAgc3RhdGU6IOeKtuaAgSxcXG4gICAgICAgICAgICAgICAgYWxsOiDlhajmuIUsXFxuICAgICAgICAgICAgICAgIGNsOiDmuIXpmaQsXFxuICAgICAgICAgICAgICB9KSxcXG4gICAgICAgICAgICB9LFxcbiAgICAgICAgICB9KTtcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgICAgaWYgKHBhZ2UgPT0gMSkge1xcbiAgICAgIGNhdGVnb3JpZXMuZm9yRWFjaCgoY2F0ZWdvcnksIGluZGV4KSA9PiB7XFxuICAgICAgICAvL2xvZyhjYXRlZ29yaWVzKVxcbiAgICAgICAgbGV0IHN1Yl9jYXRlZ29yaWVzID0gW107XFxuICAgICAgICAvKmlmICjlsI/nsbvlrprkvY0uaW5jbHVkZXMoXFxcIjtcXFwiKSkge1xcbiAgICAgICAgICBzdWJfY2F0ZWdvcmllcyA9IHBkZmEoY2F0ZWdvcnksIOWwj+exu+WumuS9jS5zcGxpdChcXFwiO1xcXCIpWzBdKTtcXG4gICAgICAgICAgaWYgKHN1Yl9jYXRlZ29yaWVzLmxlbmd0aCA9PSAwKSB7XFxuICAgICAgICAgICAgc3ViX2NhdGVnb3JpZXMgPSBwZGZhKGNhdGVnb3J5LCDlsI/nsbvlrprkvY0uc3BsaXQoXFxcIjtcXFwiKVsxXSk7XFxuICAgICAgICAgIH1cXG4gICAgICAgIH0gZWxzZSB7Ki9cXG4gICAgICAgIC8vbG9nKGluZGV4KVxcbiAgICAgICAgc3ViX2NhdGVnb3JpZXMgPSBKU09OLnBhcnNlKGBbJHtjYXRlZ29yeX1dYCk7XFxuICAgICAgICAvLyBzdWJfY2F0ZWdvcmllcyA9IHBkZmEoY2F0ZWdvcnksIOWwj+exu+WumuS9jSk7XFxuICAgICAgICAvL31cXG4gICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xcbiAgICAgICAgICBzdWJfY2F0ZWdvcmllcy5mb3JFYWNoKChpdGVtLCBrZXkpID0+IHtcXG5cXG4gICAgICAgICAgICAvL2xldCB0aXRsZSA9IHBkZmgoaXRlbSwgX+Wkp+exu+agh+mimCk7XFxuICAgICAgICAgICAgbGV0IHRpdGxlID0gaXRlbS50aXRsZTtcXG4gICAgICAgICAgICBpZiAodHlwZW9mIOaOkumZpCAhPSBcXFwidW5kZWZpbmVkXFxcIiAmJiDmjpLpmaQgIT0gXFxcIlxcXCIpIHtcXG4gICAgICAgICAgICAgIHRpdGxlID0gdGl0bGUucmVwbGFjZShuZXdSZWdFeHAo5o6S6ZmkLCBcXFwiZ1xcXCIpLCBcXFwiXFxcIik7XFxuICAgICAgICAgICAgfVxcbiAgICAgICAgICAgIGxldCBqc29uPScnXFxuICAgICAgICAgICAganNvbiA9IGl0ZW0udXJsO1xcbiAgICAgICAgICAgIFxcbiAgICAgICAgICAgIGxldCBwYXJhbXMgPSB7XFxuICAgICAgICAgICAgICBjYXRlX3RlbXA6IGNhdGVfdGVtcCxcXG4gICAgICAgICAgICAgIGtleToga2V5LFxcbiAgICAgICAgICAgICAgcGFnZTogcGFnZSxcXG4gICAgICAgICAgICAgIGNsZWFyczog5riF6ZmkLFxcbiAgICAgICAgICAgICAganNvbjoganNvbixcXG4gICAgICAgICAgICAgIHN0YXRlOiDnirbmgIEsXFxuICAgICAgICAgICAgICBhbGxjbGVhcnM6IOWFqOa4hSxcXG4gICAgICAgICAgICB9O1xcblxcbiAgICAgICAgICAgIC8vbGV0IHVybCA9IHBkKGl0ZW0sIF/lpKfnsbvpk77mjqUpO1xcbiAgICAgICAgICAgIGxldCB1cmwgPSBpdGVtLnVybDtcXG4gICAgICAgICAgICAvKmlmICjlpKfnsbvlpITnkIYpIHtcXG4gICAgICAgICAgICAgIHVybCA9IOS4gOe6p+WIhuexu+WkhOeQhih1cmwpO1xcbiAgICAgICAgICAgIH0qL1xcbiAgICAgICAgICAgIC8vbG9nKHVybClcXG4gICAgICAgICAgICBkLnB1c2goe1xcbiAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuc2V0VGl0bGUoa2V5LnRvU3RyaW5nKCksIGNhdGVfdGVtcFtpbmRleF0sIHRpdGxlKSxcXG4gICAgICAgICAgICAgIGNvbF90eXBlOiBcXFwic2Nyb2xsX2J1dHRvblxcXCIsXFxuICAgICAgICAgICAgICB1cmw6ICQoXFxcImhpa2VyOi8vZW1wdHkjbm9Mb2FkaW5nI1xcXCIpLmxhenlSdWxlKChwYXJhbXMpID0+IHtcXG4gICAgICAgICAgICAgICAgbGV0IG5ld19jYXRlID0gW107XFxuICAgICAgICAgICAgICAgIHBhcmFtcy5jbGVhcnMuZm9yRWFjaCgoaXRlbSkgPT4ge1xcbiAgICAgICAgICAgICAgICAgIGNsZWFyTXlWYXIoaXRlbSk7XFxuICAgICAgICAgICAgICAgIH0pO1xcbiAgICAgICAgICAgICAgICBwYXJhbXMuYWxsY2xlYXJzLmZvckVhY2goKGl0ZW0pID0+IHtcXG4gICAgICAgICAgICAgICAgICBjbGVhck15VmFyKGl0ZW0pO1xcbiAgICAgICAgICAgICAgICB9KTtcXG5cXG4gICAgICAgICAgICAgICAgcGFyYW1zLmNhdGVfdGVtcC5mb3JFYWNoKChjYXRlLCBpbmRleCkgPT4ge1xcbiAgICAgICAgICAgICAgICAgIG5ld19jYXRlLnB1c2goaW5kZXggPT09IDAgPyBwYXJhbXMua2V5LnRvU3RyaW5nKCkgOiBcXFwiMFxcXCIpO1xcbiAgICAgICAgICAgICAgICB9KTtcXG4gICAgICAgICAgICAgICAgcHV0TXlWYXIoXFxcImhlYWQuY2F0ZVxcXCIsIEpTT04uc3RyaW5naWZ5KG5ld19jYXRlKSk7XFxuICAgICAgICAgICAgICAgIGlmIChwYXJhbXMuanNvbi5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7XFxuICAgICAgICAgICAgICAgICAgcHV0TXlWYXIoXFxcImR0X1xcXCIgKyBwYXJhbXMuanNvbi50eXBlLCBwYXJhbXMuanNvbi52YWx1ZSk7XFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgICAgcHV0TXlWYXIocGFyYW1zLnN0YXRlLCBwYXJhbXMuanNvbik7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UodHJ1ZSk7XFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFwiaGlrZXI6Ly9lbXB0eVxcXCI7XFxuICAgICAgICAgICAgICB9LCBwYXJhbXMpLFxcbiAgICAgICAgICAgIH0pO1xcbiAgICAgICAgICB9KTtcXG4gICAgICAgICAgZC5wdXNoKHtcXG4gICAgICAgICAgICBjb2xfdHlwZTogXFxcImJsYW5rX2Jsb2NrXFxcIixcXG4gICAgICAgICAgfSk7XFxuICAgICAgICB9IGVsc2UgaWYgKGZvbGQgPT09IFxcXCIxXFxcIiB8fCDmipjlj6DnirbmgIEgPT0gZmFsc2UpIHtcXG4gICAgICAgICAgc3ViX2NhdGVnb3JpZXMuZm9yRWFjaCgoaXRlbSwga2V5KSA9PiB7XFxuICAgICAgICAgICAgdmFyIGV4dHJhcG9zID0gZmFsc2U7XFxuICAgICAgICAgICAgLyppZiAoaXRlbS5pbmNsdWRlcygndHlwZT1cXFwiQGV4dHJhXFxcIicpKSB7XFxuICAgICAgICAgICAgICBleHRyYXBvcyA9IHRydWU7XFxuICAgICAgICAgICAgICAvL2xvZygn6ZmE5Yqg5a6a5L2NJylcXG4gICAgICAgICAgICB9Ki9cXG5cXG4gICAgICAgICAgICBpZiAoZXh0cmFwb3MpIHtcXG4gICAgICAgICAgICAgIHZhciB0aXRsZSA9IHBkZmgoaXRlbSwgXFxcImEmJlRleHRcXFwiKTtcXG4gICAgICAgICAgICAgIGlmICh0eXBlb2Yg5o6S6ZmkICE9IFxcXCJ1bmRlZmluZWRcXFwiICYmIOaOkumZpCAhPSBcXFwiXFxcIikge1xcbiAgICAgICAgICAgICAgICB0aXRsZSA9IHRpdGxlLnJlcGxhY2UobmV3IFJlZ0V4cCjmjpLpmaQsIFxcXCJnXFxcIiksIFxcXCJcXFwiKTtcXG4gICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgIHZhciBqc29uID0ge1xcbiAgICAgICAgICAgICAgICB0eXBlOiBwZGZoKGl0ZW0sIFxcXCJhJiZzdGF0ZVxcXCIpLFxcbiAgICAgICAgICAgICAgICB2YWx1ZTogcGRmaChpdGVtLCBcXFwiYSYmdmFsdWVcXFwiKSxcXG4gICAgICAgICAgICAgIH07XFxuICAgICAgICAgICAgfSBlbHNlIHtcXG4gICAgICAgICAgICAgIC8vdmFyIHRpdGxlID0gcGRmaChpdGVtLCDliIbnsbvmoIfpopgpO1xcbiAgICAgICAgICAgICAgdmFyIHRpdGxlID0gaXRlbS50aXRsZTtcXG4gICAgICAgICAgICAgIGlmICh0eXBlb2Yg5o6S6ZmkICE9IFxcXCJ1bmRlZmluZWRcXFwiICYmIOaOkumZpCAhPSBcXFwiXFxcIikge1xcbiAgICAgICAgICAgICAgICB0aXRsZSA9IHRpdGxlLnJlcGxhY2UobmV3IFJlZ0V4cCjmjpLpmaQsIFxcXCJnXFxcIiksIFxcXCJcXFwiKTtcXG4gICAgICAgICAgICAgIH1cXG5cXG4gICAgICAgICAgICAgIHZhciBqc29uID0gXFxcIlxcXCI7XFxuICAgICAgICAgICAgICAvKnN3aXRjaCAodHJ1ZSkge1xcbiAgICAgICAgICAgICAgICBjYXNlIOWIhuexu+mTvuaOpS5pbmNsdWRlcyhcXFwiQEBAXFxcIik6XFxuICAgICAgICAgICAgICAgICAganNvbiA9IHtcXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHBkZmgoaXRlbSwg5YiG57G76ZO+5o6lLnNwbGl0KFxcXCJAQEBcXFwiKVswXSksXFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcGRmaChpdGVtLCDliIbnsbvpk77mjqUuc3BsaXQoXFxcIkBAQFxcXCIpWzFdKSxcXG4gICAgICAgICAgICAgICAgICB9O1xcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgICAgICBjYXNlIOWIhuexu+mTvuaOpS5pbmNsdWRlcyhcXFwiQEBcXFwiKTpcXG4gICAgICAgICAgICAgICAgICBqc29uID0ge1xcbiAgICAgICAgICAgICAgICAgICAgdHlwZTog5YiG57G76ZO+5o6lLnNwbGl0KFxcXCJAQFxcXCIpWzBdLFxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHBkZmgoaXRlbSwg5YiG57G76ZO+5o6lLnNwbGl0KFxcXCJAQFxcXCIpWzFdKSxcXG4gICAgICAgICAgICAgICAgICB9O1xcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxcbiAgICAgICAgICAgICAgICAgIGpzb24gPSBpdGVtLnVybDtcXG4gICAgICAgICAgICAgICAgICAvLyBqc29uID0gcGQoaXRlbSwg5YiG57G76ZO+5o6lKTtcXG4gICAgICAgICAgICAgICAgICBicmVhaztcXG4gICAgICAgICAgICAgIH0qL1xcbiAgICAgICAgICAgICAganNvbiA9IGl0ZW0udXJsO1xcbiAgICAgICAgICAgICAgLyp2YXIganNvbj3liIbnsbvpk77mjqUuaW5jbHVkZXMoJ0BAQCcpP3tcXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6cGRmaChpdGVtLOWIhuexu+mTvuaOpS5zcGxpdCgnQEBAJylbMF0pLFxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6cGRmaChpdGVtLOWIhuexu+mTvuaOpS5zcGxpdCgnQEBAJylbMV0pLFxcbiAgICAgICAgICAgICAgICB9OnBkKGl0ZW0s5YiG57G76ZO+5o6lKTtcXG4gICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgICAgIGpzb2495YiG57G76ZO+5o6lLmluY2x1ZGVzKCdAQCcpP3tcXG4gICAgICAgICAgICAgICAgICAgIHR5cGU65YiG57G76ZO+5o6lLnNwbGl0KCdAQCcpWzBdLFxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6cGRmaChpdGVtLOWIhuexu+mTvuaOpS5zcGxpdCgnQEAnKVsxXSksXFxuICAgICAgICAgICAgICAgIH06cGQoaXRlbSzliIbnsbvpk77mjqUpOyovXFxuICAgICAgICAgICAgfVxcblxcbiAgICAgICAgICAgIGxldCBwYXJhbXMgPSB7XFxuICAgICAgICAgICAgICBjYXRlX3RlbXA6IGNhdGVfdGVtcCxcXG4gICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcXG4gICAgICAgICAgICAgIGtleToga2V5LFxcbiAgICAgICAgICAgICAgcGFnZTogcGFnZSxcXG4gICAgICAgICAgICAgIGpzb246IGpzb24sXFxuICAgICAgICAgICAgICBzdGF0ZTog54q25oCBLFxcbiAgICAgICAgICAgICAgYWxsY2xlYXJzOiDlhajmuIUsXFxuICAgICAgICAgICAgfTtcXG4gICAgICAgICAgICBkLnB1c2goe1xcbiAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuc2V0VGl0bGUoa2V5LnRvU3RyaW5nKCksIGNhdGVfdGVtcFtpbmRleF0sIHRpdGxlKSxcXG4gICAgICAgICAgICAgIHVybDogJChcXFwiaGlrZXI6Ly9lbXB0eVxcXCIgKyBcXFwiI25vTG9hZGluZyNcXFwiKS5sYXp5UnVsZSgocGFyYW1zKSA9PiB7XFxuICAgICAgICAgICAgICAgIHBhcmFtcy5hbGxjbGVhcnMuZm9yRWFjaCgoaXRlbSkgPT4ge1xcbiAgICAgICAgICAgICAgICAgIGNsZWFyTXlWYXIoaXRlbSk7XFxuICAgICAgICAgICAgICAgIH0pO1xcbiAgICAgICAgICAgICAgICBwYXJhbXMuY2F0ZV90ZW1wW3BhcmFtcy5pbmRleF0gPSBwYXJhbXMua2V5LnRvU3RyaW5nKCk7XFxuICAgICAgICAgICAgICAgIHB1dE15VmFyKFxcXCJoZWFkLmNhdGVcXFwiLCBKU09OLnN0cmluZ2lmeShwYXJhbXMuY2F0ZV90ZW1wKSk7XFxuICAgICAgICAgICAgICAgIGlmIChwYXJhbXMuanNvbi5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0KSB7XFxuICAgICAgICAgICAgICAgICAgcHV0TXlWYXIoXFxcImR0X1xcXCIgKyBwYXJhbXMuanNvbi50eXBlLCBwYXJhbXMuanNvbi52YWx1ZSk7XFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XFxuICAgICAgICAgICAgICAgICAgcHV0TXlWYXIocGFyYW1zLnN0YXRlLCBwYXJhbXMuanNvbik7XFxuICAgICAgICAgICAgICAgIH1cXG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoKTtcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXCJoaWtlcjovL2VtcHR5XFxcIjtcXG4gICAgICAgICAgICAgIH0sIHBhcmFtcyksXFxuICAgICAgICAgICAgICBjb2xfdHlwZTogXFxcInNjcm9sbF9idXR0b25cXFwiLFxcbiAgICAgICAgICAgIH0pO1xcbiAgICAgICAgICB9KTtcXG4gICAgICAgICAgZC5wdXNoKHtcXG4gICAgICAgICAgICBjb2xfdHlwZTogXFxcImJsYW5rX2Jsb2NrXFxcIixcXG4gICAgICAgICAgfSk7XFxuICAgICAgICB9XFxuICAgICAgfSk7XFxuICAgIH1cXG4gICAgfSxcXG4gIH07XFxuICBvYmou6aKE6K6+KG9wdGlvbnMpO1xcbiAgcmV0dXJuIG9iajtcXG59XFxuXFxuICAvLy7nirbmgIEoXFxcInVybFxcXCIpXFxuICAvLy7nlYzpnaIoZClcXG4gIC8vLua6kOeggSh4aHRtbClcXG4gIC8vLuWFqOa4hShbXFxcIjFcXFwiLCBcXFwiMlxcXCJdKVxcbiAgLy8u5riF6ZmkKClcXG4gIC8vLuW8gOWQr+aKmOWPoCgpXFxuICAvLy7pobXnoIEocGFnZSlcXG4gIC8vLuWIm+W7uuWKqOaAgeWIhuexuyjlrprkvY3liJfooagpO1xcblxcbmZ1bmN0aW9uIGdldE9iamZ1YyhvYmopIHtcXG4gIGNvbnN0IG1ldGhvZHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmopLmZpbHRlcihcXG4gICAgKG5hbWUpID0+IHR5cGVvZiBvYmpbbmFtZV0gPT09IFxcXCJmdW5jdGlvblxcXCJcXG4gICk7XFxuICBpZiAobWV0aG9kcy5sZW5ndGggPT0gMCkge1xcbiAgICBjb25zb2xlLmxvZyhvYmoudG9TdHJpbmcoKSk7XFxuICAgIHJldHVybjtcXG4gIH1cXG4gIGNvbnN0IGZvcm1hdHRlZFN0cmluZyA9IG1ldGhvZHNcXG4gICAgLm1hcCgobmFtZSkgPT4ge1xcbiAgICAgIGNvbnN0IGZuID0gb2JqW25hbWVdO1xcbiAgICAgIGNvbnN0IGZuU3RyaW5nID0gYCR7bmFtZX06ICR7Zm4udG9TdHJpbmcoKX1gO1xcbiAgICAgIGNvbnN0IHJlc3RvcmVkRm5TdHJpbmcgPSBmblN0cmluZy5yZXBsYWNlKFxcbiAgICAgICAgL1xcXFxcXFxcdShbXFxcXGRcXFxcd117NH0pL2dpLFxcbiAgICAgICAgZnVuY3Rpb24gKG1hdGNoLCBncnApIHtcXG4gICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUocGFyc2VJbnQoZ3JwLCAxNikpO1xcbiAgICAgICAgfVxcbiAgICAgICk7XFxuICAgICAgcmV0dXJuIHJlc3RvcmVkRm5TdHJpbmc7XFxuICAgIH0pXFxuICAgIC5qb2luKFxcXCJcXFxcblxcXCIpO1xcbiAgY29uc29sZS5sb2coZm9ybWF0dGVkU3RyaW5nKTtcXG59XFxuXFxuLypcXG52ZXIgMjAyMy0wNi0xNiAgMS4wXFxuKi9cXG52YXIg54q25oCBID1cXG4gIHR5cGVvZiDnirbmgIHmoIforrAgIT0gXFxcInVuZGVmaW5lZFxcXCIgJiYg54q25oCB5qCH6K6wICE9IFxcXCJcXFwiID8g54q25oCB5qCH6K6wIDogTVlfUlVMRS51cmw7XFxuXFxubGV0IGR0X2RlYnVnPWZhbHNlOyAgXFxuICBcXG5hZGRMaXN0ZW5lcihcXG4gIFxcXCJvbkNsb3NlXFxcIixcXG4gICQudG9TdHJpbmcoKCkgPT4ge30pXFxuKTtcXG5cXG52YXIgQ3JlYXRlID0ge1xcbiAgc3BhZ2U6IHtcXG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XFxuICAgICAgcmV0dXJuIHN0b3JhZ2UwLmdldE15VmFyKFxcXCJzcGFnZVxcXCIsIFxcXCJcXFwiKTtcXG4gICAgfSxcXG4gICAgc2V0OiBmdW5jdGlvbiAodXJsKSB7XFxuICAgICAgc3RvcmFnZTAucHV0TXlWYXIoXFxcInNwYWdlXFxcIiwgdXJsKTtcXG4gICAgfSxcXG4gIH0sXFxuICBuZXh0UGFnZTogZnVuY3Rpb24gKCkge1xcbiAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XFxuICAgIHRyeSB7XFxuICAgICAgdmFyIG5leHQgPSBldmFsKOS4i+S4gOmhtSk7XFxuICAgICAgLy9sb2coJ246JytuZXh0KVxcbiAgICAgIGlmKG5leHQgPT1cXFwiXFxcIil7XFxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ+S4i+S4gOmhtemTvuaOpeS4uuepuicpXFxuICAgICAgfVxcbiAgICAgIHJlc3VsdD10cnVlO1xcbiAgICAgIGlmKHRydWVfdXJsPT1uZXh0KXtcXG4gICAgICAgICByZXN1bHQ9ZmFsc2U7XFxuICAgICAgfVxcbiAgICB9IGNhdGNoIChlKSB7XFxuICAgICAgLy9sb2coXFxcIuWPr+iDveS4jeWtmOWcqOS4i+S4gOmhteaIluiAheS4i+S4gOmhteWumuS9jeaciemXrumimFxcXCIpO1xcbiAgICAgIGxvZyhcXFwi6ZSZ6K+v5L+h5oGvOlxcXCIgKyBlLm1lc3NhZ2UpO1xcbiAgICB9XFxuICAgIGlmICgobmV4dCA9PSBcXFwiXFxcIiB8fCBuZXh0ID09IHVuZGVmaW5lZCkgJiYgcGFnZSA9PSAxKSB7XFxuICAgICAgbmV4dCA9IHRydWVfdXJsO1xcbiAgICB9IGVsc2Uge1xcbiAgICAgIC8vcmVzdWx0PWZhbHNlO1xcbiAgICAgIG5leHQgPSBnZXRNeVZhcijnirbmgIEpO1xcbiAgICB9XFxuICAgIC8vbG9nKCdsJyt0cnVlX3VybClcXG4gICAgLy9sb2coJ24nK25leHQpXFxuICAgIGlmKHBhZ2UhPTEpe1xcbiAgICBpZiAodHJ1ZV91cmwgPT0gbmV4dCYmIXJlc3VsdCkge1xcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xcbiAgICB9IGVsc2Uge1xcbiAgICAgIHJlc3VsdCA9IHRydWU7XFxuICAgICB9XFxuICAgIH1cXG4gICAgcmV0dXJuIHJlc3VsdDtcXG4gICAgLy9wdXRNeVZhcijnirbmgIEsIG5leHQpO1xcbiAgfSxcXG4gIGdldEJhY2tJbWFnZTogZnVuY3Rpb24gKGltZ3VybCkge1xcbiAgICB2YXIgcmVzdWx0ID0gaW1ndXJsO1xcbiAgICB0cnkge1xcbiAgICAgIHJlc3VsdCA9IC91cmwoPzpcXFxccyspP1xcXFwoKC4qPylcXFxcKS9nXFxuICAgICAgICAuZXhlYyhpbWd1cmwpWzFdXFxuICAgICAgICAucmVwbGFjZSgvKCd8XFxcInwmcXVvdDspL2dtLCBcXFwiXFxcIik7XFxuICAgIH0gY2F0Y2gge31cXG4gICAgcmV0dXJuIHJlc3VsdDtcXG4gIH0sXFxuICBodHRwSGFuZGxlOiBmdW5jdGlvbiAoaW5wdXQpIHtcXG4gICAgaWYgKGlucHV0LnN0YXJ0c1dpdGgoXFxcImh0dHBcXFwiKSkge1xcbiAgICAgIHJldHVybiBpbnB1dDtcXG4gICAgfSBlbHNlIGlmIChpbnB1dC5zdGFydHNXaXRoKFxcXCIvL1xcXCIpKSB7XFxuICAgICAgcmV0dXJuIFxcXCJodHRwczpcXFwiICsgaW5wdXQ7XFxuICAgIH0gZWxzZSBpZiAoaW5wdXQuc3RhcnRzV2l0aChcXFwiL1xcXCIpKSB7XFxuICAgICAgcmV0dXJuIE1ZX0hPTUUgKyBpbnB1dDtcXG4gICAgfVxcbiAgfSxcXG4gIGltZ0hhbmRsZTogZnVuY3Rpb24gKGl0ZW0sIHJ1bGUpIHtcXG4gICAgdmFyIGltZyA9IFxcXCJcXFwiO1xcbiAgICBpZiAocnVsZS5pbWcuc3RhcnRzV2l0aChcXFwicGRcXFwiKSkge1xcbiAgICAgIGltZyA9IGV2YWwocnVsZS5pbWcpO1xcbiAgICB9IGVsc2UgaWYgKHJ1bGUuYmFja2ltZykge1xcbiAgICAgIGltZyA9IHBkZmgoaXRlbSwgcnVsZS5pbWcpO1xcbiAgICAgIGltZyA9IHRoaXMuZ2V0QmFja0ltYWdlKGltZyk7XFxuICAgICAgaW1nID0gdGhpcy5odHRwSGFuZGxlKGltZyk7XFxuICAgIH0gZWxzZSB7XFxuICAgICAgaW1nID0gcGRmaChpdGVtLCBydWxlLmltZyk7XFxuICAgICAgaWYgKCFpbWcuc3RhcnRzV2l0aChcXFwiaHR0cFxcXCIpKSB7XFxuICAgICAgICBpbWcgPSBwZChpdGVtLCBydWxlLmltZyk7XFxuICAgICAgICBpbWcgPSB0aGlzLmh0dHBIYW5kbGUoaW1nKTtcXG4gICAgICB9XFxuICAgIH1cXG4gICAgcmV0dXJuIGltZyArIHJ1bGUucmVmO1xcbiAgfSxcXG4gIHVybEhhbmRsZTogZnVuY3Rpb24gKGl0ZW0sIHJ1bGUpIHtcXG4gICAgdmFyIGhyZWYgPSBcXFwiXFxcIjtcXG4gICAgaWYgKHJ1bGUudXJsLnN0YXJ0c1dpdGgoXFxcInBkXFxcIikpIHtcXG4gICAgICBocmVmID0gZXZhbChydWxlLnVybCk7XFxuICAgIH0gZWxzZSB7XFxuICAgICAgaHJlZiA9IHBkKGl0ZW0sIHJ1bGUudXJsKTtcXG4gICAgfVxcbiAgICBocmVmID0gcnVsZS5pbXQgPyBocmVmICsgXFxcIiNpbW1lcnNpdmVUaGVtZSNcXFwiIDogaHJlZjtcXG4gICAgcmV0dXJuIGhyZWY7XFxuICB9LFxcbiAgc2V0Q29udGVudDogZnVuY3Rpb24gKGl0ZW0sIGlucHV0KSB7XFxuICAgIGxldCBvdXRwdXQgPSBcXFwiXFxcIjtcXG4gICAgaWYgKGlucHV0ID09IHVuZGVmaW5lZCkge1xcbiAgICAgIHJldHVybiBvdXRwdXQ7XFxuICAgIH1cXG4gICAgaWYgKGlucHV0LnN0YXJ0c1dpdGgoXFxcInBkXFxcIikpIHtcXG4gICAgICBvdXRwdXQgPSBldmFsKGlucHV0KTtcXG4gICAgfSBlbHNlIHtcXG4gICAgICBvdXRwdXQgPSBwZGZoKGl0ZW0sIGlucHV0KTtcXG4gICAgfVxcbiAgICByZXR1cm4gb3V0cHV0O1xcbiAgfSxcXG4gIHJlZnJlc2g6IGZ1bmN0aW9uICgpIHtcXG4gICAgYWRkTGlzdGVuZXIoXFxuICAgICAgXFxcIm9uUmVmcmVzaFxcXCIsXFxuICAgICAgJC50b1N0cmluZygodSkgPT4ge1xcbiAgICAgICAgY2xlYXJNeVZhcihcXFwieWlsaXN0XFxcIik7XFxuICAgICAgICAvL3ZhciBwID0gc3RvcmFnZTAuZ2V0TXlWYXIoJ3NwYWdlJywgJycpO1xcbiAgICAgICAgLy9wdXRNeVZhcih1LCBwKTtcXG4gICAgICB9LCDnirbmgIEpXFxuICAgICk7XFxuICB9LFxcbiAganNvbkxpc3Q6IGZ1bmN0aW9uIChhcnIsIGpzb24sIHJ1bGUpIHtcXG4gICAgaWYgKGpzb24uY29uc3RydWN0b3IgIT0gT2JqZWN0KSB7XFxuICAgICAgdHJ5IHtcXG4gICAgICAgIGpzb24gPSBKU09OLnBhcnNlKGpzb24pO1xcbiAgICAgIH0gY2F0Y2gge31cXG4gICAgfVxcbiAgICBqc29uW3J1bGUubGlzdF0uZm9yRWFjaCgoaXRlbSkgPT4ge1xcbiAgICAgIHZhciBpbWcgPSBldmFsKHJ1bGUuaW1nKSArIHJ1bGUucmVmO1xcbiAgICAgIHZhciBocmVmID0gZXZhbChydWxlLnVybCk7XFxuICAgICAgaHJlZiA9IHJ1bGUuaW10ID8gaHJlZiArIFxcXCIjaW1tZXJzaXZlVGhlbWUjXFxcIiA6IGhyZWY7XFxuICAgICAgdmFyIGxhenkgPSBydWxlLmxhenkgPyBydWxlLmxhenkgOiBcXFwiXFxcIjtcXG4gICAgICB2YXIgZGQgPSB7XFxuICAgICAgICB0aXRsZTogZXZhbChydWxlLnRpdGxlKSxcXG4gICAgICAgIGRlc2M6IGV2YWwocnVsZS5kZXNjKSxcXG4gICAgICAgIGNvbnRlbnQ6IGV2YWwocnVsZS5jb250ZW50KSxcXG4gICAgICAgIHBpY191cmw6IGltZyxcXG4gICAgICAgIHVybDogaHJlZixcXG4gICAgICAgIGNvbF90eXBlOiBydWxlLmNvbF90eXBlLFxcbiAgICAgICAgZXh0cmE6IHtcXG4gICAgICAgICAgaW1nOiBpbWcsXFxuICAgICAgICB9LFxcbiAgICAgIH07XFxuICAgICAgaWYgKGxhenkgIT0gXFxcIlxcXCIpIHtcXG4gICAgICAgIGRkW1xcXCJ1cmxcXFwiXSA9IGhyZWYgKyBsYXp5O1xcbiAgICAgIH1cXG4gICAgICBhcnIucHVzaChkZCk7XFxuICAgIH0pO1xcbiAgfSxcXG4gIHJ1bGVMaXN0OiBmdW5jdGlvbiAoYXJyLCBodG1sLCBydWxlKSB7XFxuICAgIHZhciBsaXN0ID0gcGRmYShodG1sLCBydWxlLmxpc3QpO1xcbiAgICBsaXN0LmZvckVhY2goKGl0ZW0sIGkpID0+IHtcXG4gICAgICB2YXIgdGl0bGUgPSB0aGlzLnNldENvbnRlbnQoaXRlbSwgcnVsZS50aXRsZSk7XFxuICAgICAgdmFyIGRlc2MgPSB0aGlzLnNldENvbnRlbnQoaXRlbSwgcnVsZS5kZXNjKTtcXG4gICAgICB2YXIgaW1nID0gdGhpcy5pbWdIYW5kbGUoaXRlbSwgcnVsZSk7XFxuICAgICAgdmFyIHVybCA9IHRoaXMudXJsSGFuZGxlKGl0ZW0sIHJ1bGUpO1xcbiAgICAgIHZhciBjb250ZW50ID0gdGhpcy5zZXRDb250ZW50KGl0ZW0sIHJ1bGUuY29udGVudCk7XFxuICAgICAgdmFyIGxhenkgPSBydWxlLmxhenkgPyBydWxlLmxhenkgOiBcXFwiXFxcIjtcXG4gICAgICB2YXIgZGQgPSB7XFxuICAgICAgICB0aXRsZTogdGl0bGUsXFxuICAgICAgICBkZXNjOiBkZXNjLFxcbiAgICAgICAgcGljX3VybDogaW1nLFxcbiAgICAgICAgdXJsOiBcXFwiaGlrZXI6Ly9lbXB0eSMjXFxcIiArIHVybCxcXG4gICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsXFxuICAgICAgICBjb2xfdHlwZTogcnVsZS5jb2xfdHlwZSxcXG4gICAgICAgIGV4dHJhOiB7XFxuICAgICAgICAgIGltZzogaW1nLFxcbiAgICAgICAgfSxcXG4gICAgICB9O1xcbiAgICAgIGlmIChsYXp5ICE9IFxcXCJcXFwiKSB7XFxuICAgICAgICBkZFtcXFwidXJsXFxcIl0gPSB1cmwgKyBsYXp5O1xcbiAgICAgIH1cXG4gICAgICBhcnIucHVzaChkZCk7XFxuICAgIH0pO1xcbiAgfSxcXG4gIExpc3Q6IGZ1bmN0aW9uIChhcnIsIGh0bWwsIHJ1bGUsIHBhcmFtKSB7XFxuICAgIHBhcmFtID0gcGFyYW0gPyBwYXJhbSA6IHt9O1xcbiAgICB2YXIgYXV0byA9IHBhcmFtLmF1dG8gPyBwYXJhbS5hdXRvIDogZmFsc2U7XFxuICAgIHZhciBzaG93ID0gcGFyYW0uc2hvdyA/IHBhcmFtLnNob3cgOiBmYWxzZTtcXG4gICAgaWYgKHBhZ2UgPT0gMSkge1xcbiAgICAgIC8vdGhpcy5zcGFnZS5zZXQodHJ1ZV91cmwpO1xcbiAgICB9XFxuICAgIHRoaXMucmVmcmVzaCgpO1xcbiAgICB2YXIgbGlzdCA9IHBkZmEoaHRtbCwgcnVsZS5saXN0KTtcXG4gICAgLy9sb2codGhpcy5uZXh0UGFnZSgpKVxcbiAgICBpZiAoKHN0b3JhZ2UwLmdldE15VmFyKCd5aV9pc25leHQnLCd0Jyk9PSd0JyYmbGlzdC5sZW5ndGggPiAwKSB8fCBwYWdlID09IDEpIHtcXG4gICAgICBsaXN0LmZvckVhY2goKGl0ZW0sIGkpID0+IHtcXG4gICAgICAgIGRlbGV0ZUl0ZW0oXFxcInBhZ2VudW1cXFwiKTtcXG4gICAgICAgIGRlbGV0ZUl0ZW0oXFxcInBhZ2VsaW5lXFxcIik7XFxuICAgICAgICB2YXIgaWQgPSBcXFwiXFxcIjtcXG4gICAgICAgIHZhciBjbHMgPSBcXFwiXFxcIjtcXG4gICAgICAgIHZhciB0aXRsZSA9IHRoaXMuc2V0Q29udGVudChpdGVtLCBydWxlLnRpdGxlKTtcXG4gICAgICAgIHZhciBkZXNjID0gdGhpcy5zZXRDb250ZW50KGl0ZW0sIHJ1bGUuZGVzYyk7XFxuICAgICAgICB2YXIgaW1nID0gdGhpcy5pbWdIYW5kbGUoaXRlbSwgcnVsZSk7XFxuICAgICAgICB2YXIgdXJsID0gdGhpcy51cmxIYW5kbGUoaXRlbSwgcnVsZSk7XFxuICAgICAgICB2YXIgY29udGVudCA9IHRoaXMuc2V0Q29udGVudChpdGVtLCBydWxlLmNvbnRlbnQpO1xcbiAgICAgICAgaWYgKGkgPT0gbGlzdC5sZW5ndGggLSAxKSB7XFxuICAgICAgICAgIGlkID0gXFxcImxhc3RpZF9cXFwiICsgcGFnZTtcXG4gICAgICAgICAgY2xzID0gXFxcImxhc3RtYXJrXFxcIjtcXG4gICAgICAgIH1cXG4gICAgICAgIGQucHVzaCh7XFxuICAgICAgICAgIHRpdGxlOiB0aXRsZSxcXG4gICAgICAgICAgZGVzYzogZGVzYyxcXG4gICAgICAgICAgcGljX3VybDogaW1nLFxcbiAgICAgICAgICB1cmw6ICdoaWtlcjovL3BhZ2UvZWo/dXJsPScrdXJsKycjbm9IaXN0b3J5IycsXFxuICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsXFxuICAgICAgICAgIGNvbF90eXBlOiBydWxlLmNvbF90eXBlLFxcbiAgICAgICAgICBleHRyYToge1xcbiAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcXG4gICAgICAgICAgICBpbWc6IGltZyxcXG4gICAgICAgICAgICBpZDogaWQsXFxuICAgICAgICAgICAgY2xzOiBjbHMsXFxuICAgICAgICAgIH0sXFxuICAgICAgICB9KTtcXG4gICAgICAgIGlmIChpID09IGxpc3QubGVuZ3RoIC0gMSAmJiBzaG93KSB7XFxuICAgICAgICAgIGQucHVzaCh7XFxuICAgICAgICAgICAgY29sX3R5cGU6IFxcXCJsaW5lXFxcIixcXG4gICAgICAgICAgICBleHRyYToge1xcbiAgICAgICAgICAgICAgaWQ6IFxcXCJwYWdlbGluZVxcXCIsXFxuICAgICAgICAgICAgfSxcXG4gICAgICAgICAgfSk7XFxuXFxuICAgICAgICAgIGQucHVzaCh7XFxuICAgICAgICAgICAgdGl0bGU6IFxcXCLigJzigJzigJ3igJ08c21hbGw+5Yqg6L295LitLi4uPC9zbWFsbD5cXFwiLFxcbiAgICAgICAgICAgIHVybDogXFxcImhpa2VyOi8vZW1wdHlcXFwiLFxcbiAgICAgICAgICAgIGNvbF90eXBlOiBcXFwidGV4dF9jZW50ZXJfMVxcXCIsXFxuICAgICAgICAgICAgZXh0cmE6IHtcXG4gICAgICAgICAgICAgIGlkOiBcXFwicGFnZW51bVxcXCIsXFxuICAgICAgICAgICAgfSxcXG4gICAgICAgICAgfSk7XFxuICAgICAgICB9XFxuICAgICAgfSk7XFxuICAgIH0gZWxzZSB7XFxuICAgICAgdXBkYXRlSXRlbShcXFwicGFnZW51bVxcXCIsIHtcXG4gICAgICAgIHRpdGxlOiAn4oCc4oCc4oCd4oCdPGZvbnQgY29sb3I9XFxcImdyZXlcXFwiPjxzbWFsbD7liLDlupXkuoY8L3NtYWxsPjwvZm9udD4nLFxcbiAgICAgICAgdXJsOiBcXFwiaGlrZXI6Ly9lbXB0eVxcXCIsXFxuICAgICAgICBjb2xfdHlwZTogXFxcInRleHRfY2VudGVyXzFcXFwiLFxcbiAgICAgICAgZXh0cmE6IHtcXG4gICAgICAgICAgaWQ6IFxcXCJsYXN0XFxcIixcXG4gICAgICAgIH0sXFxuICAgICAgfSk7XFxuICAgIH1cXG4gICAgaWYgKGxpc3QubGVuZ3RoID09IDAgJiYgcGFnZSA9PSAxKSB7XFxuICAgICAgZC5wdXNoKHtcXG4gICAgICAgIGNvbF90eXBlOiBcXFwibGluZVxcXCIsXFxuICAgICAgfSk7XFxuICAgICAgZC5wdXNoKHtcXG4gICAgICAgIHRpdGxlOiAn4oCc4oCc4oCd4oCdPGZvbnQgY29sb3I9XFxcImdyZXlcXFwiPjxzbWFsbD7ml6DlhoXlrrk8L3NtYWxsPjwvZm9udD4nLFxcbiAgICAgICAgdXJsOiBcXFwiaGlrZXI6Ly9lbXB0eVxcXCIsXFxuICAgICAgICBjb2xfdHlwZTogXFxcInRleHRfY2VudGVyXzFcXFwiLFxcbiAgICAgICAgZXh0cmE6IHt9LFxcbiAgICAgIH0pO1xcbiAgICB9XFxuICAgIGlmKHRoaXMubmV4dFBhZ2UoKSl7XFxuICAgICAgLy9sb2coJ3QnKTtcXG4gICAgICAgIHN0b3JhZ2UwLnB1dE15VmFyKCd5aV9pc25leHQnLCd0Jyk7XFxuICAgIH1lbHNle1xcbiAgICAgIC8vbG9nKCdmJyk7XFxuICAgICAgICBzdG9yYWdlMC5wdXRNeVZhcigneWlfaXNuZXh0JywnZicpO1xcbiAgICB9XFxuICAgIGlmIChhdXRvKSB7XFxuICAgICAgLy9jcmVhdGVOZXh0UGFnZSgpO1xcbiAgICAgIGF1dG9QYWdlKCk7XFxuICAgIH1cXG4gIH0sXFxufTtcXG5cXG52YXIgZXh0TWV0aG9kID0ge1xcbiAgVG9QYXJhbXM6IGZ1bmN0aW9uICgpIHtcXG4gICAgdmFyIGpzb24gPSBhcmd1bWVudHNbMF07XFxuICAgIHJldHVybiBPYmplY3Qua2V5cyhqc29uKVxcbiAgICAgIC5tYXAoKGtleSkgPT4ga2V5ICsgXFxcIj1cXFwiICsganNvbltrZXldKVxcbiAgICAgIC5qb2luKFxcXCImXFxcIik7XFxuICB9LFxcbiAgdXJsUGFyc2U6IGZ1bmN0aW9uICh1KSB7XFxuICAgIHZhciBkaWN0ID0ge307XFxuICAgIGRpY3QuU291cmNlID0gdTtcXG4gICAgbGV0IHBhcmFtcyA9ICh1cmwpID0+IHtcXG4gICAgICBsZXQgcXVlcnlQYXJhbXMgPSB7fTtcXG4gICAgICBsZXQgcmVnID0gLyhbXj89Jl0rKT0oW14/PSZdKykvZztcXG4gICAgICB1cmwucmVwbGFjZShyZWcsIGZ1bmN0aW9uICgpIHtcXG4gICAgICAgIHF1ZXJ5UGFyYW1zW2FyZ3VtZW50c1sxXV0gPSBhcmd1bWVudHNbMl07XFxuICAgICAgfSk7XFxuICAgICAgcmV0dXJuIHF1ZXJ5UGFyYW1zO1xcbiAgICB9O1xcbiAgICB2YXIgamF2YVVybCA9IEphdmFJbXBvcnRlcihqYXZhLm5ldC5VUkwpO1xcbiAgICB3aXRoIChqYXZhVXJsKSB7XFxuICAgICAgdmFyIHVybCA9IG5ldyBVUkwodSk7XFxuICAgICAgZGljdC5Qcm90b2NvbCA9IHVybC5nZXRQcm90b2NvbCgpO1xcbiAgICAgIGRpY3QuSG9zdCA9IHVybC5nZXRIb3N0KCk7XFxuICAgICAgZGljdC5Qb3J0ID0gdXJsLmdldFBvcnQoKTtcXG4gICAgICBkaWN0LkZpbGUgPSB1cmwuZ2V0RmlsZSgpO1xcbiAgICAgIGRpY3QuUGF0aCA9IHVybC5nZXRQYXRoKCk7XFxuICAgICAgZGljdC5SZWYgPSB1cmwuZ2V0UmVmKCk7XFxuICAgICAgZGljdC5Ib3N0cyA9IGAke2RpY3QuUHJvdG9jb2x9Oi8vJHt1cmwuZ2V0SG9zdCgpfWA7XFxuICAgIH1cXG4gICAgZGljdC5QYXJhbXMgPSBwYXJhbXModSk7XFxuICAgIHJldHVybiBkaWN0O1xcbiAgfSxcXG4gIGlzRXF1YWw6IGZ1bmN0aW9uICh4LCB5KSB7XFxuICAgIGNvbnN0IG9rID0gT2JqZWN0LmtleXMsXFxuICAgICAgdHggPSB0eXBlb2YgeCxcXG4gICAgICB0eSA9IHR5cGVvZiB5O1xcbiAgICByZXR1cm4geCAmJiB5ICYmIHR4ID09PSBcXFwib2JqZWN0XFxcIiAmJiB0eCA9PT0gdHlcXG4gICAgICA/IG9rKHgpLmxlbmd0aCA9PT0gb2soeSkubGVuZ3RoICYmXFxuICAgICAgICAgIG9rKHgpLmV2ZXJ5KChrZXkpID0+IHRoaXMuaXNFcXVhbCh4W2tleV0sIHlba2V5XSkpXFxuICAgICAgOiB4ID09PSB5O1xcbiAgfSxcXG4gIGZpbmREaWZmZXJlbnRJbmRleDogZnVuY3Rpb24gKHN0cjEsIHN0cjIpIHtcXG4gICAgY29uc3QgZGlmZkNoYXJzID0gW107XFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyMi5sZW5ndGg7IGkrKykge1xcbiAgICAgIGlmIChzdHIxW2ldICE9PSBzdHIyW2ldKSB7XFxuICAgICAgICBkaWZmQ2hhcnMucHVzaCh7XFxuICAgICAgICAgIGluZGV4OiBpLFxcbiAgICAgICAgICBzMTogc3RyMVtpXSxcXG4gICAgICAgICAgczI6IHN0cjJbaV0sXFxuICAgICAgICB9KTtcXG4gICAgICB9XFxuICAgIH1cXG4gICAgcmV0dXJuIGRpZmZDaGFycztcXG4gIH0sXFxuICByZXBsYWNlQ2hhckF0OiBmdW5jdGlvbiAoc3RyLCBpbmRleCwgcmVwbGFjZW1lbnQpIHtcXG4gICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSBzdHIubGVuZ3RoKSB7XFxuICAgICAgcmV0dXJuIHN0cjtcXG4gICAgfVxcbiAgICAvL2xvZyhpbmRleClcXG4gICAgY29uc3QgYXJyID0gc3RyLnNwbGl0KFxcXCJcXFwiKTtcXG4gICAgYXJyW2luZGV4XSA9IHJlcGxhY2VtZW50O1xcbiAgICByZXR1cm4gYXJyLmpvaW4oXFxcIlxcXCIpO1xcbiAgfSxcXG4gIGdldE9iamVjdEtleXNEaWZmOmZ1bmN0aW9uKG9iajEsIG9iajIpIHtcXG4gIGNvbnN0IGRpZmZlcmVudEtleXMgPSBbXTtcXG4gIGZvciAobGV0IGtleSBpbiBvYmoxKSB7XFxuICAgIGlmICghb2JqMi5oYXNPd25Qcm9wZXJ0eShrZXkpIHx8IG9iajFba2V5XSAhPT0gb2JqMltrZXldKSB7XFxuICAgICAgZGlmZmVyZW50S2V5cy5wdXNoKGtleSk7XFxuICAgIH1cXG4gIH1cXG4gIGZvciAobGV0IGtleSBpbiBvYmoyKSB7XFxuICAgIGlmICghb2JqMS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XFxuICAgICAgZGlmZmVyZW50S2V5cy5wdXNoKGtleSk7XFxuICAgIH1cXG4gIH1cXG4gIHJldHVybiBkaWZmZXJlbnRLZXlzO1xcbiAgfSxcXG4gIGdldE5leHRVcmw6IGZ1bmN0aW9uIChzb3VyY2UsIHRhcmdldCwgcGFyYW1zKSB7XFxuICAgIHZhciB1MSA9IHRoaXMudXJsUGFyc2Uoc291cmNlKTtcXG4gICAgdmFyIHUyID0gdGhpcy51cmxQYXJzZSh0YXJnZXQpO1xcbiAgICB2YXIgcGEgPSB1bmRlZmluZWQ7XFxuICAgIGlmICh0eXBlb2YgcGFyYW1zID09IFxcXCJvYmplY3RcXFwiKSB7XFxuICAgICAgcGEgPSBwYXJhbXMuaGFzT3duUHJvcGVydHkoXFxcIueJueW+gVxcXCIpID8gcGFyYW1zLueJueW+gSA6IHVuZGVmaW5lZDtcXG4gICAgfVxcbiAgICB2YXIgbmV4dHVybCA9IHNvdXJjZTtcXG4gICAgdmFyIGNhID0gT2JqZWN0LmtleXModTIuUGFyYW1zKS5sZW5ndGggPT0gMCA/IFxcXCJcXFwiIDogXFxcIj9cXFwiO1xcbiAgICBpZiAocGEgIT0gdW5kZWZpbmVkKSB7XFxuICAgICAgdmFyIHJzID0gU3RyaW5nKHUyLlBhdGgpLnJlcGxhY2UobmV3IFJlZ0V4cChwYSksIFxcXCIkMWZ5cGFnZVxcXCIpO1xcbiAgICAgIG5leHR1cmwgPSB1Mi5Ib3N0cyArIHJzICsgY2EgKyB0aGlzLlRvUGFyYW1zKHUyLlBhcmFtcyk7XFxuICAgIH0gZWxzZSB7XFxuICAgICAgaWYgKHRoaXMuaXNFcXVhbCh1MS5QYXJhbXMsIHUyLlBhcmFtcykpIHtcXG4gICAgICAgIGlmKGR0X2RlYnVnKXtcXG4gICAgICAgIGxvZyh1MS5QYXRoKTtcXG4gICAgICAgIGxvZyh1Mi5QYXRoKTtcXG4gICAgICAgIH1cXG4gICAgICAgIHZhciBkZiA9IHRoaXMuZmluZERpZmZlcmVudEluZGV4KFN0cmluZyh1MS5QYXRoKSwgU3RyaW5nKHUyLlBhdGgpKTtcXG4gICAgICAgIGlmKGR0X2RlYnVnKXtcXG4gICAgICAgIGxvZyhkZik7XFxuICAgICAgICB9XFxuICAgICAgICBpZiAoZGYubGVuZ3RoID09IDEpIHtcXG4gICAgICAgICAgdmFyIHJlID0gZGZbMF0uaW5kZXg7XFxuICAgICAgICB9IGVsc2Uge1xcbiAgICAgICAgICB2YXIgZiA9IGRmLmZpbHRlcigoeCkgPT4gL1xcXFxkKy8udGVzdCh4LnMyKSk7XFxuICAgICAgICAgIHZhciByZSA9IGZbMF0uaW5kZXg7XFxuICAgICAgICB9XFxuICAgICAgICB2YXIgZXEgPSB0aGlzLnJlcGxhY2VDaGFyQXQoU3RyaW5nKHUyLlBhdGgpLCByZSwgXFxcImZ5cGFnZVxcXCIpO1xcbiAgICAgICAgbmV4dHVybCA9IHUyLkhvc3RzICsgZXEgKyBjYSArIHRoaXMuVG9QYXJhbXModTIuUGFyYW1zKTtcXG4gICAgICB9IGVsc2Uge1xcbiAgICAgICAgdmFyIGVwPXRoaXMuZ2V0T2JqZWN0S2V5c0RpZmYodTEuUGFyYW1zLHUyLlBhcmFtcylcXG4gICAgICAgIGlmKGVwLmxlbmd0aD09MSl7XFxuICAgICAgICAgIHUxLlBhcmFtc1tlcFswXV09J2Z5cGFnZSdcXG4gICAgICAgIH1lbHNle1xcbiAgICAgICAgICBsb2coZXApO1xcbiAgICAgICAgfVxcbiAgICAgICAgdmFyIGVxID0gU3RyaW5nKHUxLlBhdGgpLnJlcGxhY2UoL1xcXFxkKy8sIFxcXCJmeXBhZ2VcXFwiKTtcXG4gICAgICAgIG5leHR1cmwgPSB1MS5Ib3N0cyArIGVxICsgY2EgKyB0aGlzLlRvUGFyYW1zKHUxLlBhcmFtcyk7XFxuICAgICAgfVxcbiAgICB9XFxuICAgIC8vbG9nKCduZXh0OicrbmV4dHVybClcXG4gICAgcmV0dXJuIG5leHR1cmw7XFxuICB9LFxcbn07XFxuXFxuZnVuY3Rpb24gZ2V0VHJ1ZWxpbmsobWFyaywgdXJsLCBwYWdlKSB7XFxuICB2YXIgcCA9IGdldE15VmFyKG1hcmssIHVybCkucmVwbGFjZShcXFwiZnlwYWdlXFxcIiwgcGFnZSk7XFxuICBpZiAocGFnZSA9PSAxKSB7XFxuICAgIHJldHVybiBnZXRNeVZhcihcXFwieWlfZmlyc3RwYWdlXFxcIiwgcCk7XFxuICB9IGVsc2UgaWYgKHAgIT0gXFxcIlxcXCIpIHtcXG4gICAgcmV0dXJuIHA7XFxuICB9IGVsc2Uge1xcbiAgICByZXR1cm4gdXJsO1xcbiAgfVxcbn1cXG4vL+aehOW7ulxcbmZ1bmN0aW9uIGNyZWF0ZU5leHRQYWdlKCkge1xcbiAgbGV0IHN0YXJ0bnVtID0gMTtcXG4gIHZhciBvYmogPSBhcmd1bWVudHNbMF07XFxuICBpZiAodHJ1ZV91cmwgIT0gZ2V0TXlWYXIoXFxcInlpX3BhZ2V1cmxcXFwiLCBcXFwiXFxcIikpIHtcXG4gICAgY2xlYXJNeVZhcihcXFwieWlfcGFnZXVybFxcXCIpO1xcbiAgfVxcbiAgaWYgKHBhZ2UgPT0gc3RhcnRudW0gJiYgZ2V0TXlWYXIoXFxcInlpX3BhZ2V1cmxcXFwiKSA9PSBcXFwiXFxcIikge1xcbiAgICBwdXRNeVZhcihcXFwieWlfZmlyc3RwYWdlXFxcIiwgdHJ1ZV91cmwpO1xcbiAgICB0cnkge1xcbiAgICAgIHZhciBuZXh0ID0gZXZhbCjkuIvkuIDpobUpO1xcbiAgICAgIC8vbG9nKFxcXCJuZXh0XFxcIik7XFxuICAgICAgLy9sb2cobmV4dCk7XFxuICAgIH0gY2F0Y2gge1xcbiAgICAgIGxvZyhcXFwi5Y+v6IO95LiN5a2Y5Zyo5LiL5LiA6aG15oiW6ICF5LiL5LiA6aG15a6a5L2N5pyJ6Zeu6aKYXFxcIik7XFxuICAgICAgbmV4dCA9IFxcXCJcXFwiO1xcbiAgICB9XFxuICAgIGlmIChuZXh0ICE9IFxcXCJcXFwiKSB7XFxuICAgICAgdmFyIG54dXJsID0gZXh0TWV0aG9kLmdldE5leHRVcmwodHJ1ZV91cmwsIG5leHQsIG9iaik7XFxuICAgICAgLy9sb2coXFxcIm54dXJsOlxcXCIgKyBueHVybCk7XFxuICAgICAgcHV0TXlWYXIo54q25oCBLCBueHVybCk7XFxuICAgICAgcHV0TXlWYXIoXFxcInlpX3BhZ2V1cmxcXFwiLCBueHVybCk7XFxuICAgIH1cXG4gIH1cXG59XFxuXFxuZnVuY3Rpb24gYXV0b1BhZ2UoKSB7XFxuICBpZihwYWdlPT0xKXtcXG4gICAgcHV0TXlWYXIoXFxcInlpX2ZpcnN0cGFnZVxcXCIsIHRydWVfdXJsKTtcXG4gICAgfVxcbiAgICB0cnkge1xcbiAgICAgIHZhciBuZXh0ID0gZXZhbCjkuIvkuIDpobUpO1xcbiAgICAgIC8vbG9nKFxcXCJuZXh0XFxcIik7XFxuICAgICAgLy9sb2coJ25leHQ6JytuZXh0KTtcXG4gICAgfSBjYXRjaCB7XFxuICAgICAgbG9nKFxcXCLlj6/og73kuI3lrZjlnKjkuIvkuIDpobXmiJbogIXkuIvkuIDpobXlrprkvY3mnInpl67pophcXFwiKTtcXG4gICAgICBuZXh0ID0gXFxcIlxcXCI7XFxuICAgIH1cXG4gICAgaWYgKG5leHQgIT0gXFxcIlxcXCIpIHtcXG4gICAgICBwdXRNeVZhcijnirbmgIEsIG5leHQpO1xcbiAgICB9XFxufVwifV0sXCJwYXJhbXNcIjpcIntcXFwiaW1nXFxcIjpcXFwiaHR0cHM6Ly9wdXVpLnFwaWMuY24vdmNvdmVyX3Z0X3BpYy8wL21jdjhoa2M4ems4bG5vdjE2NTk4ODg3MTgzOTcvMEBSZWZlcmVyPVxcXCIsXFxcInRpdGxlXFxcIjpcXFwi5a6M576O5LiW55WMXFxcIixcXFwidXJsXFxcIjpcXFwiaHR0cHM6Ly93d3cuc3V5aW5nLmxpZmUvaW5kZXgucGhwL3ZvZC9kZXRhaWwvaWQvMjM3Nzg0Lmh0bWwjaW1tZXJzaXZlVGhlbWUjXFxcIn1cIixcInNhdmVkXCI6ZmFsc2UsXCJ0aXRsZVwiOlwi6YCf5pig5b2x6Zmi4pyM77iOXCIsXCJ2ZXJzaW9uXCI6MCxcInVybFwiOlwiaHR0cHM6Ly93d3cuc3V5aW5nLmxpZmUvaW5kZXgucGhwL3ZvZC9kZXRhaWwvaWQvMjM3Nzg0Lmh0bWwjaW1tZXJzaXZlVGhlbWUjXCIsXCJjb2xfdHlwZVwiOlwibW92aWVfM1wiLFwiZmluZF9ydWxlXCI6XCJqczpcXG52YXIgZCA9IFtdIFxcbk1ZX1VSTD1NWV9VUkwucmVwbGFjZSgnaGlrZXI6Ly9lbXB0eSMjJywnJyk7XFxudmFyIGh0bWwgPSBmZXRjaChNWV9VUkwpO1xcbi8qXFxudmFyIGhyZWYyID0gaHRtbC5tYXRjaCgvaHJlZiA9XFxcXFxcXCIoLio/KVxcXFxcXFwiLylbMV07XFxuICAvL2xvZyhocmVmMisnLS0tLS0tLS0tLS0nKVxcbmh0bWwgPSByZXF1ZXN0KCdodHRwczovL3d3dy5zc3R2LmZ1bicgKyBocmVmMik7XFxuICAvL2xvZyhodG1sKVxcbiovXFxuLy92YXIg5pCc57Si5qCH562+ID0gJ2gxJiZUZXh0JztcXG5cXG5ldmFsKEpTT04ucGFyc2UocmVxdWVzdCgnaGlrZXI6Ly9wYWdlL2VyJykpLnJ1bGUpO1xcbmV2YWwoSlNPTi5wYXJzZShmZXRjaCgnaGlrZXI6Ly9wYWdlL2xhenknLCB7fSkpLnJ1bGUpO1xcbnZhciBwbGF5bGlzdCA9IFt7XFxuICAgIC8q6Ieq5a6a5LmJOntcXG4gICAgICAgIOWbvuaghzogJ2h0dHBzOi8vaGlrZXJmYW5zLmNvbS90dWJpYW8vcS8zLnBuZycsXFxuICAgICAgICDmraPluo/popzoibI6ICcjMzJDRDMyJyxcXG4gICAgICAgIOmAhuW6j+minOiJsjogJyNGQTgwNzInLFxcbiAgICAgICAg57q/6Lev6YCJ5LitOiAnIzg3Q0VFQicsICAgICAgIFxcbiAgICB9LCovXFxuICAgIOexu+WeizogJ+WcqOe6v+ingueciycsXFxuICAgIOe6v+i3rzogJ2JvZHkmJi50YWItaXRlbTpub3QoOmhhcyjOsSkpJyxcXG4gICAg6YCJ6ZuGOiAnYm9keSYmLm1vZHVsZS1wbGF5LWxpc3Q6bm90KDptYXRjaGVzKM6xKSknLFxcbiAgICDnur/ot6/lkI3np7A6ICdzcGFuJiZUZXh0QEAucmVwbGFjZSgvLirjgIsoLiopLyxcXFwiJDFcXFwiKScsXFxuICAgIOmAiembhuWIl+ihqDogJ2JvZHkmJmE6bm90KDptYXRjaGVzKOWxleW8gOWFqOmDqCkpJyxcXG4gICAg5o6S6ZmkOiAnJyxcXG4gICAgLy/pgInpm4blkI3np7A6ICdUZXh0JyxcXG4gICAgLy/pgInpm4bpk77mjqU6ICdhJiZocmVmJyxcXG4gICAgLy/lgJLluo86dHJ1ZSxcXG4gICAg6Kej5p6QOiBsYXp5LFxcbiAgICDmjqjpgIE6IHRydWUsXFxufSwge1xcbiAgICDnsbvlnos6ICfno4HlipvkuIvovb0nLFxcbiAgICAvL+e6v+i3rzogJycsXFxuICAgIOmAiembhjogJ2JvZHkmJi5zb3J0LWl0ZW1tJyxcXG4gICAgLy/nur/ot6/lkI3np7A6ICdUZXh0QEAucmVwbGFjZShcXFwizrJcXFwiLFxcXCJcXFwiKScsXFxuICAgIC8v6YCJ6ZuG5YiX6KGoOiAndWwmJmxpJyxcXG4gICAg6YCJ6ZuG5ZCN56ewOiAnVGV4dCcsXFxuICAgIOmAiembhumTvuaOpTogJ2EmJmhyZWYnLFxcbiAgICDmoLflvI86ICdhdmF0YXInLFxcbiAgICDlm77moIc6ICdodHRwczovL2ltZy52aW51YS5jbi9pbWFnZXMvT296NFIuanBlZydcXG59XVxcblxcbnZhciBvYmogPSB7XFxuICAgIG1haW46IHBkZmEoaHRtbCwgJ2JvZHkmJi5obC1mdWxsLWJveCYmbGk6bm90KDptYXRjaGVzKOeugOS7iykpJyksXFxuICAgIHNvcnQ6IFsgJ+W5tOS7vScsJ+WcsOWMuicsICfnsbvlnosnLCfmm7TmlrDvvJonLCflr7zmvJQnLCAn5Li75ryUJywgJ+S4u+a8lCddLFxcbiAgICBpbWc6IE1ZX1BBUkFNUy5pbWcsXFxuLy9wZChodG1sLCAnI2NvdmVyX3Nob3dib3gmJmRhdGEtb3JpZ2luYWwnKSwvL+WwgemdouWbvueJh1xcbn1cXG5cXG5FcmppLnNldENvbnRlbnQob2JqKTtcXG5FcmppLnNldERlc2MocGRmaChodG1sLCAnLnNob3ctZGVzYyYmVGV4dCcpLnJlcGxhY2UoLyjmlLbotbcuKikvLCcnKSk7Ly/liafmg4XnroDku4tcXG5ldmFsKEpTT04ucGFyc2UoZmV0Y2goJ2hpa2VyOi8vcGFnZS90b29sJywge30pKS5ydWxlKTsvL+WklumDqOW/q+aNt+aQnOe0olxcbkVyamkuZ2V0UGxheWVycyhwbGF5bGlzdCk7XFxuRXJqaS7lo7DmmI4oKTtcXG5FcmppLnVwZGF0YShcXFwiJ+acgOaWsO+8micrcGRmaChodG1sLCAnLm1vZHVsZS1wbGF5LWxpc3QmJmEsLTEmJlRleHQnKVxcXCIpO1xcblxcbnNldFJlc3VsdChkKVwiLFwiZ3JvdXBcIjpcIkIg5b2x6KeG5rqQXCIsXCJ1YVwiOlwibW9iaWxlXCIsXCJwcmVSdWxlXCI6XCIvL+WPkeW4g+WcsOWdgCAgICAgIGh0dHA6Ly8xMDMuNDQuMjQzLjExOToyMTMwL1wiLFwicGFnZXNcIjpcIlt7XFxcImNvbF90eXBlXFxcIjpcXFwibW92aWVfM1xcXCIsXFxcIm5hbWVcXFwiOlxcXCLik7jpgJrnlKjop6PmnpBcXFwiLFxcXCJwYXRoXFxcIjpcXFwibGF6eVxcXCIsXFxcInJ1bGVcXFwiOlxcXCJcXFxcbnZhciBsYXp5ID0gJCgnJykubGF6eVJ1bGUoKCkgPT4ge1xcXFxuaWYgKGlucHV0LmluZGV4T2YoJ21hZ25ldDo/eHQnKSA9PSAtMSkge1xcXFxuICAgIHRyeXtcXFxcbiAgICAgIHZhciBodG1sID0gSlNPTi5wYXJzZShyZXF1ZXN0KGlucHV0KS5tYXRjaCgvciBwbGF5ZXJfLio/PSguKj8pPC8pWzFdKVxcXFxuICAgIHZhciB1cmwgPSBodG1sLnVybFxcXFxuICAgIGlmIChodG1sLmVuY3J5cHQgPT0gJzEnKSB7XFxcXG4gICAgICAgIHVybCA9IHVuZXNjYXBlKHVybCk7XFxcXG4gICAgfSBlbHNlIGlmIChodG1sLmVuY3J5cHQgPT0gJzInKSB7XFxcXG4gICAgICAgIHVybCA9IHVuZXNjYXBlKGJhc2U2NERlY29kZSh1cmwpKTtcXFxcbiAgICB9XFxcXG4gICAgaWYgKC9tM3U4fG1wNHxmbHYvLnRlc3QodXJsKSkge1xcXFxuICAgICAgIGlmICgvdmlwfGhkLy50ZXN0KHVybCkpIHtcXFxcclxcXFxuICAgICAgICAgICBldmFsUHJpdmF0ZUpTKCdUdVNKZHBuWmFxWEdSdnZPRlJSKzNTN2VaVWplQzFDZmZGYkhob28wZTUrYVo3S2F2OUtaVlpzZmt3S2tVRmY0d3prVHJpbzRqQVJINlp3VFhwUmxIM2tJNDNyV0NUVTRQZFlhbTE1cFBZaXE1Y1cwSDZnVVhoSlc3dG1KdHlMS2RqZTFLYXBCSUd2V2FYSTBXbW9Ib01FRkJWL01BaWNtUGdweUFKWmpzYzVFbXZkaDFuNzJXUFBpeWhZTkNvTW5aOUpwUDZhRXNXUUVtUU1jQWpQeGdzNlVNdnNPL1BPdzVDY3I3OXNKemljc3QvTGwzSU9qNU0rUHZxS3JUZDYxNDdWR1BFenRqc1VlRXVkQVN6VGNuKzk1QzlWZzF1d1V2ZDl6MHc1cXNQYm9RaDVvWmhUeXM0UlFFekJHSXF1bFFNQUFRWTRJRmthbldYOTVFSU5aRFg1MG1BaU9TR3lJZDA2SHNwckFlbC9maDd3eU1YZG1ldStTMTVYbmNPN1V1dWpNT21HZ1NBRU4vU3NjMmV6a3hsR3ZwZHloYmw0cDREYVF1Zy9ucmdzd2haajc1L001M3NLWVgyelJnT1NUN0NNalYvK3BQSmQxS1A5MzR1dS9Wc0JRVUc2OW1XTitLYUZXaEtud0JQaFY5cWRxR3ovTFNKbkZ4SXZROGtCeCcpXFxcXG4gICAgICAgICAgIHJldHVybiB1ICsgXFxcXFxcXCI/dXJsPVxcXFxcXFwiICsgYmFzZTY0RW5jb2RlKHVybCkgKyBcXFxcXFxcIiMubTN1OFxcXFxcXFwiO1xcXFxyXFxcXG4gICAgICAgIH1cXFxcclxcXFxuICAgICAgICByZXR1cm4gdXJsXFxcXG4gICAgfSBlbHNlIGlmKC9xcXxxaXlpfHlvdWt1fG1ndHZ8YmlsaS8udGVzdCh1cmwpKSB7XFxcXG4gICAgICAgICAgdXJsID0gJ2h0dHBzOi8vangueG1mbHYuY29tLz91cmw9JyArIHVybDtcXFxcbnJlcXVpcmVDYWNoZSgnaHR0cHM6Ly9hZ2l0LmFpL2x6azIzNTU5L1B1YmxpY1J1bGUvcmF3L2JyYW5jaC9tYXN0ZXIveDVydWxlLmpzJywgMjQpO1xcXFxuICAgICAgICByZXR1cm4geDVydWxlKHVybCwgdXJsKTtcXFxcbiAgICAgICAgLy9yZXR1cm4gJ3ZpZGVvOi8vaHR0cHM6Ly9qeC54bWZsdi5jb20vP3VybD0nICsgdXJsO1xcXFxuICAgICAgICAgICAgfSBlbHNlIHtcXFxcbiAgICAgICAgLy9yZXF1aXJlQ2FjaGUoJ2h0dHBzOi8vYWdpdC5haS9semsyMzU1OS9QdWJsaWNSdWxlL3Jhdy9icmFuY2gvbWFzdGVyL3g1cnVsZS5qcycsIDI0KTtcXFxcbiAgICAgICAvLyByZXR1cm4geDVydWxlKGlucHV0LCBpbnB1dCk7XFxcXG4gICAgICAgIHJldHVybiAndmlkZW86Ly8nICsgaW5wdXQ7XFxcXG4gIH1cXFxcbn1jYXRjaChlKXtcXFxcbi8vcmVxdWlyZUNhY2hlKCdodHRwczovL2FnaXQuYWkvbHprMjM1NTkvUHVibGljUnVsZS9yYXcvYnJhbmNoL21hc3Rlci94NXJ1bGUuanMnLCAyNCk7XFxcXG4gICAgICAgIC8vcmV0dXJuIHg1cnVsZShpbnB1dCwgaW5wdXQpO1xcXFxuICAgICAgICByZXR1cm4gJ3ZpZGVvOi8vJyArIGlucHV0O1xcXFxufSAgIFxcXFxuIH0gZWxzZSB7XFxcXG4gICAgICAgIHJldHVybiBpbnB1dFxcXFxuICAgIH1cXFxcbn0pXFxcIn0se1xcXCJjb2xfdHlwZVxcXCI6XFxcIm1vdmllXzNcXFwiLFxcXCJuYW1lXFxcIjpcXFwi4pO25LqM57qn6aG16Z2iXFxcIixcXFwicGF0aFxcXCI6XFxcImVqXFxcIixcXFwicnVsZVxcXCI6XFxcImpzOlxcXFxudmFyIGQgPSBbXSBcXFxcbk1ZX1VSTD1NWV9VUkwucmVwbGFjZSgnaGlrZXI6Ly9lbXB0eSMjJywnJyk7XFxcXG52YXIgaHRtbCA9IGZldGNoKE1ZX1VSTCk7XFxcXG4vKlxcXFxudmFyIGhyZWYyID0gaHRtbC5tYXRjaCgvaHJlZiA9XFxcXFxcXFxcXFxcXFxcIiguKj8pXFxcXFxcXFxcXFxcXFxcIi8pWzFdO1xcXFxuICAvL2xvZyhocmVmMisnLS0tLS0tLS0tLS0nKVxcXFxuaHRtbCA9IHJlcXVlc3QoJ2h0dHBzOi8vd3d3LnNzdHYuZnVuJyArIGhyZWYyKTtcXFxcbiAgLy9sb2coaHRtbClcXFxcbiovXFxcXG4vL3ZhciDmkJzntKLmoIfnrb4gPSAnaDEmJlRleHQnO1xcXFxuXFxcXG5ldmFsKEpTT04ucGFyc2UocmVxdWVzdCgnaGlrZXI6Ly9wYWdlL2VyJykpLnJ1bGUpO1xcXFxuZXZhbChKU09OLnBhcnNlKGZldGNoKCdoaWtlcjovL3BhZ2UvbGF6eScsIHt9KSkucnVsZSk7XFxcXG52YXIgcGxheWxpc3QgPSBbe1xcXFxuICAgIC8q6Ieq5a6a5LmJOntcXFxcbiAgICAgICAg5Zu+5qCHOiAnaHR0cHM6Ly9oaWtlcmZhbnMuY29tL3R1Ymlhby9xLzMucG5nJyxcXFxcbiAgICAgICAg5q2j5bqP6aKc6ImyOiAnIzMyQ0QzMicsXFxcXG4gICAgICAgIOmAhuW6j+minOiJsjogJyNGQTgwNzInLFxcXFxuICAgICAgICDnur/ot6/pgInkuK06ICcjODdDRUVCJywgICAgICAgXFxcXG4gICAgfSwqL1xcXFxuICAgIOexu+WeizogJ+WcqOe6v+ingueciycsXFxcXG4gICAg57q/6LevOiAnYm9keSYmLnRhYi1pdGVtOm5vdCg6aGFzKM6xKSknLFxcXFxuICAgIOmAiembhjogJ2JvZHkmJi5tb2R1bGUtcGxheS1saXN0Om5vdCg6bWF0Y2hlcyjOsSkpJyxcXFxcbiAgICDnur/ot6/lkI3np7A6ICdzcGFuJiZUZXh0QEAucmVwbGFjZSgvLirjgIsoLiopLyxcXFxcXFxcIiQxXFxcXFxcXCIpJyxcXFxcbiAgICDpgInpm4bliJfooag6ICdib2R5JiZhOm5vdCg6bWF0Y2hlcyjlsZXlvIDlhajpg6gpKScsXFxcXG4gICAg5o6S6ZmkOiAnJyxcXFxcbiAgICAvL+mAiembhuWQjeensDogJ1RleHQnLFxcXFxuICAgIC8v6YCJ6ZuG6ZO+5o6lOiAnYSYmaHJlZicsXFxcXG4gICAgLy/lgJLluo86dHJ1ZSxcXFxcbiAgICDop6PmnpA6IGxhenksXFxcXG4gICAg5o6o6YCBOiB0cnVlLFxcXFxufSwge1xcXFxuICAgIOexu+WeizogJ+ejgeWKm+S4i+i9vScsXFxcXG4gICAgLy/nur/ot686ICcnLFxcXFxuICAgIOmAiembhjogJ2JvZHkmJi5zb3J0LWl0ZW1tJyxcXFxcbiAgICAvL+e6v+i3r+WQjeensDogJ1RleHRAQC5yZXBsYWNlKFxcXFxcXFwizrJcXFxcXFxcIixcXFxcXFxcIlxcXFxcXFwiKScsXFxcXG4gICAgLy/pgInpm4bliJfooag6ICd1bCYmbGknLFxcXFxuICAgIOmAiembhuWQjeensDogJ1RleHQnLFxcXFxuICAgIOmAiembhumTvuaOpTogJ2EmJmhyZWYnLFxcXFxuICAgIOagt+W8jzogJ2F2YXRhcicsXFxcXG4gICAg5Zu+5qCHOiAnaHR0cHM6Ly9pbWcudmludWEuY24vaW1hZ2VzL09vejRSLmpwZWcnXFxcXG59XVxcXFxuXFxcXG52YXIgb2JqID0ge1xcXFxuICAgIG1haW46IHBkZmEoaHRtbCwgJ2JvZHkmJi5obC1mdWxsLWJveCYmbGk6bm90KDptYXRjaGVzKOeugOS7iykpJyksXFxcXG4gICAgc29ydDogWyAn5bm05Lu9Jywn5Zyw5Yy6JywgJ+exu+WeiycsJ+abtOaWsO+8micsJ+WvvOa8lCcsICfkuLvmvJQnLCAn5Li75ryUJ10sXFxcXG4gICAgaW1nOiBNWV9QQVJBTVMuaW1nLFxcXFxuLy9wZChodG1sLCAnI2NvdmVyX3Nob3dib3gmJmRhdGEtb3JpZ2luYWwnKSwvL+WwgemdouWbvueJh1xcXFxufVxcXFxuXFxcXG5FcmppLnNldENvbnRlbnQob2JqKTtcXFxcbkVyamkuc2V0RGVzYyhwZGZoKGh0bWwsICcuc2hvdy1kZXNjJiZUZXh0JykucmVwbGFjZSgvKOaUtui1ty4qKS8sJycpKTsvL+WJp+aDheeugOS7i1xcXFxuZXZhbChKU09OLnBhcnNlKGZldGNoKCdoaWtlcjovL3BhZ2UvdG9vbCcsIHt9KSkucnVsZSk7Ly/lpJbpg6jlv6vmjbfmkJzntKJcXFxcbkVyamkuZ2V0UGxheWVycyhwbGF5bGlzdCk7XFxcXG5FcmppLuWjsOaYjigpO1xcXFxuRXJqaS51cGRhdGEoXFxcXFxcXCIn5pyA5paw77yaJytwZGZoKGh0bWwsICcubW9kdWxlLXBsYXktbGlzdCYmYSwtMSYmVGV4dCcpXFxcXFxcXCIpO1xcXFxuXFxcXG5zZXRSZXN1bHQoZClcXFwifSx7XFxcImNvbF90eXBlXFxcIjpcXFwibW92aWVfM1xcXCIsXFxcIm5hbWVcXFwiOlxcXCLikaTmkJzntKLpobXpnaJcXFwiLFxcXCJwYXRoXFxcIjpcXFwic3NcXFwiLFxcXCJydWxlXFxcIjpcXFwianM6XFxcXG52YXIgZCA9IFtdO1xcXFxuXFxcXG5jb25zdCBiYXNlX3VybCA9ICdodHRwOi8vcmVzb3UudG9kYXkvYXJ0LzI5Lmh0bWwnO1xcXFxuXFxcXG5sZXQgdHJ1ZV91cmwgPSBnZXRNeVZhcihNWV9SVUxFLnVybCwgYmFzZV91cmwpO1xcXFxuTVlfVVJMPXRydWVfdXJsO1xcXFxudmFyIGh0bWwgPSBmZXRjaChiYXNlX3VybCwge1xcXFxuICAgIGhlYWRlcnM6IHtcXFxcbiAgICAgICAgJ1VzZXItQWdlbnQnOiBNT0JJTEVfVUFcXFxcbiAgICB9XFxcXG59KTtcXFxcblxcXFxudmFyIEljb25fcHJlZml4ID0gJ2h0dHBzOi8vaGlrZXJmYW5zLmNvbS90dWJpYW8vbW9yZS8nO1xcXFxuXFxcXG5kLnB1c2goe1xcXFxuICAgICAgICAgICAgdGl0bGU6ICfov5Tlm54nLFxcXFxuICAgICAgICAgICAgdXJsOiAkKCkubGF6eVJ1bGUoKCkgPT4ge1xcXFxuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKCk7ICAgICBcXFxcbiAgICAgICAgICAgICAgICBiYWNrKGZhbHNlKVxcXFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXFxcXFxcXCJ0b2FzdDovL+i/lOWbnuinhOWImemmlumhtVxcXFxcXFwiICBcXFxcbiAgICAgICAgICAgIH0pLFxcXFxuICAgICAgICAgICAgcGljX3VybDogSWNvbl9wcmVmaXggKyAnNDcucG5nJysgXFxcXFxcXCJAUmVmZXJlcj1cXFxcXFxcIixcXFxcbiAgICAgICAgICAgIGNvbF90eXBlOiBcXFxcXFxcImljb25fc21hbGxfM1xcXFxcXFwiLFxcXFxuICAgICAgICAgICAgICAgICAgICBcXFxcbiAgICAgICAgfSk7XFxcXG5cXFxcblxcXFxuZC5wdXNoKHtcXFxcbiAgICAgICAgICAgIHRpdGxlOiAn562b6YCJJyxcXFxcbiAgICAgICAgICAgIHVybDogJ2hpa2VyOi8vcGFnZS9zaGFpP3BhZ2U9ZnlwYWdlI25vSGlzdG9yeSMnLFxcXFxuICAgICAgICAgICAgcGljX3VybDogSWNvbl9wcmVmaXggKyAnMjEzLnBuZycgKyBcXFxcXFxcIkBSZWZlcmVyPVxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgY29sX3R5cGU6IFxcXFxcXFwiaWNvbl9zbWFsbF8zXFxcXFxcXCJcXFxcbiAgICAgICAgfSk7XFxcXG5cXFxcbmQucHVzaCh7XFxcXG4gICAgICAgICAgICB0aXRsZTogJ+WOhuWPsicsXFxcXG4gICAgICAgICAgICB1cmw6ICdoaWtlcjovL2hpc3RvcnknLFxcXFxuICAgICAgICAgICAgcGljX3VybDogSWNvbl9wcmVmaXggKyAnMTkyLnBuZycgKyBcXFxcXFxcIkBSZWZlcmVyPVxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgY29sX3R5cGU6IFxcXFxcXFwiaWNvbl9zbWFsbF8zXFxcXFxcXCJcXFxcbiAgICAgICAgfSk7XFxcXG5cXFxcbmQucHVzaCh7XFxcXG4gICAgdGl0bGU6IFxcXFxcXFwi8J+UjVxcXFxcXFwiLFxcXFxuICAgIC8vdXJsOiBcXFxcXFxcIidoaWtlcjovL3NlYXJjaD9zPScraW5wdXQrJyZydWxlPeWuq+S4i+WKqOa8q+KZlCdcXFxcXFxcIixcXFxcbiAgICAgdXJsOiBcXFxcXFxcIidoaWtlcjovL3NlYXJjaD9ydWxlPVxcXFxcXFwiICsgTVlfUlVMRS50aXRsZSArIFxcXFxcXFwiJnM9JytpbnB1dFxcXFxcXFwiLFxcXFxuICAgIGNvbF90eXBlOiBcXFxcXFxcImlucHV0XFxcXFxcXCIsXFxcXG4gICAgZGVzYzogXFxcXFxcXCLmkJzntKLkvaDmg7PopoHnmoTlvbHop4bjgIHliqjmvKvjgIHnu7zoibrnrYkuLi5cXFxcXFxcIixcXFxcbn0pO1xcXFxuICAgIGQucHVzaCh7XFxcXG4gICAgICAgIHRpdGxlOiAnPHNwYW4gc3R5bGU9XFxcXFxcXCJjb2xvcjojZmY2NjAwXFxcXFxcXCI+PGI+XFxcXFxcXFx054Ot5pCc5qacXFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0PC9iPjwvc3Bhbj4nLFxcXFxuICAgICAgICB1cmw6IFxcXFxcXFwiaGlrZXI6Ly9lbXB0eVxcXFxcXFwiLFxcXFxuICAgICAgICBwaWNfdXJsOiAnaHR0cHM6Ly9zczEuYmFpZHUuY29tLzZPTlhzamlwMFFJWjh0eWhucS9pdC91PTM3Nzk5OTAzMjgsMTQxNjU1MzI0MSZmbT0xNzkmYXBwPTM1JmY9UE5HP3c9NjAmaD03MCZzPUU3OTUxQjYyQTQ2MzlEMTUzMjkzQTRFOTAzMDA0MDFCJyxcXFxcbiAgICAgICAgY29sX3R5cGU6ICdpY29uX3NtYWxsXzMnXFxcXG4gICAgfSk7XFxcXG5cXFxcblxcXFxuY29uc3QgbGlzdCA9IHBkZmEoaHRtbCwgJ2JvZHkmJi5hcnQtcmVzb3UmJmxpLDI6Jyk7XFxcXG5saXN0LmZvckVhY2goaXRlbSA9PiB7ICBcXFxcbiAgICBkLnB1c2goe1xcXFxuICAgICAgICB0aXRsZTogcGRmaChpdGVtLCAnc3BhbjplcSgwKSYmVGV4dCcpICsgcGRmaChpdGVtLCAnc3BhbjplcSgxKSYmVGV4dCcpLFxcXFxuICAgICAgICBkZXNjOiBwZGZoKGl0ZW0sICdzcGFuOmVxKDIpJiZUZXh0JyksXFxcXG4gICAgICAgIGltZzogJ2h0dHBzOi8vY2RuLWljb25zLXBuZy5mbGF0aWNvbi5jb20vMTI4LzQ3My80NzM0MDYucG5nJyArIFxcXFxcXFwiQFJlZmVyZXI9aHR0cHM6Ly9pbWc5LmRvdWJhbmlvLmNvbS9cXFxcXFxcIixcXFxcbiAgICAgICAgLy91cmw6ICdoaWtlcjovL3NlYXJjaD9zPScrcGRmaChpdGVtLCAnc3BhbjplcSgxKSYmVGV4dCcpKycmcnVsZT3lrqvkuIvliqjmvKvimZQnLFxcXFxuICAgICAgICAgIHVybDogJ2hpa2VyOi8vc2VhcmNoP3J1bGU9JyArIE1ZX1JVTEUudGl0bGUgKyAnJnM9JytwZGZoKGl0ZW0sICdzcGFuOmVxKDEpJiZUZXh0JyksXFxcXG4gICAgICAgIGNvbF90eXBlOiAnYXZhdGFyJyxcXFxcbiAgICB9KVxcXFxufSlcXFxcblxcXFxuc2V0UmVzdWx0KGQpO1xcXCJ9LHtcXFwiY29sX3R5cGVcXFwiOlxcXCJtb3ZpZV8zXFxcIixcXFwibmFtZVxcXCI6XFxcIuKRoeS4gOe6p+i9ruaSrVxcXCIsXFxcInBhdGhcXFwiOlxcXCJsdW5ib1xcXCIsXFxcInJ1bGVcXFwiOlxcXCJqczpcXFxcbmZ1bmN0aW9uIGJhbm5lcih0aXRsZSwgc3RhcnQsIGFyciwgZGF0YSwgY2ZnKSB7XFxcXG4gICAgbGV0IGlkID0gdGl0bGUgKyAnbHVuYm8nO1xcXFxuICAgIHZhciBybnVtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogZGF0YS5sZW5ndGgpO1xcXFxuICAgIHZhciBpdGVtID0gZGF0YVtybnVtXTtcXFxcbiAgICBwdXRNeVZhcigncm51bScsIHJudW0pO1xcXFxuICAgIGxldCB0aW1lID0gNTAwMDtcXFxcbiAgICBsZXQgY29sX3R5cGUgPSAncGljXzFfY2FyZCc7XFxcXG4gICAgbGV0IGNvbG9yID0gXFxcXFxcXCJ3aGl0ZVxcXFxcXFwiO1xcXFxuICAgIGxldCBkZXNjID0gJyc7XFxcXG4gICAgaWYgKGNmZyAhPSB1bmRlZmluZWQpIHtcXFxcbiAgICAgICAgdGltZSA9IGNmZy50aW1lID8gY2ZnLnRpbWUgOiB0aW1lO1xcXFxuICAgICAgICBjb2xfdHlwZSA9IGNmZy5jb2xfdHlwZSA/IGNmZy5jb2xfdHlwZSA6IGNvbF90eXBlO1xcXFxuICAgICAgICBkZXNjID0gY2ZnLmRlc2MgPyBjZmcuZGVzYyA6IGRlc2M7XFxcXG4gICAgfVxcXFxuXFxcXG4gICAgYXJyLnB1c2goe1xcXFxuICAgICAgICBjb2xfdHlwZTogY29sX3R5cGUsXFxcXG4gICAgICAgIGltZzogaXRlbS5pbWcsXFxcXG4gICAgICAgIGRlc2M6IGRlc2MsXFxcXG4gICAgICAgIHRpdGxlOiBpdGVtLnRpdGxlLFxcXFxuICAgICAgICB1cmw6IGl0ZW0udXJsLFxcXFxuICAgICAgICBleHRyYToge1xcXFxuICAgICAgICAgICAgaWQ6IGlkKydiYXInLFxcXFxuICAgICAgICAgICAgdGl0bGU6IGl0ZW0udGl0bGUsXFxcXG4gICAgICAgICAgICBpbWc6IGl0ZW0uaW1nLFxcXFxuICAgICAgICB9XFxcXG4gICAgfSlcXFxcblxcXFxuICAgIGlmIChzdGFydCA9PSBmYWxzZSB8fCBnZXRNeVZhcignYmVuc3RhcnQnLCAndHJ1ZScpID09ICdmYWxzZScpIHtcXFxcbiAgICAgICAgdW5SZWdpc3RlclRhc2soaWQpXFxcXG4gICAgICAgIHJldHVyblxcXFxuICAgIH1cXFxcbiAgICBcXFxcbiAgICAvL2xvZyhkYXRhKVxcXFxuXFxcXG4gICAgbGV0IG9iaiA9IHtcXFxcbiAgICAgICAgZGF0YTogZGF0YSxcXFxcbiAgICB9O1xcXFxuXFxcXG4gICAgcmVnaXN0ZXJUYXNrKGlkLCB0aW1lLCAkLnRvU3RyaW5nKChvYmosaWQpID0+IHtcXFxcbiAgICAgICAgdmFyIGRhdGEgPSBvYmouZGF0YTtcXFxcbiAgICAgICAgdmFyIHJ1bSA9IGdldE15VmFyKCdybnVtJyk7XFxcXG5cXFxcbiAgICAgICAgdmFyIGkgPSBOdW1iZXIoZ2V0TXlWYXIoJ2Jhbm5lcmknLCAnMCcpKTtcXFxcbiAgICAgICAgaWYgKHJ1bSAhPSAnJykge1xcXFxuICAgICAgICAgICAgaSA9IE51bWJlcihydW0pICsgMVxcXFxuICAgICAgICAgICAgY2xlYXJNeVZhcigncm51bScpXFxcXG4gICAgICAgIH0gZWxzZSB7XFxcXG4gICAgICAgICAgICBpID0gaSArIDE7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgLy9sb2coaSlcXFxcbiAgICAgICAgLy9sb2coZGF0YS5sZW5ndGgpXFxcXG5cXFxcbiAgICAgICAgaWYgKGkgPiBkYXRhLmxlbmd0aCAtIDEpIHtcXFxcbiAgICAgICAgICAgIGkgPSAwXFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgdmFyIGl0ZW0gPSBkYXRhW2ldO1xcXFxuICAgICAgICAvL2xvZyhpdGVtKVxcXFxuICAgICAgICB0cnkge1xcXFxuICAgICAgICAgICAgdXBkYXRlSXRlbShpZCsnYmFyJywge1xcXFxuICAgICAgICAgICAgICAgIHRpdGxlOiBpdGVtLnRpdGxlLFxcXFxuICAgICAgICAgICAgICAgIGltZzogaXRlbS5pbWcsXFxcXG4gICAgICAgICAgICAgICAgdXJsOiBpdGVtLnVybCxcXFxcbiAgICAgICAgICAgICAgICBleHRyYToge1xcXFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogaXRlbS50aXRsZSxcXFxcbiAgICAgICAgICAgICAgICAgICAgaW1nOiBpdGVtLmltZyxcXFxcbiAgICAgICAgICAgICAgICAgICAgLy9uYW1lOiBpdGVtLnRpdGxlLnJlcGxhY2UoLzxbXj5dKz4vZywgJycpLFxcXFxuICAgICAgICAgICAgICAgICAgICAvL3NuYW1lOiBpdGVtLmV4dHJhLnNuYW1lLFxcXFxuICAgICAgICAgICAgICAgICAgICAvL3N0eXBlOiBpdGVtLmV4dHJhLnN0eXBlLFxcXFxuICAgICAgICAgICAgICAgICAgICAvL3N1cmw6IGl0ZW0udXJsLFxcXFxuICAgICAgICAgICAgICAgICAgICAvL2ltZzppdGVtLmltZyxcXFxcbiAgICAgICAgICAgICAgICAgICAgLy9wYWdlVGl0bGU6IGl0ZW0udGl0bGUucmVwbGFjZSgvPFtePl0rPi9nLCAnJyksXFxcXG4gICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgfSlcXFxcbiAgICAgICAgfSBjYXRjaCAoZSkge1xcXFxuICAgICAgICAgICAgbG9nKGUubWVzc2FnZSlcXFxcbiAgICAgICAgICAgIHVuUmVnaXN0ZXJUYXNrKGlkKVxcXFxuICAgICAgICB9XFxcXG4gICAgICAgIHB1dE15VmFyKCdiYW5uZXJpJywgaSk7XFxcXG5cXFxcbiAgICB9LCBvYmosaWQpKVxcXFxufVxcXCJ9LHtcXFwiY29sX3R5cGVcXFwiOlxcXCJtb3ZpZV8zXFxcIixcXFwibmFtZVxcXCI6XFxcIuKRoOS4gOe6p+mhtemdolxcXCIsXFxcInBhdGhcXFwiOlxcXCJ5aVxcXCIsXFxcInJ1bGVcXFwiOlxcXCJ2YXIgSWNvbl9wcmVmaXggPSAnaHR0cHM6Ly9oaWtlcmZhbnMuY29tL3R1Ymlhby9tb3JlLyc7XFxcXG5cXFxcbi8v5Yi35pawICAgICAgIFxcXFxuICAgICAgIGQucHVzaCh7XFxcXG4gICAgICAgICAgICB0aXRsZTogJ+WIt+aWsCcsXFxcXG4gICAgICAgICAgICB1cmw6ICQoKS5sYXp5UnVsZSgoKSA9PiB7XFxcXG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoKTtcXFxcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5Yi35paw5oiQ5YqfJyAgXFxcXG4gICAgICAgICAgICB9KSxcXFxcbiAgICAgICAgICAgIHBpY191cmw6IEljb25fcHJlZml4ICsgJzE0LnBuZycrIFxcXFxcXFwiQFJlZmVyZXI9XFxcXFxcXCIsXFxcXG4gICAgICAgICAgICBjb2xfdHlwZTogXFxcXFxcXCJpY29uXzVcXFxcXFxcIlxcXFxuICAgICAgICB9KTtcXFxcblxcXFxuLy/nrZvpgIlcXFxcbiAgICAgICAgZC5wdXNoKHtcXFxcbiAgICAgICAgICAgIHRpdGxlOiAn562b6YCJJyxcXFxcbiAgICAgICAgICAgIHVybDogJ2hpa2VyOi8vcGFnZS9zaGFpP3BhZ2U9ZnlwYWdlI25vSGlzdG9yeSMnLFxcXFxuICAgICAgICAgICAgcGljX3VybDogSWNvbl9wcmVmaXggKyAnMzEucG5nJyArIFxcXFxcXFwiQFJlZmVyZXI9XFxcXFxcXCIsXFxcXG4gICAgICAgICAgICBjb2xfdHlwZTogXFxcXFxcXCJpY29uXzVcXFxcXFxcIlxcXFxuICAgICAgICB9KTtcXFxcblxcXFxuLy/mkJzntKJcXFxcbiAgICAgICBkLnB1c2goe1xcXFxuICAgICAgICAgICAgdGl0bGU6ICfmkJzntKInLFxcXFxuICAgICAgICAgICAgdXJsOiAnaGlrZXI6Ly9wYWdlL3NzJyxcXFxcbiAgICAgICAgICAgIHBpY191cmw6IEljb25fcHJlZml4ICsgJzcucG5nJyArIFxcXFxcXFwiQFJlZmVyZXI9XFxcXFxcXCIsXFxcXG4gICAgICAgICAgICBjb2xfdHlwZTogXFxcXFxcXCJpY29uXzVcXFxcXFxcIlxcXFxuICAgICAgICB9KTtcXFxcblxcXFxuLy/mm7TmlrBcXFxcbiAgZC5wdXNoKHtcXFxcbiAgICAgICAgICAgIHRpdGxlOiAn5pu05pawJyxcXFxcbiAgICAgICAgICAgIHVybDogJ2hpa2VyOi8vcGFnZS9neHgnLFxcXFxuICAgICAgICAgICAgcGljX3VybDogSWNvbl9wcmVmaXggKyAnMjc3LnBuZycgKyBcXFxcXFxcIkBSZWZlcmVyPVxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgY29sX3R5cGU6IFxcXFxcXFwiaWNvbl81XFxcXFxcXCJcXFxcbiAgICAgICAgfSk7XFxcXG5cXFxcbi8v5YiH5o2iXFxcXG5jb25zdCBmb2xkID0gZ2V0TXlWYXIoJ2xpZS5ncm91cCcsIFxcXFxcXFwiMVxcXFxcXFwiKVxcXFxuZC5wdXNoKHtcXFxcbiAgICAgICAgICAgIHRpdGxlOiAn5YiH5o2iJyxcXFxcbiAgICAgICAgICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoZm9sZCkgPT4ge1xcXFxuICAgICAgICAgICAgICAgIHB1dE15VmFyKCdsaWUuZ3JvdXAnLCBmb2xkID09PSAnMScgPyAnMCcgOiAnMScpO1xcXFxuXFxcXG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xcXFxuICAgICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwiaGlrZXI6Ly9lbXB0eVxcXFxcXFwiXFxcXG4gICAgICAgICAgICB9LCBmb2xkKSxcXFxcbiAgICAgICAgICAgIGNvbF90eXBlOiAnaWNvbl81JyxcXFxcbiAgICAgICAgICAgIHBpY191cmw6IEljb25fcHJlZml4ICsgJzIwMC5wbmcnICsgXFxcXFxcXCJAUmVmZXJlcj1cXFxcXFxcIixcXFxcbiAgICAgICAgfSk7XFxcXG4vKlxcXFxuZC5wdXNoKHtcXFxcbiAgICAgICAgICAgIGNvbF90eXBlOiBcXFxcXFxcImxpbmVcXFxcXFxcIlxcXFxuICAgICAgICB9KTsqL1xcXFxuZC5wdXNoKHtcXFxcbiAgICAgICAgICAgIGNvbF90eXBlOiBcXFxcXFxcImJpZ19ibGFua19ibG9ja1xcXFxcXFwiXFxcXG4gICAgICAgIH0pO1xcXFxuXFxcXG4vL+i9ruaSrVxcXFxudmFyIGx1bmRhdGEgPSBwZGZhKGh0bWwsIOi9ruaSreWIl+ihqCkubWFwKCh4KSA9PiB7XFxcXG4gICAgLy9sb2coeClcXFxcbiAgICAgICAgdmFyIHVybGwgPSBwZCh4LCDova7mkq3pk77mjqUpICsgJyNpbW1lcnNpdmVUaGVtZSMnO1xcXFxuICAgIHJldHVybiB7XFxcXG4gICAgICAgIHRpdGxlOiBwZGZoKHgsIOi9ruaSreagh+mimCksXFxcXG4gICAgICAgIGltZzogcGQoeCwg6L2u5pKt5Zu+54mHKSArICdAUmVmZXJlcj0nLFxcXFxuICAgICAgICB1cmw6ICdoaWtlcjovL3BhZ2UvZWo/dXJsPScrdXJsbCsnI25vSGlzdG9yeSMnLFxcXFxuICAgIH1cXFxcbn0pO1xcXFxuZXZhbChKU09OLnBhcnNlKGZldGNoKFxcXFxcXFwiaGlrZXI6Ly9wYWdlL2x1bmJvXFxcXFxcXCIsIHt9KSkucnVsZSk7XFxcXG5iYW5uZXIoTVlfUlVMRS50aXRsZSwgdHJ1ZSwgZCwgbHVuZGF0YSwge1xcXFxuICAgICAgICB0aW1lOiA1MDAwLFxcXFxuICAgICAgICBjb2xfdHlwZTogJ2NhcmRfcGljXzEnLFxcXFxuICAgICAgICBkZXNjOiAnMCdcXFxcbiAgICB9KVxcXFxuXFxcXG5cXFwifSx7XFxcImNvbF90eXBlXFxcIjpcXFwibW92aWVfM1xcXCIsXFxcIm5hbWVcXFwiOlxcXCLikaLkuIDnuqflkajooahcXFwiLFxcXCJwYXRoXFxcIjpcXFwid2Vla1xcXCIsXFxcInJ1bGVcXFwiOlxcXCIvL+WRqOihqFxcXFxuaWYgKGZvbGQgPT09IDApIHtcXFxcbmQucHVzaCh7IFxcXFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiBcXFxcXFxcImJsYW5rX2Jsb2NrXFxcXFxcXCJcXFxcbiAgICAgICAgICAgIH0pO1xcXFxuICAgICAgICB9IGVsc2UgaWYgKGZvbGQgPT09ICcxJykge1xcXFxudmFyIHdlZWtzID0gbmV3IEFycmF5KFxcXFxcXFwi5ZGo5LiAXFxcXFxcXCIsIFxcXFxcXFwi5ZGo5LqMXFxcXFxcXCIsIFxcXFxcXFwi5ZGo5LiJXFxcXFxcXCIsIFxcXFxcXFwi5ZGo5ZubXFxcXFxcXCIsIFxcXFxcXFwi5ZGo5LqUXFxcXFxcXCIsIFxcXFxcXFwi5ZGo5YWtXFxcXFxcXCIsXFxcXFxcXCLlkajml6VcXFxcXFxcIik7XFxcXG5cXFxcbmZ1bmN0aW9uIGdldFdlZWtEYXRlKCkge1xcXFxuICAgIHZhciBub3cgPSBuZXcgRGF0ZSgpO1xcXFxuICAgIHZhciBkYXkgPSBub3cuZ2V0RGF5KCk7XFxcXG4gICAgdmFyIHdlZWsgPSB3ZWVrc1tkYXldO1xcXFxuICAgIC8vbG9nKHdlZWspXFxcXG4gICAgcmV0dXJuIHdlZWs7XFxcXG59XFxcXG5sZXQgbm93X1dlZWsgPSBnZXRXZWVrRGF0ZSgpO1xcXFxuLy9sb2cobm93X1dlZWspO1xcXFxuICAgIHdlZWtzLmZvckVhY2goaXQgPT4ge1xcXFxuICAgICAgICBkLnB1c2goe1xcXFxuICAgICAgICAgICAgdGl0bGU6IGdldE15VmFyKCd3ZWVrJywgbm93X1dlZWspID09PSBpdCA/ICfimIAnICsgJ+KAnOKAnOKAneKAnTxiPjxmb250IGNvbG9yPSNGQTcyOTg+JyArIGl0ICsgJzwvZm9udD48L2I+JyA6IGl0LnJlcGxhY2UoJ+WRqCcsJycpLFxcXFxuICAgICAgICAgICAgdXJsOiAkKCcjbm9Mb2FkaW5nIyNub0hpc3RvcnkjJykubGF6eVJ1bGUoKGl0KSA9PiB7XFxcXG4gICAgICAgICAgICAgICAgcHV0TXlWYXIoXFxcXFxcXCJ3ZWVrXFxcXFxcXCIsIGl0KTtcXFxcbiAgICAgICAgICAgICAgICByZWZyZXNoUGFnZSgpO1xcXFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFxcXFxcImhpa2VyOi8vZW1wdHlcXFxcXFxcIlxcXFxuICAgICAgICAgICAgfSwgaXQpLFxcXFxuICAgICAgICAgICAgY29sX3R5cGU6IFxcXFxcXFwic2Nyb2xsX2J1dHRvblxcXFxcXFwiXFxcXG4gICAgICAgIH0pO1xcXFxuICAgIH0pXFxcXG5cXFxcbmxldCBjaG9zZV93ZWVrID0gZ2V0TXlWYXIoJ3dlZWsnLCBub3dfV2Vlayk7XFxcXG52YXIgd2tUb251bSA9IGZ1bmN0aW9uKHdrKSB7XFxcXG4gICAgICAgIGlmICgv5ZGofOaYn+acny8udGVzdCh3aykpIHtcXFxcbiAgICAgICAgICAgIHdrID0gd2sucmVwbGFjZSgv5ZGofOaYn+acny8sIFxcXFxcXFwiXFxcXFxcXCIpXFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgdmFyIG1hcCA9IHtcXFxcbiAgICAgICAgICAgIFxcXFxcXFwi5pelXFxcXFxcXCI6IDYsXFxcXG4gICAgICAgICAgICBcXFxcXFxcIuS4gFxcXFxcXFwiOiAwLFxcXFxuICAgICAgICAgICAgXFxcXFxcXCLkuoxcXFxcXFxcIjogMSxcXFxcbiAgICAgICAgICAgIFxcXFxcXFwi5LiJXFxcXFxcXCI6IDIsXFxcXG4gICAgICAgICAgICBcXFxcXFxcIuWbm1xcXFxcXFwiOiAzLFxcXFxuICAgICAgICAgICAgXFxcXFxcXCLkupRcXFxcXFxcIjogNCxcXFxcbiAgICAgICAgICAgIFxcXFxcXFwi5YWtXFxcXFxcXCI6IDVcXFxcbiAgICAgICAgfTtcXFxcbiAgICAgICAgcmV0dXJuIG1hcFt3a11cXFxcbiAgICB9XFxcXG4gICAgbGV0IHdrX251bSA9IHdrVG9udW0oY2hvc2Vfd2Vlayk7XFxcXG4vL2xvZyh3a19udW0pXFxcXG5mb3IgKHZhciBrID0gMDsgayA8PSA2OyBrKyspIHtcXFxcbiAgICBldmFsKCd2YXIgd2snICsgayArICc9cGRmYShodG1sLCBcXFxcXFxcImJvZHkmJi50YWItbGlzdCwnICsgKGs9PTA/MDprKSArICcmJi5tb2R1bGUtaXRlbSwwOjEyXFxcXFxcXCIpOycpOy8v5pif5pyf5YiX6KGoXFxcXG4gICAgaWYgKHdrX251bSA9PSBrKSB7XFxcXG4gICAgICAgIGV2YWwoJ3drJytrKS5mb3JFYWNoKGl0ZW0gPT4ge1xcXFxuICAgICAgICAgICAgdmFyIHVybGwgPSBNWV9IT01FICsgcGRmaChpdGVtLCAnYSYmaHJlZicpICsgJyNpbW1lcnNpdmVUaGVtZSMnO1xcXFxuICAgICAgICAgICAgZC5wdXNoKHtcXFxcbiAgICAgICAgICAgICAgICB0aXRsZTogcGRmaChpdGVtLCDmoIfpopgpLFxcXFxuICAgICAgICAgICAgICAgIGRlc2M6IHBkZmgoaXRlbSwg5o+P6L+wKSxcXFxcbiAgICAgICAgICAgICAgICBpbWc6IHBkZmgoaXRlbSwg5Zu+54mHKSArIFxcXFxcXFwiQFJlZmVyZXI9XFxcXFxcXCIsXFxcXG4gICAgICAgICAgICAgICAgdXJsOiAnaGlrZXI6Ly9wYWdlL2VqI25vSGlzdG9yeSMjaW1tZXJzaXZlVGhlbWUjJyxcXFxcbiAgICAgICAgICAgICAgICBleHRyYToge1xcXFxuICAgICAgICAgICAgICAgICAgICB1cmw6IHVybGwsXFxcXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBwZGZoKGl0ZW0sIOagh+mimCksXFxcXG4gICAgICAgICAgICAgICAgICAgIGltZzogcGRmaChpdGVtLCDlm77niYcpICsgXFxcXFxcXCJAUmVmZXJlcj1cXFxcXFxcIixcXFxcbiAgICAgICAgICAgICAgICB9LFxcXFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiAnbW92aWVfMycsXFxcXG4gICAgICAgICAgICB9KTtcXFxcbiAgICAgICAgfSlcXFxcbiAgICB9ICAgIFxcXFxufVxcXFxuZC5wdXNoKHtcXFxcbiAgICAgICAgICAgICAgICBjb2xfdHlwZTogXFxcXFxcXCJibGFua19ibG9ja1xcXFxcXFwiXFxcXG4gICAgICAgICAgICB9KTtcXFxcbiAgICAgICAgfVxcXFxuXFxcIn0se1xcXCJjb2xfdHlwZVxcXCI6XFxcIm1vdmllXzNcXFwiLFxcXCJuYW1lXFxcIjpcXFwi4pGj5LiA57qn5o6o6I2QXFxcIixcXFwicGF0aFxcXCI6XFxcInRqXFxcIixcXFwicnVsZVxcXCI6XFxcIlxcXFxuY29uc3QgZm9sZDIgPSBnZXRNeVZhcignaGouZ3JvdXAnLCBcXFxcXFxcIjFcXFxcXFxcIilcXFxcbmQucHVzaCh7XFxcXG4gICAgdGl0bGU6Zm9sZDIgPT09ICcxJyA/ICc8Yj48c3BhbiBzdHlsZT1cXFxcXFxcImNvbG9yOiAjZmY4NDdjXFxcXFxcXCI+55S15b2xXFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx08J+Skzwvc3Bhbj48L2I+JyA6ICfnlLXlvbFcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHTwn5KXJyxcXFxcbiAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKGZvbGQyKSA9PiB7XFxcXG4gICAgICAgICAgICAgICAgcHV0TXlWYXIoJ2hqLmdyb3VwJywgZm9sZDIgPT09ICcxJyA/ICcwJyA6ICcxJyk7XFxcXG4gICAgICAgICAgICAgICAgcmVmcmVzaFBhZ2UoZmFsc2UpO1xcXFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFxcXFxcImhpa2VyOi8vZW1wdHlcXFxcXFxcIlxcXFxuICAgICAgICAgICAgfSwgZm9sZDIpLFxcXFxuICAgIHBpY191cmw6ICdodHRwczovL2hpa2VyZmFucy5jb20vdHViaWFvL2tlLzQwLnBuZycgKyBcXFxcXFxcIkBSZWZlcmVyPVxcXFxcXFwiLFxcXFxuICAgIGNvbF90eXBlOiBcXFxcXFxcImF2YXRhclxcXFxcXFwiXFxcXG59KTtcXFxcbmlmIChmb2xkMiA9PT0gMCkge1xcXFxuZC5wdXNoKHsgXFxcXG4gICAgICAgICAgICAgICAgY29sX3R5cGU6IFxcXFxcXFwiYmxhbmtfYmxvY2tcXFxcXFxcIixcXFxcbiAgICAgICAgICAgIH0pO1xcXFxuICAgICAgICB9IGVsc2UgaWYgKGZvbGQyID09PSAnMScpIHtcXFxcbnZhciB4ZGhqPXBkZmEoaHRtbCwg5o6o6I2Q5YiX6KGoMik7XFxcXG54ZGhqLmZvckVhY2goaXRlbSA9PiB7ICBcXFxcbnZhciB1cmxsID0gcGQoaXRlbSwg6ZO+5o6lKSArICcjaW1tZXJzaXZlVGhlbWUjJztcXFxcbiAgICBkLnB1c2goe1xcXFxuICAgICAgICB0aXRsZTogcGRmaChpdGVtLCDmoIfpopgpLFxcXFxuICAgICAgICBkZXNjOiBwZGZoKGl0ZW0sIOaPj+i/sCksXFxcXG4gICAgICAgIGltZzogcGQoaXRlbSwg5Zu+54mHKSArIFxcXFxcXFwiQFJlZmVyZXI9XFxcXFxcXCIsXFxcXG4gICAgICAgIHVybDogJ2hpa2VyOi8vcGFnZS9laiNub0hpc3RvcnkjI2ltbWVyc2l2ZVRoZW1lIycsXFxcXG4gICAgICAgIGV4dHJhOiB7XFxcXG4gICAgICAgICAgICB1cmw6IHVybGwsXFxcXG4gICAgICAgICAgICB0aXRsZTogcGRmaChpdGVtLCDmoIfpopgpLFxcXFxuICAgICAgICAgICAgaW1nOiBwZChpdGVtLCDlm77niYcpICsgXFxcXFxcXCJAUmVmZXJlcj1cXFxcXFxcIixcXFxcbiAgICAgICAgICAgICAgIH0sXFxcXG4gICAgICAgIGNvbF90eXBlOiAnbW92aWVfMycsXFxcXG4gICAgfSk7XFxcXG59KVxcXFxufVxcXFxuXFxcXG5jb25zdCBmb2xkMyA9IGdldE15VmFyKCdzeC5ncm91cCcsIFxcXFxcXFwiMVxcXFxcXFwiKVxcXFxuZC5wdXNoKHtcXFxcbiAgICB0aXRsZTpmb2xkMyA9PT0gJzEnID8gJzxiPjxzcGFuIHN0eWxlPVxcXFxcXFwiY29sb3I6ICNGQTcyOThcXFxcXFxcIj7liafpm4ZcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHTwn4y4PC9zcGFuPjwvYj4nIDogJ+WJp+mbhlxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdPCfkq4nLFxcXFxuICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoZm9sZDMpID0+IHtcXFxcbiAgICAgICAgICAgICAgICBwdXRNeVZhcignc3guZ3JvdXAnLCBmb2xkMyA9PT0gJzEnID8gJzAnIDogJzEnKTtcXFxcbiAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwiaGlrZXI6Ly9lbXB0eVxcXFxcXFwiXFxcXG4gICAgICAgICAgICB9LCBmb2xkMyksXFxcXG4gICAgcGljX3VybDogJ2h0dHBzOi8vaGlrZXJmYW5zLmNvbS90dWJpYW8va2UvNjMucG5nJyArIFxcXFxcXFwiQFJlZmVyZXI9XFxcXFxcXCIsXFxcXG4gICAgY29sX3R5cGU6IFxcXFxcXFwiYXZhdGFyXFxcXFxcXCJcXFxcbn0pO1xcXFxuaWYgKGZvbGQzID09PSAwKSB7XFxcXG5kLnB1c2goeyBcXFxcbiAgICAgICAgICAgICAgICBjb2xfdHlwZTogXFxcXFxcXCJibGFua19ibG9ja1xcXFxcXFwiXFxcXG4gICAgICAgICAgICB9KTtcXFxcbiAgICAgICAgfSBlbHNlIGlmIChmb2xkMyA9PT0gJzEnKSB7XFxcXG52YXIgampzeD1wZGZhKGh0bWwsIOaOqOiNkOWIl+ihqDMpO1xcXFxuampzeC5mb3JFYWNoKGl0ZW0gPT4geyAgXFxcXG52YXIgdXJsbCA9IHBkKGl0ZW0sIOmTvuaOpSkgKyAnI2ltbWVyc2l2ZVRoZW1lIyc7XFxcXG4gICAgZC5wdXNoKHtcXFxcbiAgICAgICAgdGl0bGU6IHBkZmgoaXRlbSwg5qCH6aKYKSxcXFxcbiAgICAgICAgZGVzYzogcGRmaChpdGVtLCDmj4/ov7ApLFxcXFxuICAgICAgICBpbWc6IHBkKGl0ZW0sIOWbvueJhykgKyBcXFxcXFxcIkBSZWZlcmVyPVxcXFxcXFwiLFxcXFxuICAgICAgICB1cmw6ICdoaWtlcjovL3BhZ2UvZWojbm9IaXN0b3J5IyNpbW1lcnNpdmVUaGVtZSMnLFxcXFxuICAgICAgICBleHRyYToge1xcXFxuICAgICAgICAgICAgIHVybDogdXJsbCxcXFxcbiAgICAgICAgICAgICB0aXRsZTogcGRmaChpdGVtLCDmoIfpopgpLFxcXFxuICAgICAgICAgICAgIGltZzogcGQoaXRlbSwg5Zu+54mHKSArIFxcXFxcXFwiQFJlZmVyZXI9XFxcXFxcXCIsXFxcXG4gICAgICAgICAgICAgICAgfSxcXFxcbiAgICAgICAgY29sX3R5cGU6ICdtb3ZpZV8zJyxcXFxcbiAgICB9KTtcXFxcbn0pXFxcXG59XFxcXG5cXFxcbmNvbnN0IGZvbGQ0ID0gZ2V0TXlWYXIoJ3p5Lmdyb3VwJywgXFxcXFxcXCIxXFxcXFxcXCIpXFxcXG5kLnB1c2goe1xcXFxuICAgIHRpdGxlOmZvbGQ0ID09PSAnMScgPyAnPGI+PHNwYW4gc3R5bGU9XFxcXFxcXCJjb2xvcjogI0ZBNzI5OFxcXFxcXFwiPuWKqOa8q1xcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdPCflK48L3NwYW4+PC9iPicgOiAn5Yqo5ryrXFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx08J+SnScsXFxcXG4gICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChmb2xkNCkgPT4ge1xcXFxuICAgICAgICAgICAgICAgIHB1dE15VmFyKCd6eS5ncm91cCcsIGZvbGQ0ID09PSAnMScgPyAnMCcgOiAnMScpO1xcXFxuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcXFxcbiAgICAgICAgICAgICAgICByZXR1cm4gXFxcXFxcXCJoaWtlcjovL2VtcHR5XFxcXFxcXCJcXFxcbiAgICAgICAgICAgIH0sIGZvbGQ0KSxcXFxcbiAgICBwaWNfdXJsOiAnaHR0cHM6Ly9oaWtlcmZhbnMuY29tL3R1Ymlhby9rZS83MC5wbmcnICsgXFxcXFxcXCJAUmVmZXJlcj1cXFxcXFxcIixcXFxcbiAgICBjb2xfdHlwZTogXFxcXFxcXCJhdmF0YXJcXFxcXFxcIlxcXFxufSk7XFxcXG5pZiAoZm9sZDQgPT09IDApIHtcXFxcbmQucHVzaCh7IFxcXFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiBcXFxcXFxcImJsYW5rX2Jsb2NrXFxcXFxcXCJcXFxcbiAgICAgICAgICAgIH0pO1xcXFxuICAgICAgICB9IGVsc2UgaWYgKGZvbGQ0ID09PSAnMScpIHtcXFxcbnZhciBqanp5PXBkZmEoaHRtbCwg5o6o6I2Q5YiX6KGoNCk7XFxcXG5qanp5LmZvckVhY2goaXRlbSA9PiB7ICBcXFxcbnZhciB1cmxsID0gcGQoaXRlbSwg6ZO+5o6lKSArICcjaW1tZXJzaXZlVGhlbWUjJztcXFxcbiAgICBkLnB1c2goe1xcXFxuICAgICAgICB0aXRsZTogcGRmaChpdGVtLCDmoIfpopgpLFxcXFxuICAgICAgICBkZXNjOiBwZGZoKGl0ZW0sIOaPj+i/sCksXFxcXG4gICAgICAgIGltZzogcGQoaXRlbSwg5Zu+54mHKSArIFxcXFxcXFwiQFJlZmVyZXI9XFxcXFxcXCIsXFxcXG4gICAgICAgIHVybDogJ2hpa2VyOi8vcGFnZS9laiNub0hpc3RvcnkjI2ltbWVyc2l2ZVRoZW1lIycsXFxcXG4gICAgICAgIGV4dHJhOiB7XFxcXG4gICAgICAgICAgICAgdXJsOiB1cmxsLFxcXFxuICAgICAgICAgICAgIHRpdGxlOiBwZGZoKGl0ZW0sIOagh+mimCksXFxcXG4gICAgICAgICAgICAgaW1nOiBwZChpdGVtLCDlm77niYcpICsgXFxcXFxcXCJAUmVmZXJlcj1cXFxcXFxcIixcXFxcbiAgICAgICAgICAgICAgICB9LFxcXFxuICAgICAgICBjb2xfdHlwZTogJ21vdmllXzMnLFxcXFxuICAgIH0pO1xcXFxufSlcXFxcbn1cXFxcblxcXFxuY29uc3QgZm9sZDUgPSBnZXRNeVZhcignZG0uZ3JvdXAnLCBcXFxcXFxcIjFcXFxcXFxcIilcXFxcbmQucHVzaCh7XFxcXG4gICAgdGl0bGU6Zm9sZDUgPT09ICcxJyA/ICc8Yj48c3BhbiBzdHlsZT1cXFxcXFxcImNvbG9yOiAjRkE3Mjk4XFxcXFxcXCI+57u86Im6XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx04o+wPC9zcGFuPjwvYj4nIDogJ+e7vOiJulxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdPCfkpgnLFxcXFxuICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoZm9sZDUpID0+IHtcXFxcbiAgICAgICAgICAgICAgICBwdXRNeVZhcignZG0uZ3JvdXAnLCBmb2xkNSA9PT0gJzEnID8gJzAnIDogJzEnKTtcXFxcbiAgICAgICAgICAgICAgICByZWZyZXNoUGFnZShmYWxzZSk7XFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwiaGlrZXI6Ly9lbXB0eVxcXFxcXFwiXFxcXG4gICAgICAgICAgICB9LCBmb2xkNSksXFxcXG4gICAgcGljX3VybDogJ2h0dHBzOi8vaGlrZXJmYW5zLmNvbS90dWJpYW8va2UvMTE4LnBuZycgKyBcXFxcXFxcIkBSZWZlcmVyPVxcXFxcXFwiLFxcXFxuICAgIGNvbF90eXBlOiBcXFxcXFxcImF2YXRhclxcXFxcXFwiXFxcXG59KTtcXFxcbmlmIChmb2xkNSA9PT0gMCkge1xcXFxuZC5wdXNoKHsgXFxcXG4gICAgICAgICAgICAgICAgY29sX3R5cGU6IFxcXFxcXFwiYmxhbmtfYmxvY2tcXFxcXFxcIlxcXFxuICAgICAgICAgICAgfSk7XFxcXG4gICAgICAgIH0gZWxzZSBpZiAoZm9sZDUgPT09ICcxJykge1xcXFxudmFyIGpqZG09cGRmYShodG1sLCDmjqjojZDliJfooag1KTtcXFxcbmpqZG0uZm9yRWFjaChpdGVtID0+IHsgIFxcXFxudmFyIHVybGwgPSBwZChpdGVtLCDpk77mjqUpICsgJyNpbW1lcnNpdmVUaGVtZSMnO1xcXFxuICAgIGQucHVzaCh7XFxcXG4gICAgICAgIHRpdGxlOiBwZGZoKGl0ZW0sIOagh+mimCksXFxcXG4gICAgICAgIGRlc2M6IHBkZmgoaXRlbSwg5o+P6L+wKSxcXFxcbiAgICAgICAgaW1nOiBwZChpdGVtLCDlm77niYcpICsgXFxcXFxcXCJAUmVmZXJlcj1cXFxcXFxcIixcXFxcbiAgICAgICAgdXJsOiAnaGlrZXI6Ly9wYWdlL2VqI25vSGlzdG9yeSMjaW1tZXJzaXZlVGhlbWUjJyxcXFxcbiAgICAgICAgZXh0cmE6IHtcXFxcbiAgICAgICAgICAgICB1cmw6IHVybGwsXFxcXG4gICAgICAgICAgICAgdGl0bGU6IHBkZmgoaXRlbSwg5qCH6aKYKSxcXFxcbiAgICAgICAgICAgICBpbWc6IHBkKGl0ZW0sIOWbvueJhykgKyBcXFxcXFxcIkBSZWZlcmVyPVxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgICAgIH0sXFxcXG4gICAgICAgIGNvbF90eXBlOiAnbW92aWVfMycsXFxcXG4gICAgfSk7XFxcXG59KVxcXFxufVxcXFxuXFxcXG5jb25zdCBmb2xkMSA9IGdldE15VmFyKCdyYi5ncm91cCcsIFxcXFxcXFwiMVxcXFxcXFwiKVxcXFxuZC5wdXNoKHtcXFxcbiAgICB0aXRsZTpmb2xkMSA9PT0gJzEnID8gJzxiPjxzcGFuIHN0eWxlPVxcXFxcXFwiY29sb3I6ICNmNzM4NTlcXFxcXFxcIj7nuqrlvZXniYdcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHRcXFxcXFxcXHTwn42APC9zcGFuPjwvYj4nIDogJ+e6quW9leeJh1xcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdFxcXFxcXFxcdOKYmO+4jycsXFxcXG4gICAgdXJsOiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChmb2xkMSkgPT4ge1xcXFxuICAgICAgICAgICAgICAgIHB1dE15VmFyKCdyYi5ncm91cCcsIGZvbGQxID09PSAnMScgPyAnMCcgOiAnMScpO1xcXFxuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcXFxcbiAgICAgICAgICAgICAgICByZXR1cm4gXFxcXFxcXCJoaWtlcjovL2VtcHR5XFxcXFxcXCJcXFxcbiAgICAgICAgICAgIH0sIGZvbGQxKSxcXFxcbiAgICBwaWNfdXJsOiAnaHR0cHM6Ly9oaWtlcmZhbnMuY29tL3R1Ymlhby9rZS8xMjAucG5nJyxcXFxcbiAgICBjb2xfdHlwZTogXFxcXFxcXCJhdmF0YXJcXFxcXFxcIlxcXFxufSk7XFxcXG5pZiAoZm9sZDEgPT09IDApIHtcXFxcbmQucHVzaCh7IFxcXFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiBcXFxcXFxcImJsYW5rX2Jsb2NrXFxcXFxcXCJcXFxcbiAgICAgICAgICAgIH0pO1xcXFxuICAgICAgICB9IGVsc2UgaWYgKGZvbGQxID09PSAnMScpIHtcXFxcbnZhciB6enJiPXBkZmEoaHRtbCwg5o6o6I2Q5YiX6KGoMSk7XFxcXG56enJiLmZvckVhY2goaXRlbSA9PiB7ICBcXFxcbnZhciB1cmxsID0gcGQoaXRlbSwg6ZO+5o6lKSArICcjaW1tZXJzaXZlVGhlbWUjJztcXFxcbiAgICBkLnB1c2goe1xcXFxuICAgICAgICB0aXRsZTogcGRmaChpdGVtLCDmoIfpopgpLFxcXFxuICAgICAgICBkZXNjOiBwZGZoKGl0ZW0sIOaPj+i/sCksXFxcXG4gICAgICAgIGltZzogcGQoaXRlbSwg5Zu+54mHKSArIFxcXFxcXFwiQFJlZmVyZXI9XFxcXFxcXCIsXFxcXG4gICAgICAgIHVybDogJ2hpa2VyOi8vcGFnZS9laiNub0hpc3RvcnkjI2ltbWVyc2l2ZVRoZW1lIycsXFxcXG4gICAgICAgIGV4dHJhOiB7XFxcXG4gICAgICAgICAgICB1cmw6IHVybGwsXFxcXG4gICAgICAgICAgICB0aXRsZTogcGRmaChpdGVtLCDmoIfpopgpLFxcXFxuICAgICAgICAgICAgaW1nOiBwZChpdGVtLCDlm77niYcpICsgXFxcXFxcXCJAUmVmZXJlcj1cXFxcXFxcIixcXFxcbiAgICAgICAgICAgICAgIH0sXFxcXG4gICAgICAgIGNvbF90eXBlOiAnbW92aWVfMycsXFxcXG4gICAgICAgfSk7XFxcXG4gICB9KVxcXFxufVxcXFxuXFxcIn0se1xcXCJjb2xfdHlwZVxcXCI6XFxcIm1vdmllXzNcXFwiLFxcXCJuYW1lXFxcIjpcXFwi4pGl5pu05paw6aG16Z2iXFxcIixcXFwicGF0aFxcXCI6XFxcImd4XFxcIixcXFwicnVsZVxcXCI6XFxcImpzOlxcXFxudmFyIGQgPSBbXTtcXFxcbmNvbnN0IGJhc2VfdXJsID0gJ2h0dHBzOi8vd3d3LnN1eWluZy5saS8nO1xcXFxuXFxcXG5sZXQgdHJ1ZV91cmwgPSBnZXRNeVZhcihNWV9SVUxFLnVybCwgYmFzZV91cmwpO1xcXFxuTVlfVVJMPXRydWVfdXJsO1xcXFxudmFyIGh0bWw9ZmV0Y2godHJ1ZV91cmwpXFxcXG4vL2xvZyhodG1sKVxcXFxuXFxcXG5kLnB1c2goe1xcXFxuICAgIHRpdGxlOic8Yj48c3BhbiBzdHlsZT1cXFxcXFxcImNvbG9yOiAjRkE3Mjk4XFxcXFxcXCI+5pyA6L+R5pu05pawXFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx0XFxcXFxcXFx08J+MuPCfjLjwn4y48J+MuPCfjLg8L3NwYW4+PC9iPicsXFxcXG4gICAgdXJsOiBcXFxcXFxcImhpa2VyOi8vZW1wdHlcXFxcXFxcIixcXFxcbiAgICBwaWNfdXJsOiAnaHR0cHM6Ly9oaWtlcmZhbnMuY29tL3R1Ymlhby9rZS82My5wbmcnICsgXFxcXFxcXCJAUmVmZXJlcj1cXFxcXFxcIixcXFxcbiAgICBjb2xfdHlwZTogXFxcXFxcXCJhdmF0YXJcXFxcXFxcIlxcXFxufSk7XFxcXG5cXFxcbmNvbnN0IGxpc3QgPSBwZGZhKGh0bWwsICdib2R5JiYubW9kdWxlLW1haW4sMCYmLm1vZHVsZS1pdGVtJyk7XFxcXG5saXN0LmZvckVhY2goaXRlbSA9PiB7ICBcXFxcbnZhciB0aXRsZSA9IHBkZmgoaXRlbSwgJ2EmJnRpdGxlJyk7XFxcXG52YXIgZGVzYyA9IHBkZmgoaXRlbSwgJy5tb2R1bGUtaXRlbS1ub3RlJiZUZXh0Jyk7XFxcXG52YXIgaW1nID0gcGQoaXRlbSwgJ2ltZ3x8LmxhenkmJmRhdGEtc3JjfHxkYXRhLW9yaWdpbmFsJykgKyBcXFxcXFxcIkBSZWZlcmVyPVxcXFxcXFwiO1xcXFxudmFyIHVybGwgPSBwZChpdGVtLCAnYSYmaHJlZicpICsgJyNpbW1lcnNpdmVUaGVtZSMnO1xcXFxuICAgIGQucHVzaCh7XFxcXG4gICAgICAgIHRpdGxlOiB0aXRsZSxcXFxcbiAgICAgICAgZGVzYzogZGVzYyxcXFxcbiAgICAgICAgaW1nOiBpbWcsXFxcXG4gICAgICAgIHVybDogJ2hpa2VyOi8vcGFnZS9laiNub0hpc3RvcnkjI2ltbWVyc2l2ZVRoZW1lIycsXFxcXG4gICAgICAgIGV4dHJhOiB7XFxcXG4gICAgICAgICAgICB1cmw6IHVybGwsXFxcXG4gICAgICAgICAgICB0aXRsZTogdGl0bGUsXFxcXG4gICAgICAgICAgICBpbWc6IGltZyxcXFxcbiAgICAgICAgICAgICAgIH0sXFxcXG4gICAgICAgIGNvbF90eXBlOiAnbW92aWVfM19tYXJxdWVlJyxcXFxcbiAgICB9KVxcXFxufSlcXFxcblxcXFxuc2V0UmVzdWx0KGQpO1xcXCJ9LHtcXFwiY29sX3R5cGVcXFwiOlxcXCJtb3ZpZV8zXFxcIixcXFwibmFtZVxcXCI6XFxcIuKTteS6jOe6p+WGheWuuVxcXCIsXFxcInBhdGhcXFwiOlxcXCJlclxcXCIsXFxcInJ1bGVcXFwiOlxcXCJqczpcXFxcbi8qdmVyIDIwMjMwODE4IDEuMFxcXFxuICovXFxcXG52YXIgY3VzdG9tID0ge307XFxcXG5cXFxcbi8v6aKE6K6+XFxcXG5mdW5jdGlvbiBjdXN0b21EYXRhKGN1c3RvbSkge1xcXFxuICAgIE9iamVjdC5rZXlzKGN1c3RvbSkuZm9yRWFjaCgoaykgPT4ge1xcXFxuICAgICAgICB0aGlzW2tdID0gY3VzdG9tW2tdO1xcXFxuICAgIH0pXFxcXG59XFxcXG5cXFxcbmxldCBFcmppID0ge1xcXFxuICAgIOmAmuWFjTogJCgnJykubGF6eVJ1bGUoKCkgPT4ge1xcXFxuICAgICAgICB0cnkge1xcXFxuICAgICAgICAgICAgdmFyIGh0bWwgPSBKU09OLnBhcnNlKHJlcXVlc3QoaW5wdXQpLm1hdGNoKC9yIHBsYXllcl8uKj89KC4qPyk8LylbMV0pXFxcXG4gICAgICAgICAgICB2YXIgdXJsID0gaHRtbC51cmxcXFxcbiAgICAgICAgICAgIGlmIChodG1sLmVuY3J5cHQgPT0gJzEnKSB7XFxcXG4gICAgICAgICAgICAgICAgdXJsID0gdW5lc2NhcGUodXJsKTtcXFxcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaHRtbC5lbmNyeXB0ID09ICcyJykge1xcXFxuICAgICAgICAgICAgICAgIHVybCA9IHVuZXNjYXBlKGJhc2U2NERlY29kZSh1cmwpKTtcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIGlmICgvbTN1OHxtcDQvLnRlc3QodXJsKSkge1xcXFxuICAgICAgICAgICAgICAgIHJldHVybiB1cmxcXFxcbiAgICAgICAgICAgIH0gZWxzZSB7XFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwidmlkZW86Ly9cXFxcXFxcIiArIGlucHV0XFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcXFxcbiAgICAgICAgICAgIHJldHVybiBcXFxcXFxcInZpZGVvOi8vXFxcXFxcXCIgKyBpbnB1dFxcXFxuICAgICAgICB9XFxcXG4gICAgfSksXFxcXG4gICAgdXBkYXRhOiBmdW5jdGlvbihydWxlLCBoZWFkZXJzKSB7XFxcXG4gICAgICAgIGhlYWRlcnMgPSBoZWFkZXJzICE9IHVuZGVmaW5lZCA/IGhlYWRlcnMgOiB7fTtcXFxcbiAgICAgICAgc2V0TGFzdENoYXB0ZXJSdWxlKCdqczonICsgJC50b1N0cmluZygodXJsLCBydWxlLCBoZWFkZXJzKSA9PiB7XFxcXG4gICAgICAgICAgICB2YXIgaHRtbCA9IGZldGNoKHVybCwgaGVhZGVycyk7XFxcXG4gICAgICAgICAgICBzZXRSZXN1bHQoZXZhbChydWxlKSlcXFxcbiAgICAgICAgfSwgTVlfVVJMLCBydWxlLCBoZWFkZXJzKSlcXFxcbiAgICB9LFxcXFxuICAgIGNsb3NlOiBmdW5jdGlvbihsaXN0LCBzb3J0cykge1xcXFxuICAgICAgICBhZGRMaXN0ZW5lcignb25DbG9zZScsICQudG9TdHJpbmcoKGxpc3QsIHNvcnRzKSA9PiB7XFxcXG4gICAgICAgICAgICBsaXN0Lm1hcCh4ID0+IHtcXFxcbiAgICAgICAgICAgICAgICBjbGVhck15VmFyKCdlcl8nICsgeCArICdmb2xkJyk7XFxcXG4gICAgICAgICAgICAgICAgY2xlYXJNeVZhcignZXJfJyArIHgpO1xcXFxuICAgICAgICAgICAgfSlcXFxcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc29ydHM7IGkrKykge1xcXFxuICAgICAgICAgICAgICAgIGNsZWFyTXlWYXIoJ3BsYXlsaXN0XycgKyBpKTtcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIGNsZWFyTXlWYXIoJ2VyX3BsYXlsaXN0cycpO1xcXFxuICAgICAgICB9LCBsaXN0LCBzb3J0cykpXFxcXG4gICAgfSxcXFxcbiAgICBkYXRhQ29udmVydDogZnVuY3Rpb24oZGF0YSkge1xcXFxuICAgICAgICB2YXIgbmV3Y2xzbGlzdCA9IGRhdGEubWFwKGZ1bmN0aW9uKG9iaikge1xcXFxuICAgICAgICAgICAgdmFyIG5ld09iaiA9IE9iamVjdC5hc3NpZ24oe30sIG9iaik7XFxcXG4gICAgICAgICAgICBpZiAobmV3T2JqLmhhc093blByb3BlcnR5KCd0eXBlJykpIHtcXFxcbiAgICAgICAgICAgICAgICBuZXdPYmouY29sX3R5cGUgPSBuZXdPYmoudHlwZTtcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIHJldHVybiBuZXdPYmo7XFxcXG4gICAgICAgIH0pO1xcXFxuICAgICAgICByZXR1cm4gbmV3Y2xzbGlzdDtcXFxcbiAgICB9LFxcXFxuICAgIHByZUxvYWQ6IGZ1bmN0aW9uKGZ1bmMpIHtcXFxcbiAgICAgICAgbGV0IG15ZnVuYyA9IG51bGxcXFxcbiAgICAgICAgaWYgKGZ1bmMgIT0gdW5kZWZpbmVkICYmIGZ1bmMuY29uc3RydWN0b3IgPT0gRnVuY3Rpb24pIHtcXFxcbiAgICAgICAgICAgIG15ZnVuYyA9IGZ1bmNcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICAkLmV4dGVuZCh7XFxcXG4gICAgICAgICAgICBkYXRhQ29udmVydDogdGhpcy5kYXRhQ29udmVydCxcXFxcbiAgICAgICAgICAgIG1zbTogTWV0aG9kcy5NdWx0aVNlbGVjdE1vZGUsXFxcXG4gICAgICAgICAgICBmdW5jOiBteWZ1bmMsXFxcXG4gICAgICAgIH0pXFxcXG4gICAgfSxcXFxcbiAgICBzbWFsbDogZnVuY3Rpb24oc3RyLCBjb2xvcikge1xcXFxuICAgICAgICByZXR1cm4gJ+KAmOKAmOKAmeKAmTxzbWFsbD48Zm9udCBjb2xvcj1cXFxcXFxcIicgKyAoY29sb3IgfHwgJycpICsgJ1xcXFxcXFwiPicgKyBzdHIgKyAnPC9mb250Pjwvc21hbGw+JztcXFxcbiAgICB9LFxcXFxuICAgIOWjsOaYjjogZnVuY3Rpb24oKSB7XFxcXG4gICAgICAgIGQucHVzaCh7XFxcXG4gICAgICAgICAgICB0aXRsZTogdGhpcy5zbWFsbCgn5Lul5LiK5pWw5o2u5p2l5rqQ5LqO572R57uc77yM5aaC5oKo5Zac5qyi77yM6K+35pSv5oyB5a6Y5pa577yBJywgJyM4NzFGNzgnKSxcXFxcbiAgICAgICAgICAgIGRlc2M6IHRoaXMuc21hbGwoJ+atpOinhOWImeS7hemZkOWtpuS5oOS6pOa1geS9v+eUqO+8jOivt+S6juWvvOWFpeWQjjI05bCP5pe25YaF5Yig6Zmk77yM5Lu75L2V57uE57uH5oiW5Liq5Lq65LiN5b6X5Lul5Lu75L2V5pa55byP5pa55rOV5Lyg5pKt5q2k6KeE5YiZ55qE5pW05L2T5oiW6YOo5YiG77yBJywgJyNGMjBDMDAnKSxcXFxcbiAgICAgICAgICAgIHVybDogJ2hpa2VyOi8vZW1wdHknLFxcXFxuICAgICAgICAgICAgY29sX3R5cGU6ICd0ZXh0X2NlbnRlcl8xJ1xcXFxuICAgICAgICB9KTtcXFxcbiAgICB9LFxcXFxuXFxcXG5cXFxcbi8v566A5LuLXFxcXG4gICAgc2V0RGVzYzogZnVuY3Rpb24oZGVzYywgbnVtKSB7XFxcXG4gICAgICAgIGRlc2MgPSBkZXNjLmNvbnN0cnVjdG9yID09IEFycmF5ID8gZGVzYy5qb2luKCc8YnI+JykgOiBkZXNjO1xcXFxuICAgICAgICBpZiAoZGVzYy5yZXBsYWNlKC8oPGJyPnxcXFxcXFxcXHMrKS9nLCAnJykubGVuZ3RoID09IDApIHtcXFxcbiAgICAgICAgICAgIHJldHVyblxcXFxuICAgICAgICB9XFxcXG4gICAgICAgIHZhciBpbmZvID0gc3RvcmFnZTAuZ2V0TXlWYXIoJ2VyX2luZm8nLCAne30nKVxcXFxuICAgICAgICBpZiAoaW5mb1snZGVzYyddICE9IHVuZGVmaW5lZCkge1xcXFxuICAgICAgICAgICAgaW5mb1snZGVzYyddID0gaW5mb1snZGVzYyddICsgJyDnroDku4s6JyArIGRlc2M7XFxcXG4gICAgICAgICAgICBzdG9yYWdlMC5wdXRNeVZhcignZXJfaW5mbycsIGluZm8pO1xcXFxuICAgICAgICB9XFxcXG5cXFxcbiAgICAgICAgY29uc3QgbWFyayA9ICdkZXNjJztcXFxcbiAgICAgICAgbnVtID0gdHlwZW9mKG51bSkgPT0gJ3VuZGVmaW5lZCcgPyA5MCA6IG51bVxcXFxuICAgICAgICBkZXNjID0gZGVzYy5zdGFydHNXaXRoKCfjgIDjgIAnKSA/IGRlc2MgOiAn44CA44CAJyArIGRlc2M7XFxcXG4gICAgICAgIGRlc2MgPSBkZXNjLnJlcGxhY2UoLycvZywgXFxcXFxcXCImIzM5O1xcXFxcXFwiKTtcXFxcbiAgICAgICAgZGVzYyA9IGRlc2MucmVwbGFjZSgvXFxcXFxcXFxyXFxcXFxcXFxuL2csIFxcXFxcXFwiPGJyPlxcXFxcXFwiKTtcXFxcblxcXFxuICAgICAgICBmdW5jdGlvbiBzdWJzdHIoc3RyLCBtYXhMZW5ndGgpIHtcXFxcbiAgICAgICAgICAgIGxldCBsZW4gPSAwO1xcXFxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyBpKyspIHtcXFxcbiAgICAgICAgICAgICAgICBpZiAoc3RyLmNoYXJDb2RlQXQoaSkgPiAyNTUpIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgbGVuICs9IDI7XFxcXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgbGVuKys7XFxcXG4gICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgIGlmIChsZW4gPiBtYXhMZW5ndGgpIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0ci5zbGljZSgwLCBpKSArICcuLi4nO1xcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIHJldHVybiBzdHI7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgbGV0IHNkZXNjID0gc3Vic3RyKGRlc2MsIG51bSk7XFxcXG4gICAgICAgIHZhciBsYXp5ID0gJChgI25vTG9hZGluZyNgKS5sYXp5UnVsZSgoZGMsIHNkYywgbSkgPT4ge1xcXFxuICAgICAgICAgICAgdmFyIHNob3cgPSBzdG9yYWdlMC5nZXRJdGVtKG0sICcwJyk7XFxcXG4gICAgICAgICAgICB2YXIgdGl0bGUgPSBmaW5kSXRlbSgnZGVzYycpLnRpdGxlO1xcXFxuICAgICAgICAgICAgdmFyIHJlID0gLyg8XFxcXFxcXFwvc21hbGw+PGJyPi4qPz4pLisvZztcXFxcbiAgICAgICAgICAgIHZhciBleHAgPSAn5bGV5byAOic7XFxcXG4gICAgICAgICAgICB2YXIgcmV0ID0gJ+aUtui1tzonO1xcXFxuICAgICAgICAgICAgaWYgKHNob3cgPT0gJzEnKSB7XFxcXG4gICAgICAgICAgICAgICAgdXBkYXRlSXRlbSgnZGVzYycsIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZShyZXQsIGV4cClcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKHJlLCAnJDEnICsgc2RjICsgJzwvc21hbGw+JylcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKC8oPFxcXFxcXFxcL3NtYWxsPjxicj48Zm9udCBjb2xvcj1cXFxcXFxcIikuKj8oXFxcXFxcXCI+KS8sICckMSM4QTJCRTIkMicpLy/mlLbotbfpopzoibJcXFxcblxcXFxuICAgICAgICAgICAgICAgIH0pXFxcXG4gICAgICAgICAgICAgICAgc3RvcmFnZTAuc2V0SXRlbShtLCAnMCcpO1xcXFxuICAgICAgICAgICAgfSBlbHNlIHtcXFxcbiAgICAgICAgICAgICAgICB1cGRhdGVJdGVtKCdkZXNjJywge1xcXFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGVcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIC5yZXBsYWNlKGV4cCwgcmV0KVxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgLnJlcGxhY2UocmUsICckMScgKyBkYyArICc8L3NtYWxsPicpXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvKDxcXFxcXFxcXC9zbWFsbD48YnI+PGZvbnQgY29sb3I9XFxcXFxcXCIpLio/KFxcXFxcXFwiPikvLCAnJDEjMDA4MDAwJDInKS8v5bGV5byA6aKc6ImyXFxcXG4gICAgICAgICAgICAgICAgfSlcXFxcbiAgICAgICAgICAgICAgICBzdG9yYWdlMC5zZXRJdGVtKG0sICcxJyk7XFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICByZXR1cm4gYGhpa2VyOi8vZW1wdHlgXFxcXG4gICAgICAgIH0sIGRlc2MsIHNkZXNjLCBtYXJrKVxcXFxuICAgICAgICB2YXIgc2MgPSBzdG9yYWdlMC5nZXRJdGVtKG1hcmssICcwJykgPT0gJzAnID8gJ+WxleW8gDonIDogJ+aUtui1tzonO1xcXFxuICAgICAgICB2YXIgZGMgPSBzdG9yYWdlMC5nZXRJdGVtKG1hcmssICcwJykgPT0gJzAnID8gc2Rlc2MgOiBkZXNjO1xcXFxuICAgICAgICBkLnB1c2goe1xcXFxuICAgICAgICAgICAgdGl0bGU6ICcnICsgJzxiPjxmb250IGNvbG9yPVxcXFxcXFwiIzA5OEFDMVxcXFxcXFwiPuKItyAgICAgICAgICAgICAgICAgICAgICDliafmg4XnroDku4tcXFxcdDwvZm9udD48L2I+JyArIFxcXFxcXFwiPHNtYWxsPjxhIHN0eWxlPSd0ZXh0LWRlY29yYXRpb246IG5vbmU7JyBocmVmPSdcXFxcXFxcIiArIGxhenkgKyBcXFxcXFxcIic+XFxcXFxcXCIgKyBzYyArICc8L2E+PC9zbWFsbD48YnI+PGZvbnQgY29sb3I9XFxcXFxcXCIjOEEyQkUyXFxcXFxcXCI+JyArIGAke2RjfWAgKyAnPC9zbWFsbD4nLC8v6buY6K6k6aKc6ImyXFxcXG4gICAgICAgICAgICBjb2xfdHlwZTogJ3JpY2hfdGV4dCcsXFxcXG4gICAgICAgICAgICBleHRyYToge1xcXFxuICAgICAgICAgICAgICAgIGlkOiAnZGVzYycsXFxcXG4gICAgICAgICAgICAgICAgbGluZVNwYWNpbmc6IDYsXFxcXG4gICAgICAgICAgICAgICAgdGV4dFNpemU6IDE1LFxcXFxuICAgICAgICAgICAgICAgIGxpbmVWaXNpYmxlOiB0cnVlLFxcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICB9KVxcXFxuICAgIH0sXFxcXG5cXFxcblxcXFxuLy/mtbfmiqVcXFxcbiAgICBzdHJDb252ZXJ0OiBmdW5jdGlvbihhcnIpIHtcXFxcbiAgICAgICAgcmV0dXJuIGFyci5tYXAoeCA9PiB7XFxcXG4gICAgICAgICAgICBzdHIgPSB4O1xcXFxuICAgICAgICAgICAgaWYgKC8o5a+85ryUfOS4u+a8lHznsbvlnosp77yaLy50ZXN0KHN0cikpIHtcXFxcbiAgICAgICAgICAgICAgICBzdHIgPSBzdHIuc3BsaXQoJy8nKS5tYXAoKHZhbCwgaW5kZXgpID0+IChpbmRleCA9PT0gMCA/ICcnIDogJycpICsgdmFsKS5zbGljZSgwLCA1KS5qb2luKCcgJykucmVwbGFjZSgvICQvLCAnJyk7XFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICByZXR1cm4gc3RyXFxcXG4gICAgICAgIH0pXFxcXG4gICAgfSxcXFxcbiAgICBzZXRDb250ZW50OiBmdW5jdGlvbihvYmopIHtcXFxcbiAgICAgICAgLy9sb2cob2JqKVxcXFxuICAgICAgICB2YXIgY29udGVudHMgPSBvYmoubWFpbjtcXFxcbiAgICAgICAgdmFyIHNvcnRPcmRlciA9IG9iai5zb3J0O1xcXFxuICAgICAgICB2YXIgaW1nID0gb2JqLmltZztcXFxcbiAgICAgICAgdmFyIHRleHRzID0gY29udGVudHMubWFwKHggPT4gcGRmaCh4LCAnVGV4dCcpKTtcXFxcblxcXFxuICAgICAgICB2YXIgYXJyYXkgPSB0ZXh0cy5zb3J0KChhLCBiKSA9PiB7XFxcXG4gICAgICAgICAgICBjb25zdCBpbmRleEEgPSBzb3J0T3JkZXIuaW5kZXhPZihhLnN1YnN0cigwLCAyKSk7XFxcXG4gICAgICAgICAgICBjb25zdCBpbmRleEIgPSBzb3J0T3JkZXIuaW5kZXhPZihiLnN1YnN0cigwLCAyKSk7XFxcXG4gICAgICAgICAgICByZXR1cm4gaW5kZXhBIC0gaW5kZXhCO1xcXFxuICAgICAgICB9KVxcXFxuICAgICAgICB2YXIgcmVnZXggPSBuZXcgUmVnRXhwKCcoJyArIHNvcnRPcmRlci5qb2luKCd8JykgKyAnKScpO1xcXFxuICAgICAgICBhcnJheSA9IGFycmF5LmZpbHRlcihmdW5jdGlvbihpdGVtKSB7XFxcXG4gICAgICAgICAgICByZXR1cm4gcmVnZXgudGVzdChpdGVtKTtcXFxcbiAgICAgICAgfSk7XFxcXG4gICAgICAgIC8vbG9nKGFycmF5KVxcXFxuXFxcXG4gICAgICAgIC8vYXJyYXkgPSBzb3J0T3JkZXIubGVuZ3RoPT0wP2FycmF5OnRoaXMuc3RyQ29udmVydChhcnJheSk7XFxcXG4gICAgICAgIGFycmF5ID0gdGhpcy5zdHJDb252ZXJ0KGFycmF5KTtcXFxcblxcXFxuICAgICAgICBpZiAoYXJyYXkubGVuZ3RoID4gNikge1xcXFxuICAgICAgICAgICAgYXJyYXkgPSBhcnJheS5zbGljZSgwLCA2KTtcXFxcbiAgICAgICAgfVxcXFxuXFxcXG4gICAgICAgIHZhciB0aXRsZXMgPSBbXTtcXFxcbiAgICAgICAgdmFyIGRlc2NzID0gW107XFxcXG5cXFxcbiAgICAgICAgc3dpdGNoIChhcnJheS5sZW5ndGgpIHtcXFxcbiAgICAgICAgICAgIGNhc2UgNDpcXFxcbiAgICAgICAgICAgIGNhc2UgNTpcXFxcbiAgICAgICAgICAgICAgICB0aXRsZXMgPSBhcnJheS5zbGljZSgwLCAyKTtcXFxcbiAgICAgICAgICAgICAgICBkZXNjcyA9IGFycmF5LnNsaWNlKDIpO1xcXFxuICAgICAgICAgICAgICAgIGJyZWFrO1xcXFxuICAgICAgICAgICAgY2FzZSA2OlxcXFxuICAgICAgICAgICAgICAgIHRpdGxlcyA9IGFycmF5LnNsaWNlKDAsIDMpO1xcXFxuICAgICAgICAgICAgICAgIGRlc2NzID0gYXJyYXkuc2xpY2UoMyk7XFxcXG4gICAgICAgICAgICAgICAgYnJlYWs7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgc3RvcmFnZTAucHV0TXlWYXIoJ2VyX2luZm8nLCB7XFxcXG4gICAgICAgICAgICBkZXNjOiBkZXNjcy5qb2luKCdcXFxcXFxcXG4nKSxcXFxcbiAgICAgICAgICAgIGltZzogaW1nLFxcXFxuICAgICAgICB9KVxcXFxuICAgICAgICBkLnB1c2goe1xcXFxuICAgICAgICAgICAvL3RpdGxlOiAgdGhpcy5zbWFsbCggdGl0bGVzWzBdICsgJ1xcXFxcXFxcbicgK3RpdGxlcy5zbGljZSgxLCAzKS5qb2luKCdcXFxcXFxcXG4nKSwncmVkJyksXFxcXG4gICAgICAgICAgICAvL2Rlc2M6IHRoaXMuc21hbGwoZGVzY3Muam9pbignXFxcXFxcXFxuJyksJyNGRjdGMDAnKSxcXFxcbiAgICAgICAgICAgIHRpdGxlOiAgdGhpcy5zbWFsbChwZGZoKGh0bWwsICcubW9kdWxlLWluZm8taXRlbTptYXRjaGVzKOWkh+azqO+8mnzov57ovb3vvJp86ZuG5pWw77yafOeJh+mVv++8mikmJlRleHQnKSArICdcXFxcXFxcXG4nICsgcGRmaChodG1sLCAnLm1vZHVsZS1pbmZvLXRhZyYmVGV4dCcpLCdyZWQnKSxcXFxcbiAgICAgICAgICBkZXNjOiB0aGlzLnNtYWxsKHBkZmgoaHRtbCwgJy5tb2R1bGUtaW5mby1pdGVtOmNvbnRhaW5zKOabtOaWsO+8mikmJlRleHQnKSArICdcXFxcXFxcXG4nICsgcGRmaChodG1sLCAnLm1vZHVsZS1pbmZvLWl0ZW06Y29udGFpbnMo5a+85ryU77yaKSYmVGV4dCcpICsgJ1xcXFxcXFxcbicgKyBwZGZoKGh0bWwsICcubW9kdWxlLWluZm8taXRlbTpjb250YWlucyjkuLvmvJTvvJopJiZUZXh0JyksJyNGRjdGMDAnKSxcXFxcbiAgICAgICAgICAgIHBpY191cmw6IGltZyArICdAUmVmZXJlcj0nLFxcXFxuICAgICAgICAgICAgdXJsOiBNWV9VUkwsXFxcXG4gICAgICAgICAgICBjb2xfdHlwZTogJ21vdmllXzFfdmVydGljYWxfcGljX2JsdXInLFxcXFxuICAgICAgICB9KVxcXFxuICAgICAgICBpZiAob2JqLmRlc2MgIT0gdW5kZWZpbmVkKSB7XFxcXG4gICAgICAgICAgICB0aGlzLnNldERlc2Mob2JqLmRlc2MpO1xcXFxuICAgICAgICB9XFxcXG4gICAgfSxcXFxcbiAgICBzZXRDdXN0b206IGZ1bmN0aW9uKG9iaiwgaW1nKSB7XFxcXG4gICAgICAgIHZhciBhcnJheSA9IFtdO1xcXFxuICAgICAgICBpZiAob2JqLmNvbnN0cnVjdG9yID09IEFycmF5KSB7XFxcXG4gICAgICAgICAgICBhcnJheSA9IG9iajtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBhcnJheSA9IHRoaXMuc3RyQ29udmVydChhcnJheSk7XFxcXG4gICAgICAgIHZhciB0aXRsZXMgPSBbXTtcXFxcbiAgICAgICAgdmFyIGRlc2NzID0gW107XFxcXG4gICAgICAgIHN3aXRjaCAoYXJyYXkubGVuZ3RoKSB7XFxcXG4gICAgICAgICAgICBjYXNlIDQ6XFxcXG4gICAgICAgICAgICBjYXNlIDU6XFxcXG4gICAgICAgICAgICAgICAgdGl0bGVzID0gYXJyYXkuc2xpY2UoMCwgMik7XFxcXG4gICAgICAgICAgICAgICAgZGVzY3MgPSBhcnJheS5zbGljZSgyKTtcXFxcbiAgICAgICAgICAgICAgICBicmVhaztcXFxcbiAgICAgICAgICAgIGNhc2UgNjpcXFxcbiAgICAgICAgICAgICAgICB0aXRsZXMgPSBhcnJheS5zbGljZSgwLCAzKTtcXFxcbiAgICAgICAgICAgICAgICBkZXNjcyA9IGFycmF5LnNsaWNlKDMpO1xcXFxuICAgICAgICAgICAgICAgIGJyZWFrO1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIHN0b3JhZ2UwLnB1dE15VmFyKCdlcl9pbmZvJywge1xcXFxuICAgICAgICAgICAgZGVzYzogZGVzY3Muam9pbignXFxcXFxcXFxuJyksXFxcXG4gICAgICAgICAgICBpbWc6IGltZyxcXFxcbiAgICAgICAgfSlcXFxcbiAgICAgICAgZC5wdXNoKHtcXFxcbiAgICAgICAgICAgIHRpdGxlOiB0aXRsZXNbMF0gKyAnXFxcXFxcXFxuJyArIHRoaXMuc21hbGwodGl0bGVzLnNsaWNlKDEsIDMpLmpvaW4oJ1xcXFxcXFxcbicpKSxcXFxcbiAgICAgICAgICAgIGRlc2M6IHRoaXMuc21hbGwoZGVzY3Muam9pbignXFxcXFxcXFxuJykpLFxcXFxuICAgICAgICAgICAgcGljX3VybDogaW1nICsgJ0BSZWZlcmVyPScsXFxcXG4gICAgICAgICAgICB1cmw6IE1ZX1VSTCxcXFxcbiAgICAgICAgICAgIGNvbF90eXBlOiAnbW92aWVfMV92ZXJ0aWNhbF9waWNfYmx1cicsXFxcXG4gICAgICAgIH0pXFxcXG4gICAgfSxcXFxcbiAgICBpc0NvbG9yOiBmdW5jdGlvbih0ZXh0KSB7XFxcXG4gICAgICAgIGNvbnN0IHJlZ2V4ID0gL14jKFswLTlBLUZhLWZdezN9fFswLTlBLUZhLWZdezZ9KSR8XihbYS16XSspJC9pO1xcXFxuICAgICAgICByZXR1cm4gcmVnZXgudGVzdCh0ZXh0KTtcXFxcbiAgICB9LFxcXFxuICAgIGdldFByZXNldDogZnVuY3Rpb24oY3VzdG9tKSB7XFxcXG4gICAgICAgIGlmICh0eXBlb2YgY3VzdG9tZGF0YSA9PSAnb2JqZWN0JyAmJiAhY3VzdG9tKSB7XFxcXG4gICAgICAgICAgICBjdXN0b20gPSBjdXN0b21kYXRhO1xcXFxuICAgICAgICB9IGVsc2Uge1xcXFxuICAgICAgICAgICAgY3VzdG9tID0gY3VzdG9tID8gY3VzdG9tIDoge31cXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBjdXN0b20u5q2j5bqP6aKc6ImyID0gKGN1c3RvbS7mraPluo/popzoibIgJiYgdGhpcy5pc0NvbG9yKGN1c3RvbS7mraPluo/popzoibIpKSA/IGN1c3RvbS7mraPluo/popzoibIgOiAnIzFBQUQxOSc7XFxcXG4gICAgICAgIGN1c3RvbS7pgIbluo/popzoibIgPSAoY3VzdG9tLumAhuW6j+minOiJsiAmJiB0aGlzLmlzQ29sb3IoY3VzdG9tLumAhuW6j+minOiJsikpID8gY3VzdG9tLumAhuW6j+minOiJsiA6ICcjRkYwMDAwJztcXFxcbiAgICAgICAgY3VzdG9tLuWbvuaghyA9IGN1c3RvbS7lm77moIcgPyBjdXN0b20u5Zu+5qCHIDogJ2h0dHBzOi8vaTIuMTAwMDI0Lnh5ei8yMDIzLzA2LzEwL2g0ejYyNy53ZWJwJztcXFxcbiAgICAgICAgY3VzdG9tLue6v+i3r+mAieS4rSA9IGN1c3RvbS7nur/ot6/pgInkuK0gPyBjdXN0b20u57q/6Lev6YCJ5LitIDogJyMwMDhCOEInO1xcXFxuICAgICAgICBjdXN0b20u57q/6Lev5qC35byPID0gY3VzdG9tLue6v+i3r+agt+W8jyA/IGN1c3RvbS7nur/ot6/moLflvI8gOiAnc2Nyb2xsX2J1dHRvbic7XFxcXG4gICAgICAgIGN1c3RvbS7liIblibLmoLflvI8gPSBjdXN0b20u5YiG5Ymy5qC35byPID8gY3VzdG9tLuWIhuWJsuagt+W8jyA6ICdibGFua19ibG9jayc7XFxcXG4gICAgICAgIHJldHVybiBjdXN0b207XFxcXG4gICAgfSxcXFxcbiAgICBjcmVhdGVQTGlzdDogZnVuY3Rpb24odGFicywgdmFyaSwgc2hzb3J0LCBjdXN0b20pIHtcXFxcbiAgICAgICAgdmFyaSA9IFxcXFxcXFwiZXJfXFxcXFxcXCIgKyB2YXJpO1xcXFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhYnMubGVuZ3RoOyBpKyspIHtcXFxcbiAgICAgICAgICAgIHZhciB1cmwgPSAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKCh2YXJpLCBzaHNvcnQsIGksIGxpbmVjKSA9PiB7XFxcXG5cXFxcbiAgICAgICAgICAgICAgICB2YXIgbGlzdHMgPSBzdG9yYWdlMC5nZXRNeVZhcihzaHNvcnQgKyAnX2xpc3QnLCAnW10nKTtcXFxcblxcXFxuICAgICAgICAgICAgICAgIGlmIChnZXRNeVZhcih2YXJpICsgJ2ZvbGQnLCAnMScpID09ICcwJykge1xcXFxuICAgICAgICAgICAgICAgICAgICB2YXIgYnRuID0gZmluZEl0ZW0oc2hzb3J0ICsgJ19idXR0b24nKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvbGRzID0gWyc8Zm9udCBjb2xvcj1cXFxcXFxcIiNEM0QzRDNcXFxcXFxcIj7imLcnLCAnPGZvbnQgY29sb3I9XFxcXFxcXCIjRkZBNTAwXFxcXFxcXCI+4piwJ107XFxcXG4gICAgICAgICAgICAgICAgICAgIHZhciBwbGlzdCA9IHN0b3JhZ2UwLmdldE15VmFyKCdlcl9wbGF5bGlzdHMnLCAne30nKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgXFxcXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2wgPSBwbGlzdFtzaHNvcnRdLmNvbF90eXBlO1xcXFxuICAgICAgICAgICAgICAgICAgICB2YXIgY2xzID0gcGxpc3Rbc2hzb3J0XS5jbHM7XFxcXG4gICAgICAgICAgICAgICAgICAgIHZhciBwaWMgPSBwbGlzdFtzaHNvcnRdLnBpYztcXFxcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4dHJhID0gcGxpc3Rbc2hzb3J0XS5leHRyYTtcXFxcbiAgICAgICAgICAgICAgICAgICAgLy9sb2coZXh0cmEpXFxcXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0oYnRuLmV4dHJhLmlkLCB7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogYnRuLnRpdGxlLnJlcGxhY2UoZm9sZHNbMF0sIGZvbGRzWzFdKSxcXFxcbiAgICAgICAgICAgICAgICAgICAgfSlcXFxcblxcXFxuICAgICAgICAgICAgICAgICAgICBwdXRNeVZhcih2YXJpICsgJ2ZvbGQnLCAnMScpO1xcXFxuICAgICAgICAgICAgICAgICAgICAvL3JldHVybiAndG9hc3Q6Ly/lsZXlvIDmiY3og73mk43kvZwnO1xcXFxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XFxcXG4gICAgICAgICAgICAgICAgICAgIHZhciBwbGlzdCA9IHN0b3JhZ2UwLmdldE15VmFyKCdlcl9wbGF5bGlzdHMnLCAne30nKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgXFxcXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2wgPSBwbGlzdFtzaHNvcnRdLmNvbF90eXBlO1xcXFxuICAgICAgICAgICAgICAgICAgICB2YXIgY2xzID0gcGxpc3Rbc2hzb3J0XS5jbHM7XFxcXG4gICAgICAgICAgICAgICAgICAgIHZhciBwaWMgPSBwbGlzdFtzaHNvcnRdLnBpYztcXFxcbiAgICAgICAgICAgICAgICAgICAgdmFyIGV4dHJhID0gcGxpc3Rbc2hzb3J0XS5leHRyYTtcXFxcbiAgICAgICAgICAgICAgICAgICAgLy9sb2coZXh0cmEpXFxcXG4gICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgIHB1dE15VmFyKHZhcmksIGkpO1xcXFxuXFxcXG4gICAgICAgICAgICAgICAgdmFyIHhsaXN0ID0gbGlzdHNbaV07XFxcXG4gICAgICAgICAgICAgICAgaWYgKCQuZnVuYyAhPSB1bmRlZmluZWQgJiYgJC5mdW5jLmNvbnN0cnVjdG9yID09IEZ1bmN0aW9uKSB7XFxcXG4gICAgICAgICAgICAgICAgICAgIHhsaXN0ID0gJC5mdW5jKGkpO1xcXFxuICAgICAgICAgICAgICAgICAgICBzdG9yYWdlMC5wdXRNeVZhcihzaHNvcnQgKyAnX2xpc3QnLCB4bGlzdCk7XFxcXG4gICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgIHZhciBwbGF5cyA9IHhsaXN0Lm1hcCh4ID0+IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB4LnRpdGxlLFxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB4LnVybCxcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbF90eXBlOiBjb2wsXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICBwaWM6IHBpYyxcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhOiBPYmplY3QuYXNzaWduKHt9LGV4dHJhLHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogeC51cmwucmVwbGFjZSgvQGxhenlSdWxlW1xcXFxcXFxcc1xcXFxcXFxcU10rL2csICcnKSxcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbHM6IGNscyxcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXFxcXG4gICAgICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICB9KVxcXFxuICAgICAgICAgICAgICAgIGlmIChnZXRNeVZhcihzaHNvcnQgKyAnX3NvcnQnKSA9PSAnMScpIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgcGxheXMucmV2ZXJzZSgpO1xcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICB2YXIgcGNmZyA9IHN0b3JhZ2UwLmdldE15VmFyKHNoc29ydCArICdfcHVzaGNmZycsICd7fScpO1xcXFxuICAgICAgICAgICAgICAgIGlmIChwY2ZnWyfljZXmjqgnXSkge1xcXFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVJdGVtKHNoc29ydCArICdfcHVzaCcsIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBwY2ZnWydvYmonXVsn5Y2V5o6oJ11bMF1cXFxcbiAgICAgICAgICAgICAgICAgICAgfSlcXFxcbiAgICAgICAgICAgICAgICAgICAgcGNmZ1sn5Y2V5o6oJ10gPSBmYWxzZTtcXFxcbiAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICAgICAgaWYgKHBjZmdbJ+mAieaOqCddKSB7XFxcXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0oc2hzb3J0ICsgJ19wdXNocycsIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBwY2ZnWydvYmonXVsn6YCJ5o6oJ11bMF1cXFxcbiAgICAgICAgICAgICAgICAgICAgfSlcXFxcbiAgICAgICAgICAgICAgICAgICAgcGNmZ1sn6YCJ5o6oJ10gPSBmYWxzZTtcXFxcbiAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICAgICAgc3RvcmFnZTAucHV0TXlWYXIoc2hzb3J0ICsgJ19wdXNoY2ZnJywgcGNmZyk7XFxcXG4gICAgICAgICAgICAgICAgZGVsZXRlSXRlbUJ5Q2xzKHNoc29ydCk7XFxcXG4gICAgICAgICAgICAgICAgYWRkSXRlbUFmdGVyKHNoc29ydCArICdfbGluZScsIHBsYXlzKTtcXFxcblxcXFxuICAgICAgICAgICAgICAgIHZhciB0YWJ4ID0gZmluZEl0ZW1zQnlDbHMoc2hzb3J0ICsgJ190YWInKTtcXFxcbiAgICAgICAgICAgICAgICB0YWJ4LmZvckVhY2goKHgsIGlpKSA9PiB7XFxcXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aXRsZSA9IHgudGl0bGU7XFxcXG4gICAgICAgICAgICAgICAgICAgIGlmIChpID09IGlpKSB7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVJdGVtKHguZXh0cmEuaWQsIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGUucmVwbGFjZSgvIyhcXFxcXFxcXHcrKT8vZywgbGluZWMpLFxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcXFxcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0oeC5leHRyYS5pZCwge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZS5yZXBsYWNlKC8jKFxcXFxcXFxcdyspPy9nLCAnIycpLFxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcXFxcbiAgICAgICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgIH0pXFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+WIh+aNouaIkOWKn++8gSc7XFxcXG4gICAgICAgICAgICB9LCB2YXJpLCBzaHNvcnQsIGksIGN1c3RvbS7nur/ot6/pgInkuK0pXFxcXG4gICAgICAgICAgICBkLnB1c2goe1xcXFxuICAgICAgICAgICAgICAgIHRpdGxlOiAn4oCc4oCc4oCd4oCdJyArIChnZXRNeVZhcih2YXJpLCAnMCcpID09IGkgPyB0YWJzW2ldLmZvbnRjb2xvcihjdXN0b20u57q/6Lev6YCJ5LitKSA6IHRhYnNbaV0uZm9udGNvbG9yKCcjJykpLFxcXFxuICAgICAgICAgICAgICAgIHVybDogdXJsLFxcXFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiBjdXN0b20u57q/6Lev5qC35byPLFxcXFxuICAgICAgICAgICAgICAgIGV4dHJhOiB7XFxcXG4gICAgICAgICAgICAgICAgICAgIGNsczogc2hzb3J0ICsgJ190YWInLFxcXFxuICAgICAgICAgICAgICAgICAgICBpZDogc2hzb3J0ICsgJ190YWJfJyArIGksXFxcXG4gICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgfSlcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBkLnB1c2goe1xcXFxuICAgICAgICAgICAgY29sX3R5cGU6IGN1c3RvbS7liIblibLmoLflvI8sXFxcXG4gICAgICAgICAgICBleHRyYToge1xcXFxuICAgICAgICAgICAgICAgIGlkOiBzaHNvcnQgKyAnX2xpbmUnLFxcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICB9KVxcXFxuICAgIH0sXFxcXG4gICAgcHVzaFRhYjogZnVuY3Rpb24odmFyaSwgc2hzb3J0KSB7XFxcXG4gICAgICAgIGFkZExpc3RlbmVyKCdvblJlZnJlc2gnLCAkLnRvU3RyaW5nKChzaHNvcnQpID0+IHtcXFxcbiAgICAgICAgICAgIGNsZWFyTXlWYXIoc2hzb3J0ICsgJ19wdXNoY2ZnJyk7XFxcXG4gICAgICAgICAgICBjbGVhck15VmFyKHNoc29ydCArICdfZHVvc2VsZWN0Jyk7XFxcXG4gICAgICAgIH0sIHNoc29ydCkpXFxcXG4gICAgICAgIHZhciBwb2JqID0ge1xcXFxuICAgICAgICAgICAgJ+WNleaOqCc6IFsn4qa/5Y2V5o6oJywgJzxiPuKmv+WNleaOqDwvYj4nLmZvbnRjb2xvcignIzAwRkE5QScpXSxcXFxcbiAgICAgICAgICAgICfpgInmjqgnOiBbJ+KYkemAieaOqCcsICc8Yj7imJHpgInmjqg8L2I+Jy5mb250Y29sb3IoJyM0NjgyQjQnKV0sXFxcXG4gICAgICAgIH1cXFxcblxcXFxuICAgICAgICBkLnB1c2goe1xcXFxuICAgICAgICAgICAgdGl0bGU6ICfijJgnLFxcXFxuICAgICAgICAgICAgY29sX3R5cGU6ICdzY3JvbGxfYnV0dG9uJyxcXFxcbiAgICAgICAgICAgIHVybDogJ2hpa2VyOi8vZW1wdHknLFxcXFxuICAgICAgICAgICAgZXh0cmE6IHtcXFxcbiAgICAgICAgICAgICAgICBjbHM6IHNoc29ydCArICdfcHVzaHRhYicsXFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgIH0sIHtcXFxcbiAgICAgICAgICAgIHRpdGxlOiBwb2JqWyfljZXmjqgnXVswXSxcXFxcbiAgICAgICAgICAgIGNvbF90eXBlOiAnc2Nyb2xsX2J1dHRvbicsXFxcXG4gICAgICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKHNoc29ydCwgcG9iaiwgdmFyaSkgPT4ge1xcXFxuICAgICAgICAgICAgICAgIGlmIChnZXRNeVZhcih2YXJpICsgJ2ZvbGQnLCAnMScpID09ICcwJykge1xcXFxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8v5bGV5byA5omN6IO95pON5L2cJztcXFxcbiAgICAgICAgICAgICAgICB9XFxcXG5cXFxcbiAgICAgICAgICAgICAgICB2YXIgdGl0bGVzID0gcG9ialsn5Y2V5o6oJ107XFxcXG4gICAgICAgICAgICAgICAgdmFyIHBjZmcgPSBzdG9yYWdlMC5nZXRNeVZhcihzaHNvcnQgKyAnX3B1c2hjZmcnLCAne30nKTtcXFxcbiAgICAgICAgICAgICAgICBwY2ZnWydvYmonXSA9IHBvYmo7XFxcXG4gICAgICAgICAgICAgICAgdmFyIOWNleaOqCA9IHBjZmdbJ+WNleaOqCddID8gcGNmZ1sn5Y2V5o6oJ10gOiBmYWxzZTtcXFxcblxcXFxuICAgICAgICAgICAgICAgIGlmICjljZXmjqgpIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlSXRlbShzaHNvcnQgKyAnX3B1c2gnLCB7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogdGl0bGVzWzBdLFxcXFxuICAgICAgICAgICAgICAgICAgICB9KVxcXFxuICAgICAgICAgICAgICAgICAgICBwY2ZnWyfljZXmjqgnXSA9IGZhbHNlO1xcXFxuICAgICAgICAgICAgICAgICAgICBwY2ZnWydwbGF5bGlzdCddLm1hcCgoeCkgPT4ge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlSXRlbSh4LmV4dHJhLmlkLCB7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB4LnVybCxcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXFxcXG4gICAgICAgICAgICAgICAgICAgIH0pXFxcXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlSXRlbShzaHNvcnQgKyAnX3B1c2gnLCB7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ+KAnOKAnOKAneKAnScgKyB0aXRsZXNbMV0sXFxcXG4gICAgICAgICAgICAgICAgICAgIH0pXFxcXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0oc2hzb3J0ICsgJ19wdXNocycsIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBwb2JqWyfpgInmjqgnXVswXSxcXFxcbiAgICAgICAgICAgICAgICAgICAgfSlcXFxcbiAgICAgICAgICAgICAgICAgICAgcGNmZ1sn5Y2V5o6oJ10gPSB0cnVlO1xcXFxuICAgICAgICAgICAgICAgICAgICBwY2ZnWyfpgInmjqgnXSA9IGZhbHNlO1xcXFxuICAgICAgICAgICAgICAgICAgICB2YXIgcGxheWxpc3QgPSBmaW5kSXRlbXNCeUNscyhzaHNvcnQpO1xcXFxuICAgICAgICAgICAgICAgICAgICBwY2ZnWydwbGF5bGlzdCddID0gcGxheWxpc3Q7XFxcXG4gICAgICAgICAgICAgICAgICAgIGZpbmRJdGVtc0J5Q2xzKHNoc29ydCkubWFwKHggPT4ge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRwdXNoID0ge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGdldFBhZ2VUaXRsZSgpLFxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogeC50aXRsZSArICckJyArIHguZXh0cmEuaWRcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0oeC5leHRyYS5pZCwge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVybDogJCgnJykubGF6eVJ1bGUoKGRwdXNoKSA9PiB7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9wYWdlL3B1c2g/cnVsZT1YWVHmjqjpgIEmcHVzaHVybD0nICsgZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGRwdXNoKSk7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZHB1c2gpXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxcXFxuICAgICAgICAgICAgICAgICAgICB9KVxcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICBzdG9yYWdlMC5wdXRNeVZhcihzaHNvcnQgKyAnX3B1c2hjZmcnLCBwY2ZnKTtcXFxcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8vJyArICjljZXmjqggPyAn5Y2V5o6o5byA5ZCvJyA6ICfljZXmjqjlhbPpl60nKTtcXFxcbiAgICAgICAgICAgIH0sIHNoc29ydCwgcG9iaiwgdmFyaSksXFxcXG4gICAgICAgICAgICBleHRyYToge1xcXFxuICAgICAgICAgICAgICAgIGlkOiBzaHNvcnQgKyAnX3B1c2gnLFxcXFxuICAgICAgICAgICAgICAgIGNsczogc2hzb3J0ICsgJ19wdXNodGFiJyxcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgfSwge1xcXFxuICAgICAgICAgICAgdGl0bGU6IHBvYmpbJ+mAieaOqCddWzBdLFxcXFxuICAgICAgICAgICAgY29sX3R5cGU6ICdzY3JvbGxfYnV0dG9uJyxcXFxcbiAgICAgICAgICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoc2hzb3J0LCBwb2JqLCB2YXJpKSA9PiB7XFxcXG4gICAgICAgICAgICAgICAgaWYgKGdldE15VmFyKHZhcmkgKyAnZm9sZCcsICcxJykgPT0gJzAnKSB7XFxcXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/lsZXlvIDmiY3og73mk43kvZwnO1xcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICB2YXIgdGl0bGVzID0gcG9ialsn6YCJ5o6oJ107XFxcXG4gICAgICAgICAgICAgICAgdmFyIHBjZmcgPSBzdG9yYWdlMC5nZXRNeVZhcihzaHNvcnQgKyAnX3B1c2hjZmcnLCAne30nKTtcXFxcbiAgICAgICAgICAgICAgICBwY2ZnWydvYmonXSA9IHBvYmo7XFxcXG4gICAgICAgICAgICAgICAgdmFyIOmAieaOqCA9IHBjZmdbJ+mAieaOqCddID8gcGNmZ1sn6YCJ5o6oJ10gOiBmYWxzZTtcXFxcbiAgICAgICAgICAgICAgICBpZiAo6YCJ5o6oKSB7XFxcXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0oc2hzb3J0ICsgJ19wdXNocycsIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiB0aXRsZXNbMF0sXFxcXG4gICAgICAgICAgICAgICAgICAgIH0pXFxcXG4gICAgICAgICAgICAgICAgICAgIHBjZmdbJ+mAieaOqCddID0gZmFsc2U7XFxcXG4gICAgICAgICAgICAgICAgICAgIHBjZmdbJ3BsYXlsaXN0J10ubWFwKCh4KSA9PiB7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVJdGVtKHguZXh0cmEuaWQsIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogeC50aXRsZSxcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHgudXJsLFxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcXFxcbiAgICAgICAgICAgICAgICAgICAgfSlcXFxcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlSXRlbShzaHNvcnQgKyAnX3B1c2h0bycsIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5o6o6YCB5pys6aG1PT5UVkJveCcsXFxcXG4gICAgICAgICAgICAgICAgICAgIH0pO1xcXFxuICAgICAgICAgICAgICAgICAgICBjbGVhck15VmFyKHNoc29ydCArICdfZHVvc2VsZWN0Jyk7XFxcXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlSXRlbShzaHNvcnQgKyAnX3B1c2hzJywge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICfigJzigJzigJ3igJ0nICsgdGl0bGVzWzFdLFxcXFxuICAgICAgICAgICAgICAgICAgICB9KVxcXFxuICAgICAgICAgICAgICAgICAgICBwY2ZnWyfpgInmjqgnXSA9IHRydWU7XFxcXG4gICAgICAgICAgICAgICAgICAgIHBjZmdbJ+WNleaOqCddID0gZmFsc2U7XFxcXG4gICAgICAgICAgICAgICAgICAgIHZhciBwbGF5bGlzdCA9IGZpbmRJdGVtc0J5Q2xzKHNoc29ydCk7XFxcXG4gICAgICAgICAgICAgICAgICAgIHBjZmdbJ3BsYXlsaXN0J10gPSBwbGF5bGlzdDtcXFxcbiAgICAgICAgICAgICAgICAgICAgbGV0IElkcyA9IHBsYXlsaXN0Lm1hcChpdCA9PiBpdC5leHRyYS5pZCk7XFxcXG4gICAgICAgICAgICAgICAgICAgIElkcy5mb3JFYWNoKHggPT4ge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpdGxlID0gZmluZEl0ZW0oeCkudGl0bGU7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVJdGVtKHgsIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6ICQubXNtKHRpdGxlLCB4LCBzaHNvcnQpLFxcXFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XFxcXG4gICAgICAgICAgICAgICAgICAgIH0pO1xcXFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVJdGVtKHNoc29ydCArICdfcHVzaCcsIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBwb2JqWyfljZXmjqgnXVswXSxcXFxcbiAgICAgICAgICAgICAgICAgICAgfSlcXFxcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlSXRlbShzaHNvcnQgKyAnX3B1c2h0bycsIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5o6o6YCB6YCJ5LitPT5UVkJveCcsXFxcXG4gICAgICAgICAgICAgICAgICAgIH0pO1xcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICBzdG9yYWdlMC5wdXRNeVZhcihzaHNvcnQgKyAnX3B1c2hjZmcnLCBwY2ZnKTtcXFxcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8vJyArICjpgInmjqggPyAn6YCJ5o6o5byA5ZCvJyA6ICfpgInmjqjlhbPpl60nKTtcXFxcbiAgICAgICAgICAgIH0sIHNoc29ydCwgcG9iaiwgdmFyaSksXFxcXG4gICAgICAgICAgICBleHRyYToge1xcXFxuICAgICAgICAgICAgICAgIGlkOiBzaHNvcnQgKyAnX3B1c2hzJyxcXFxcbiAgICAgICAgICAgICAgICBjbHM6IHNoc29ydCArICdfcHVzaHRhYidcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgfSwge1xcXFxuICAgICAgICAgICAgdGl0bGU6IFxcXFxcXFwi5o6o6YCB5pys6aG1PT5UVkJveFxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgY29sX3R5cGU6ICdzY3JvbGxfYnV0dG9uJyxcXFxcbiAgICAgICAgICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoc2hzb3J0LCB2YXJpKSA9PiB7XFxcXG4gICAgICAgICAgICAgICAgdmFyIHBjZmcgPSBzdG9yYWdlMC5nZXRNeVZhcihzaHNvcnQgKyAnX3B1c2hjZmcnLCAne30nKTtcXFxcbiAgICAgICAgICAgICAgICB2YXIg5Y2V5o6oID0gcGNmZ1sn5Y2V5o6oJ10gPyBwY2ZnWyfljZXmjqgnXSA6IGZhbHNlO1xcXFxuICAgICAgICAgICAgICAgIHZhciDpgInmjqggPSBwY2ZnWyfpgInmjqgnXSA/IHBjZmdbJ+mAieaOqCddIDogZmFsc2U7XFxcXG4gICAgICAgICAgICAgICAgaWYgKCHljZXmjqggJiYgIemAieaOqCkge1xcXFxuICAgICAgICAgICAgICAgICAgICB2YXIgdGFicyA9IHN0b3JhZ2UwLmdldE15VmFyKHNoc29ydCArICdfdGFicycsICdbXScpO1xcXFxuICAgICAgICAgICAgICAgICAgICB0cnkge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBscyA9IHN0b3JhZ2UwLmdldE15VmFyKHNoc29ydCArICdfbGlzdCcsICdbXScpLm1hcChsaSA9PiB7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGxpLm1hcChpdGVtID0+IGl0ZW0udGl0bGUgKyAnJCcgKyBpdGVtLnVybC5yZXBsYWNlKC9AbGF6eVJ1bGVbXFxcXFxcXFxzXFxcXFxcXFxTXSsvZywgJycpKS5qb2luKCcjJylcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLmpvaW4oJyQkJCcpO1xcXFxuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwbHMgPSBzdG9yYWdlMC5nZXRNeVZhcihzaHNvcnQgKyBcXFxcXFxcIl9saXN0XFxcXFxcXCIsICdbXScpLm1hcCh4ID0+IHgudGl0bGUgKyBcXFxcXFxcIiRcXFxcXFxcIiArIHgudXJsKS5qb2luKFxcXFxcXFwiI1xcXFxcXFwiKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YWJzID0gW3RhYnNbZ2V0TXlWYXIodmFyaSwgJzAnKV1dO1xcXFxuICAgICAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICAgICAgICAgIC8qbG9nKHBscylcXFxcbiAgICAgICAgICAgICAgICAgICAgbG9nKHRhYnMpKi9cXFxcbiAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICAgICAgaWYgKOmAieaOqCkge1xcXFxuICAgICAgICAgICAgICAgICAgICB2YXIgcGxzID0gc3RvcmFnZTAuZ2V0TXlWYXIoc2hzb3J0ICsgXFxcXFxcXCJfZHVvc2VsZWN0XFxcXFxcXCIsICdbXScpLm1hcCh4ID0+IHgudGl0bGUgKyBcXFxcXFxcIiRcXFxcXFxcIiArIHgudXJsKS5qb2luKFxcXFxcXFwiI1xcXFxcXFwiKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBscy5sZW5ndGggPT0gMCkge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+mAieaLqeS4uuepuic7XFxcXG4gICAgICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYnMgPSBbJ+aSreaUvuWIl+ihqCddO1xcXFxuICAgICAgICAgICAgICAgIH1cXFxcblxcXFxuICAgICAgICAgICAgICAgIHZhciBpbmZvID0gc3RvcmFnZTAuZ2V0TXlWYXIoJ2VyX2luZm8nLCAne30nKTtcXFxcbiAgICAgICAgICAgICAgICB2YXIgZGVzYyA9IGluZm9bJ2Rlc2MnXTtcXFxcbiAgICAgICAgICAgICAgICB2YXIg5o6o6YCBID0ge1xcXFxuICAgICAgICAgICAgICAgICAgICBcXFxcXFxcIm5hbWVcXFxcXFxcIjogZ2V0UGFnZVRpdGxlKCksXFxcXG4gICAgICAgICAgICAgICAgICAgIFxcXFxcXFwiY29udGVudFxcXFxcXFwiOiBkZXNjIHx8ICcnLFxcXFxuICAgICAgICAgICAgICAgICAgICBcXFxcXFxcInBpY1xcXFxcXFwiOiBpbmZvWydpbWcnXSB8fCAnJyxcXFxcbiAgICAgICAgICAgICAgICAgICAgXFxcXFxcXCJmcm9tXFxcXFxcXCI6IHRhYnMuam9pbignJCQkJyksXFxcXG4gICAgICAgICAgICAgICAgICAgIFxcXFxcXFwidXJsXFxcXFxcXCI6IHBscyxcXFxcbiAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICAgICAgLy9sb2co5o6o6YCBKVxcXFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFxcXFxcImhpa2VyOi8vcGFnZS9wdXNoP3J1bGU9WFlR5o6o6YCBJnB1c2h1cmw9XFxcXFxcXCIgKyBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnko5o6o6YCBKSlcXFxcbiAgICAgICAgICAgIH0sIHNoc29ydCwgdmFyaSksXFxcXG4gICAgICAgICAgICBleHRyYToge1xcXFxuICAgICAgICAgICAgICAgIGlkOiBzaHNvcnQgKyAnX3B1c2h0bycsXFxcXG4gICAgICAgICAgICAgICAgY2xzOiBzaHNvcnQgKyAnX3B1c2h0YWInXFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgIH0sIHtcXFxcbiAgICAgICAgICAgIGNvbF90eXBlOiAnYmxhbmtfYmxvY2snLFxcXFxuICAgICAgICAgICAgZXh0cmE6IHtcXFxcbiAgICAgICAgICAgICAgICBjbHM6IHNoc29ydCArICdfcHVzaHRhYicsXFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgIH0pXFxcXG4gICAgfSxcXFxcbiAgICBzZXRMb25nY2xpY2s6IGZ1bmN0aW9uKHNoc29ydCwgY3VzdG9tKSB7XFxcXG4gICAgICAgIHJldHVybiBbe1xcXFxuICAgICAgICAgICAgdGl0bGU6ICfmoLflvI/wn46oJyxcXFxcbiAgICAgICAgICAgIGpzOiAkLnRvU3RyaW5nKChzaHNvcnQpID0+IHtcXFxcbiAgICAgICAgICAgICAgICBsZXQgYWxsX2NvbHMgPSBbJyddLmNvbmNhdChnZXRDb2xUeXBlcygpKTtcXFxcbiAgICAgICAgICAgICAgICBhbGxfY29scyA9IGFsbF9jb2xzLmZpbHRlcih4ID0+XFxcXG4gICAgICAgICAgICAgICAgICAgIC8odGV4dF98ZmxleCkuKi8udGVzdCh4KSAmJiB4ICE9ICd0ZXh0X2ljb24nKTtcXFxcbiAgICAgICAgICAgICAgICAvL2xvZyhhbGxfY29scylcXFxcbiAgICAgICAgICAgICAgICBsZXQgY2xzID0gc3RvcmFnZTAuZ2V0TXlWYXIoJ2VyX3BsYXlsaXN0cycsICd7fScpIHx8XFxcXG4gICAgICAgICAgICAgICAgICAgICcnO1xcXFxuICAgICAgICAgICAgICAgIGlmIChjbHNbc2hzb3J0XSAhPSAnJykge1xcXFxuICAgICAgICAgICAgICAgICAgICBjb2wgPSBjbHNbc2hzb3J0XS5jb2xfdHlwZTtcXFxcbiAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICAgICAgbGV0IOaMiemSruagt+W8jyA9IGFsbF9jb2xzLm1hcCgoaXQpID0+IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ID09PSBjb2wgPyAn8J+RiScgKyBpdCA6IGl0O1xcXFxuICAgICAgICAgICAgICAgIH0pO1xcXFxuICAgICAgICAgICAgICAgIGxldCB0aXBzID0gJ+ivt+mAieaLqemAiembhuaMiemSruagt+W8jyc7XFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuICQo5oyJ6ZKu5qC35byPLCAyLCB0aXBzKS5zZWxlY3QoKHNoc29ydCwgY2xzKSA9PiB7XFxcXG4gICAgICAgICAgICAgICAgICAgIGlucHV0ID0gaW5wdXQucmVwbGFjZSgv8J+RiS9nLCAnJyk7XFxcXG4gICAgICAgICAgICAgICAgICAgIC8qc3RvcmFnZTAuc2V0SXRlbSgn5oyJ6ZKu5qC35byPJywgaW5wdXQpOyovXFxcXG4gICAgICAgICAgICAgICAgICAgIGxldCBvbGRJZHMgPSAoZmluZEl0ZW1zQnlDbHMoc2hzb3J0KSB8fCBbXSkubWFwKGl0ID0+IGl0LmV4dHJhLmlkKTsgLy/ogIHlhYPntKBpZHNcXFxcbiAgICAgICAgICAgICAgICAgICAgb2xkSWRzLmZvckVhY2goeCA9PiB7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICB1cGRhdGVJdGVtKHgsIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xfdHlwZTogaW5wdXRcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xcXFxuICAgICAgICAgICAgICAgICAgICB9KTtcXFxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+W3suWIh+aNoumAiembhuaMiemSruagt+W8j+S4ujonICsgaW5wdXQ7XFxcXG4gICAgICAgICAgICAgICAgfSwgc2hzb3J0LCBjbHMpO1xcXFxuICAgICAgICAgICAgfSwgc2hzb3J0LCBjdXN0b20pXFxcXG4gICAgICAgIH1dXFxcXG4gICAgfSxcXFxcbiAgICBzZXRUYWJzOiBmdW5jdGlvbih0YWJzLCB2YXJpLCBzaHNvcnQsIHBhcnNlKSB7XFxcXG4gICAgICAgIGxldCBjdXN0b20gPSBwYXJzZS7oh6rlrprkuYk7XFxcXG4gICAgICAgIGN1c3RvbSA9IHRoaXMuZ2V0UHJlc2V0KGN1c3RvbSk7XFxcXG4gICAgICAgIHNoc29ydCA9IHNoc29ydCA/IHNoc29ydCA6ICdzaHNvcnQnO1xcXFxuICAgICAgICB2YXIgdGl0bGUgPSAoZ2V0TXlWYXIoc2hzb3J0ICsgJ19zb3J0JywgJzAnKSA9PSAnMScpID8gJzxiPjxzcGFuIHN0eWxlPVxcXFxcXFwiY29sb3I6ICcgKyBjdXN0b20u6YCG5bqP6aKc6ImyICsgJ1xcXFxcXFwiPumAhuW6jzwvc3Bhbj48L2I+JyA6ICc8Yj48c3BhbiBzdHlsZT1cXFxcXFxcImNvbG9yOiAnICsgY3VzdG9tLuato+W6j+minOiJsiArICdcXFxcXFxcIj7mraPluo88L3NwYW4+PC9iPidcXFxcbiAgICAgICAgZC5wdXNoKHtcXFxcbiAgICAgICAgICAgIHRpdGxlOiB2YXJpICsgJzonICsgdGl0bGUsXFxcXG4gICAgICAgICAgICBkZXNjOiAn5YWxJyArIFN0cmluZyh0YWJzLmxlbmd0aCkuZm9udGNvbG9yKCcjNDY4MkI0JykgKyAn5p2h57q/6LevJyxcXFxcbiAgICAgICAgICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoc2hzb3J0LCB2YXJpLCBjdXN0b20pID0+IHtcXFxcbiAgICAgICAgICAgICAgICBsZXQgY29uZiA9IGdldE15VmFyKHNoc29ydCArICdfc29ydCcsICcwJyk7XFxcXG4gICAgICAgICAgICAgICAgaWYgKGdldE15VmFyKCdlcl8nICsgdmFyaSArICdmb2xkJywgJzEnKSA9PSAnMCcpIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+WxleW8gOaJjeiDveaTjeS9nCc7XFxcXG4gICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgIHZhciBjbHNsaXN0cyA9IGZpbmRJdGVtc0J5Q2xzKHNoc29ydCk7XFxcXG4gICAgICAgICAgICAgICAgdmFyIG5ld2Nsc2xpc3QgPSAkLmRhdGFDb252ZXJ0KGNsc2xpc3RzKTtcXFxcblxcXFxuICAgICAgICAgICAgICAgIHZhciB0aXRsZXMgPSBbYCR7Y3VzdG9tLuato+W6j+minOiJsn1cXFxcXFxcIj7mraPluo9gLCBgJHtjdXN0b20u6YCG5bqP6aKc6ImyfVxcXFxcXFwiPumAhuW6j2BdO1xcXFxuXFxcXG4gICAgICAgICAgICAgICAgZGVsZXRlSXRlbUJ5Q2xzKHNoc29ydCk7XFxcXG4gICAgICAgICAgICAgICAgbmV3Y2xzbGlzdC5yZXZlcnNlKCk7XFxcXG4gICAgICAgICAgICAgICAgYWRkSXRlbUFmdGVyKHNoc29ydCArICdfbGluZScsIG5ld2Nsc2xpc3QpO1xcXFxuXFxcXG4gICAgICAgICAgICAgICAgdmFyIG9iaiA9IGZpbmRJdGVtKHNoc29ydCArICdfYXZhdGFyJylcXFxcblxcXFxuICAgICAgICAgICAgICAgIGlmIChjb25mID09ICcxJykge1xcXFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVJdGVtKHNoc29ydCArICdfYXZhdGFyJywge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IG9iai50aXRsZS5yZXBsYWNlKHRpdGxlc1sxXSwgdGl0bGVzWzBdKSxcXFxcbiAgICAgICAgICAgICAgICAgICAgfSlcXFxcbiAgICAgICAgICAgICAgICAgICAgcHV0TXlWYXIoc2hzb3J0ICsgJ19zb3J0JywgJzAnKTtcXFxcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xcXFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVJdGVtKHNoc29ydCArICdfYXZhdGFyJywge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IG9iai50aXRsZS5yZXBsYWNlKHRpdGxlc1swXSwgdGl0bGVzWzFdKSxcXFxcbiAgICAgICAgICAgICAgICAgICAgfSlcXFxcbiAgICAgICAgICAgICAgICAgICAgcHV0TXlWYXIoc2hzb3J0ICsgJ19zb3J0JywgJzEnKTtcXFxcbiAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICAgICAgcmV0dXJuICd0b2FzdDovL+WIh+aNouaOkuW6j+aIkOWKnyc7XFxcXG4gICAgICAgICAgICB9LCBzaHNvcnQsIHZhcmksIGN1c3RvbSksXFxcXG4gICAgICAgICAgICBjb2xfdHlwZTogJ2F2YXRhcicsXFxcXG4gICAgICAgICAgICBpbWc6IGN1c3RvbS7lm77moIcsXFxcXG4gICAgICAgICAgICBleHRyYToge1xcXFxuICAgICAgICAgICAgICAgIGlkOiBzaHNvcnQgKyAnX2F2YXRhcicsXFxcXG4gICAgICAgICAgICAgICAgbG9uZ0NsaWNrOiB0aGlzLnNldExvbmdjbGljayhzaHNvcnQpLFxcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICB9KVxcXFxuICAgICAgICB2YXIg5oqY5Y+gID0gJ+KAnOKAnOKAneKAnTxiPicgKyAn4pi3Jy5mb250Y29sb3IoXFxcXFxcXCIjRDNEM0QzXFxcXFxcXCIpO1xcXFxuICAgICAgICB2YXIg5bGV5byAID0gJ+KAnOKAnOKAneKAnTxiPicgKyAn4piwJy5mb250Y29sb3IoXFxcXFxcXCIjRkZBNTAwXFxcXFxcXCIpO1xcXFxuICAgICAgICB2YXIgZm9sZG5hbWUgPSAnZXJfJyArIHZhcmkgKyAnZm9sZCc7XFxcXG4gICAgICAgIHZhciBmb2xkID0gZ2V0TXlWYXIoZm9sZG5hbWUsICcxJyk7XFxcXG4gICAgICAgIGlmICh0eXBlb2YocGFyc2VbJ+aOqOmAgSddKSAhPSAndW5kZWZpbmVkJyAmJiBwYXJzZVsn5o6o6YCBJ10pXFxcXG4gICAgICAgICAgICB0aGlzLnB1c2hUYWIoJ2VyXycgKyB2YXJpLCBzaHNvcnQpO1xcXFxuXFxcXG4gICAgICAgIGQucHVzaCh7XFxcXG4gICAgICAgICAgICB0aXRsZTogZm9sZCA9PT0gJzAnID8g5oqY5Y+gIDog5bGV5byALFxcXFxuICAgICAgICAgICAgY29sX3R5cGU6IGN1c3RvbS7nur/ot6/moLflvI8sXFxcXG4gICAgICAgICAgICB1cmw6ICQoJyNub0xvYWRpbmcjJykubGF6eVJ1bGUoKGZvbGRuYW1lLCBzaHNvcnQpID0+IHtcXFxcbiAgICAgICAgICAgICAgICB2YXIgZm9sZCA9IGdldE15VmFyKGZvbGRuYW1lLCAnMScpO1xcXFxuICAgICAgICAgICAgICAgIHZhciBvYmogPSBmaW5kSXRlbShzaHNvcnQgKyAnX2xpbmUnKTtcXFxcbiAgICAgICAgICAgICAgICB2YXIgYnRuID0gZmluZEl0ZW0oc2hzb3J0ICsgJ19idXR0b24nKTtcXFxcbiAgICAgICAgICAgICAgICB2YXIgZm9sZHMgPSBbJzxmb250IGNvbG9yPVxcXFxcXFwiI0QzRDNEM1xcXFxcXFwiPuKYtycsICc8Zm9udCBjb2xvcj1cXFxcXFxcIiNGRkE1MDBcXFxcXFxcIj7imLAnXTtcXFxcblxcXFxuICAgICAgICAgICAgICAgIGlmIChmb2xkID09ICcwJykge1xcXFxuICAgICAgICAgICAgICAgICAgICBwdXRNeVZhcihmb2xkbmFtZSwgJzEnKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNzID0gc3RvcmFnZTAuZ2V0TXlWYXIoc2hzb3J0ICsgJ19jbHMnKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgYWRkSXRlbUFmdGVyKG9iai5leHRyYS5pZCwgY3MpO1xcXFxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVJdGVtKGJ0bi5leHRyYS5pZCwge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGJ0bi50aXRsZS5yZXBsYWNlKGZvbGRzWzBdLCBmb2xkc1sxXSksXFxcXG4gICAgICAgICAgICAgICAgICAgIH0pXFxcXG4gICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgIGlmIChmb2xkID09ICcxJykge1xcXFxuICAgICAgICAgICAgICAgICAgICBwdXRNeVZhcihmb2xkbmFtZSwgJzAnKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBjbHMgPSBmaW5kSXRlbXNCeUNscyhzaHNvcnQpO1xcXFxuICAgICAgICAgICAgICAgICAgICB2YXIgY3ggPSAkLmRhdGFDb252ZXJ0KHBjbHMpO1xcXFxuICAgICAgICAgICAgICAgICAgICBzdG9yYWdlMC5wdXRNeVZhcihzaHNvcnQgKyAnX2NscycsIGN4KTtcXFxcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlSXRlbUJ5Q2xzKHNoc29ydCk7XFxcXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0oYnRuLmV4dHJhLmlkLCB7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogYnRuLnRpdGxlLnJlcGxhY2UoZm9sZHNbMV0sIGZvbGRzWzBdKSxcXFxcbiAgICAgICAgICAgICAgICAgICAgfSlcXFxcbiAgICAgICAgICAgICAgICB9XFxcXG5cXFxcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8vJyArIChmb2xkID09PSAnMScgPyAn5pS26LW3JyA6ICflsZXlvIAnKTtcXFxcbiAgICAgICAgICAgIH0sIGZvbGRuYW1lLCBzaHNvcnQpLFxcXFxuICAgICAgICAgICAgZXh0cmE6IHtcXFxcbiAgICAgICAgICAgICAgICBpZDogc2hzb3J0ICsgJ19idXR0b24nLFxcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICB9KVxcXFxuICAgICAgICB0aGlzLmNyZWF0ZVBMaXN0KHRhYnMsIHZhcmksIHNoc29ydCwgY3VzdG9tKTtcXFxcbiAgICB9LFxcXFxuICAgIHNldFRhYnMyOiBmdW5jdGlvbih0YWJzLCB2YXJpLCBzaHNvcnQsIHBhcnNlLCBleHApIHtcXFxcbiAgICAgICAgbGV0IGN1c3RvbSA9IHBhcnNlLuiHquWumuS5iTtcXFxcbiAgICAgICAgY3VzdG9tID0gdGhpcy5nZXRQcmVzZXQoY3VzdG9tKTtcXFxcblxcXFxuICAgICAgICBzaHNvcnQgPSBzaHNvcnQgPyBzaHNvcnQgOiAnc2hzb3J0JztcXFxcbiAgICAgICAgdmFyIHRpdGxlID0gKGdldE15VmFyKHNoc29ydCArICdfc29ydCcsICcwJykgPT0gJzEnKSA/ICc8Yj48c3BhbiBzdHlsZT1cXFxcXFxcImNvbG9yOicgKyBjdXN0b20u6YCG5bqP6aKc6ImyICsgJ1xcXFxcXFwiPumAhuW6jzwvc3Bhbj48L2I+JyA6ICc8Yj48c3BhbiBzdHlsZT1cXFxcXFxcImNvbG9yOicgKyBjdXN0b20u5q2j5bqP6aKc6ImyICsgJ1xcXFxcXFwiPuato+W6jzwvc3Bhbj48L2I+J1xcXFxuXFxcXG4gICAgICAgIHZhciDmipjlj6AgPSAnPGI+5oqY5Y+gJyArICfimLcnLmZvbnRjb2xvcihcXFxcXFxcIiNEM0QzRDNcXFxcXFxcIik7XFxcXG4gICAgICAgIHZhciDlsZXlvIAgPSAnPGI+5bGV5byAJyArICfimLAnLmZvbnRjb2xvcihcXFxcXFxcIiNGRkE1MDBcXFxcXFxcIik7XFxcXG4gICAgICAgIHZhciBmb2xkbmFtZSA9ICdlcl8nICsgdmFyaSArICdmb2xkJztcXFxcbiAgICAgICAgdmFyIGZvbGQgPSBnZXRNeVZhcihmb2xkbmFtZSwgJzEnKTtcXFxcblxcXFxuICAgICAgICB2YXIgdXJsID0gJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgoZm9sZG5hbWUsIHNoc29ydCwgcHVzaCkgPT4ge1xcXFxuICAgICAgICAgICAgdmFyIHBsID0gc3RvcmFnZTAuZ2V0TXlWYXIoJ2VyX3BsYXlsaXN0cycsICd7fScpO1xcXFxuICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHBsKS5sZW5ndGggPT0gMSkge1xcXFxuICAgICAgICAgICAgICAgIHJldHVybiAnaGlrZXI6Ly9lbXB0eSdcXFxcbiAgICAgICAgICAgIH1cXFxcblxcXFxuICAgICAgICAgICAgdmFyIGZvbGQgPSBnZXRNeVZhcihmb2xkbmFtZSwgJzEnKTtcXFxcbiAgICAgICAgICAgIHZhciBvYmogPSBmaW5kSXRlbShzaHNvcnQgKyAnX2F2YXRhcicpXFxcXG4gICAgICAgICAgICBpZiAoZm9sZCA9PSAnMScpIHtcXFxcbiAgICAgICAgICAgICAgICB2YXIgYmNscyA9IGZpbmRJdGVtKHNoc29ydCArICdfYnV0dG9uJyk7XFxcXG4gICAgICAgICAgICAgICAgdmFyIHRjbHMgPSBmaW5kSXRlbXNCeUNscyhzaHNvcnQgKyAnX3RhYicpO1xcXFxuICAgICAgICAgICAgICAgIHZhciBsY2xzID0gZmluZEl0ZW0oc2hzb3J0ICsgJ19saW5lJyk7XFxcXG5cXFxcbiAgICAgICAgICAgICAgICB2YXIgcGNscyA9IGZpbmRJdGVtc0J5Q2xzKHNoc29ydCk7XFxcXG4gICAgICAgICAgICAgICAgdmFyIGNzID0gW2JjbHNdLmNvbmNhdCh0Y2xzLCBbbGNsc10sIHBjbHMpO1xcXFxuXFxcXG4gICAgICAgICAgICAgICAgaWYgKHB1c2gpIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBjbHMgPSBmaW5kSXRlbXNCeUNscyhzaHNvcnQgKyAnX3B1c2h0YWInKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgY3MgPSBwY2xzLmNvbmNhdChjcyk7XFxcXG4gICAgICAgICAgICAgICAgfVxcXFxuXFxcXG4gICAgICAgICAgICAgICAgdmFyIGN4ID0gJC5kYXRhQ29udmVydChjcyk7XFxcXG4gICAgICAgICAgICAgICAgc3RvcmFnZTAucHV0TXlWYXIoc2hzb3J0ICsgJ19jbHMnLCBjeCk7XFxcXG4gICAgICAgICAgICAgICAgaWYgKHB1c2gpIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlSXRlbUJ5Q2xzKHNoc29ydCArICdfcHVzaHRhYicpO1xcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICBkZWxldGVJdGVtKGJjbHMuZXh0cmEuaWQpO1xcXFxuICAgICAgICAgICAgICAgIGRlbGV0ZUl0ZW1CeUNscyhzaHNvcnQgKyAnX3RhYicpO1xcXFxuICAgICAgICAgICAgICAgIGRlbGV0ZUl0ZW0oc2hzb3J0ICsgJ19saW5lJyk7XFxcXG4gICAgICAgICAgICAgICAgZGVsZXRlSXRlbUJ5Q2xzKHNoc29ydCk7XFxcXG5cXFxcbiAgICAgICAgICAgICAgICB1cGRhdGVJdGVtKG9iai5leHRyYS5pZCwge1xcXFxuICAgICAgICAgICAgICAgICAgICBkZXNjOiBvYmouZGVzYy5yZXBsYWNlKCflsZXlvIA8Zm9udCBjb2xvcj1cXFxcXFxcIiNGRkE1MDBcXFxcXFxcIj7imLAnLCAn5oqY5Y+gPGZvbnQgY29sb3I9XFxcXFxcXCIjRDNEM0QzXFxcXFxcXCI+4pi3JyksXFxcXG4gICAgICAgICAgICAgICAgfSlcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIGlmIChmb2xkID09ICcwJykge1xcXFxuICAgICAgICAgICAgICAgIHZhciBjcyA9IHN0b3JhZ2UwLmdldE15VmFyKHNoc29ydCArICdfY2xzJyk7XFxcXG4gICAgICAgICAgICAgICAgYWRkSXRlbUFmdGVyKHNoc29ydCArICdfYXZhdGFyJywgY3MpO1xcXFxuICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0ob2JqLmV4dHJhLmlkLCB7XFxcXG4gICAgICAgICAgICAgICAgICAgIGRlc2M6IG9iai5kZXNjLnJlcGxhY2UoJ+aKmOWPoDxmb250IGNvbG9yPVxcXFxcXFwiI0QzRDNEM1xcXFxcXFwiPuKYtycsICflsZXlvIA8Zm9udCBjb2xvcj1cXFxcXFxcIiNGRkE1MDBcXFxcXFxcIj7imLAnKSxcXFxcbiAgICAgICAgICAgICAgICB9KVxcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgcHV0TXlWYXIoZm9sZG5hbWUsIGZvbGQgPT09ICcxJyA/ICcwJyA6ICcxJyk7XFxcXG4gICAgICAgICAgICByZXR1cm4gJ3RvYXN0Oi8vJyArIChmb2xkID09PSAnMScgPyAn5pS26LW3JyA6ICflsZXlvIAnKTtcXFxcbiAgICAgICAgfSwgZm9sZG5hbWUsIHNoc29ydCwgKHBhcnNlWyfmjqjpgIEnXSA/IHRydWUgOiBmYWxzZSkpO1xcXFxuICAgICAgICB2YXIgZGVzYyA9IChmb2xkID09PSAnMCcgPyDmipjlj6AgOiDlsZXlvIApICsgJ1xcXFxcXFxcdCc7XFxcXG5cXFxcbiAgICAgICAgaWYgKGV4cC5sZW5ndGggPT0gMSkge1xcXFxuICAgICAgICAgICAgdXJsID0gJ2hpa2VyOi8vZW1wdHknO1xcXFxuICAgICAgICAgICAgZGVzYyA9ICcnO1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIGQucHVzaCh7XFxcXG4gICAgICAgICAgICB0aXRsZTogdmFyaSArICc6XFxcXFxcXFx0XFxcXFxcXFx0JyArICflhbEnICsgU3RyaW5nKHRhYnMubGVuZ3RoKS5mb250Y29sb3IoJyM0NjgyQjQnKSArICfmnaHnur/ot68nLFxcXFxuICAgICAgICAgICAgZGVzYzogZGVzYyxcXFxcbiAgICAgICAgICAgIGNvbF90eXBlOiAnYXZhdGFyJyxcXFxcbiAgICAgICAgICAgIGltZzogY3VzdG9tLuWbvuaghyxcXFxcbiAgICAgICAgICAgIHVybDogdXJsLFxcXFxuICAgICAgICAgICAgZXh0cmE6IHtcXFxcbiAgICAgICAgICAgICAgICBpZDogc2hzb3J0ICsgJ19hdmF0YXInLFxcXFxuICAgICAgICAgICAgICAgIGxvbmdDbGljazogdGhpcy5zZXRMb25nY2xpY2soc2hzb3J0KSxcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgfSlcXFxcbiAgICAgICAgaWYgKHR5cGVvZihwYXJzZVsn5o6o6YCBJ10pICE9ICd1bmRlZmluZWQnICYmIHBhcnNlWyfmjqjpgIEnXSlcXFxcbiAgICAgICAgICAgIHRoaXMucHVzaFRhYignZXJfJyArIHZhcmksIHNoc29ydCk7XFxcXG5cXFxcbiAgICAgICAgaWYgKGZvbGQgPT0gJzAnKSB7XFxcXG4gICAgICAgICAgICByZXR1cm5cXFxcbiAgICAgICAgfVxcXFxuXFxcXG4gICAgICAgIGQucHVzaCh7XFxcXG4gICAgICAgICAgICB0aXRsZTogJ+KAnOKAnOKAneKAnScgKyB0aXRsZSxcXFxcbiAgICAgICAgICAgIHVybDogJCgnI25vTG9hZGluZyMnKS5sYXp5UnVsZSgodmFyaSwgc2hzb3J0LCBjdXN0b20pID0+IHtcXFxcbiAgICAgICAgICAgICAgICBsZXQgY29uZiA9IGdldE15VmFyKHNoc29ydCArICdfc29ydCcsICcwJyk7XFxcXG4gICAgICAgICAgICAgICAgdmFyIGNsc2xpc3RzID0gZmluZEl0ZW1zQnlDbHMoc2hzb3J0KTtcXFxcbiAgICAgICAgICAgICAgICB2YXIgbmV3Y2xzbGlzdCA9ICQuZGF0YUNvbnZlcnQoY2xzbGlzdHMpO1xcXFxuICAgICAgICAgICAgICAgIGRlbGV0ZUl0ZW1CeUNscyhzaHNvcnQpO1xcXFxuICAgICAgICAgICAgICAgIG5ld2Nsc2xpc3QucmV2ZXJzZSgpO1xcXFxuICAgICAgICAgICAgICAgIGFkZEl0ZW1BZnRlcihzaHNvcnQgKyAnX2xpbmUnLCBuZXdjbHNsaXN0KTtcXFxcblxcXFxuICAgICAgICAgICAgICAgIHZhciBvYmogPSBmaW5kSXRlbShzaHNvcnQgKyAnX2J1dHRvbicpXFxcXG4gICAgICAgICAgICAgICAgdmFyIHRpdGxlcyA9IFtgJHtjdXN0b20u5q2j5bqP6aKc6ImyfVxcXFxcXFwiPuato+W6j2AsIGAke2N1c3RvbS7pgIbluo/popzoibJ9XFxcXFxcXCI+6YCG5bqPYF07XFxcXG5cXFxcbiAgICAgICAgICAgICAgICBpZiAoY29uZiA9PSAnMScpIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlSXRlbShzaHNvcnQgKyAnX2J1dHRvbicsIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBvYmoudGl0bGUucmVwbGFjZSh0aXRsZXNbMV0sIHRpdGxlc1swXSksXFxcXG4gICAgICAgICAgICAgICAgICAgIH0pXFxcXG4gICAgICAgICAgICAgICAgICAgIHB1dE15VmFyKHNoc29ydCArICdfc29ydCcsICcwJyk7XFxcXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlSXRlbShzaHNvcnQgKyAnX2J1dHRvbicsIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBvYmoudGl0bGUucmVwbGFjZSh0aXRsZXNbMF0sIHRpdGxlc1sxXSksXFxcXG4gICAgICAgICAgICAgICAgICAgIH0pXFxcXG4gICAgICAgICAgICAgICAgICAgIHB1dE15VmFyKHNoc29ydCArICdfc29ydCcsICcxJyk7XFxcXG4gICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgIC8vcmVmcmVzaFBhZ2UoKVxcXFxuICAgICAgICAgICAgICAgIHJldHVybiAndG9hc3Q6Ly/liIfmjaLmjpLluo/miJDlip8nXFxcXG4gICAgICAgICAgICB9LCB2YXJpLCBzaHNvcnQsIGN1c3RvbSksXFxcXG4gICAgICAgICAgICBjb2xfdHlwZTogY3VzdG9tLue6v+i3r+agt+W8jyxcXFxcbiAgICAgICAgICAgIGV4dHJhOiB7XFxcXG4gICAgICAgICAgICAgICAgaWQ6IHNoc29ydCArICdfYnV0dG9uJyxcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgfSlcXFxcbiAgICAgICAgdGhpcy5jcmVhdGVQTGlzdCh0YWJzLCB2YXJpLCBzaHNvcnQsIGN1c3RvbSk7XFxcXG4gICAgfSxcXFxcbiAgICBzZXRMaXN0czogZnVuY3Rpb24obGlzdHMsIGluZGV4LCBzaHNvcnQsIHBhcnNlKSB7XFxcXG5cXFxcbiAgICAgICAgc3RvcmFnZTAucHV0TXlWYXIoc2hzb3J0ICsgJ19saXN0JywgbGlzdHMpO1xcXFxuXFxcXG4gICAgICAgIHBhcnNlID0gcGFyc2UgPyBwYXJzZSA6IHt9O1xcXFxuICAgICAgICB2YXIg5qC35byPID0gcGFyc2Uu5qC35byPID8gcGFyc2Uu5qC35byPIDogJyc7XFxcXG4gICAgICAgIHZhciDlm77moIcgPSBwYXJzZS7lm77moIcgPyBwYXJzZS7lm77moIcgOiAnaHR0cHM6Ly9oaWtlcmZhbnMuY29tL3R1Ymlhby9tb3ZpZS8xMy5zdmcnO1xcXFxuICAgICAgICB2YXIgYWpheCA9IHBhcnNlLkFqYXggPyBwYXJzZS5BamF4IDogZmFsc2U7XFxcXG5cXFxcbiAgICAgICAgc2hzb3J0ID0gc2hzb3J0ID8gc2hzb3J0IDogJ3Noc29ydCc7XFxcXG5cXFxcbiAgICAgICAgaWYgKGFqYXgpIHtcXFxcbiAgICAgICAgICAgIHZhciBsaXN0ID0gbGlzdHM7XFxcXG4gICAgICAgICAgICBpZiAoZ2V0TXlWYXIoc2hzb3J0ICsgJ19zb3J0JykgPT0gJzEnICYmIGxpc3RzLmxlbmd0aCA+IDApIHtcXFxcbiAgICAgICAgICAgICAgICBsaXN0ID0gbGlzdHMucmV2ZXJzZSgpO1xcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICB9IGVsc2Uge1xcXFxuICAgICAgICAgICAgdmFyIGxpc3QgPSBsaXN0c1tpbmRleF07XFxcXG4gICAgICAgICAgICBpZiAoZ2V0TXlWYXIoc2hzb3J0ICsgJ19zb3J0JykgPT0gJzEnICYmIGxpc3RzLmxlbmd0aCA+IDApIHtcXFxcbiAgICAgICAgICAgICAgICBsaXN0ID0gbGlzdHNbaW5kZXhdLnJldmVyc2UoKTtcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgfVxcXFxuXFxcXG4gICAgICAgIGlmICjmoLflvI8gPT0gJycpIHtcXFxcbiAgICAgICAgICAgIOagt+W8jyA9IGxpc3QubGVuZ3RoID4gMyA/ICd0ZXh0XzQnIDogJ3RleHRfMidcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBcXFxcbiAgICAgICAgdmFyIGV4dHJhID0gJyc7XFxcXG5cXFxcbiAgICAgICAgaWYgKHBhcnNlLmV4dHJhICE9IHVuZGVmaW5lZCkge1xcXFxuICAgICAgICAgICAgZXh0cmEgPSBwYXJzZS5leHRyYVxcXFxuICAgICAgICB9XFxcXG5cXFxcbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoID4gMCkge1xcXFxuICAgICAgICAgICAgdmFyIHBsaXN0ID0gc3RvcmFnZTAuZ2V0TXlWYXIoJ2VyX3BsYXlsaXN0cycsICd7fScpO1xcXFxuICAgICAgICAgICAgaWYgKCFwbGlzdC5oYXNPd25Qcm9wZXJ0eShzaHNvcnQpKSB7XFxcXG4gICAgICAgICAgICAgICAgcGxpc3Rbc2hzb3J0XSA9IHt9O1xcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgcGxpc3Rbc2hzb3J0XVsnY2xzJ10gPSBzaHNvcnQ7XFxcXG4gICAgICAgICAgICBwbGlzdFtzaHNvcnRdWydjb2xfdHlwZSddID0g5qC35byPO1xcXFxuICAgICAgICAgICAgcGxpc3Rbc2hzb3J0XVsncGljJ10gPSDlm77moIc7IFxcXFxuICAgICAgICAgICAgcGxpc3Rbc2hzb3J0XVsnZXh0cmEnXT1leHRyYTsgICAgICAgICAgIFxcXFxuICAgICAgICAgICAgc3RvcmFnZTAucHV0TXlWYXIoJ2VyX3BsYXlsaXN0cycsIHBsaXN0KTtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBcXFxcblxcXFxuICAgICAgICBmb3IgKHZhciBqIGluIGxpc3QpIHtcXFxcbiAgICAgICAgICAgIGxldCBsdCA9IHtcXFxcbiAgICAgICAgICAgICAgICB0aXRsZTogbGlzdFtqXS50aXRsZSxcXFxcbiAgICAgICAgICAgICAgICB1cmw6IGxpc3Rbal0udXJsLFxcXFxuICAgICAgICAgICAgICAgIGNvbF90eXBlOiDmoLflvI8sXFxcXG4gICAgICAgICAgICAgICAgcGljOiDlm77moIcsXFxcXG4gICAgICAgICAgICAgICAgZXh0cmE6IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgaWQ6IGxpc3Rbal0udXJsLnJlcGxhY2UoL0BsYXp5UnVsZVtcXFxcXFxcXHNcXFxcXFxcXFNdKy9nLCAnJyksXFxcXG4gICAgICAgICAgICAgICAgICAgIGNsczogc2hzb3J0LCAgICAgICAgICAgICBcXFxcbiAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICB9O1xcXFxuICAgICAgICAgICAgbHRbJ2V4dHJhJ10gPSBPYmplY3QuYXNzaWduKHt9LCBsdFsnZXh0cmEnXSwgZXh0cmEpO1xcXFxuICAgICAgICAgICAgZC5wdXNoKGx0KTtcXFxcbiAgICAgICAgfVxcXFxuICAgIH0sXFxcXG4gICAgZXZhbFJlOiBmdW5jdGlvbihpbnB1dCwg5Ye95pWwKSB7XFxcXG4gICAgICAgIGxldCByZXN1bHQgPSBpbnB1dDtcXFxcbiAgICAgICAgcmVzdWx0ID0gZXZhbCgnaW5wdXQnICsg5Ye95pWwKTtcXFxcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcXFxcbiAgICB9LFxcXFxuICAgIGdldFRhYnM6IGZ1bmN0aW9uKHBhcnNlKSB7XFxcXG4gICAgICAgIHZhciB0YWJzID0gW107XFxcXG4gICAgICAgIHZhciBhcnRzID0gW107XFxcXG4gICAgICAgIGlmICh0eXBlb2YgcGFyc2Uu57q/6LevID09ICdvYmplY3QnKSB7XFxcXG4gICAgICAgICAgICBhcnRzID0gcGFyc2Uu57q/6LevO1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIGlmIChhcnRzLmxlbmd0aCA9PSAwKSB7XFxcXG4gICAgICAgICAgICBhcnRzID0gcGRmYShodG1sLCBwYXJzZS7nur/ot68pO1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIHZhciDnur/ot6/lkI0gPSBwYXJzZS7nur/ot6/lkI3np7A7XFxcXG4gICAgICAgIHZhciDmm7/mjaLlh73mlbAgPSAnJztcXFxcbiAgICAgICAgaWYgKHBhcnNlLue6v+i3r+WQjeensC5pbmNsdWRlcygnQEAnKSkge1xcXFxuICAgICAgICAgICAg57q/6Lev5ZCNID0gcGFyc2Uu57q/6Lev5ZCN56ewLnNwbGl0KCdAQCcpWzBdO1xcXFxuICAgICAgICAgICAg5pu/5o2i5Ye95pWwID0gcGFyc2Uu57q/6Lev5ZCN56ewLnNwbGl0KCdAQCcpWzFdO1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIGZvciAodmFyIGkgaW4gYXJ0cykge1xcXFxuICAgICAgICAgICAgbGV0IGxpbmVuYW1lID0gJyc7XFxcXG4gICAgICAgICAgICBpZiAo57q/6Lev5ZCNID09ICcnKSB7XFxcXG4gICAgICAgICAgICAgICAgbGluZW5hbWUgPSBhcnRzW2ldO1xcXFxuICAgICAgICAgICAgfSBlbHNlIHtcXFxcbiAgICAgICAgICAgICAgICBsaW5lbmFtZSA9IHBkZmgoYXJ0c1tpXSwg57q/6Lev5ZCNKTtcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIGlmICjmm7/mjaLlh73mlbAgIT0gJycpIHtcXFxcbiAgICAgICAgICAgICAgICBsaW5lbmFtZSA9IHRoaXMuZXZhbFJlKGxpbmVuYW1lLCDmm7/mjaLlh73mlbApO1xcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgdGFicy5wdXNoKGxpbmVuYW1lKTtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICByZXR1cm4gdGFicztcXFxcbiAgICB9LFxcXFxuICAgIGdldExpc3RzOiBmdW5jdGlvbihwYXJzZSwgc2hzb3J0KSB7XFxcXG4gICAgICAgIHNoc29ydCA9IHNoc29ydCA/IHNoc29ydCA6ICdzaHNvcnQnO1xcXFxuICAgICAgICB2YXIgbGlzdHMgPSBbXTtcXFxcbiAgICAgICAgdmFyIGNvbnRzID0gW107XFxcXG4gICAgICAgIGlmICh0eXBlb2YgcGFyc2Uu6YCJ6ZuGID09ICdvYmplY3QnKSB7XFxcXG4gICAgICAgICAgICBjb250cyA9IHBhcnNlLumAiembhjtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBpZiAoY29udHMubGVuZ3RoID09IDApIHtcXFxcbiAgICAgICAgICAgIHRyeSB7XFxcXG4gICAgICAgICAgICAgICAgY29udHMgPSBwZGZhKGh0bWwsIHBhcnNlLumAiembhik7XFxcXG4gICAgICAgICAgICB9IGNhdGNoIHtcXFxcbiAgICAgICAgICAgICAgICB0b2FzdCgn6YCJ6ZuG5a6a5L2N5pyJ6K+vJylcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgfVxcXFxuXFxcXG4gICAgICAgIGxldCDmm7/mjaLlh73mlbAgPSAnJztcXFxcbiAgICAgICAgdmFyIOmAiembhuWQjeensCA9IHBhcnNlLumAiembhuWQjeensCA/IHBhcnNlLumAiembhuWQjeensCA6ICdhJiZUZXh0JztcXFxcbiAgICAgICAgaWYgKOmAiembhuWQjeensC5pbmNsdWRlcygnQEAnKSkge1xcXFxuICAgICAgICAgICAg6YCJ6ZuG5ZCN56ewID0gcGFyc2Uu6YCJ6ZuG5ZCN56ewLnNwbGl0KCdAQCcpWzBdO1xcXFxuICAgICAgICAgICAg5pu/5o2i5Ye95pWwID0gcGFyc2Uu6YCJ6ZuG5ZCN56ewLnNwbGl0KCdAQCcpWzFdO1xcXFxuICAgICAgICB9XFxcXG5cXFxcbiAgICAgICAgdmFyIOmAiembhumTvuaOpSA9IHBhcnNlLumAiembhumTvuaOpSA/IHBhcnNlLumAiembhumTvuaOpSA6ICdhJiZocmVmJztcXFxcbiAgICAgICAgdmFyIOino+aekCA9IHBhcnNlLuino+aekCA/IHBhcnNlLuino+aekCA6ICcnO1xcXFxuICAgICAgICB2YXIgdGVtcCA9IFtdO1xcXFxuXFxcXG4gICAgICAgIGZvciAodmFyIGkgaW4gY29udHMpIHtcXFxcbiAgICAgICAgICAgIGlmIChwYXJzZS7pgInpm4bliJfooaggIT0gdW5kZWZpbmVkKSB7XFxcXG4gICAgICAgICAgICAgICAgaWYgKHBhcnNlLumAiembhuWIl+ihqCA9PSAnb2JqZWN0Jykge1xcXFxuICAgICAgICAgICAgICAgICAgICBsaXN0cy5wdXNoKGNvbnRzW2ldLm1hcCh4ID0+IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHgudGl0bGUsXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdXJsOiB4LnVybCArIOino+aekCxcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICAgICAgfSkpXFxcXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgbGlzdHMucHVzaChwZGZhKGNvbnRzW2ldLCBwYXJzZS7pgInpm4bliJfooagpLm1hcCh4ID0+IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHBkZmgoeCwg6YCJ6ZuG5ZCN56ewKSxcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHBkKHgsIOmAiembhumTvuaOpSkgKyDop6PmnpAsXFxcXG4gICAgICAgICAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICAgICAgICAgIH0pKVxcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIH0gZWxzZSB7XFxcXG4gICAgICAgICAgICAgICAgdmFyIHVybCA9IHBkKGNvbnRzW2ldLCDpgInpm4bpk77mjqUpO1xcXFxuICAgICAgICAgICAgICAgIGlmICgh6YCJ6ZuG6ZO+5o6lLmluY2x1ZGVzKCdocmVmJykpIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgdXJsID0gcGRmaChjb250c1tpXSwg6YCJ6ZuG6ZO+5o6lKTtcXFxcbiAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICAgICAgbGV0IHRpdGxlID0gcGRmaChjb250c1tpXSwg6YCJ6ZuG5ZCN56ewKTtcXFxcbiAgICAgICAgICAgICAgICB0aXRsZSA9IOabv+aNouWHveaVsCAhPSAnJyA/IHRoaXMuZXZhbFJlKHRpdGxlLCDmm7/mjaLlh73mlbApIDogdGl0bGU7XFxcXG4gICAgICAgICAgICAgICAgdGVtcC5wdXNoKHtcXFxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHRpdGxlLFxcXFxuICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCArIOino+aekCxcXFxcbiAgICAgICAgICAgICAgICB9KVxcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICB9XFxcXG4gICAgICAgIGxldCDlgJLluo8gPSBwYXJzZS7lgJLluo8gPyBwYXJzZS7lgJLluo8gOiBmYWxzZTtcXFxcbiAgICAgICAgdmFyIHJlc3VsdHMgPSBsaXN0cy5sZW5ndGggPyBsaXN0cyA6IFt0ZW1wXTtcXFxcbiAgICAgICAgaWYgKOWAkuW6jykge1xcXFxuICAgICAgICAgICAgcmVzdWx0cyA9IHJlc3VsdHMubWFwKHggPT4geC5yZXZlcnNlKCkpO1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIHZhciBwbGlzdCA9IHN0b3JhZ2UwLmdldE15VmFyKCdlcl9wbGF5bGlzdHMnLCAne30nKTtcXFxcbiAgICAgICAgaWYgKHJlc3VsdHMuc29tZSh4ID0+IHgubGVuZ3RoID4gMCkpIHtcXFxcbiAgICAgICAgICAgIGlmICghcGxpc3QuaGFzT3duUHJvcGVydHkoc2hzb3J0KSkge1xcXFxuICAgICAgICAgICAgICAgIHBsaXN0W3Noc29ydF0gPSB7fTtcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIHBsaXN0W3Noc29ydF1bJ2xlbmd0aCddID0gcmVzdWx0cy5sZW5ndGg7XFxcXG4gICAgICAgIH07XFxcXG4gICAgICAgIHN0b3JhZ2UwLnB1dE15VmFyKCdlcl9wbGF5bGlzdHMnLCBwbGlzdCk7XFxcXG4gICAgICAgIHJldHVybiByZXN1bHRzO1xcXFxuICAgIH0sXFxcXG4gICAgZ2V0UGxheWVyczogZnVuY3Rpb24ocGFyc2UsIG1vZGUsIGZ1bmMpIHtcXFxcbiAgICAgICAgLy9sb2cobW9kZSlcXFxcbiAgICAgICAgdmFyIHBsYXkgPSAnZXJfcGxheWxpc3RfJztcXFxcbiAgICAgICAgdGhpcy5wcmVMb2FkKGZ1bmMpO1xcXFxuICAgICAgICB0aGlzLmNsb3NlKHBhcnNlLm1hcCh4ID0+IHgu57G75Z6LKSwgcGFyc2UubGVuZ3RoKTtcXFxcbiAgICAgICAgbW9kZSA9IG1vZGUgPyBtb2RlIDogMTtcXFxcblxcXFxuICAgICAgICBsZXQgcGUgPSBbMV07XFxcXG4gICAgICAgIHRyeSB7XFxcXG4gICAgICAgICAgICBwZSA9IHBhcnNlLm1hcCh4ID0+IHBkZmEoaHRtbCwgeC7nur/ot68pLmxlbmd0aCkuZmlsdGVyKHkgPT4geSA+IDApO1xcXFxuICAgICAgICB9IGNhdGNoIHt9XFxcXG5cXFxcblxcXFxuICAgICAgICBwYXJzZS5mb3JFYWNoKChpdGVtLCBpKSA9PiB7XFxcXG4gICAgICAgICAgICB2YXIgdGFicyA9IFsn5Li757q/J107XFxcXG4gICAgICAgICAgICBpZiAoaXRlbS7nur/ot68gIT0gdW5kZWZpbmVkKSB7XFxcXG4gICAgICAgICAgICAgICAgdGFicyA9IHRoaXMuZ2V0VGFicyhpdGVtKTtcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIHB1dE15VmFyKHBsYXkgKyBpICsgJ190YWJzJywgdGFicyk7XFxcXG4gICAgICAgICAgICBpZiAoaXRlbS5BamF4KSB7XFxcXG4gICAgICAgICAgICAgICAgaWYgKG1vZGUgPT0gMSkge1xcXFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFRhYnModGFicywgaXRlbS7nsbvlnossIHBsYXkgKyBpLCBpdGVtKTtcXFxcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xcXFxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFRhYnMyKHRhYnMsIGl0ZW0u57G75Z6LLCBwbGF5ICsgaSwgaXRlbSwgcGUpO1xcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICBwdXRNeVZhcignZXJfaHRtbCcsIGh0bWwpO1xcXFxuICAgICAgICAgICAgICAgIHB1dE15VmFyKCdlcl91cmwnLCBNWV9VUkwpO1xcXFxuXFxcXG4gICAgICAgICAgICAgICAgdmFyIGxpc3RzID0gZnVuYyhnZXRNeVZhcignZXJfJyArIGl0ZW0u57G75Z6LLCAnMCcpLCBNWV9VUkwpO1xcXFxuICAgICAgICAgICAgfSBlbHNlIHtcXFxcbiAgICAgICAgICAgICAgICB2YXIgbGlzdHMgPSB0aGlzLmdldExpc3RzKGl0ZW0sIHBsYXkgKyBpKTtcXFxcblxcXFxuXFxcXG4gICAgICAgICAgICAgICAgaWYgKGxpc3RzLnNvbWUoeCA9PiB4Lmxlbmd0aCA+IDApKSB7XFxcXG4gICAgICAgICAgICAgICAgICAgIGlmIChtb2RlID09IDEpIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VGFicyh0YWJzLCBpdGVtLuexu+WeiywgcGxheSArIGksIGl0ZW0pO1xcXFxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRUYWJzMih0YWJzLCBpdGVtLuexu+WeiywgcGxheSArIGksIGl0ZW0sIHBlKTtcXFxcbiAgICAgICAgICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIGlmIChnZXRNeVZhcignZXJfJyArIGl0ZW0u57G75Z6LICsgJ2ZvbGQnLCAnMScpID09ICcxJykge1xcXFxuICAgICAgICAgICAgICAgIHRoaXMuc2V0TGlzdHMobGlzdHMsIGdldE15VmFyKCdlcl8nICsgaXRlbS7nsbvlnossICcwJyksIHBsYXkgKyBpLCBpdGVtKTtcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIGQucHVzaCh7XFxcXG4gICAgICAgICAgICAgICAgY29sX3R5cGU6ICdibGFua19ibG9jaydcXFxcbiAgICAgICAgICAgIH0pXFxcXG4gICAgICAgIH0pXFxcXG4gICAgfVxcXFxufVxcXFxuXFxcXG5cXFxcbmxldCBNZXRob2RzID0ge1xcXFxuICAgIC8v5aSa6YCJ5qih5Z2XXFxcXG4gICAgTXVsdGlTZWxlY3RNb2RlOiBmdW5jdGlvbihuYW1lLCBpZCwgc2hzb3J0KSB7XFxcXG4gICAgICAgIHJldHVybiAkKCcjbm9Mb2FkaW5nIycpLmxhenlSdWxlKChkYXRhdGl0bGUsIGRhdGF1cmwsIHNoc29ydCkgPT4ge1xcXFxuICAgICAgICAgICAgZnVuY3Rpb24gdW5pcXVlKGFycikge1xcXFxuICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IG5ldyBNYXAoKVxcXFxuICAgICAgICAgICAgICAgIHJldHVybiBhcnIuZmlsdGVyKChhKSA9PiAhcmVzLmhhcyhhLnVybCkgJiYgcmVzLnNldChhLnVybCwgMSkpXFxcXG4gICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICBsZXQgZHVvc2VsZWN0ID0gc3RvcmFnZTAuZ2V0TXlWYXIoc2hzb3J0ICsgXFxcXFxcXCJfZHVvc2VsZWN0XFxcXFxcXCIpID8gc3RvcmFnZTAuZ2V0TXlWYXIoc2hzb3J0ICsgXFxcXFxcXCJfZHVvc2VsZWN0XFxcXFxcXCIpIDogW107XFxcXG4gICAgICAgICAgICBpZiAoZHVvc2VsZWN0LmZpbmRJbmRleCh4ID0+IHgudXJsID09PSBkYXRhdXJsKSA9PSAtMSkge1xcXFxuICAgICAgICAgICAgICAgIGR1b3NlbGVjdC5wdXNoKHtcXFxcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGRhdGF0aXRsZSxcXFxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiBkYXRhdXJsXFxcXG4gICAgICAgICAgICAgICAgfSlcXFxcbiAgICAgICAgICAgICAgICBkdW9zZWxlY3QgPSB1bmlxdWUoZHVvc2VsZWN0KVxcXFxuICAgICAgICAgICAgICAgIHVwZGF0ZUl0ZW0oZGF0YXVybCwge1xcXFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogYOKAnOKAnOKAneKAnTxzcGFuIHN0eWxlPVxcXFxcXFwiY29sb3I6I0ZGNTczM1xcXFxcXFwiPmAgKyBkYXRhdGl0bGUsXFxcXG4gICAgICAgICAgICAgICAgfSk7XFxcXG4gICAgICAgICAgICB9IGVsc2Uge1xcXFxuICAgICAgICAgICAgICAgIGZ1bmN0aW9uIHJlbW92ZUJ5VmFsdWUoYXJyLCB2YWwpIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHtcXFxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhcnJbaV1bJ3VybCddID09IHZhbCkge1xcXFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFyci5zcGxpY2UoaSwgMSk7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XFxcXG4gICAgICAgICAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICB9XFxcXG4gICAgICAgICAgICAgICAgcmVtb3ZlQnlWYWx1ZShkdW9zZWxlY3QsIGRhdGF1cmwpXFxcXG4gICAgICAgICAgICAgICAgdXBkYXRlSXRlbShkYXRhdXJsLCB7XFxcXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBkYXRhdGl0bGVcXFxcbiAgICAgICAgICAgICAgICB9KTtcXFxcbiAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgIHN0b3JhZ2UwLnB1dE15VmFyKHNoc29ydCArIFxcXFxcXFwiX2R1b3NlbGVjdFxcXFxcXFwiLCBkdW9zZWxlY3QpO1xcXFxuICAgICAgICAgICAgcmV0dXJuIFxcXFxcXFwiaGlrZXI6Ly9lbXB0eVxcXFxcXFwiXFxcXG4gICAgICAgIH0sIG5hbWUsIGlkLCBzaHNvcnQpXFxcXG4gICAgfSxcXFxcbn1cXFwifSx7XFxcImNvbF90eXBlXFxcIjpcXFwibW92aWVfM1xcXCIsXFxcIm5hbWVcXFwiOlxcXCLik7fkuoznuqfmkJzntKJcXFwiLFxcXCJwYXRoXFxcIjpcXFwidG9vbFxcXCIsXFxcInJ1bGVcXFwiOlxcXCIvL3ZhciB0aXRsZSA9IHBhcnNlRG9tRm9ySHRtbChodG1sLCDmkJzntKLmoIfnrb4pO1xcXFxudmFyIHRpdGxlID0gTVlfUEFSQU1TLnRpdGxlO1xcXFxubG9nKHRpdGxlKVxcXFxuZC5wdXNoKHtcXFxcbiAgICB0aXRsZTogJ+KAmOKAmOKAmeKAmTxiPjxtaWRkbGU+PGZvbnQgY29sb3I9XFxcXFxcXCIjRkYwMDAwXFxcXFxcXCI+IOS6keebmOWQmy7mjqg8L2ZvbnQ+PC9taWRkbGU+JyxcXFxcbiAgICBwaWNfdXJsOiAnaHR0cDovL2ltYWdlLmNvb2xhcGsuY29tLy9hcGtfbG9nby8yMDIyLzA1MDcvMTQvMF8zODI4XzcyNTRfNjM5QDI2MHgyNjAucG5nLnQucG5nJyxcXFxcbiAgICB1cmw6ICdoaWtlcjovL3NlYXJjaD9zPScgKyB0aXRsZSArICcmcnVsZT3kupHnm5jlkJso5o6o6YCBKScsXFxcXG4gICAgY29sX3R5cGU6ICdpY29uX3NtYWxsXzQnLFxcXFxufSk7XFxcXG5kLnB1c2goe1xcXFxuICAgIHRpdGxlOiAn4oCY4oCY4oCZ4oCZPGI+PG1pZGRsZT48Zm9udCBjb2xvcj1cXFxcXFxcIiMxRTkwRkZcXFxcXFxcIj4g6IGa5b2x4oiaPC9mb250PjwvbWlkZGxlPicsXFxcXG4gICAgcGljX3VybDogJ2h0dHA6Ly9pbWFnZS5jb29sYXBrLmNvbS9hcGtfbG9nby8yMDIxLzA3MjEvMTAvYmI1YzZkNTlhOWUzNjE1OTgzNGIzZjE5ZmM3NDlkZjUtMjg1MTA3LW9fMWZiM2Z0bDNnY3N0MXNkdDFuM2IxbTJ1bmpkMTgtdWlkLTY2MjQzNUAzNjB4MzYwLnBuZycsXFxcXG4gICAgdXJsOiAnaGlrZXI6Ly9zZWFyY2g/cz0nICsgdGl0bGUgKyAnJnJ1bGU96IGa5b2x4oiaJyxcXFxcbiAgICBjb2xfdHlwZTogJ2ljb25fc21hbGxfNCcsXFxcXG59KTtcXFxcbmQucHVzaCh7XFxcXG4gICAgdGl0bGU6ICfigJjigJjigJnigJk8Yj48bWlkZGxlPjxmb250IGNvbG9yPVxcXFxcXFwiI0ZGOEMwMFxcXFxcXFwiPiDogZrpmIXiiJo8L2ZvbnQ+PC9taWRkbGU+JyxcXFxcbiAgICBwaWNfdXJsOiAnaHR0cDovL3N0YXRpYy55aW5neW9uZ2h1aS5jb20vaWNvbi8xMjgvNjg2MzQ0Ny5wbmcnLFxcXFxuICAgIHVybDogJ2hpa2VyOi8vc2VhcmNoP3M9JyArIHRpdGxlICsgJyZydWxlPeiBmumYheKImicsXFxcXG4gICAgY29sX3R5cGU6ICdpY29uX3NtYWxsXzQnLFxcXFxufSk7XFxcXG5kLnB1c2goe1xcXFxuICAgIHRpdGxlOiAn4oCY4oCY4oCZ4oCZPGI+PG1pZGRsZT48Zm9udCBjb2xvcj1cXFxcXFxcIiMwMEZGMDBcXFxcXFxcIj4g5LqR55uY5ZCbLueugDwvZm9udD48L21pZGRsZT4nLFxcXFxuICAgIHBpY191cmw6ICdodHRwOi8vc3RhdGljLnlpbmd5b25naHVpLmNvbS9pY29uLzEyOC83MDAwNDc4LnBuZycsXFxcXG4gICAgdXJsOiAnaGlrZXI6Ly9zZWFyY2g/cz0nICsgdGl0bGUgKyAnJnJ1bGU95LqR55uY5ZCbLueugCcsXFxcXG4gICAgY29sX3R5cGU6ICdpY29uX3NtYWxsXzQnLFxcXFxufSk7XFxcIn0se1xcXCJjb2xfdHlwZVxcXCI6XFxcIm1vdmllXzNcXFwiLFxcXCJuYW1lXFxcIjpcXFwi4pGn562b6YCJ6aG16Z2iXFxcIixcXFwicGF0aFxcXCI6XFxcInNoYWlcXFwiLFxcXCJydWxlXFxcIjpcXFwianM6XFxcXG52YXIgZCA9IFtdO1xcXFxuY29uc3QgaG9zdCA9ICdodHRwczovL3d3dy5zdXlpbmcubGlmZS9pbmRleC5waHAvdm9kL3Nob3cvaWQvMS5odG1sJztcXFxcblxcXFxuYWRkTGlzdGVuZXIoXFxcXFxcXCJvbkNsb3NlXFxcXFxcXCIsICQudG9TdHJpbmcoKCkgPT4ge1xcXFxuICAgIGxldCBrZXlzID0gbGlzdE15VmFyS2V5cygpO1xcXFxuICAgIGZvciAobGV0IGl0IG9mIGtleXMpIHtcXFxcbiAgICAgICAgY2xlYXJNeVZhcihpdCk7XFxcXG4gICAgfVxcXFxufSkpO1xcXFxuXFxcXG52YXIgZ2V0UmFuZ2VDb2xvcnMgPSBmdW5jdGlvbigpIHvCoMKgwqDCoMKgwqDCoFxcXFxuICAgIHJldHVybiAnIycgKyAoJzAwMDAwJyArIChNYXRoLnJhbmRvbSgpICogMHgxMDAwMDAwIDw8IDApLnRvU3RyaW5nKDE2KSkuc3Vic3RyKC02KTvCoMKgwqDCoMKgXFxcXG59XFxcXG5jb25zdCDkuIvkuIDpobUgPSBcXFxcXFxcInBkKGh0bWwsICdhOm1hdGNoZXMo5LiL5LiA6aG1KSYmaHJlZicpXFxcXFxcXCI7XFxcXG5jb25zdCBwYWdlID0gTVlfUEFHRTtcXFxcbmV2YWwoSlNPTi5wYXJzZShyZXF1ZXN0KCdoaWtlcjovL3BhZ2UveWonKSkucnVsZSlcXFxcblxcXFxudmFyIOWumuS9jeS/oeaBryA9IFt7XFxcXG4gICAg5aSn57G75a6a5L2NOiAnLnNjcm9sbC1jb250ZW50JyxcXFxcbiAgICDlsI/nsbs6ICdib2R5JiZhOm5vdCg6bWF0Y2hlcyjpppbpobV86LWE6K6vfEFQUHzkuJPpoph856S+576kfOeDreaQnHznlZnoqIB856aP5YipfOi1nuWKqXzlkajooah85o6S6KGMfOaOqOiNkHzmm7TlpJp85pu05pawKSknLFxcXFxuICAgIOmTvuaOpeWkhOeQhjogKHUpID0+IHtcXFxcbiAgICAgICAvL2xldCB1cmwgPSB1LnJlcGxhY2UoL3R5cGUoXFxcXFxcXFwvXFxcXFxcXFxkKylcXFxcXFxcXC5odG1sLywgJ3Nob3ckMS0tLS0tLS0tLS0tLmh0bWwnKTtcXFxcbiAgICAgICAgbGV0IHVybCA9IHUucmVwbGFjZSgvdHlwZS8sICdzaG93Jyk7XFxcXG4gICAgICAgIHJldHVybiB1cmxcXFxcbiAgICB9XFxcXG59LCB7XFxcXG4gICAg5LiA57qn5a6a5L2NOiAnYm9keSYmLnNjcm9sbC1jb250ZW50LDE6bjpub3QoOmhhcyg6bWF0Y2hlcyjpopHpgZMpKSl8fC5zaXRlLXRhYnMnLFxcXFxuXFxcXG59XVxcXFxuXFxcXG5NWV9VUkw9IGhvc3Q7XFxcXG5sZXQgdHJ1ZV91cmwgPSBnZXRUcnVlbGluayhNWV9SVUxFLnVybCwgTVlfVVJMLCBwYWdlKTtcXFxcbmxvZyh0cnVlX3VybClcXFxcblxcXFxudmFyIGh0bWwgPSByZXF1ZXN0KHRydWVfdXJsKVxcXFxuY29uc3QgZGMgPSBkeW5hbWljQ2xhc3Moe1xcXFxuICAgIOWIhuexu+minOiJsjogZ2V0UmFuZ2VDb2xvcnMoKVxcXFxufSk7XFxcXG5kYy7lvIDlkK/mipjlj6AoZmFsc2UpXFxcXG5kYy7lvIDlkK/mkJzntKIoKVxcXFxuZGMu5Yib5bu65Yqo5oCB5YiG57G7KOWumuS9jeS/oeaBrylcXFxcblxcXFxudmFyIHBhcnNlUnVsZSA9IHtcXFxcbiAgICBsaXN0OiAnYm9keSYmLm1vZHVsZS1pdGVtJywgLy/nu5/kuIBpdGVtXFxcXG4gICAgdGl0bGU6ICdhJiZ0aXRsZScsXFxcXG4gICAgZGVzYzogJy5tb2R1bGUtaXRlbS10ZXh0JiZUZXh0JyxcXFxcbiAgICBpbWc6ICdpbWd8fC5sYXp5JiZkYXRhLXNyY3x8ZGF0YS1vcmlnaW5hbCcsXFxcXG4gICAgdXJsOiAnYSYmaHJlZicsXFxcXG4gICAgcmVmOiAnQFJlZmVyZXI9JyxcXFxcbiAgICBpbXQ6IHRydWUsXFxcXG4gICAgLy9iYWNraW1nOiB0cnVlLFxcXFxufVxcXFxuXFxcXG5DcmVhdGUuTGlzdChkLCBodG1sLCBwYXJzZVJ1bGUpO1xcXFxuYXV0b1BhZ2UoKTtcXFxcblxcXFxuc2V0UmVzdWx0KGQpXFxcIn0se1xcXCJjb2xfdHlwZVxcXCI6XFxcIm1vdmllXzNcXFwiLFxcXCJuYW1lXFxcIjpcXFwi4pGm562b6YCJ5YiG57G7XFxcIixcXFwicGF0aFxcXCI6XFxcInlqXFxcIixcXFwicnVsZVxcXCI6XFxcImpzOlxcXFxuLypcXFxcbuS4gOe6p+WwgeijhSBcXFxcbuWKqOaAgeWIhuexuyDliJfooajliJvlu7og6Ieq5Yqo5LiL5LiA6aG1XFxcXG52ZXIgMjAyMzA3MTAgMS4wXFxcXG4qL1xcXFxuZnVuY3Rpb24gZHluYW1pY0NsYXNzKG9wdGlvbnMpIHtcXFxcbiAgY29uc3Qgb2JqID0ge1xcXFxuICAgIC8v6buY6K6k5YC8XFxcXG4gICAgbGF5b3V0OiBcXFxcXFxcInVuZGVmaW5lZFxcXFxcXFwiLFxcXFxuICAgIGh0bWw6IFxcXFxcXFwiZW1wdHlcXFxcXFxcIixcXFxcbiAgICBwYWdlOiAwLFxcXFxuICAgIOWIhuexu+minOiJsjogXFxcXFxcXCIjRkE3Mjk4XFxcXFxcXCIsXFxcXG4gICAg5oqY5Y+gOiBcXFxcXFxcIuKAnOKAnOKAneKAnTxiPlxcXFxcXFwiICsgXFxcXFxcXCLiiKhcXFxcXFxcIi5mb250Y29sb3IoXFxcXFxcXCIjMWFhZDE5XFxcXFxcXCIpICsgXFxcXFxcXCI8L2I+XFxcXFxcXCIsXFxcXG4gICAg5bGV5byAOiBcXFxcXFxcIuKAnOKAnOKAneKAnTxiPlxcXFxcXFwiICsgXFxcXFxcXCLiiKdcXFxcXFxcIi5mb250Y29sb3IoXFxcXFxcXCIjRkYwMDAwXFxcXFxcXCIpICsgXFxcXFxcXCI8L2I+XFxcXFxcXCIsXFxcXG4gICAgb3BlbjogdHJ1ZSxcXFxcbiAgICBzdGF0ZTogTVlfUlVMRS51cmwsXFxcXG4gICAgc2VhcmNoOiBmYWxzZSxcXFxcbiAgICBjbGVhcnM6IFtdLFxcXFxuICAgIGNsZWFyYWxsOiBbXFxcXFxcXCJ5aV9maXJzdHBhZ2VcXFxcXFxcIl0sXFxcXG4gICAgZGVidWc6IGZhbHNlLFxcXFxuXFxcXG4gICAg6aKE6K6+KHBhcmFtKSB7XFxcXG4gICAgICBpZihwYXJhbT09dW5kZWZpbmVkKXtcXFxcbiAgICAgICAgcGFyYW09W107XFxcXG4gICAgICB9XFxcXG4gICAgICBPYmplY3Qua2V5cyhwYXJhbSkuZm9yRWFjaCgocHJvcGVydHkpID0+IHtcXFxcbiAgICAgICAgLy8g5a+55q+P5Liq5bGe5oCn5ZCN5omn6KGM5pON5L2cXFxcXG4gICAgICAgIGNvbnN0IHZhbHVlID0gcGFyYW1bcHJvcGVydHldOyAvLyDojrflj5blsZ7mgKflgLxcXFxcbiAgICAgICAgLy8g5Zyo6L+Z6YeM5omn6KGM5oKo55qE5pON5L2cXFxcXG4gICAgICAgIHRoaXNbcHJvcGVydHldID0gdmFsdWU7XFxcXG4gICAgICAgIGlmICh0aGlzLmRlYnVnKSB7XFxcXG4gICAgICAgICAgY29uc29sZS5sb2cocHJvcGVydHkgKyBcXFxcXFxcIjpcXFxcXFxcIiArIHZhbHVlKTtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgfSk7XFxcXG4gICAgfSxcXFxcbiAgICBldmFsSlNSdWxlKGl0ZW0sIGpzUnVsZSkge1xcXFxuICAgICAgbGV0IHJ1bGUgPSBqc1J1bGUucmVwbGFjZShcXFxcXFxcIkBqczpcXFxcXFxcIiwgXFxcXFxcXCJcXFxcXFxcIik7XFxcXG4gICAgICBydWxlID0gcnVsZS50cmltKCk7XFxcXG4gICAgICAvL2xvZygkLnN0cmluZ2lmeShydWxlKSlcXFxcbiAgICAgIGxldCBpbnB1dCA9IGl0ZW07XFxcXG4gICAgICBpZiAocnVsZS5zdGFydHNXaXRoKFxcXFxcXFwiKFxcXFxcXFwiKSkge1xcXFxuICAgICAgICBldmFsKFxcXFxcXFwicmVzdWx0ID0gXFxcXFxcXCIgKyBydWxlKTtcXFxcbiAgICAgIH0gZWxzZSB7XFxcXG4gICAgICAgIC8qKlxcXFxuICAgICAgICAgKiDov5jljp/miJAgJC50b1N0cmluZyguLi4pIOeahOacgOe7iOe7k+aenO+8jOi+vuWIsOacgOe7iOWkhOeQhuaWueW8j+i3n+S4iumdoueahCBpZiDkuIDoh7TnmoTnm67nmoRcXFxcbiAgICAgICAgICovXFxcXG4gICAgICAgIGV2YWwoXFxcXFxcXCJyZXN1bHQgPSBcXFxcXFxcIiArIFxcXFxcXFwiKCgpID0+IHtcXFxcXFxcIiArIHJ1bGUgKyBcXFxcXFxcIn0pKClcXFxcXFxcIik7XFxcXG4gICAgICB9XFxcXG4gICAgICByZXR1cm4gcmVzdWx0IHx8IFxcXFxcXFwiXFxcXFxcXCI7XFxcXG4gICAgfSxcXFxcbiAgICBnZXRUaXRsZShzcmMsIGNhdGVnb3J5KSB7XFxcXG4gICAgICBsZXQgdGl0bGUgPSBcXFxcXFxcIlxcXFxcXFwiO1xcXFxuICAgICAgbGV0IHRpdGxlUnVsZSA9IGNhdGVnb3J5IHx8IFxcXFxcXFwiYSYmVGV4dFxcXFxcXFwiO1xcXFxuICAgICAgaWYgKHRpdGxlUnVsZS5zdGFydHNXaXRoKFxcXFxcXFwiQGpzOlxcXFxcXFwiKSkge1xcXFxuICAgICAgICB0aXRsZSA9IHRoaXMuZXZhbEpTUnVsZShzcmMsIHRpdGxlUnVsZSk7XFxcXG4gICAgICB9IGVsc2Uge1xcXFxuICAgICAgICB0aXRsZSA9IHBhcnNlRG9tRm9ySHRtbChzcmMsIHRpdGxlUnVsZSk7XFxcXG4gICAgICB9XFxcXG4gICAgICByZXR1cm4gdGl0bGUgfHwgXFxcXFxcXCJcXFxcXFxcIjtcXFxcbiAgICB9LFxcXFxuICAgIGdldFVybChzcmMsIGNhdGVnb3J5KSB7XFxcXG4gICAgICBsZXQgdXJsID0gXFxcXFxcXCJcXFxcXFxcIjtcXFxcbiAgICAgIGxldCB1cmxSdWxlID0gY2F0ZWdvcnku6ZO+5o6lIHx8IFxcXFxcXFwiYSYmaHJlZlxcXFxcXFwiO1xcXFxuICAgICAgaWYgKHVybFJ1bGUuc3RhcnRzV2l0aChcXFxcXFxcIkBqczpcXFxcXFxcIikpIHtcXFxcbiAgICAgICAgdXJsID0gdGhpcy5ldmFsSlNSdWxlKHNyYywgdXJsUnVsZSk7XFxcXG4gICAgICB9IGVsc2Uge1xcXFxuICAgICAgICB1cmwgPSBwZChzcmMsIHVybFJ1bGUpO1xcXFxuICAgICAgfVxcXFxuICAgICAgaWYgKHR5cGVvZiBjYXRlZ29yeS7pk77mjqXlpITnkIYgPT0gXFxcXFxcXCJmdW5jdGlvblxcXFxcXFwiKSB7XFxcXG4gICAgICAgIHVybCA9IGNhdGVnb3J5LumTvuaOpeWkhOeQhih1cmwpO1xcXFxuICAgICAgfVxcXFxuICAgICAgcmV0dXJuIHVybCB8fCBcXFxcXFxcIlxcXFxcXFwiO1xcXFxuICAgIH0sXFxcXG4gICAgaXNOdWxsKHBhcmFtKSB7XFxcXG4gICAgICBpZiAocGFyYW0gPT0gbnVsbCkge1xcXFxuICAgICAgICByZXR1cm4gdGhpcztcXFxcbiAgICAgIH1cXFxcbiAgICAgIHJldHVybiBmYWxzZTtcXFxcbiAgICB9LFxcXFxuICAgIGlzQm9vbGVhbih2YXJpYWJsZSkge1xcXFxuICAgICAgaWYgKHR5cGVvZiB2YXJpYWJsZSAhPT0gXFxcXFxcXCJib29sZWFuXFxcXFxcXCIpIHtcXFxcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxcXFxcXFwi5byA5ZCv5oqY5Y+g6K+35Lyg5YWl5biD5bCU5YC8XFxcXFxcXCIpO1xcXFxuICAgICAgfVxcXFxuICAgIH0sXFxcXG4gICAg5riF6ZmkKGxpc3QpIHtcXFxcbiAgICAgIGlmICh0aGlzLmlzTnVsbChsaXN0KSkge1xcXFxuICAgICAgICByZXR1cm4gdGhpcztcXFxcbiAgICAgIH1cXFxcbiAgICAgIGlmIChsaXN0LmNvbnN0cnVjdG9yID09IFN0cmluZykge1xcXFxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXFxcXFxcXCLmuIXpmaTmiqXplJk66K+35Lyg5YiX6KGoXFxcXFxcXCIpO1xcXFxuICAgICAgfVxcXFxuICAgICAgdGhpcy5jbGVhcnMgPSBsaXN0O1xcXFxuICAgICAgcmV0dXJuIHRoaXM7XFxcXG4gICAgfSxcXFxcbiAgICDlhajmuIUobGlzdCkge1xcXFxuICAgICAgaWYgKHRoaXMuaXNOdWxsKGxpc3QpKSB7XFxcXG4gICAgICAgIHJldHVybiB0aGlzO1xcXFxuICAgICAgfVxcXFxuICAgICAgdmFyIGMgPSB0aGlzLmNsZWFyYWxsO1xcXFxuICAgICAgbGlzdCA9IGMuY29uY2F0KGxpc3QpO1xcXFxuICAgICAgdGhpcy5jbGVhcmFsbCA9IGxpc3Q7XFxcXG4gICAgICByZXR1cm4gdGhpcztcXFxcbiAgICB9LFxcXFxuICAgIOa6kOeggShpbnB1dCkge1xcXFxuICAgICAgdGhpcy5odG1sID0gaW5wdXQ7XFxcXG4gICAgICByZXR1cm4gdGhpcztcXFxcbiAgICB9LFxcXFxuICAgIOeVjOmdoihpbnB1dCkge1xcXFxuICAgICAgdGhpcy5sYXlvdXQgPSBpbnB1dDtcXFxcbiAgICAgIHJldHVybiB0aGlzO1xcXFxuICAgIH0sXFxcXG4gICAg6aG156CBKGlucHV0KSB7XFxcXG4gICAgICB0aGlzLnBhZ2UgPSBpbnB1dDtcXFxcbiAgICAgIHJldHVybiB0aGlzO1xcXFxuICAgIH0sXFxcXG4gICAg54q25oCBKGlucHV0KSB7XFxcXG4gICAgICB0aGlzLnN0YXRlID0gaW5wdXQ7XFxcXG4gICAgICByZXR1cm4gdGhpcztcXFxcbiAgICB9LFxcXFxuICAgIOW8gOWQr+aQnOe0oigpIHtcXFxcbiAgICAgIHRoaXMuc2VhcmNoID0gdHJ1ZTtcXFxcbiAgICAgIHJldHVybiB0aGlzO1xcXFxuICAgIH0sXFxcXG4gICAg5byA5ZCv5oqY5Y+gKGlucHV0KSB7XFxcXG4gICAgICBpZiAoaW5wdXQgPT0gdW5kZWZpbmVkKSB7XFxcXG4gICAgICAgIGlucHV0ID0gdHJ1ZTtcXFxcbiAgICAgIH1cXFxcbiAgICAgIHRoaXMuaXNCb29sZWFuKGlucHV0KTtcXFxcbiAgICAgIHRoaXMub3BlbiA9IGlucHV0O1xcXFxuICAgICAgcmV0dXJuIHRoaXM7XFxcXG4gICAgfSxcXFxcbiAgICBzZXRUaXRsZShrLCBpLCB0KSB7XFxcXG4gICAgICByZXR1cm4gayA9PSBpID8gXFxcXFxcXCLigJzigJzigJ3igJ1cXFxcXFxcIiArIHQuZm9udGNvbG9yKHRoaXMu5YiG57G76aKc6ImyKSA6IHQ7XFxcXG4gICAgfSxcXFxcbiAgICBhY3Rpb24ob2JqKSB7XFxcXG4gICAgICByZXR1cm4gW1xcXFxuICAgICAgICB7XFxcXG4gICAgICAgICAgdGl0bGU6IFxcXFxcXFwi5riF6Zmk54q25oCBXFxcXFxcXCIsXFxcXG4gICAgICAgICAganM6ICQudG9TdHJpbmcoKG9iaikgPT4ge1xcXFxuICAgICAgICAgICAgbG9nKG9iaik7XFxcXG4gICAgICAgICAgICBjbGVhck15VmFyKG9iai5zdGF0ZSk7XFxcXG4gICAgICAgICAgICBjbGVhck15VmFyKFxcXFxcXFwiaGVhZC5jYXRlXFxcXFxcXCIpO1xcXFxuICAgICAgICAgICAgb2JqLmFsbC5mb3JFYWNoKChpdGVtKSA9PiB7XFxcXG4gICAgICAgICAgICAgIGNsZWFyTXlWYXIoaXRlbSk7XFxcXG4gICAgICAgICAgICB9KTtcXFxcbiAgICAgICAgICAgIG9iai5jbC5mb3JFYWNoKChpdGVtKSA9PiB7XFxcXG4gICAgICAgICAgICAgIGNsZWFyTXlWYXIoaXRlbSk7XFxcXG4gICAgICAgICAgICB9KTtcXFxcbiAgICAgICAgICAgIHJlZnJlc2hQYWdlKCk7XFxcXG4gICAgICAgICAgfSwgb2JqKSxcXFxcbiAgICAgICAgfSxcXFxcbiAgICAgIF07XFxcXG4gICAgfSxcXFxcbiAgICBjaGVja1BhcmFtKCkge1xcXFxuICAgICAgdmFyIG9iaiA9IHt9O1xcXFxuICAgICAgaWYgKHRoaXMucGFnZSA9PSAwICYmIHR5cGVvZiBwYWdlID09IFxcXFxcXFwidW5kZWZpbmVkXFxcXFxcXCIpIHtcXFxcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxcXFxcXFwi6K+35Lyg5YWl6aG156CBXFxcXFxcXCIpO1xcXFxuICAgICAgfSBlbHNlIHtcXFxcbiAgICAgICAgaWYgKHR5cGVvZiBwYWdlID09IFxcXFxcXFwidW5kZWZpbmVkXFxcXFxcXCIpIHtcXFxcbiAgICAgICAgICBvYmpbXFxcXFxcXCLpobXnoIFcXFxcXFxcIl0gPSB0aGlzLnBhZ2U7XFxcXG4gICAgICAgIH0gZWxzZSB7XFxcXG4gICAgICAgICAgb2JqW1xcXFxcXFwi6aG156CBXFxcXFxcXCJdID0gcGFnZTtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgfVxcXFxuICAgICAgaWYgKHRoaXMuaHRtbCA9PSBcXFxcXFxcImVtcHR5XFxcXFxcXCIgJiYgdHlwZW9mIGh0bWwgPT0gXFxcXFxcXCJ1bmRlZmluZWRcXFxcXFxcIikge1xcXFxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXFxcXFxcXCLor7fkvKDlhaXmupDnoIFcXFxcXFxcIik7XFxcXG4gICAgICB9IGVsc2Uge1xcXFxuICAgICAgICBpZiAodHlwZW9mIGh0bWwgPT0gXFxcXFxcXCJ1bmRlZmluZWRcXFxcXFxcIikge1xcXFxuICAgICAgICAgIG9ialtcXFxcXFxcIua6kOeggVxcXFxcXFwiXSA9IHRoaXMuaHRtbDtcXFxcbiAgICAgICAgfSBlbHNlIHtcXFxcbiAgICAgICAgICBvYmpbXFxcXFxcXCLmupDnoIFcXFxcXFxcIl0gPSBodG1sO1xcXFxuICAgICAgICB9XFxcXG4gICAgICB9XFxcXG4gICAgICBpZiAodGhpcy5sYXlvdXQgPT0gXFxcXFxcXCJ1bmRlZmluZWRcXFxcXFxcIiAmJiB0eXBlb2YgZCA9PSBcXFxcXFxcInVuZGVmaW5lZFxcXFxcXFwiKSB7XFxcXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcXFxcXFxcIuivt+S8oOWFpeeVjOmdolxcXFxcXFwiKTtcXFxcbiAgICAgIH0gZWxzZSB7XFxcXG4gICAgICAgIGlmICh0eXBlb2YgZCA9PSBcXFxcXFxcInVuZGVmaW5lZFxcXFxcXFwiKSB7XFxcXG4gICAgICAgICAgb2JqW1xcXFxcXFwi55WM6Z2iXFxcXFxcXCJdID0gdGhpcy5sYXlvdXQ7XFxcXG4gICAgICAgIH0gZWxzZSB7XFxcXG4gICAgICAgICAgb2JqW1xcXFxcXFwi55WM6Z2iXFxcXFxcXCJdID0gZDtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgfVxcXFxuICAgICAgcmV0dXJuIG9iajtcXFxcbiAgICB9LFxcXFxuICAgIOWIm+W7uuWKqOaAgeWIhuexuyhydWxlT2JqKSB7XFxcXG4gICAgICBpZiAocnVsZU9iaiA9PSB1bmRlZmluZWQpIHtcXFxcbiAgICAgICAgcnVsZU9iaiA9IFtdO1xcXFxuICAgICAgfVxcXFxuICAgICAgLy/liJ3lp4vljJblj5jph4/lvIDlp4tcXFxcbiAgICAgIGNvbnN0IHBhcmFtID0gdGhpcy5jaGVja1BhcmFtKCk7XFxcXG4gICAgICBjb25zdCBwYWdlID0gcGFyYW0u6aG156CBO1xcXFxuICAgICAgY29uc3QgaHRtbCA9IHBhcmFtLua6kOeggTtcXFxcbiAgICAgIGNvbnN0IGQgPSBwYXJhbS7nlYzpnaI7XFxcXG4gICAgICBjb25zdCDnirbmgIEgPSB0aGlzLnN0YXRlO1xcXFxuICAgICAgY29uc3Qgc2VhcmNoID0gdGhpcy5zZWFyY2g7XFxcXG4gICAgICBjb25zdCBlbXB0eSA9IFxcXFxcXFwiaGlrZXI6Ly9lbXB0eVxcXFxcXFwiO1xcXFxuICAgICAgY29uc3Qg5oqY5Y+g54q25oCBID0gdGhpcy5vcGVuO1xcXFxuICAgICAgdmFyIOWxleW8gCA9IHRoaXMu5bGV5byAO1xcXFxuICAgICAgdmFyIOaKmOWPoCA9IHRoaXMu5oqY5Y+gO1xcXFxuICAgICAgdmFyIOWFqOa4hSA9IHRoaXMuY2xlYXJhbGw7XFxcXG4gICAgICB2YXIg5riF6ZmkID0gdGhpcy5jbGVhcnM7XFxcXG4gICAgICAvL+WIneWni+WMluWPmOmHj+e7k+adn1xcXFxuICAgICAgbGV0IGluaXRfY2F0ZSA9IG5ldyBBcnJheSgyMCkuZmlsbChcXFxcXFxcIjBcXFxcXFxcIik7XFxcXG4gICAgICBjb25zdCBmb2xkID0gZ2V0TXlWYXIoTVlfUlVMRS5ncm91cCwgXFxcXFxcXCIwXFxcXFxcXCIpO1xcXFxuICAgICAgY29uc3QgY2F0ZV90ZW1wID0gSlNPTi5wYXJzZShcXFxcbiAgICAgICAgZ2V0TXlWYXIoXFxcXFxcXCJoZWFkLmNhdGVcXFxcXFxcIiwgSlNPTi5zdHJpbmdpZnkoaW5pdF9jYXRlKSlcXFxcbiAgICAgICk7XFxcXG4gICAgICBpZiAoc2VhcmNoICYmIHBhZ2UgPT0gMSkge1xcXFxuICAgICAgICBkLnB1c2goe1xcXFxuICAgICAgICAgIHRpdGxlOiBcXFxcXFxcIlxcXFxcXFwiLFxcXFxuICAgICAgICAgIHVybDogXFxcXFxcXCInaGlrZXI6Ly9zZWFyY2g/cnVsZT1cXFxcXFxcIiArIE1ZX1JVTEUudGl0bGUgKyBcXFxcXFxcIiZzPScraW5wdXRcXFxcXFxcIixcXFxcbiAgICAgICAgICBkZXNjOiBcXFxcXFxcIuaQnOe0ouWFs+mUruivjVxcXFxcXFwiLFxcXFxuICAgICAgICAgIGNvbF90eXBlOiBcXFxcXFxcImlucHV0XFxcXFxcXCIsXFxcXG4gICAgICAgICAgZXh0cmE6IHtcXFxcbiAgICAgICAgICAgIGRlZmF1bHRWYWx1ZTogZ2V0TXlWYXIoXFxcXFxcXCJrZXl3b3JkXFxcXFxcXCIsIFxcXFxcXFwiXFxcXFxcXCIpLFxcXFxuICAgICAgICAgICAgb25DaGFuZ2U6ICQudG9TdHJpbmcoKCkgPT4ge1xcXFxuICAgICAgICAgICAgICBwdXRNeVZhcihcXFxcXFxcImtleXdvcmRcXFxcXFxcIiwgaW5wdXQpO1xcXFxuICAgICAgICAgICAgfSksXFxcXG4gICAgICAgICAgfSxcXFxcbiAgICAgICAgfSk7XFxcXG4gICAgICB9XFxcXG4gICAgICBjb25zdCBjYXRlZ29yaWVzID0gW107XFxcXG4gICAgICBydWxlT2JqLmZvckVhY2goKHgpID0+IHtcXFxcbiAgICAgICAgdmFyIGxpc3QgPSBbXTtcXFxcbiAgICAgICAgaWYoeC7kuIDnuqflrprkvY0pe1xcXFxuICAgICAgICAgIGlmICh4LuS4gOe6p+WumuS9jS5zdGFydHNXaXRoKFxcXFxcXFwiQGpzOlxcXFxcXFwiKSkge1xcXFxuICAgICAgICAgIGxpc3QgPSB0aGlzLmV2YWxKU1J1bGUoaHRtbCwgeC7kuIDnuqflrprkvY0pO1xcXFxuICAgICAgICAgfSBlbHNlIHtcXFxcbiAgICAgICAgICBsaXN0ID0gcGRmYShodG1sLCB4LuS4gOe6p+WumuS9jSk7XFxcXG4gICAgICAgICAgfVxcXFxuICAgICAgICB9XFxcXG4gICAgICAgIGlmKHgu5aSn57G75a6a5L2NKXtcXFxcbiAgICAgICAgICBpZiAoeC7lpKfnsbvlrprkvY0uc3RhcnRzV2l0aChcXFxcXFxcIkBqczpcXFxcXFxcIikpIHtcXFxcbiAgICAgICAgICBsaXN0ID0gdGhpcy5ldmFsSlNSdWxlKGh0bWwsIHgu5aSn57G75a6a5L2NKTtcXFxcbiAgICAgICAgIH0gZWxzZSB7XFxcXG4gICAgICAgICAgbGlzdCA9IFtwZGZhKGh0bWwsIHgu5aSn57G75a6a5L2NKS5qb2luKCdcXFxcXFxcXG4nKV07XFxcXG4gICAgICAgICB9XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgdmFyIOS4gOe6pyA9IGxpc3QubWFwKChzKSA9PiB7XFxcXG4gICAgICAgICAgdmFyIHNsaXN0ID0gW107XFxcXG4gICAgICAgICAgaWYgKCEoXFxcXFxcXCLlsI/nsbtcXFxcXFxcIiBpbiB4KSkge1xcXFxuICAgICAgICAgICAgeC7lsI/nsbsgPSBcXFxcXFxcImJvZHkmJmE6bm90KDptYXRjaGVzKOmmlumhtSkpOm5vdChhOm5vdChbaHJlZl0pKVxcXFxcXFwiO1xcXFxuICAgICAgICAgIH1cXFxcbiAgICAgICAgICBpZiAoeC7lsI/nsbsuc3RhcnRzV2l0aChcXFxcXFxcIkBqczpcXFxcXFxcIikpIHtcXFxcbiAgICAgICAgICAgIHNsaXN0ID0gdGhpcy5ldmFsSlNSdWxlKHMsIHgu5bCP57G7KTtcXFxcbiAgICAgICAgICB9IGVsc2Uge1xcXFxuICAgICAgICAgICAgc2xpc3QgPSBwZGZhKHMsIHgu5bCP57G7KTtcXFxcbiAgICAgICAgICB9XFxcXG4gICAgICAgICAgdmFyIOWumuS9jSA9IHNsaXN0Lm1hcCgoaXRlbSkgPT4ge1xcXFxuICAgICAgICAgICAgdmFyIHRpdGxlID0gdGhpcy5nZXRUaXRsZShpdGVtLCB4Luagh+mimCk7XFxcXG4gICAgICAgICAgICB2YXIgdXJsID0gdGhpcy5nZXRVcmwoaXRlbSwgeCk7XFxcXG4gICAgICAgICAgICB2YXIgb2JqID0geyB0aXRsZTogdGl0bGUsIHVybDogdXJsIH07XFxcXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqKTtcXFxcbiAgICAgICAgICB9KTtcXFxcbiAgICAgICAgICByZXR1cm4g5a6a5L2NO1xcXFxuICAgICAgICB9KTtcXFxcbiAgICAgICAgLy9sb2co5LiA57qnKVxcXFxuICAgICAgICAvL2xvZyjkuIDnuqcubGVuZ3RoKVxcXFxuICAgICAgICBpZiAo5LiA57qnLmxlbmd0aCA9PSAxKSB7XFxcXG4gICAgICAgICAgY2F0ZWdvcmllcy5wdXNoKOS4gOe6py5qb2luKFxcXFxcXFwiXFxcXFxcXFxuXFxcXFxcXCIpKTtcXFxcbiAgICAgICAgfSBlbHNlIHtcXFxcbiAgICAgICAgICDkuIDnuqcuZm9yRWFjaCgoaXRlbSkgPT4ge1xcXFxuICAgICAgICAgICAgY2F0ZWdvcmllcy5wdXNoKGl0ZW0uam9pbihcXFxcXFxcIixcXFxcXFxcIikpO1xcXFxuICAgICAgICAgIH0pO1xcXFxuICAgICAgICB9XFxcXG4gICAgICAgIC8vbG9nKGNhdGVnb3JpZXMpXFxcXG4gICAgICB9KTtcXFxcbiAgICAgIGlmICjmipjlj6DnirbmgIEpIHtcXFxcbiAgICAgICAgaWYgKHBhZ2UgPT0gMSkge1xcXFxuICAgICAgICAgIGQucHVzaCh7XFxcXG4gICAgICAgICAgICB0aXRsZTogZm9sZCA9PT0gXFxcXFxcXCIxXFxcXFxcXCIgPyDmipjlj6AgOiDlsZXlvIAsXFxcXG4gICAgICAgICAgICB1cmw6ICQoXFxcXFxcXCIjbm9Mb2FkaW5nI1xcXFxcXFwiKS5sYXp5UnVsZShcXFxcbiAgICAgICAgICAgICAgKGZvbGQsIHUsIGFsbCkgPT4ge1xcXFxuICAgICAgICAgICAgICAgIHB1dE15VmFyKE1ZX1JVTEUuZ3JvdXAsIGZvbGQgPT09IFxcXFxcXFwiMVxcXFxcXFwiID8gXFxcXFxcXCIwXFxcXFxcXCIgOiBcXFxcXFxcIjFcXFxcXFxcIik7XFxcXG4gICAgICAgICAgICAgICAgLyphbGwuZm9yRWFjaCgoaXRlbSkgPT4ge1xcXFxuICAgICAgICAgICAgICAgICAgY2xlYXJNeVZhcihpdGVtKTtcXFxcbiAgICAgICAgICAgICAgICB9KTsqL1xcXFxuICAgICAgICAgICAgICAgIHJlZnJlc2hQYWdlKGZhbHNlKTtcXFxcbiAgICAgICAgICAgICAgICByZXR1cm4gXFxcXFxcXCJoaWtlcjovL2VtcHR5XFxcXFxcXCI7XFxcXG4gICAgICAgICAgICAgIH0sXFxcXG4gICAgICAgICAgICAgIGZvbGQsXFxcXG4gICAgICAgICAgICAgIOeKtuaAgSxcXFxcbiAgICAgICAgICAgICAg5YWo5riFXFxcXG4gICAgICAgICAgICApLFxcXFxuICAgICAgICAgICAgY29sX3R5cGU6IFxcXFxcXFwic2Nyb2xsX2J1dHRvblxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgZXh0cmE6IHtcXFxcbiAgICAgICAgICAgICAgbG9uZ0NsaWNrOiB0aGlzLmFjdGlvbih7XFxcXG4gICAgICAgICAgICAgICAgc3RhdGU6IOeKtuaAgSxcXFxcbiAgICAgICAgICAgICAgICBhbGw6IOWFqOa4hSxcXFxcbiAgICAgICAgICAgICAgICBjbDog5riF6ZmkLFxcXFxuICAgICAgICAgICAgICB9KSxcXFxcbiAgICAgICAgICAgIH0sXFxcXG4gICAgICAgICAgfSk7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgIH1cXFxcbiAgICAgIGlmIChwYWdlID09IDEpIHtcXFxcbiAgICAgIGNhdGVnb3JpZXMuZm9yRWFjaCgoY2F0ZWdvcnksIGluZGV4KSA9PiB7XFxcXG4gICAgICAgIC8vbG9nKGNhdGVnb3JpZXMpXFxcXG4gICAgICAgIGxldCBzdWJfY2F0ZWdvcmllcyA9IFtdO1xcXFxuICAgICAgICAvKmlmICjlsI/nsbvlrprkvY0uaW5jbHVkZXMoXFxcXFxcXCI7XFxcXFxcXCIpKSB7XFxcXG4gICAgICAgICAgc3ViX2NhdGVnb3JpZXMgPSBwZGZhKGNhdGVnb3J5LCDlsI/nsbvlrprkvY0uc3BsaXQoXFxcXFxcXCI7XFxcXFxcXCIpWzBdKTtcXFxcbiAgICAgICAgICBpZiAoc3ViX2NhdGVnb3JpZXMubGVuZ3RoID09IDApIHtcXFxcbiAgICAgICAgICAgIHN1Yl9jYXRlZ29yaWVzID0gcGRmYShjYXRlZ29yeSwg5bCP57G75a6a5L2NLnNwbGl0KFxcXFxcXFwiO1xcXFxcXFwiKVsxXSk7XFxcXG4gICAgICAgICAgfVxcXFxuICAgICAgICB9IGVsc2UgeyovXFxcXG4gICAgICAgIC8vbG9nKGluZGV4KVxcXFxuICAgICAgICBzdWJfY2F0ZWdvcmllcyA9IEpTT04ucGFyc2UoYFske2NhdGVnb3J5fV1gKTtcXFxcbiAgICAgICAgLy8gc3ViX2NhdGVnb3JpZXMgPSBwZGZhKGNhdGVnb3J5LCDlsI/nsbvlrprkvY0pO1xcXFxuICAgICAgICAvL31cXFxcbiAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XFxcXG4gICAgICAgICAgc3ViX2NhdGVnb3JpZXMuZm9yRWFjaCgoaXRlbSwga2V5KSA9PiB7XFxcXG5cXFxcbiAgICAgICAgICAgIC8vbGV0IHRpdGxlID0gcGRmaChpdGVtLCBf5aSn57G75qCH6aKYKTtcXFxcbiAgICAgICAgICAgIGxldCB0aXRsZSA9IGl0ZW0udGl0bGU7XFxcXG4gICAgICAgICAgICBpZiAodHlwZW9mIOaOkumZpCAhPSBcXFxcXFxcInVuZGVmaW5lZFxcXFxcXFwiICYmIOaOkumZpCAhPSBcXFxcXFxcIlxcXFxcXFwiKSB7XFxcXG4gICAgICAgICAgICAgIHRpdGxlID0gdGl0bGUucmVwbGFjZShuZXdSZWdFeHAo5o6S6ZmkLCBcXFxcXFxcImdcXFxcXFxcIiksIFxcXFxcXFwiXFxcXFxcXCIpO1xcXFxuICAgICAgICAgICAgfVxcXFxuICAgICAgICAgICAgbGV0IGpzb249JydcXFxcbiAgICAgICAgICAgIGpzb24gPSBpdGVtLnVybDtcXFxcbiAgICAgICAgICAgIFxcXFxuICAgICAgICAgICAgbGV0IHBhcmFtcyA9IHtcXFxcbiAgICAgICAgICAgICAgY2F0ZV90ZW1wOiBjYXRlX3RlbXAsXFxcXG4gICAgICAgICAgICAgIGtleToga2V5LFxcXFxuICAgICAgICAgICAgICBwYWdlOiBwYWdlLFxcXFxuICAgICAgICAgICAgICBjbGVhcnM6IOa4hemZpCxcXFxcbiAgICAgICAgICAgICAganNvbjoganNvbixcXFxcbiAgICAgICAgICAgICAgc3RhdGU6IOeKtuaAgSxcXFxcbiAgICAgICAgICAgICAgYWxsY2xlYXJzOiDlhajmuIUsXFxcXG4gICAgICAgICAgICB9O1xcXFxuXFxcXG4gICAgICAgICAgICAvL2xldCB1cmwgPSBwZChpdGVtLCBf5aSn57G76ZO+5o6lKTtcXFxcbiAgICAgICAgICAgIGxldCB1cmwgPSBpdGVtLnVybDtcXFxcbiAgICAgICAgICAgIC8qaWYgKOWkp+exu+WkhOeQhikge1xcXFxuICAgICAgICAgICAgICB1cmwgPSDkuIDnuqfliIbnsbvlpITnkIYodXJsKTtcXFxcbiAgICAgICAgICAgIH0qL1xcXFxuICAgICAgICAgICAgLy9sb2codXJsKVxcXFxuICAgICAgICAgICAgZC5wdXNoKHtcXFxcbiAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuc2V0VGl0bGUoa2V5LnRvU3RyaW5nKCksIGNhdGVfdGVtcFtpbmRleF0sIHRpdGxlKSxcXFxcbiAgICAgICAgICAgICAgY29sX3R5cGU6IFxcXFxcXFwic2Nyb2xsX2J1dHRvblxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgICB1cmw6ICQoXFxcXFxcXCJoaWtlcjovL2VtcHR5I25vTG9hZGluZyNcXFxcXFxcIikubGF6eVJ1bGUoKHBhcmFtcykgPT4ge1xcXFxuICAgICAgICAgICAgICAgIGxldCBuZXdfY2F0ZSA9IFtdO1xcXFxuICAgICAgICAgICAgICAgIHBhcmFtcy5jbGVhcnMuZm9yRWFjaCgoaXRlbSkgPT4ge1xcXFxuICAgICAgICAgICAgICAgICAgY2xlYXJNeVZhcihpdGVtKTtcXFxcbiAgICAgICAgICAgICAgICB9KTtcXFxcbiAgICAgICAgICAgICAgICBwYXJhbXMuYWxsY2xlYXJzLmZvckVhY2goKGl0ZW0pID0+IHtcXFxcbiAgICAgICAgICAgICAgICAgIGNsZWFyTXlWYXIoaXRlbSk7XFxcXG4gICAgICAgICAgICAgICAgfSk7XFxcXG5cXFxcbiAgICAgICAgICAgICAgICBwYXJhbXMuY2F0ZV90ZW1wLmZvckVhY2goKGNhdGUsIGluZGV4KSA9PiB7XFxcXG4gICAgICAgICAgICAgICAgICBuZXdfY2F0ZS5wdXNoKGluZGV4ID09PSAwID8gcGFyYW1zLmtleS50b1N0cmluZygpIDogXFxcXFxcXCIwXFxcXFxcXCIpO1xcXFxuICAgICAgICAgICAgICAgIH0pO1xcXFxuICAgICAgICAgICAgICAgIHB1dE15VmFyKFxcXFxcXFwiaGVhZC5jYXRlXFxcXFxcXCIsIEpTT04uc3RyaW5naWZ5KG5ld19jYXRlKSk7XFxcXG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5qc29uLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcXFxcbiAgICAgICAgICAgICAgICAgIHB1dE15VmFyKFxcXFxcXFwiZHRfXFxcXFxcXCIgKyBwYXJhbXMuanNvbi50eXBlLCBwYXJhbXMuanNvbi52YWx1ZSk7XFxcXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcXFxcbiAgICAgICAgICAgICAgICAgIHB1dE15VmFyKHBhcmFtcy5zdGF0ZSwgcGFyYW1zLmpzb24pO1xcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICByZWZyZXNoUGFnZSh0cnVlKTtcXFxcbiAgICAgICAgICAgICAgICByZXR1cm4gXFxcXFxcXCJoaWtlcjovL2VtcHR5XFxcXFxcXCI7XFxcXG4gICAgICAgICAgICAgIH0sIHBhcmFtcyksXFxcXG4gICAgICAgICAgICB9KTtcXFxcbiAgICAgICAgICB9KTtcXFxcbiAgICAgICAgICBkLnB1c2goe1xcXFxuICAgICAgICAgICAgY29sX3R5cGU6IFxcXFxcXFwiYmxhbmtfYmxvY2tcXFxcXFxcIixcXFxcbiAgICAgICAgICB9KTtcXFxcbiAgICAgICAgfSBlbHNlIGlmIChmb2xkID09PSBcXFxcXFxcIjFcXFxcXFxcIiB8fCDmipjlj6DnirbmgIEgPT0gZmFsc2UpIHtcXFxcbiAgICAgICAgICBzdWJfY2F0ZWdvcmllcy5mb3JFYWNoKChpdGVtLCBrZXkpID0+IHtcXFxcbiAgICAgICAgICAgIHZhciBleHRyYXBvcyA9IGZhbHNlO1xcXFxuICAgICAgICAgICAgLyppZiAoaXRlbS5pbmNsdWRlcygndHlwZT1cXFxcXFxcIkBleHRyYVxcXFxcXFwiJykpIHtcXFxcbiAgICAgICAgICAgICAgZXh0cmFwb3MgPSB0cnVlO1xcXFxuICAgICAgICAgICAgICAvL2xvZygn6ZmE5Yqg5a6a5L2NJylcXFxcbiAgICAgICAgICAgIH0qL1xcXFxuXFxcXG4gICAgICAgICAgICBpZiAoZXh0cmFwb3MpIHtcXFxcbiAgICAgICAgICAgICAgdmFyIHRpdGxlID0gcGRmaChpdGVtLCBcXFxcXFxcImEmJlRleHRcXFxcXFxcIik7XFxcXG4gICAgICAgICAgICAgIGlmICh0eXBlb2Yg5o6S6ZmkICE9IFxcXFxcXFwidW5kZWZpbmVkXFxcXFxcXCIgJiYg5o6S6ZmkICE9IFxcXFxcXFwiXFxcXFxcXCIpIHtcXFxcbiAgICAgICAgICAgICAgICB0aXRsZSA9IHRpdGxlLnJlcGxhY2UobmV3IFJlZ0V4cCjmjpLpmaQsIFxcXFxcXFwiZ1xcXFxcXFwiKSwgXFxcXFxcXCJcXFxcXFxcIik7XFxcXG4gICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgdmFyIGpzb24gPSB7XFxcXG4gICAgICAgICAgICAgICAgdHlwZTogcGRmaChpdGVtLCBcXFxcXFxcImEmJnN0YXRlXFxcXFxcXCIpLFxcXFxuICAgICAgICAgICAgICAgIHZhbHVlOiBwZGZoKGl0ZW0sIFxcXFxcXFwiYSYmdmFsdWVcXFxcXFxcIiksXFxcXG4gICAgICAgICAgICAgIH07XFxcXG4gICAgICAgICAgICB9IGVsc2Uge1xcXFxuICAgICAgICAgICAgICAvL3ZhciB0aXRsZSA9IHBkZmgoaXRlbSwg5YiG57G75qCH6aKYKTtcXFxcbiAgICAgICAgICAgICAgdmFyIHRpdGxlID0gaXRlbS50aXRsZTtcXFxcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiDmjpLpmaQgIT0gXFxcXFxcXCJ1bmRlZmluZWRcXFxcXFxcIiAmJiDmjpLpmaQgIT0gXFxcXFxcXCJcXFxcXFxcIikge1xcXFxuICAgICAgICAgICAgICAgIHRpdGxlID0gdGl0bGUucmVwbGFjZShuZXcgUmVnRXhwKOaOkumZpCwgXFxcXFxcXCJnXFxcXFxcXCIpLCBcXFxcXFxcIlxcXFxcXFwiKTtcXFxcbiAgICAgICAgICAgICAgfVxcXFxuXFxcXG4gICAgICAgICAgICAgIHZhciBqc29uID0gXFxcXFxcXCJcXFxcXFxcIjtcXFxcbiAgICAgICAgICAgICAgLypzd2l0Y2ggKHRydWUpIHtcXFxcbiAgICAgICAgICAgICAgICBjYXNlIOWIhuexu+mTvuaOpS5pbmNsdWRlcyhcXFxcXFxcIkBAQFxcXFxcXFwiKTpcXFxcbiAgICAgICAgICAgICAgICAgIGpzb24gPSB7XFxcXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHBkZmgoaXRlbSwg5YiG57G76ZO+5o6lLnNwbGl0KFxcXFxcXFwiQEBAXFxcXFxcXCIpWzBdKSxcXFxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHBkZmgoaXRlbSwg5YiG57G76ZO+5o6lLnNwbGl0KFxcXFxcXFwiQEBAXFxcXFxcXCIpWzFdKSxcXFxcbiAgICAgICAgICAgICAgICAgIH07XFxcXG4gICAgICAgICAgICAgICAgICBicmVhaztcXFxcbiAgICAgICAgICAgICAgICBjYXNlIOWIhuexu+mTvuaOpS5pbmNsdWRlcyhcXFxcXFxcIkBAXFxcXFxcXCIpOlxcXFxuICAgICAgICAgICAgICAgICAganNvbiA9IHtcXFxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTog5YiG57G76ZO+5o6lLnNwbGl0KFxcXFxcXFwiQEBcXFxcXFxcIilbMF0sXFxcXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBwZGZoKGl0ZW0sIOWIhuexu+mTvuaOpS5zcGxpdChcXFxcXFxcIkBAXFxcXFxcXCIpWzFdKSxcXFxcbiAgICAgICAgICAgICAgICAgIH07XFxcXG4gICAgICAgICAgICAgICAgICBicmVhaztcXFxcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxcXFxuICAgICAgICAgICAgICAgICAganNvbiA9IGl0ZW0udXJsO1xcXFxuICAgICAgICAgICAgICAgICAgLy8ganNvbiA9IHBkKGl0ZW0sIOWIhuexu+mTvuaOpSk7XFxcXG4gICAgICAgICAgICAgICAgICBicmVhaztcXFxcbiAgICAgICAgICAgICAgfSovXFxcXG4gICAgICAgICAgICAgIGpzb24gPSBpdGVtLnVybDtcXFxcbiAgICAgICAgICAgICAgLyp2YXIganNvbj3liIbnsbvpk77mjqUuaW5jbHVkZXMoJ0BAQCcpP3tcXFxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTpwZGZoKGl0ZW0s5YiG57G76ZO+5o6lLnNwbGl0KCdAQEAnKVswXSksXFxcXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOnBkZmgoaXRlbSzliIbnsbvpk77mjqUuc3BsaXQoJ0BAQCcpWzFdKSxcXFxcbiAgICAgICAgICAgICAgICB9OnBkKGl0ZW0s5YiG57G76ZO+5o6lKTtcXFxcbiAgICAgICAgICAgICAgICBcXFxcbiAgICAgICAgICAgICAgICBqc29uPeWIhuexu+mTvuaOpS5pbmNsdWRlcygnQEAnKT97XFxcXG4gICAgICAgICAgICAgICAgICAgIHR5cGU65YiG57G76ZO+5o6lLnNwbGl0KCdAQCcpWzBdLFxcXFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTpwZGZoKGl0ZW0s5YiG57G76ZO+5o6lLnNwbGl0KCdAQCcpWzFdKSxcXFxcbiAgICAgICAgICAgICAgICB9OnBkKGl0ZW0s5YiG57G76ZO+5o6lKTsqL1xcXFxuICAgICAgICAgICAgfVxcXFxuXFxcXG4gICAgICAgICAgICBsZXQgcGFyYW1zID0ge1xcXFxuICAgICAgICAgICAgICBjYXRlX3RlbXA6IGNhdGVfdGVtcCxcXFxcbiAgICAgICAgICAgICAgaW5kZXg6IGluZGV4LFxcXFxuICAgICAgICAgICAgICBrZXk6IGtleSxcXFxcbiAgICAgICAgICAgICAgcGFnZTogcGFnZSxcXFxcbiAgICAgICAgICAgICAganNvbjoganNvbixcXFxcbiAgICAgICAgICAgICAgc3RhdGU6IOeKtuaAgSxcXFxcbiAgICAgICAgICAgICAgYWxsY2xlYXJzOiDlhajmuIUsXFxcXG4gICAgICAgICAgICB9O1xcXFxuICAgICAgICAgICAgZC5wdXNoKHtcXFxcbiAgICAgICAgICAgICAgdGl0bGU6IHRoaXMuc2V0VGl0bGUoa2V5LnRvU3RyaW5nKCksIGNhdGVfdGVtcFtpbmRleF0sIHRpdGxlKSxcXFxcbiAgICAgICAgICAgICAgdXJsOiAkKFxcXFxcXFwiaGlrZXI6Ly9lbXB0eVxcXFxcXFwiICsgXFxcXFxcXCIjbm9Mb2FkaW5nI1xcXFxcXFwiKS5sYXp5UnVsZSgocGFyYW1zKSA9PiB7XFxcXG4gICAgICAgICAgICAgICAgcGFyYW1zLmFsbGNsZWFycy5mb3JFYWNoKChpdGVtKSA9PiB7XFxcXG4gICAgICAgICAgICAgICAgICBjbGVhck15VmFyKGl0ZW0pO1xcXFxuICAgICAgICAgICAgICAgIH0pO1xcXFxuICAgICAgICAgICAgICAgIHBhcmFtcy5jYXRlX3RlbXBbcGFyYW1zLmluZGV4XSA9IHBhcmFtcy5rZXkudG9TdHJpbmcoKTtcXFxcbiAgICAgICAgICAgICAgICBwdXRNeVZhcihcXFxcXFxcImhlYWQuY2F0ZVxcXFxcXFwiLCBKU09OLnN0cmluZ2lmeShwYXJhbXMuY2F0ZV90ZW1wKSk7XFxcXG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5qc29uLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcXFxcbiAgICAgICAgICAgICAgICAgIHB1dE15VmFyKFxcXFxcXFwiZHRfXFxcXFxcXCIgKyBwYXJhbXMuanNvbi50eXBlLCBwYXJhbXMuanNvbi52YWx1ZSk7XFxcXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcXFxcbiAgICAgICAgICAgICAgICAgIHB1dE15VmFyKHBhcmFtcy5zdGF0ZSwgcGFyYW1zLmpzb24pO1xcXFxuICAgICAgICAgICAgICAgIH1cXFxcbiAgICAgICAgICAgICAgICByZWZyZXNoUGFnZSgpO1xcXFxuICAgICAgICAgICAgICAgIHJldHVybiBcXFxcXFxcImhpa2VyOi8vZW1wdHlcXFxcXFxcIjtcXFxcbiAgICAgICAgICAgICAgfSwgcGFyYW1zKSxcXFxcbiAgICAgICAgICAgICAgY29sX3R5cGU6IFxcXFxcXFwic2Nyb2xsX2J1dHRvblxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgfSk7XFxcXG4gICAgICAgICAgfSk7XFxcXG4gICAgICAgICAgZC5wdXNoKHtcXFxcbiAgICAgICAgICAgIGNvbF90eXBlOiBcXFxcXFxcImJsYW5rX2Jsb2NrXFxcXFxcXCIsXFxcXG4gICAgICAgICAgfSk7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgIH0pO1xcXFxuICAgIH1cXFxcbiAgICB9LFxcXFxuICB9O1xcXFxuICBvYmou6aKE6K6+KG9wdGlvbnMpO1xcXFxuICByZXR1cm4gb2JqO1xcXFxufVxcXFxuXFxcXG4gIC8vLueKtuaAgShcXFxcXFxcInVybFxcXFxcXFwiKVxcXFxuICAvLy7nlYzpnaIoZClcXFxcbiAgLy8u5rqQ56CBKHhodG1sKVxcXFxuICAvLy7lhajmuIUoW1xcXFxcXFwiMVxcXFxcXFwiLCBcXFxcXFxcIjJcXFxcXFxcIl0pXFxcXG4gIC8vLua4hemZpCgpXFxcXG4gIC8vLuW8gOWQr+aKmOWPoCgpXFxcXG4gIC8vLumhteeggShwYWdlKVxcXFxuICAvLy7liJvlu7rliqjmgIHliIbnsbso5a6a5L2N5YiX6KGoKTtcXFxcblxcXFxuZnVuY3Rpb24gZ2V0T2JqZnVjKG9iaikge1xcXFxuICBjb25zdCBtZXRob2RzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMob2JqKS5maWx0ZXIoXFxcXG4gICAgKG5hbWUpID0+IHR5cGVvZiBvYmpbbmFtZV0gPT09IFxcXFxcXFwiZnVuY3Rpb25cXFxcXFxcIlxcXFxuICApO1xcXFxuICBpZiAobWV0aG9kcy5sZW5ndGggPT0gMCkge1xcXFxuICAgIGNvbnNvbGUubG9nKG9iai50b1N0cmluZygpKTtcXFxcbiAgICByZXR1cm47XFxcXG4gIH1cXFxcbiAgY29uc3QgZm9ybWF0dGVkU3RyaW5nID0gbWV0aG9kc1xcXFxuICAgIC5tYXAoKG5hbWUpID0+IHtcXFxcbiAgICAgIGNvbnN0IGZuID0gb2JqW25hbWVdO1xcXFxuICAgICAgY29uc3QgZm5TdHJpbmcgPSBgJHtuYW1lfTogJHtmbi50b1N0cmluZygpfWA7XFxcXG4gICAgICBjb25zdCByZXN0b3JlZEZuU3RyaW5nID0gZm5TdHJpbmcucmVwbGFjZShcXFxcbiAgICAgICAgL1xcXFxcXFxcXFxcXFxcXFx1KFtcXFxcXFxcXGRcXFxcXFxcXHddezR9KS9naSxcXFxcbiAgICAgICAgZnVuY3Rpb24gKG1hdGNoLCBncnApIHtcXFxcbiAgICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChncnAsIDE2KSk7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICk7XFxcXG4gICAgICByZXR1cm4gcmVzdG9yZWRGblN0cmluZztcXFxcbiAgICB9KVxcXFxuICAgIC5qb2luKFxcXFxcXFwiXFxcXFxcXFxuXFxcXFxcXCIpO1xcXFxuICBjb25zb2xlLmxvZyhmb3JtYXR0ZWRTdHJpbmcpO1xcXFxufVxcXFxuXFxcXG4vKlxcXFxudmVyIDIwMjMtMDYtMTYgIDEuMFxcXFxuKi9cXFxcbnZhciDnirbmgIEgPVxcXFxuICB0eXBlb2Yg54q25oCB5qCH6K6wICE9IFxcXFxcXFwidW5kZWZpbmVkXFxcXFxcXCIgJiYg54q25oCB5qCH6K6wICE9IFxcXFxcXFwiXFxcXFxcXCIgPyDnirbmgIHmoIforrAgOiBNWV9SVUxFLnVybDtcXFxcblxcXFxubGV0IGR0X2RlYnVnPWZhbHNlOyAgXFxcXG4gIFxcXFxuYWRkTGlzdGVuZXIoXFxcXG4gIFxcXFxcXFwib25DbG9zZVxcXFxcXFwiLFxcXFxuICAkLnRvU3RyaW5nKCgpID0+IHt9KVxcXFxuKTtcXFxcblxcXFxudmFyIENyZWF0ZSA9IHtcXFxcbiAgc3BhZ2U6IHtcXFxcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcXFxcbiAgICAgIHJldHVybiBzdG9yYWdlMC5nZXRNeVZhcihcXFxcXFxcInNwYWdlXFxcXFxcXCIsIFxcXFxcXFwiXFxcXFxcXCIpO1xcXFxuICAgIH0sXFxcXG4gICAgc2V0OiBmdW5jdGlvbiAodXJsKSB7XFxcXG4gICAgICBzdG9yYWdlMC5wdXRNeVZhcihcXFxcXFxcInNwYWdlXFxcXFxcXCIsIHVybCk7XFxcXG4gICAgfSxcXFxcbiAgfSxcXFxcbiAgbmV4dFBhZ2U6IGZ1bmN0aW9uICgpIHtcXFxcbiAgICB2YXIgcmVzdWx0ID0gZmFsc2U7XFxcXG4gICAgdHJ5IHtcXFxcbiAgICAgIHZhciBuZXh0ID0gZXZhbCjkuIvkuIDpobUpO1xcXFxuICAgICAgLy9sb2coJ246JytuZXh0KVxcXFxuICAgICAgaWYobmV4dCA9PVxcXFxcXFwiXFxcXFxcXCIpe1xcXFxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ+S4i+S4gOmhtemTvuaOpeS4uuepuicpXFxcXG4gICAgICB9XFxcXG4gICAgICByZXN1bHQ9dHJ1ZTtcXFxcbiAgICAgIGlmKHRydWVfdXJsPT1uZXh0KXtcXFxcbiAgICAgICAgIHJlc3VsdD1mYWxzZTtcXFxcbiAgICAgIH1cXFxcbiAgICB9IGNhdGNoIChlKSB7XFxcXG4gICAgICAvL2xvZyhcXFxcXFxcIuWPr+iDveS4jeWtmOWcqOS4i+S4gOmhteaIluiAheS4i+S4gOmhteWumuS9jeaciemXrumimFxcXFxcXFwiKTtcXFxcbiAgICAgIGxvZyhcXFxcXFxcIumUmeivr+S/oeaBrzpcXFxcXFxcIiArIGUubWVzc2FnZSk7XFxcXG4gICAgfVxcXFxuICAgIGlmICgobmV4dCA9PSBcXFxcXFxcIlxcXFxcXFwiIHx8IG5leHQgPT0gdW5kZWZpbmVkKSAmJiBwYWdlID09IDEpIHtcXFxcbiAgICAgIG5leHQgPSB0cnVlX3VybDtcXFxcbiAgICB9IGVsc2Uge1xcXFxuICAgICAgLy9yZXN1bHQ9ZmFsc2U7XFxcXG4gICAgICBuZXh0ID0gZ2V0TXlWYXIo54q25oCBKTtcXFxcbiAgICB9XFxcXG4gICAgLy9sb2coJ2wnK3RydWVfdXJsKVxcXFxuICAgIC8vbG9nKCduJytuZXh0KVxcXFxuICAgIGlmKHBhZ2UhPTEpe1xcXFxuICAgIGlmICh0cnVlX3VybCA9PSBuZXh0JiYhcmVzdWx0KSB7XFxcXG4gICAgICByZXN1bHQgPSBmYWxzZTtcXFxcbiAgICB9IGVsc2Uge1xcXFxuICAgICAgcmVzdWx0ID0gdHJ1ZTtcXFxcbiAgICAgfVxcXFxuICAgIH1cXFxcbiAgICByZXR1cm4gcmVzdWx0O1xcXFxuICAgIC8vcHV0TXlWYXIo54q25oCBLCBuZXh0KTtcXFxcbiAgfSxcXFxcbiAgZ2V0QmFja0ltYWdlOiBmdW5jdGlvbiAoaW1ndXJsKSB7XFxcXG4gICAgdmFyIHJlc3VsdCA9IGltZ3VybDtcXFxcbiAgICB0cnkge1xcXFxuICAgICAgcmVzdWx0ID0gL3VybCg/OlxcXFxcXFxccyspP1xcXFxcXFxcKCguKj8pXFxcXFxcXFwpL2dcXFxcbiAgICAgICAgLmV4ZWMoaW1ndXJsKVsxXVxcXFxuICAgICAgICAucmVwbGFjZSgvKCd8XFxcXFxcXCJ8JnF1b3Q7KS9nbSwgXFxcXFxcXCJcXFxcXFxcIik7XFxcXG4gICAgfSBjYXRjaCB7fVxcXFxuICAgIHJldHVybiByZXN1bHQ7XFxcXG4gIH0sXFxcXG4gIGh0dHBIYW5kbGU6IGZ1bmN0aW9uIChpbnB1dCkge1xcXFxuICAgIGlmIChpbnB1dC5zdGFydHNXaXRoKFxcXFxcXFwiaHR0cFxcXFxcXFwiKSkge1xcXFxuICAgICAgcmV0dXJuIGlucHV0O1xcXFxuICAgIH0gZWxzZSBpZiAoaW5wdXQuc3RhcnRzV2l0aChcXFxcXFxcIi8vXFxcXFxcXCIpKSB7XFxcXG4gICAgICByZXR1cm4gXFxcXFxcXCJodHRwczpcXFxcXFxcIiArIGlucHV0O1xcXFxuICAgIH0gZWxzZSBpZiAoaW5wdXQuc3RhcnRzV2l0aChcXFxcXFxcIi9cXFxcXFxcIikpIHtcXFxcbiAgICAgIHJldHVybiBNWV9IT01FICsgaW5wdXQ7XFxcXG4gICAgfVxcXFxuICB9LFxcXFxuICBpbWdIYW5kbGU6IGZ1bmN0aW9uIChpdGVtLCBydWxlKSB7XFxcXG4gICAgdmFyIGltZyA9IFxcXFxcXFwiXFxcXFxcXCI7XFxcXG4gICAgaWYgKHJ1bGUuaW1nLnN0YXJ0c1dpdGgoXFxcXFxcXCJwZFxcXFxcXFwiKSkge1xcXFxuICAgICAgaW1nID0gZXZhbChydWxlLmltZyk7XFxcXG4gICAgfSBlbHNlIGlmIChydWxlLmJhY2tpbWcpIHtcXFxcbiAgICAgIGltZyA9IHBkZmgoaXRlbSwgcnVsZS5pbWcpO1xcXFxuICAgICAgaW1nID0gdGhpcy5nZXRCYWNrSW1hZ2UoaW1nKTtcXFxcbiAgICAgIGltZyA9IHRoaXMuaHR0cEhhbmRsZShpbWcpO1xcXFxuICAgIH0gZWxzZSB7XFxcXG4gICAgICBpbWcgPSBwZGZoKGl0ZW0sIHJ1bGUuaW1nKTtcXFxcbiAgICAgIGlmICghaW1nLnN0YXJ0c1dpdGgoXFxcXFxcXCJodHRwXFxcXFxcXCIpKSB7XFxcXG4gICAgICAgIGltZyA9IHBkKGl0ZW0sIHJ1bGUuaW1nKTtcXFxcbiAgICAgICAgaW1nID0gdGhpcy5odHRwSGFuZGxlKGltZyk7XFxcXG4gICAgICB9XFxcXG4gICAgfVxcXFxuICAgIHJldHVybiBpbWcgKyBydWxlLnJlZjtcXFxcbiAgfSxcXFxcbiAgdXJsSGFuZGxlOiBmdW5jdGlvbiAoaXRlbSwgcnVsZSkge1xcXFxuICAgIHZhciBocmVmID0gXFxcXFxcXCJcXFxcXFxcIjtcXFxcbiAgICBpZiAocnVsZS51cmwuc3RhcnRzV2l0aChcXFxcXFxcInBkXFxcXFxcXCIpKSB7XFxcXG4gICAgICBocmVmID0gZXZhbChydWxlLnVybCk7XFxcXG4gICAgfSBlbHNlIHtcXFxcbiAgICAgIGhyZWYgPSBwZChpdGVtLCBydWxlLnVybCk7XFxcXG4gICAgfVxcXFxuICAgIGhyZWYgPSBydWxlLmltdCA/IGhyZWYgKyBcXFxcXFxcIiNpbW1lcnNpdmVUaGVtZSNcXFxcXFxcIiA6IGhyZWY7XFxcXG4gICAgcmV0dXJuIGhyZWY7XFxcXG4gIH0sXFxcXG4gIHNldENvbnRlbnQ6IGZ1bmN0aW9uIChpdGVtLCBpbnB1dCkge1xcXFxuICAgIGxldCBvdXRwdXQgPSBcXFxcXFxcIlxcXFxcXFwiO1xcXFxuICAgIGlmIChpbnB1dCA9PSB1bmRlZmluZWQpIHtcXFxcbiAgICAgIHJldHVybiBvdXRwdXQ7XFxcXG4gICAgfVxcXFxuICAgIGlmIChpbnB1dC5zdGFydHNXaXRoKFxcXFxcXFwicGRcXFxcXFxcIikpIHtcXFxcbiAgICAgIG91dHB1dCA9IGV2YWwoaW5wdXQpO1xcXFxuICAgIH0gZWxzZSB7XFxcXG4gICAgICBvdXRwdXQgPSBwZGZoKGl0ZW0sIGlucHV0KTtcXFxcbiAgICB9XFxcXG4gICAgcmV0dXJuIG91dHB1dDtcXFxcbiAgfSxcXFxcbiAgcmVmcmVzaDogZnVuY3Rpb24gKCkge1xcXFxuICAgIGFkZExpc3RlbmVyKFxcXFxuICAgICAgXFxcXFxcXCJvblJlZnJlc2hcXFxcXFxcIixcXFxcbiAgICAgICQudG9TdHJpbmcoKHUpID0+IHtcXFxcbiAgICAgICAgY2xlYXJNeVZhcihcXFxcXFxcInlpbGlzdFxcXFxcXFwiKTtcXFxcbiAgICAgICAgLy92YXIgcCA9IHN0b3JhZ2UwLmdldE15VmFyKCdzcGFnZScsICcnKTtcXFxcbiAgICAgICAgLy9wdXRNeVZhcih1LCBwKTtcXFxcbiAgICAgIH0sIOeKtuaAgSlcXFxcbiAgICApO1xcXFxuICB9LFxcXFxuICBqc29uTGlzdDogZnVuY3Rpb24gKGFyciwganNvbiwgcnVsZSkge1xcXFxuICAgIGlmIChqc29uLmNvbnN0cnVjdG9yICE9IE9iamVjdCkge1xcXFxuICAgICAgdHJ5IHtcXFxcbiAgICAgICAganNvbiA9IEpTT04ucGFyc2UoanNvbik7XFxcXG4gICAgICB9IGNhdGNoIHt9XFxcXG4gICAgfVxcXFxuICAgIGpzb25bcnVsZS5saXN0XS5mb3JFYWNoKChpdGVtKSA9PiB7XFxcXG4gICAgICB2YXIgaW1nID0gZXZhbChydWxlLmltZykgKyBydWxlLnJlZjtcXFxcbiAgICAgIHZhciBocmVmID0gZXZhbChydWxlLnVybCk7XFxcXG4gICAgICBocmVmID0gcnVsZS5pbXQgPyBocmVmICsgXFxcXFxcXCIjaW1tZXJzaXZlVGhlbWUjXFxcXFxcXCIgOiBocmVmO1xcXFxuICAgICAgdmFyIGxhenkgPSBydWxlLmxhenkgPyBydWxlLmxhenkgOiBcXFxcXFxcIlxcXFxcXFwiO1xcXFxuICAgICAgdmFyIGRkID0ge1xcXFxuICAgICAgICB0aXRsZTogZXZhbChydWxlLnRpdGxlKSxcXFxcbiAgICAgICAgZGVzYzogZXZhbChydWxlLmRlc2MpLFxcXFxuICAgICAgICBjb250ZW50OiBldmFsKHJ1bGUuY29udGVudCksXFxcXG4gICAgICAgIHBpY191cmw6IGltZyxcXFxcbiAgICAgICAgdXJsOiBocmVmLFxcXFxuICAgICAgICBjb2xfdHlwZTogcnVsZS5jb2xfdHlwZSxcXFxcbiAgICAgICAgZXh0cmE6IHtcXFxcbiAgICAgICAgICBpbWc6IGltZyxcXFxcbiAgICAgICAgfSxcXFxcbiAgICAgIH07XFxcXG4gICAgICBpZiAobGF6eSAhPSBcXFxcXFxcIlxcXFxcXFwiKSB7XFxcXG4gICAgICAgIGRkW1xcXFxcXFwidXJsXFxcXFxcXCJdID0gaHJlZiArIGxhenk7XFxcXG4gICAgICB9XFxcXG4gICAgICBhcnIucHVzaChkZCk7XFxcXG4gICAgfSk7XFxcXG4gIH0sXFxcXG4gIHJ1bGVMaXN0OiBmdW5jdGlvbiAoYXJyLCBodG1sLCBydWxlKSB7XFxcXG4gICAgdmFyIGxpc3QgPSBwZGZhKGh0bWwsIHJ1bGUubGlzdCk7XFxcXG4gICAgbGlzdC5mb3JFYWNoKChpdGVtLCBpKSA9PiB7XFxcXG4gICAgICB2YXIgdGl0bGUgPSB0aGlzLnNldENvbnRlbnQoaXRlbSwgcnVsZS50aXRsZSk7XFxcXG4gICAgICB2YXIgZGVzYyA9IHRoaXMuc2V0Q29udGVudChpdGVtLCBydWxlLmRlc2MpO1xcXFxuICAgICAgdmFyIGltZyA9IHRoaXMuaW1nSGFuZGxlKGl0ZW0sIHJ1bGUpO1xcXFxuICAgICAgdmFyIHVybCA9IHRoaXMudXJsSGFuZGxlKGl0ZW0sIHJ1bGUpO1xcXFxuICAgICAgdmFyIGNvbnRlbnQgPSB0aGlzLnNldENvbnRlbnQoaXRlbSwgcnVsZS5jb250ZW50KTtcXFxcbiAgICAgIHZhciBsYXp5ID0gcnVsZS5sYXp5ID8gcnVsZS5sYXp5IDogXFxcXFxcXCJcXFxcXFxcIjtcXFxcbiAgICAgIHZhciBkZCA9IHtcXFxcbiAgICAgICAgdGl0bGU6IHRpdGxlLFxcXFxuICAgICAgICBkZXNjOiBkZXNjLFxcXFxuICAgICAgICBwaWNfdXJsOiBpbWcsXFxcXG4gICAgICAgIHVybDogXFxcXFxcXCJoaWtlcjovL2VtcHR5IyNcXFxcXFxcIiArIHVybCxcXFxcbiAgICAgICAgY29udGVudDogY29udGVudCxcXFxcbiAgICAgICAgY29sX3R5cGU6IHJ1bGUuY29sX3R5cGUsXFxcXG4gICAgICAgIGV4dHJhOiB7XFxcXG4gICAgICAgICAgaW1nOiBpbWcsXFxcXG4gICAgICAgIH0sXFxcXG4gICAgICB9O1xcXFxuICAgICAgaWYgKGxhenkgIT0gXFxcXFxcXCJcXFxcXFxcIikge1xcXFxuICAgICAgICBkZFtcXFxcXFxcInVybFxcXFxcXFwiXSA9IHVybCArIGxhenk7XFxcXG4gICAgICB9XFxcXG4gICAgICBhcnIucHVzaChkZCk7XFxcXG4gICAgfSk7XFxcXG4gIH0sXFxcXG4gIExpc3Q6IGZ1bmN0aW9uIChhcnIsIGh0bWwsIHJ1bGUsIHBhcmFtKSB7XFxcXG4gICAgcGFyYW0gPSBwYXJhbSA/IHBhcmFtIDoge307XFxcXG4gICAgdmFyIGF1dG8gPSBwYXJhbS5hdXRvID8gcGFyYW0uYXV0byA6IGZhbHNlO1xcXFxuICAgIHZhciBzaG93ID0gcGFyYW0uc2hvdyA/IHBhcmFtLnNob3cgOiBmYWxzZTtcXFxcbiAgICBpZiAocGFnZSA9PSAxKSB7XFxcXG4gICAgICAvL3RoaXMuc3BhZ2Uuc2V0KHRydWVfdXJsKTtcXFxcbiAgICB9XFxcXG4gICAgdGhpcy5yZWZyZXNoKCk7XFxcXG4gICAgdmFyIGxpc3QgPSBwZGZhKGh0bWwsIHJ1bGUubGlzdCk7XFxcXG4gICAgLy9sb2codGhpcy5uZXh0UGFnZSgpKVxcXFxuICAgIGlmICgoc3RvcmFnZTAuZ2V0TXlWYXIoJ3lpX2lzbmV4dCcsJ3QnKT09J3QnJiZsaXN0Lmxlbmd0aCA+IDApIHx8IHBhZ2UgPT0gMSkge1xcXFxuICAgICAgbGlzdC5mb3JFYWNoKChpdGVtLCBpKSA9PiB7XFxcXG4gICAgICAgIGRlbGV0ZUl0ZW0oXFxcXFxcXCJwYWdlbnVtXFxcXFxcXCIpO1xcXFxuICAgICAgICBkZWxldGVJdGVtKFxcXFxcXFwicGFnZWxpbmVcXFxcXFxcIik7XFxcXG4gICAgICAgIHZhciBpZCA9IFxcXFxcXFwiXFxcXFxcXCI7XFxcXG4gICAgICAgIHZhciBjbHMgPSBcXFxcXFxcIlxcXFxcXFwiO1xcXFxuICAgICAgICB2YXIgdGl0bGUgPSB0aGlzLnNldENvbnRlbnQoaXRlbSwgcnVsZS50aXRsZSk7XFxcXG4gICAgICAgIHZhciBkZXNjID0gdGhpcy5zZXRDb250ZW50KGl0ZW0sIHJ1bGUuZGVzYyk7XFxcXG4gICAgICAgIHZhciBpbWcgPSB0aGlzLmltZ0hhbmRsZShpdGVtLCBydWxlKTtcXFxcbiAgICAgICAgdmFyIHVybCA9IHRoaXMudXJsSGFuZGxlKGl0ZW0sIHJ1bGUpO1xcXFxuICAgICAgICB2YXIgY29udGVudCA9IHRoaXMuc2V0Q29udGVudChpdGVtLCBydWxlLmNvbnRlbnQpO1xcXFxuICAgICAgICBpZiAoaSA9PSBsaXN0Lmxlbmd0aCAtIDEpIHtcXFxcbiAgICAgICAgICBpZCA9IFxcXFxcXFwibGFzdGlkX1xcXFxcXFwiICsgcGFnZTtcXFxcbiAgICAgICAgICBjbHMgPSBcXFxcXFxcImxhc3RtYXJrXFxcXFxcXCI7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgZC5wdXNoKHtcXFxcbiAgICAgICAgICB0aXRsZTogdGl0bGUsXFxcXG4gICAgICAgICAgZGVzYzogZGVzYyxcXFxcbiAgICAgICAgICBwaWNfdXJsOiBpbWcsXFxcXG4gICAgICAgICAgdXJsOiAnaGlrZXI6Ly9wYWdlL2VqP3VybD0nK3VybCsnI25vSGlzdG9yeSMnLFxcXFxuICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsXFxcXG4gICAgICAgICAgY29sX3R5cGU6IHJ1bGUuY29sX3R5cGUsXFxcXG4gICAgICAgICAgZXh0cmE6IHtcXFxcbiAgICAgICAgICAgIHRpdGxlOiB0aXRsZSxcXFxcbiAgICAgICAgICAgIGltZzogaW1nLFxcXFxuICAgICAgICAgICAgaWQ6IGlkLFxcXFxuICAgICAgICAgICAgY2xzOiBjbHMsXFxcXG4gICAgICAgICAgfSxcXFxcbiAgICAgICAgfSk7XFxcXG4gICAgICAgIGlmIChpID09IGxpc3QubGVuZ3RoIC0gMSAmJiBzaG93KSB7XFxcXG4gICAgICAgICAgZC5wdXNoKHtcXFxcbiAgICAgICAgICAgIGNvbF90eXBlOiBcXFxcXFxcImxpbmVcXFxcXFxcIixcXFxcbiAgICAgICAgICAgIGV4dHJhOiB7XFxcXG4gICAgICAgICAgICAgIGlkOiBcXFxcXFxcInBhZ2VsaW5lXFxcXFxcXCIsXFxcXG4gICAgICAgICAgICB9LFxcXFxuICAgICAgICAgIH0pO1xcXFxuXFxcXG4gICAgICAgICAgZC5wdXNoKHtcXFxcbiAgICAgICAgICAgIHRpdGxlOiBcXFxcXFxcIuKAnOKAnOKAneKAnTxzbWFsbD7liqDovb3kuK0uLi48L3NtYWxsPlxcXFxcXFwiLFxcXFxuICAgICAgICAgICAgdXJsOiBcXFxcXFxcImhpa2VyOi8vZW1wdHlcXFxcXFxcIixcXFxcbiAgICAgICAgICAgIGNvbF90eXBlOiBcXFxcXFxcInRleHRfY2VudGVyXzFcXFxcXFxcIixcXFxcbiAgICAgICAgICAgIGV4dHJhOiB7XFxcXG4gICAgICAgICAgICAgIGlkOiBcXFxcXFxcInBhZ2VudW1cXFxcXFxcIixcXFxcbiAgICAgICAgICAgIH0sXFxcXG4gICAgICAgICAgfSk7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgIH0pO1xcXFxuICAgIH0gZWxzZSB7XFxcXG4gICAgICB1cGRhdGVJdGVtKFxcXFxcXFwicGFnZW51bVxcXFxcXFwiLCB7XFxcXG4gICAgICAgIHRpdGxlOiAn4oCc4oCc4oCd4oCdPGZvbnQgY29sb3I9XFxcXFxcXCJncmV5XFxcXFxcXCI+PHNtYWxsPuWIsOW6leS6hjwvc21hbGw+PC9mb250PicsXFxcXG4gICAgICAgIHVybDogXFxcXFxcXCJoaWtlcjovL2VtcHR5XFxcXFxcXCIsXFxcXG4gICAgICAgIGNvbF90eXBlOiBcXFxcXFxcInRleHRfY2VudGVyXzFcXFxcXFxcIixcXFxcbiAgICAgICAgZXh0cmE6IHtcXFxcbiAgICAgICAgICBpZDogXFxcXFxcXCJsYXN0XFxcXFxcXCIsXFxcXG4gICAgICAgIH0sXFxcXG4gICAgICB9KTtcXFxcbiAgICB9XFxcXG4gICAgaWYgKGxpc3QubGVuZ3RoID09IDAgJiYgcGFnZSA9PSAxKSB7XFxcXG4gICAgICBkLnB1c2goe1xcXFxuICAgICAgICBjb2xfdHlwZTogXFxcXFxcXCJsaW5lXFxcXFxcXCIsXFxcXG4gICAgICB9KTtcXFxcbiAgICAgIGQucHVzaCh7XFxcXG4gICAgICAgIHRpdGxlOiAn4oCc4oCc4oCd4oCdPGZvbnQgY29sb3I9XFxcXFxcXCJncmV5XFxcXFxcXCI+PHNtYWxsPuaXoOWGheWuuTwvc21hbGw+PC9mb250PicsXFxcXG4gICAgICAgIHVybDogXFxcXFxcXCJoaWtlcjovL2VtcHR5XFxcXFxcXCIsXFxcXG4gICAgICAgIGNvbF90eXBlOiBcXFxcXFxcInRleHRfY2VudGVyXzFcXFxcXFxcIixcXFxcbiAgICAgICAgZXh0cmE6IHt9LFxcXFxuICAgICAgfSk7XFxcXG4gICAgfVxcXFxuICAgIGlmKHRoaXMubmV4dFBhZ2UoKSl7XFxcXG4gICAgICAvL2xvZygndCcpO1xcXFxuICAgICAgICBzdG9yYWdlMC5wdXRNeVZhcigneWlfaXNuZXh0JywndCcpO1xcXFxuICAgIH1lbHNle1xcXFxuICAgICAgLy9sb2coJ2YnKTtcXFxcbiAgICAgICAgc3RvcmFnZTAucHV0TXlWYXIoJ3lpX2lzbmV4dCcsJ2YnKTtcXFxcbiAgICB9XFxcXG4gICAgaWYgKGF1dG8pIHtcXFxcbiAgICAgIC8vY3JlYXRlTmV4dFBhZ2UoKTtcXFxcbiAgICAgIGF1dG9QYWdlKCk7XFxcXG4gICAgfVxcXFxuICB9LFxcXFxufTtcXFxcblxcXFxudmFyIGV4dE1ldGhvZCA9IHtcXFxcbiAgVG9QYXJhbXM6IGZ1bmN0aW9uICgpIHtcXFxcbiAgICB2YXIganNvbiA9IGFyZ3VtZW50c1swXTtcXFxcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoanNvbilcXFxcbiAgICAgIC5tYXAoKGtleSkgPT4ga2V5ICsgXFxcXFxcXCI9XFxcXFxcXCIgKyBqc29uW2tleV0pXFxcXG4gICAgICAuam9pbihcXFxcXFxcIiZcXFxcXFxcIik7XFxcXG4gIH0sXFxcXG4gIHVybFBhcnNlOiBmdW5jdGlvbiAodSkge1xcXFxuICAgIHZhciBkaWN0ID0ge307XFxcXG4gICAgZGljdC5Tb3VyY2UgPSB1O1xcXFxuICAgIGxldCBwYXJhbXMgPSAodXJsKSA9PiB7XFxcXG4gICAgICBsZXQgcXVlcnlQYXJhbXMgPSB7fTtcXFxcbiAgICAgIGxldCByZWcgPSAvKFtePz0mXSspPShbXj89Jl0rKS9nO1xcXFxuICAgICAgdXJsLnJlcGxhY2UocmVnLCBmdW5jdGlvbiAoKSB7XFxcXG4gICAgICAgIHF1ZXJ5UGFyYW1zW2FyZ3VtZW50c1sxXV0gPSBhcmd1bWVudHNbMl07XFxcXG4gICAgICB9KTtcXFxcbiAgICAgIHJldHVybiBxdWVyeVBhcmFtcztcXFxcbiAgICB9O1xcXFxuICAgIHZhciBqYXZhVXJsID0gSmF2YUltcG9ydGVyKGphdmEubmV0LlVSTCk7XFxcXG4gICAgd2l0aCAoamF2YVVybCkge1xcXFxuICAgICAgdmFyIHVybCA9IG5ldyBVUkwodSk7XFxcXG4gICAgICBkaWN0LlByb3RvY29sID0gdXJsLmdldFByb3RvY29sKCk7XFxcXG4gICAgICBkaWN0Lkhvc3QgPSB1cmwuZ2V0SG9zdCgpO1xcXFxuICAgICAgZGljdC5Qb3J0ID0gdXJsLmdldFBvcnQoKTtcXFxcbiAgICAgIGRpY3QuRmlsZSA9IHVybC5nZXRGaWxlKCk7XFxcXG4gICAgICBkaWN0LlBhdGggPSB1cmwuZ2V0UGF0aCgpO1xcXFxuICAgICAgZGljdC5SZWYgPSB1cmwuZ2V0UmVmKCk7XFxcXG4gICAgICBkaWN0Lkhvc3RzID0gYCR7ZGljdC5Qcm90b2NvbH06Ly8ke3VybC5nZXRIb3N0KCl9YDtcXFxcbiAgICB9XFxcXG4gICAgZGljdC5QYXJhbXMgPSBwYXJhbXModSk7XFxcXG4gICAgcmV0dXJuIGRpY3Q7XFxcXG4gIH0sXFxcXG4gIGlzRXF1YWw6IGZ1bmN0aW9uICh4LCB5KSB7XFxcXG4gICAgY29uc3Qgb2sgPSBPYmplY3Qua2V5cyxcXFxcbiAgICAgIHR4ID0gdHlwZW9mIHgsXFxcXG4gICAgICB0eSA9IHR5cGVvZiB5O1xcXFxuICAgIHJldHVybiB4ICYmIHkgJiYgdHggPT09IFxcXFxcXFwib2JqZWN0XFxcXFxcXCIgJiYgdHggPT09IHR5XFxcXG4gICAgICA/IG9rKHgpLmxlbmd0aCA9PT0gb2soeSkubGVuZ3RoICYmXFxcXG4gICAgICAgICAgb2soeCkuZXZlcnkoKGtleSkgPT4gdGhpcy5pc0VxdWFsKHhba2V5XSwgeVtrZXldKSlcXFxcbiAgICAgIDogeCA9PT0geTtcXFxcbiAgfSxcXFxcbiAgZmluZERpZmZlcmVudEluZGV4OiBmdW5jdGlvbiAoc3RyMSwgc3RyMikge1xcXFxuICAgIGNvbnN0IGRpZmZDaGFycyA9IFtdO1xcXFxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyMi5sZW5ndGg7IGkrKykge1xcXFxuICAgICAgaWYgKHN0cjFbaV0gIT09IHN0cjJbaV0pIHtcXFxcbiAgICAgICAgZGlmZkNoYXJzLnB1c2goe1xcXFxuICAgICAgICAgIGluZGV4OiBpLFxcXFxuICAgICAgICAgIHMxOiBzdHIxW2ldLFxcXFxuICAgICAgICAgIHMyOiBzdHIyW2ldLFxcXFxuICAgICAgICB9KTtcXFxcbiAgICAgIH1cXFxcbiAgICB9XFxcXG4gICAgcmV0dXJuIGRpZmZDaGFycztcXFxcbiAgfSxcXFxcbiAgcmVwbGFjZUNoYXJBdDogZnVuY3Rpb24gKHN0ciwgaW5kZXgsIHJlcGxhY2VtZW50KSB7XFxcXG4gICAgaWYgKGluZGV4IDwgMCB8fCBpbmRleCA+PSBzdHIubGVuZ3RoKSB7XFxcXG4gICAgICByZXR1cm4gc3RyO1xcXFxuICAgIH1cXFxcbiAgICAvL2xvZyhpbmRleClcXFxcbiAgICBjb25zdCBhcnIgPSBzdHIuc3BsaXQoXFxcXFxcXCJcXFxcXFxcIik7XFxcXG4gICAgYXJyW2luZGV4XSA9IHJlcGxhY2VtZW50O1xcXFxuICAgIHJldHVybiBhcnIuam9pbihcXFxcXFxcIlxcXFxcXFwiKTtcXFxcbiAgfSxcXFxcbiAgZ2V0T2JqZWN0S2V5c0RpZmY6ZnVuY3Rpb24ob2JqMSwgb2JqMikge1xcXFxuICBjb25zdCBkaWZmZXJlbnRLZXlzID0gW107XFxcXG4gIGZvciAobGV0IGtleSBpbiBvYmoxKSB7XFxcXG4gICAgaWYgKCFvYmoyLmhhc093blByb3BlcnR5KGtleSkgfHwgb2JqMVtrZXldICE9PSBvYmoyW2tleV0pIHtcXFxcbiAgICAgIGRpZmZlcmVudEtleXMucHVzaChrZXkpO1xcXFxuICAgIH1cXFxcbiAgfVxcXFxuICBmb3IgKGxldCBrZXkgaW4gb2JqMikge1xcXFxuICAgIGlmICghb2JqMS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XFxcXG4gICAgICBkaWZmZXJlbnRLZXlzLnB1c2goa2V5KTtcXFxcbiAgICB9XFxcXG4gIH1cXFxcbiAgcmV0dXJuIGRpZmZlcmVudEtleXM7XFxcXG4gIH0sXFxcXG4gIGdldE5leHRVcmw6IGZ1bmN0aW9uIChzb3VyY2UsIHRhcmdldCwgcGFyYW1zKSB7XFxcXG4gICAgdmFyIHUxID0gdGhpcy51cmxQYXJzZShzb3VyY2UpO1xcXFxuICAgIHZhciB1MiA9IHRoaXMudXJsUGFyc2UodGFyZ2V0KTtcXFxcbiAgICB2YXIgcGEgPSB1bmRlZmluZWQ7XFxcXG4gICAgaWYgKHR5cGVvZiBwYXJhbXMgPT0gXFxcXFxcXCJvYmplY3RcXFxcXFxcIikge1xcXFxuICAgICAgcGEgPSBwYXJhbXMuaGFzT3duUHJvcGVydHkoXFxcXFxcXCLnibnlvoFcXFxcXFxcIikgPyBwYXJhbXMu54m55b6BIDogdW5kZWZpbmVkO1xcXFxuICAgIH1cXFxcbiAgICB2YXIgbmV4dHVybCA9IHNvdXJjZTtcXFxcbiAgICB2YXIgY2EgPSBPYmplY3Qua2V5cyh1Mi5QYXJhbXMpLmxlbmd0aCA9PSAwID8gXFxcXFxcXCJcXFxcXFxcIiA6IFxcXFxcXFwiP1xcXFxcXFwiO1xcXFxuICAgIGlmIChwYSAhPSB1bmRlZmluZWQpIHtcXFxcbiAgICAgIHZhciBycyA9IFN0cmluZyh1Mi5QYXRoKS5yZXBsYWNlKG5ldyBSZWdFeHAocGEpLCBcXFxcXFxcIiQxZnlwYWdlXFxcXFxcXCIpO1xcXFxuICAgICAgbmV4dHVybCA9IHUyLkhvc3RzICsgcnMgKyBjYSArIHRoaXMuVG9QYXJhbXModTIuUGFyYW1zKTtcXFxcbiAgICB9IGVsc2Uge1xcXFxuICAgICAgaWYgKHRoaXMuaXNFcXVhbCh1MS5QYXJhbXMsIHUyLlBhcmFtcykpIHtcXFxcbiAgICAgICAgaWYoZHRfZGVidWcpe1xcXFxuICAgICAgICBsb2codTEuUGF0aCk7XFxcXG4gICAgICAgIGxvZyh1Mi5QYXRoKTtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICB2YXIgZGYgPSB0aGlzLmZpbmREaWZmZXJlbnRJbmRleChTdHJpbmcodTEuUGF0aCksIFN0cmluZyh1Mi5QYXRoKSk7XFxcXG4gICAgICAgIGlmKGR0X2RlYnVnKXtcXFxcbiAgICAgICAgbG9nKGRmKTtcXFxcbiAgICAgICAgfVxcXFxuICAgICAgICBpZiAoZGYubGVuZ3RoID09IDEpIHtcXFxcbiAgICAgICAgICB2YXIgcmUgPSBkZlswXS5pbmRleDtcXFxcbiAgICAgICAgfSBlbHNlIHtcXFxcbiAgICAgICAgICB2YXIgZiA9IGRmLmZpbHRlcigoeCkgPT4gL1xcXFxcXFxcZCsvLnRlc3QoeC5zMikpO1xcXFxuICAgICAgICAgIHZhciByZSA9IGZbMF0uaW5kZXg7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgdmFyIGVxID0gdGhpcy5yZXBsYWNlQ2hhckF0KFN0cmluZyh1Mi5QYXRoKSwgcmUsIFxcXFxcXFwiZnlwYWdlXFxcXFxcXCIpO1xcXFxuICAgICAgICBuZXh0dXJsID0gdTIuSG9zdHMgKyBlcSArIGNhICsgdGhpcy5Ub1BhcmFtcyh1Mi5QYXJhbXMpO1xcXFxuICAgICAgfSBlbHNlIHtcXFxcbiAgICAgICAgdmFyIGVwPXRoaXMuZ2V0T2JqZWN0S2V5c0RpZmYodTEuUGFyYW1zLHUyLlBhcmFtcylcXFxcbiAgICAgICAgaWYoZXAubGVuZ3RoPT0xKXtcXFxcbiAgICAgICAgICB1MS5QYXJhbXNbZXBbMF1dPSdmeXBhZ2UnXFxcXG4gICAgICAgIH1lbHNle1xcXFxuICAgICAgICAgIGxvZyhlcCk7XFxcXG4gICAgICAgIH1cXFxcbiAgICAgICAgdmFyIGVxID0gU3RyaW5nKHUxLlBhdGgpLnJlcGxhY2UoL1xcXFxcXFxcZCsvLCBcXFxcXFxcImZ5cGFnZVxcXFxcXFwiKTtcXFxcbiAgICAgICAgbmV4dHVybCA9IHUxLkhvc3RzICsgZXEgKyBjYSArIHRoaXMuVG9QYXJhbXModTEuUGFyYW1zKTtcXFxcbiAgICAgIH1cXFxcbiAgICB9XFxcXG4gICAgLy9sb2coJ25leHQ6JytuZXh0dXJsKVxcXFxuICAgIHJldHVybiBuZXh0dXJsO1xcXFxuICB9LFxcXFxufTtcXFxcblxcXFxuZnVuY3Rpb24gZ2V0VHJ1ZWxpbmsobWFyaywgdXJsLCBwYWdlKSB7XFxcXG4gIHZhciBwID0gZ2V0TXlWYXIobWFyaywgdXJsKS5yZXBsYWNlKFxcXFxcXFwiZnlwYWdlXFxcXFxcXCIsIHBhZ2UpO1xcXFxuICBpZiAocGFnZSA9PSAxKSB7XFxcXG4gICAgcmV0dXJuIGdldE15VmFyKFxcXFxcXFwieWlfZmlyc3RwYWdlXFxcXFxcXCIsIHApO1xcXFxuICB9IGVsc2UgaWYgKHAgIT0gXFxcXFxcXCJcXFxcXFxcIikge1xcXFxuICAgIHJldHVybiBwO1xcXFxuICB9IGVsc2Uge1xcXFxuICAgIHJldHVybiB1cmw7XFxcXG4gIH1cXFxcbn1cXFxcbi8v5p6E5bu6XFxcXG5mdW5jdGlvbiBjcmVhdGVOZXh0UGFnZSgpIHtcXFxcbiAgbGV0IHN0YXJ0bnVtID0gMTtcXFxcbiAgdmFyIG9iaiA9IGFyZ3VtZW50c1swXTtcXFxcbiAgaWYgKHRydWVfdXJsICE9IGdldE15VmFyKFxcXFxcXFwieWlfcGFnZXVybFxcXFxcXFwiLCBcXFxcXFxcIlxcXFxcXFwiKSkge1xcXFxuICAgIGNsZWFyTXlWYXIoXFxcXFxcXCJ5aV9wYWdldXJsXFxcXFxcXCIpO1xcXFxuICB9XFxcXG4gIGlmIChwYWdlID09IHN0YXJ0bnVtICYmIGdldE15VmFyKFxcXFxcXFwieWlfcGFnZXVybFxcXFxcXFwiKSA9PSBcXFxcXFxcIlxcXFxcXFwiKSB7XFxcXG4gICAgcHV0TXlWYXIoXFxcXFxcXCJ5aV9maXJzdHBhZ2VcXFxcXFxcIiwgdHJ1ZV91cmwpO1xcXFxuICAgIHRyeSB7XFxcXG4gICAgICB2YXIgbmV4dCA9IGV2YWwo5LiL5LiA6aG1KTtcXFxcbiAgICAgIC8vbG9nKFxcXFxcXFwibmV4dFxcXFxcXFwiKTtcXFxcbiAgICAgIC8vbG9nKG5leHQpO1xcXFxuICAgIH0gY2F0Y2gge1xcXFxuICAgICAgbG9nKFxcXFxcXFwi5Y+v6IO95LiN5a2Y5Zyo5LiL5LiA6aG15oiW6ICF5LiL5LiA6aG15a6a5L2N5pyJ6Zeu6aKYXFxcXFxcXCIpO1xcXFxuICAgICAgbmV4dCA9IFxcXFxcXFwiXFxcXFxcXCI7XFxcXG4gICAgfVxcXFxuICAgIGlmIChuZXh0ICE9IFxcXFxcXFwiXFxcXFxcXCIpIHtcXFxcbiAgICAgIHZhciBueHVybCA9IGV4dE1ldGhvZC5nZXROZXh0VXJsKHRydWVfdXJsLCBuZXh0LCBvYmopO1xcXFxuICAgICAgLy9sb2coXFxcXFxcXCJueHVybDpcXFxcXFxcIiArIG54dXJsKTtcXFxcbiAgICAgIHB1dE15VmFyKOeKtuaAgSwgbnh1cmwpO1xcXFxuICAgICAgcHV0TXlWYXIoXFxcXFxcXCJ5aV9wYWdldXJsXFxcXFxcXCIsIG54dXJsKTtcXFxcbiAgICB9XFxcXG4gIH1cXFxcbn1cXFxcblxcXFxuZnVuY3Rpb24gYXV0b1BhZ2UoKSB7XFxcXG4gIGlmKHBhZ2U9PTEpe1xcXFxuICAgIHB1dE15VmFyKFxcXFxcXFwieWlfZmlyc3RwYWdlXFxcXFxcXCIsIHRydWVfdXJsKTtcXFxcbiAgICB9XFxcXG4gICAgdHJ5IHtcXFxcbiAgICAgIHZhciBuZXh0ID0gZXZhbCjkuIvkuIDpobUpO1xcXFxuICAgICAgLy9sb2coXFxcXFxcXCJuZXh0XFxcXFxcXCIpO1xcXFxuICAgICAgLy9sb2coJ25leHQ6JytuZXh0KTtcXFxcbiAgICB9IGNhdGNoIHtcXFxcbiAgICAgIGxvZyhcXFxcXFxcIuWPr+iDveS4jeWtmOWcqOS4i+S4gOmhteaIluiAheS4i+S4gOmhteWumuS9jeaciemXrumimFxcXFxcXFwiKTtcXFxcbiAgICAgIG5leHQgPSBcXFxcXFxcIlxcXFxcXFwiO1xcXFxuICAgIH1cXFxcbiAgICBpZiAobmV4dCAhPSBcXFxcXFxcIlxcXFxcXFwiKSB7XFxcXG4gICAgICBwdXRNeVZhcijnirbmgIEsIG5leHQpO1xcXFxuICAgIH1cXFxcbn1cXFwifV1cIixcInByb3h5XCI6XCJcIn0iLCJwaWNVcmwiOiJodHRwczovL3B1dWkucXBpYy5jbi92Y292ZXJfdnRfcGljLzAvbWN2OGhrYzh6azhsbm92MTY1OTg4ODcxODM5Ny8wQFJlZmVyZXI9IiwidGl0bGUiOiLlroznvo7kuJbnlYwifQ==
3zqejTXW,LISBOA,Netsemfim,Bash,Thursday 11th of April 2024 08:24:03 AM CDT,"client
dev tun
proto udp
remote lis-c10.vpn.wlvpn.com 1194
remote lis-c13.vpn.wlvpn.com 1194
remote lis-c14.vpn.wlvpn.com 1194
remote lis-c11.vpn.wlvpn.com 1194
remote lis-c12.vpn.wlvpn.com 1194
remote lis-c01.vpn.wlvpn.com 1194
remote lis-c02.vpn.wlvpn.com 1194
remote lis-c03.vpn.wlvpn.com 1194
remote lis-c04.vpn.wlvpn.com 1194
remote lis-c05.vpn.wlvpn.com 1194
remote-random
resolv-retry infinite
nobind
persist-key
persist-tun
persist-remote-ip
<ca>
-----BEGIN CERTIFICATE-----
MIIESjCCAzKgAwIBAgIJAKSqvk2CSdJGMA0GCSqGSIb3DQEBDQUAMHUxCzAJBgNV
BAYTAlVTMQwwCgYDVQQIEwNWUE4xDDAKBgNVBAcTA1ZQTjEMMAoGA1UEChMDVlBO
MQwwCgYDVQQLEwNWUE4xDDAKBgNVBAMTA1ZQTjEMMAoGA1UEKRMDVlBOMRIwEAYJ
KoZIhvcNAQkBFgNWUE4wIBcNMjIwNTA5MjA0NTA2WhgPMjA4MjA0MjQyMDQ1MDZa
MHUxCzAJBgNVBAYTAlVTMQwwCgYDVQQIEwNWUE4xDDAKBgNVBAcTA1ZQTjEMMAoG
A1UEChMDVlBOMQwwCgYDVQQLEwNWUE4xDDAKBgNVBAMTA1ZQTjEMMAoGA1UEKRMD
VlBOMRIwEAYJKoZIhvcNAQkBFgNWUE4wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw
ggEKAoIBAQDJSvYEDPaAcZpeuLqtYykqpy9VNfcg5IsR8FZ/V9vbMLDHT4YUwbbn
xiQ4KJCGj9g5fnxsmmywYjjY7NmK1KKxNWlc0gF6XMZQ90qDHSpREaANb7t47JIl
gKfURSdwSUkIe3WyjRJt91CnEDzxVkwf18U4q0tjmoceLR2teb/BnL7NbtN9Xktx
7Tjq+/Yz0jn8qjjNnlWHqNOjZWsJBHDyChcHk0B1TkPvqVWFYrhnO3jCgjydFbkS
/cBYTDmhfzmPkHRNj2cSLmPS81gG4zF/8aIs7wzwsIc9fQdgGIsONl6wkK+4be9/
CcBjkIlCo2O5+macXeK+xoXR0Z6jniRZAgMBAAGjgdowgdcwDAYDVR0TBAUwAwEB
/zAdBgNVHQ4EFgQUF58B5L6R0n/5TGnCqCrIQHBjNqkwgacGA1UdIwSBnzCBnIAU
F58B5L6R0n/5TGnCqCrIQHBjNqmheaR3MHUxCzAJBgNVBAYTAlVTMQwwCgYDVQQI
EwNWUE4xDDAKBgNVBAcTA1ZQTjEMMAoGA1UEChMDVlBOMQwwCgYDVQQLEwNWUE4x
DDAKBgNVBAMTA1ZQTjEMMAoGA1UEKRMDVlBOMRIwEAYJKoZIhvcNAQkBFgNWUE6C
CQCkqr5NgknSRjANBgkqhkiG9w0BAQ0FAAOCAQEAMjkx4HQoLkLVMix6j6HVf8Lr
lKnbDlMx3gYfkD8J5LhTrf8JezB07rSialwiF7lvs3+urvQQdUs5tZCARRDpQANR
b8XzxbDu3oO4eOOxiDPnHutZv04/rN3Y/s3kSrJEwXxnWDLSzn9IsJtFtV+oHwan
ijRI4jaTBAzaqpFzq1Ffm1O1PrFfhwjb4aEyahMXCU8xRavBGKu7EeXZ78lXJVqg
0q3hbTISxRXSa63JgwxZnXcHIyeO4V/bZIcJvIei17xlc7dLDHPdnyQtrD07+AEH
qioNZsFRPJqf8KwmVCEIJq38cM7nSRXrrZ36w9P4sMBRHABQBre2DIqdo9hoeA==
-----END CERTIFICATE-----
</ca>
tls-client
remote-cert-tls server
auth-user-pass
compress lzo
verb 3
auth SHA256
cipher AES-256-CBC
"
4FNJsNFM,Italia,Netsemfim,Bash,Thursday 11th of April 2024 08:22:48 AM CDT,"client
dev tun
proto udp
remote lin-a13.vpn.wlvpn.com 1194
remote lin-a14.vpn.wlvpn.com 1194
remote lin-a16.vpn.wlvpn.com 1194
remote lin-a17.vpn.wlvpn.com 1194
remote lin-a18.vpn.wlvpn.com 1194
remote lin-a19.vpn.wlvpn.com 1194
remote lin-a15.vpn.wlvpn.com 1194
remote lin-a20.vpn.wlvpn.com 1194
remote lin-a21.vpn.wlvpn.com 1194
remote lin-a22.vpn.wlvpn.com 1194
remote lin-a26.vpn.wlvpn.com 1194
remote lin-a27.vpn.wlvpn.com 1194
remote lin-a28.vpn.wlvpn.com 1194
remote lin-a29.vpn.wlvpn.com 1194
remote lin-a30.vpn.wlvpn.com 1194
remote lin-a31.vpn.wlvpn.com 1194
remote lin-a32.vpn.wlvpn.com 1194
remote lin-a34.vpn.wlvpn.com 1194
remote lin-a35.vpn.wlvpn.com 1194
remote lin-a36.vpn.wlvpn.com 1194
remote lin-a37.vpn.wlvpn.com 1194
remote lin-a38.vpn.wlvpn.com 1194
remote lin-a25.vpn.wlvpn.com 1194
remote lin-a24.vpn.wlvpn.com 1194
remote lin-a23.vpn.wlvpn.com 1194
remote-random
resolv-retry infinite
nobind
persist-key
persist-tun
persist-remote-ip
<ca>
-----BEGIN CERTIFICATE-----
MIIESjCCAzKgAwIBAgIJAKSqvk2CSdJGMA0GCSqGSIb3DQEBDQUAMHUxCzAJBgNV
BAYTAlVTMQwwCgYDVQQIEwNWUE4xDDAKBgNVBAcTA1ZQTjEMMAoGA1UEChMDVlBO
MQwwCgYDVQQLEwNWUE4xDDAKBgNVBAMTA1ZQTjEMMAoGA1UEKRMDVlBOMRIwEAYJ
KoZIhvcNAQkBFgNWUE4wIBcNMjIwNTA5MjA0NTA2WhgPMjA4MjA0MjQyMDQ1MDZa
MHUxCzAJBgNVBAYTAlVTMQwwCgYDVQQIEwNWUE4xDDAKBgNVBAcTA1ZQTjEMMAoG
A1UEChMDVlBOMQwwCgYDVQQLEwNWUE4xDDAKBgNVBAMTA1ZQTjEMMAoGA1UEKRMD
VlBOMRIwEAYJKoZIhvcNAQkBFgNWUE4wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw
ggEKAoIBAQDJSvYEDPaAcZpeuLqtYykqpy9VNfcg5IsR8FZ/V9vbMLDHT4YUwbbn
xiQ4KJCGj9g5fnxsmmywYjjY7NmK1KKxNWlc0gF6XMZQ90qDHSpREaANb7t47JIl
gKfURSdwSUkIe3WyjRJt91CnEDzxVkwf18U4q0tjmoceLR2teb/BnL7NbtN9Xktx
7Tjq+/Yz0jn8qjjNnlWHqNOjZWsJBHDyChcHk0B1TkPvqVWFYrhnO3jCgjydFbkS
/cBYTDmhfzmPkHRNj2cSLmPS81gG4zF/8aIs7wzwsIc9fQdgGIsONl6wkK+4be9/
CcBjkIlCo2O5+macXeK+xoXR0Z6jniRZAgMBAAGjgdowgdcwDAYDVR0TBAUwAwEB
/zAdBgNVHQ4EFgQUF58B5L6R0n/5TGnCqCrIQHBjNqkwgacGA1UdIwSBnzCBnIAU
F58B5L6R0n/5TGnCqCrIQHBjNqmheaR3MHUxCzAJBgNVBAYTAlVTMQwwCgYDVQQI
EwNWUE4xDDAKBgNVBAcTA1ZQTjEMMAoGA1UEChMDVlBOMQwwCgYDVQQLEwNWUE4x
DDAKBgNVBAMTA1ZQTjEMMAoGA1UEKRMDVlBOMRIwEAYJKoZIhvcNAQkBFgNWUE6C
CQCkqr5NgknSRjANBgkqhkiG9w0BAQ0FAAOCAQEAMjkx4HQoLkLVMix6j6HVf8Lr
lKnbDlMx3gYfkD8J5LhTrf8JezB07rSialwiF7lvs3+urvQQdUs5tZCARRDpQANR
b8XzxbDu3oO4eOOxiDPnHutZv04/rN3Y/s3kSrJEwXxnWDLSzn9IsJtFtV+oHwan
ijRI4jaTBAzaqpFzq1Ffm1O1PrFfhwjb4aEyahMXCU8xRavBGKu7EeXZ78lXJVqg
0q3hbTISxRXSa63JgwxZnXcHIyeO4V/bZIcJvIei17xlc7dLDHPdnyQtrD07+AEH
qioNZsFRPJqf8KwmVCEIJq38cM7nSRXrrZ36w9P4sMBRHABQBre2DIqdo9hoeA==
-----END CERTIFICATE-----
</ca>
tls-client
remote-cert-tls server
auth-user-pass
compress lzo
verb 3
auth SHA256
cipher AES-256-CBC
"
YgNvSZNu,Paris,Netsemfim,Bash,Thursday 11th of April 2024 08:21:27 AM CDT,"client
dev tun
proto udp
remote par-a15.vpn.wlvpn.com 1194
remote par-a16.vpn.wlvpn.com 1194
remote par-a17.vpn.wlvpn.com 1194
remote par-a18.vpn.wlvpn.com 1194
remote par-a19.vpn.wlvpn.com 1194
remote par-a20.vpn.wlvpn.com 1194
remote par-a21.vpn.wlvpn.com 1194
remote par-a22.vpn.wlvpn.com 1194
remote par-a23.vpn.wlvpn.com 1194
remote par-a24.vpn.wlvpn.com 1194
remote par-a26.vpn.wlvpn.com 1194
remote par-a25.vpn.wlvpn.com 1194
remote par-a13.vpn.wlvpn.com 1194
remote par-a14.vpn.wlvpn.com 1194
remote par-a02.vpn.wlvpn.com 1194
remote par-a01.vpn.wlvpn.com 1194
remote par-a03.vpn.wlvpn.com 1194
remote par-a05.vpn.wlvpn.com 1194
remote par-a04.vpn.wlvpn.com 1194
remote par-a09.vpn.wlvpn.com 1194
remote par-a11.vpn.wlvpn.com 1194
remote par-a06.vpn.wlvpn.com 1194
remote par-a08.vpn.wlvpn.com 1194
remote par-a12.vpn.wlvpn.com 1194
remote par-a27.vpn.wlvpn.com 1194
remote par-a28.vpn.wlvpn.com 1194
remote par-a29.vpn.wlvpn.com 1194
remote par-a30.vpn.wlvpn.com 1194
remote par-a31.vpn.wlvpn.com 1194
remote par-a32.vpn.wlvpn.com 1194
remote par-a34.vpn.wlvpn.com 1194
remote par-a35.vpn.wlvpn.com 1194
remote par-a36.vpn.wlvpn.com 1194
remote par-a37.vpn.wlvpn.com 1194
remote par-a38.vpn.wlvpn.com 1194
remote par-a33.vpn.wlvpn.com 1194
remote par-a07.vpn.wlvpn.com 1194
remote par-a10.vpn.wlvpn.com 1194
remote-random
resolv-retry infinite
nobind
persist-key
persist-tun
persist-remote-ip
<ca>
-----BEGIN CERTIFICATE-----
MIIESjCCAzKgAwIBAgIJAKSqvk2CSdJGMA0GCSqGSIb3DQEBDQUAMHUxCzAJBgNV
BAYTAlVTMQwwCgYDVQQIEwNWUE4xDDAKBgNVBAcTA1ZQTjEMMAoGA1UEChMDVlBO
MQwwCgYDVQQLEwNWUE4xDDAKBgNVBAMTA1ZQTjEMMAoGA1UEKRMDVlBOMRIwEAYJ
KoZIhvcNAQkBFgNWUE4wIBcNMjIwNTA5MjA0NTA2WhgPMjA4MjA0MjQyMDQ1MDZa
MHUxCzAJBgNVBAYTAlVTMQwwCgYDVQQIEwNWUE4xDDAKBgNVBAcTA1ZQTjEMMAoG
A1UEChMDVlBOMQwwCgYDVQQLEwNWUE4xDDAKBgNVBAMTA1ZQTjEMMAoGA1UEKRMD
VlBOMRIwEAYJKoZIhvcNAQkBFgNWUE4wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw
ggEKAoIBAQDJSvYEDPaAcZpeuLqtYykqpy9VNfcg5IsR8FZ/V9vbMLDHT4YUwbbn
xiQ4KJCGj9g5fnxsmmywYjjY7NmK1KKxNWlc0gF6XMZQ90qDHSpREaANb7t47JIl
gKfURSdwSUkIe3WyjRJt91CnEDzxVkwf18U4q0tjmoceLR2teb/BnL7NbtN9Xktx
7Tjq+/Yz0jn8qjjNnlWHqNOjZWsJBHDyChcHk0B1TkPvqVWFYrhnO3jCgjydFbkS
/cBYTDmhfzmPkHRNj2cSLmPS81gG4zF/8aIs7wzwsIc9fQdgGIsONl6wkK+4be9/
CcBjkIlCo2O5+macXeK+xoXR0Z6jniRZAgMBAAGjgdowgdcwDAYDVR0TBAUwAwEB
/zAdBgNVHQ4EFgQUF58B5L6R0n/5TGnCqCrIQHBjNqkwgacGA1UdIwSBnzCBnIAU
F58B5L6R0n/5TGnCqCrIQHBjNqmheaR3MHUxCzAJBgNVBAYTAlVTMQwwCgYDVQQI
EwNWUE4xDDAKBgNVBAcTA1ZQTjEMMAoGA1UEChMDVlBOMQwwCgYDVQQLEwNWUE4x
DDAKBgNVBAMTA1ZQTjEMMAoGA1UEKRMDVlBOMRIwEAYJKoZIhvcNAQkBFgNWUE6C
CQCkqr5NgknSRjANBgkqhkiG9w0BAQ0FAAOCAQEAMjkx4HQoLkLVMix6j6HVf8Lr
lKnbDlMx3gYfkD8J5LhTrf8JezB07rSialwiF7lvs3+urvQQdUs5tZCARRDpQANR
b8XzxbDu3oO4eOOxiDPnHutZv04/rN3Y/s3kSrJEwXxnWDLSzn9IsJtFtV+oHwan
ijRI4jaTBAzaqpFzq1Ffm1O1PrFfhwjb4aEyahMXCU8xRavBGKu7EeXZ78lXJVqg
0q3hbTISxRXSa63JgwxZnXcHIyeO4V/bZIcJvIei17xlc7dLDHPdnyQtrD07+AEH
qioNZsFRPJqf8KwmVCEIJq38cM7nSRXrrZ36w9P4sMBRHABQBre2DIqdo9hoeA==
-----END CERTIFICATE-----
</ca>
tls-client
remote-cert-tls server
auth-user-pass
compress lzo
verb 3
auth SHA256
cipher AES-256-CBC
"
vCj4hfTv,Untitled,Netsemfim,Bash,Thursday 11th of April 2024 08:17:28 AM CDT,"client
dev tun
proto udp
remote bod-c01.vpn.wlvpn.com 1194
remote bod-c02.vpn.wlvpn.com 1194
remote bod-c03.vpn.wlvpn.com 1194
remote bod-c04.vpn.wlvpn.com 1194
remote bod-c05.vpn.wlvpn.com 1194
remote bod-c06.vpn.wlvpn.com 1194
remote bod-c07.vpn.wlvpn.com 1194
remote bod-c08.vpn.wlvpn.com 1194
remote bod-c09.vpn.wlvpn.com 1194
remote-random
resolv-retry infinite
nobind
persist-key
persist-tun
persist-remote-ip
<ca>
-----BEGIN CERTIFICATE-----
MIIESjCCAzKgAwIBAgIJAKSqvk2CSdJGMA0GCSqGSIb3DQEBDQUAMHUxCzAJBgNV
BAYTAlVTMQwwCgYDVQQIEwNWUE4xDDAKBgNVBAcTA1ZQTjEMMAoGA1UEChMDVlBO
MQwwCgYDVQQLEwNWUE4xDDAKBgNVBAMTA1ZQTjEMMAoGA1UEKRMDVlBOMRIwEAYJ
KoZIhvcNAQkBFgNWUE4wIBcNMjIwNTA5MjA0NTA2WhgPMjA4MjA0MjQyMDQ1MDZa
MHUxCzAJBgNVBAYTAlVTMQwwCgYDVQQIEwNWUE4xDDAKBgNVBAcTA1ZQTjEMMAoG
A1UEChMDVlBOMQwwCgYDVQQLEwNWUE4xDDAKBgNVBAMTA1ZQTjEMMAoGA1UEKRMD
VlBOMRIwEAYJKoZIhvcNAQkBFgNWUE4wggEiMA0GCSqGSIb3DQEBAQUAA4IBDwAw
ggEKAoIBAQDJSvYEDPaAcZpeuLqtYykqpy9VNfcg5IsR8FZ/V9vbMLDHT4YUwbbn
xiQ4KJCGj9g5fnxsmmywYjjY7NmK1KKxNWlc0gF6XMZQ90qDHSpREaANb7t47JIl
gKfURSdwSUkIe3WyjRJt91CnEDzxVkwf18U4q0tjmoceLR2teb/BnL7NbtN9Xktx
7Tjq+/Yz0jn8qjjNnlWHqNOjZWsJBHDyChcHk0B1TkPvqVWFYrhnO3jCgjydFbkS
/cBYTDmhfzmPkHRNj2cSLmPS81gG4zF/8aIs7wzwsIc9fQdgGIsONl6wkK+4be9/
CcBjkIlCo2O5+macXeK+xoXR0Z6jniRZAgMBAAGjgdowgdcwDAYDVR0TBAUwAwEB
/zAdBgNVHQ4EFgQUF58B5L6R0n/5TGnCqCrIQHBjNqkwgacGA1UdIwSBnzCBnIAU
F58B5L6R0n/5TGnCqCrIQHBjNqmheaR3MHUxCzAJBgNVBAYTAlVTMQwwCgYDVQQI
EwNWUE4xDDAKBgNVBAcTA1ZQTjEMMAoGA1UEChMDVlBOMQwwCgYDVQQLEwNWUE4x
DDAKBgNVBAMTA1ZQTjEMMAoGA1UEKRMDVlBOMRIwEAYJKoZIhvcNAQkBFgNWUE6C
CQCkqr5NgknSRjANBgkqhkiG9w0BAQ0FAAOCAQEAMjkx4HQoLkLVMix6j6HVf8Lr
lKnbDlMx3gYfkD8J5LhTrf8JezB07rSialwiF7lvs3+urvQQdUs5tZCARRDpQANR
b8XzxbDu3oO4eOOxiDPnHutZv04/rN3Y/s3kSrJEwXxnWDLSzn9IsJtFtV+oHwan
ijRI4jaTBAzaqpFzq1Ffm1O1PrFfhwjb4aEyahMXCU8xRavBGKu7EeXZ78lXJVqg
0q3hbTISxRXSa63JgwxZnXcHIyeO4V/bZIcJvIei17xlc7dLDHPdnyQtrD07+AEH
qioNZsFRPJqf8KwmVCEIJq38cM7nSRXrrZ36w9P4sMBRHABQBre2DIqdo9hoeA==
-----END CERTIFICATE-----
</ca>
tls-client
remote-cert-tls server
auth-user-pass
compress lzo
verb 3
auth SHA256
cipher AES-256-CBC
"
Bp04wAwi,Поезда Py v2,SillyWolfy,Python,Thursday 11th of April 2024 08:15:51 AM CDT,"# Обновленная версия функции output с интеграцией в команду /start_game
from telebot import TeleBot, types
import sql_trains
import sqlite3
import random

def games_handler(id_game, messgae, team_id, user_id , mode):
    match(id_game):# Какая игра такое и действие
        case(1):
            if mode == ""final"":
                # Генерация нового загаданного числа для каждого раунда
                new_original_place = random.randint(1, 54)
                sql_trains.create_table_if_not_exist()
                if not sql_trains.check_user_exists(user_id):
                    sql_trains.add_player(user_id)
                    sql_trains.update_orig_num(user_id,new_original_place)
                    return (""Вы зарегистрированы в игре 'Поезда' 😃\n""
                            ""Это режим песочницы\n""
                            ""Здесь вы сразу проигрываете раунд, если текущее место выходит за пределы вагона или если вы неправильно угадали число\n""
                            ""Игра загадывает вам место в вагоне поезда и даёт 6 попыток, в каждую из который вы можете:\n""
                            ""1) Угадать загаданное место (можно сделать только 1 раз за игру) \n""
                            ""2) Ввести число, которое будет складываться с текущим местом.\n""
                            ""Если вы не выйдете за пределы вагона, то вам выдадут подсказку от том, где сейчас находится текущее место\n""
                            ""При этом текущее место изменяется на сумму предыдущего места и вашего числа\n""
                            ""Ваша задача в как можно в большем колличестве раундов угадать загаданное число\n""
                            ""Давайте скажем вам формат сообщений, который поддерживает игра:\n""
                            ""/ask (number)\n""
                            ""/answer (number)\n""
                            ""Командой ask вы подаёте число игре, на которое она вам возвращает подсказку""
                            ""Командой answer вы пытаетесь угадать загаданное число\n""
                            ""Ну чтож, давайте попробуем! 🎲\n"")

                user_data = sql_trains.get_user_data(user_id)
                id, round_, try_, original_place, current_place, score = user_data
                input_command = messgae.split()
                if ((input_command[0] != '/ask' and input_command[0] != ""/answer"") or len(input_command) != 2 or
                                                                                                        not str(input_command[1].isnumeric())):
                    return (f""Некоректный ввод\n"")

                user_command = input_command[0]
                number = int(input_command[1])



                if round_ >= 5:
                    return (f""Игра окончена. Было сыграно 5 раундов\n""
                            f""Вы набрали: {score} очков"")                           



                # Проверка на 100% выход за пределы вагона
                if number < -54 or number > 54 or try_ <= 0:
                    sql_trains.update_round(user_id, new_original_place)
                    return (f""WA. Число всегда за пределами вагона\n"")

                # Отнимаем одну попытку в бд
                sql_trains.minus_try(user_id)

                # Если команда /answer
                if user_command == '/asnwer':
                    if number == original_place:
                        sql_trains.update_round(user_id, new_original_place)
                        sql_trains.add_score(user_id)
                        return ""OK""
                    else:
                        sql_trains.update_round(user_id, new_original_place)
                        return (f""WA. Вы предположили загаданное место неправильно\n"")

                # Если команда /ask
                elif user_command == '/ask':
                    updated_current_place = current_place + number
                    if 1 <= updated_current_place <= 54:
                        char_string = ""low"" if updated_current_place % 2 != 0 else ""high""
                        char_string += "" side"" if updated_current_place >= 37 else "" main""
                        sql_trains.update_cur_num(updated_current_place, user_id)
                        sql_trains.minus_try(user_id)
                        return (
                            f""Ваше текущее место принадлежит секции: {char_string}\n"")
                    else:
                        sql_trains.update_round(user_id, new_original_place)
                        return (f""WA. Текущее место вышло за пределы вагона\n"")
                else:
                    return ""Неверная команда.""
            else:
                # Генерация нового загаданного числа для каждого раунда
                new_original_place = random.randint(1, 54)
                sql_trains.create_table_if_not_exist()
                if not sql_trains.check_user_exists(user_id):
                    sql_trains.add_player(user_id)
                    sql_trains.update_orig_num(user_id,new_original_place)
                    return (""Вы зарегистрированы в игре 'Поезда' 😃\n""
                            ""Это режим песочницы\n""
                            ""Здесь вы сразу проигрываете раунд, если текущее место выходит за пределы вагона или если вы неправильно угадали число\n""
                            ""Но здесь вам будет показываться ваше текущее место и загаданное место\n""
                            ""Игра загадывает вам место в вагоне поезда и даёт 6 попыток, в каждую из который вы можете:\n""
                            ""1) Угадать загаданное место (можно сделать только 1 раз за игру) \n""
                            ""2) Ввести число, которое будет складываться с текущим местом.\n""
                            ""Если вы не выйдете за пределы вагона, то вам выдадут подсказку от том, где сейчас находится текущее место\n""
                            ""При этом текущее место изменяется на сумму предыдущего места и вашего числа\n""
                            ""Ваша задача в как можно в большем кол-ве раундов угадать загаданное число\n""
                            ""Давайте скажем вам формат сообщений, который поддерживает игра:\n""
                            ""/ask (number)\n""
                            ""/answer (number)\n""
                            ""Командой ask вы подаёте число игре, на которое она вам возвращает подсказку""
                            ""Командой answer вы пытаетесь угадать загаданное число\n""
                            ""Ну что ж, давайте попробуем! 🎲\n"")

                user_data = sql_trains.get_user_data(user_id)
                id, round_, try_, original_place, current_place, score = user_data
                input_command = messgae.split()
                if ((input_command[0] != '/ask' and input_command[0] != ""/answer"") or len(input_command) != 2 or
                                                                                                        not str(input_command[1].isnumeric())):
                    return (f""Некоректный ввод\n""
                            f""Вы играете раунд№{round_}\n""
                            f""У вас осталось {try_} попыток\n"")

                user_command = input_command[0]
                number = int(input_command[1])



                if round_ >= 5:
                    return (f""Игра окончена. Было сыграно 5 раундов\n""
                            f""Вы набрали: {score} очков"")                           



                # Проверка на 100% выход за пределы вагона
                if number < -54 or number > 54 or try_ <= 0:
                    sql_trains.update_round(user_id, new_original_place)
                    return (f""WA. Число всегда за пределами вагона\n""
                            f""Загаданное место: {original_place}\n""
                            f""Текущее место: {current_place}\n""
                            )

                # Отнимаем одну попытку в бд
                sql_trains.minus_try(user_id)

                # Если команда /answer
                if user_command == '/asnwer':
                    if number == original_place:
                        sql_trains.update_round(user_id, new_original_place)
                        sql_trains.add_score(user_id)
                        return ""OK""
                    else:
                        sql_trains.update_round(user_id, new_original_place)
                        return (f""WA. Вы предположили загаданное место неправильно\n""
                                f""Загаданное место: {original_place}\n""
                                f""Текущее место: {current_place}\n""
                                )

                # Если команда /ask
                elif user_command == '/ask':
                    updated_current_place = current_place + number
                    if 1 <= updated_current_place <= 54:
                        char_string = ""low"" if updated_current_place % 2 != 0 else ""high""
                        char_string += "" side"" if updated_current_place >= 37 else "" main""
                        sql_trains.update_cur_num(updated_current_place, user_id)
                        sql_trains.minus_try(user_id)
                        return (
                            f""Ваше текущее место принадлежит секции: {char_string}\n""
                            f""Загаданное место: {original_place}\n""
                            f""Текущее место: {updated_current_place}\n"")  # f""Подсказка: {char_string}. Текущее число: {updated_current_place}. {original_place}""
                    else:
                        sql_trains.update_round(user_id, new_original_place)
                        return (f""WA. Текущее место вышло за пределы вагона\n""
                                f""Загаданное место: {original_place}\n""
                                f""Текущее место: {updated_current_place}\n"")
                else:
                    return ""Неверная команда.""

        case(2):
            return(0)
"
